!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=53)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(38),i=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a="[DEFAULT]",o=[],s=function(){function e(e,t,n){this.firebase_=n,this.isDeleted_=!1,this.services_={},this.name_=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled||!1,this.options_=r.deepCopy(e),this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(e){o.push(e),setTimeout(function(){return e(null)},0)},removeAuthTokenListener:function(e){o=o.filter(function(t){return t!==e})}}}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed_(),this._automaticDataCollectionEnabled=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise(function(t){e.checkDestroyed_(),t()}).then(function(){e.firebase_.INTERNAL.removeApp(e.name_);var t=[];return Object.keys(e.services_).forEach(function(n){Object.keys(e.services_[n]).forEach(function(r){t.push(e.services_[n][r])})}),Promise.all(t.map(function(e){return e.INTERNAL.delete()}))}).then(function(){e.isDeleted_=!0,e.services_={}})},e.prototype._getService=function(e,t){if(void 0===t&&(t=a),this.checkDestroyed_(),this.services_[e]||(this.services_[e]={}),!this.services_[e][t]){var n=t!==a?t:void 0,r=this.firebase_.INTERNAL.factories[e](this,this.extendApp.bind(this),n);this.services_[e][t]=r}return this.services_[e][t]},e.prototype.extendApp=function(e){var t=this;r.deepExtend(this,e),e.INTERNAL&&e.INTERNAL.addAuthTokenListener&&(o.forEach(function(e){t.INTERNAL.addAuthTokenListener(e)}),o=[])},e.prototype.checkDestroyed_=function(){this.isDeleted_&&l("app-deleted",{name:this.name_})},e}();
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l(e,t){throw c.create(e,t)}s.prototype.name&&s.prototype.options||s.prototype.delete||console.log("dc");var c=new r.ErrorFactory("app","Firebase",{"no-app":"No Firebase App '{$name}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$name}","duplicate-app":"Firebase App named '{$name}' already exists","app-deleted":"Firebase App named '{$name}' already deleted","duplicate-service":"Firebase service named '{$name}' already registered","sa-not-supported":"Initializing the Firebase SDK with a service account is only allowed in a Node.js environment. On client devices, you should instead initialize the SDK with an api key and auth domain","invalid-app-argument":"firebase.{$name}() takes either no argument or a Firebase App instance."}),u=function e(){var t={},n={},o={},c={__esModule:!0,initializeApp:function(e,n){(void 0===n&&(n={}),"object"!=typeof n||null===n)&&(n={name:n});var r=n;void 0===r.name&&(r.name=a);var o=r.name;"string"==typeof o&&o||l("bad-app-name",{name:o+""}),i(t,o)&&l("duplicate-app",{name:o});var u=new s(e,r,c);return d(t[o]=u,"create"),u},app:u,apps:null,Promise:Promise,SDK_VERSION:"5.8.3",INTERNAL:{registerService:function(e,t,i,a,d){n[e]&&l("duplicate-service",{name:e}),n[e]=t,a&&(o[e]=a,h().forEach(function(e){a("create",e)}));var p=function(t){return void 0===t&&(t=u()),"function"!=typeof t[e]&&l("invalid-app-argument",{name:e}),t[e]()};return void 0!==i&&r.deepExtend(p,i),c[e]=p,s.prototype[e]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return this._getService.bind(this,e).apply(this,d?t:[])},p},createFirebaseNamespace:e,extendNamespace:function(e){r.deepExtend(c,e)},createSubscribe:r.createSubscribe,ErrorFactory:r.ErrorFactory,removeApp:function(e){d(t[e],"delete"),delete t[e]},factories:n,useAsService:p,Promise:Promise,deepExtend:r.deepExtend}};function u(e){return i(t,e=e||a)||l("no-app",{name:e}),t[e]}function h(){return Object.keys(t).map(function(e){return t[e]})}function d(e,t){Object.keys(n).forEach(function(n){var r=p(e,n);null!==r&&o[r]&&o[r](t,e)})}function p(e,t){if("serverAuth"===t)return null;var n=t;return e.options,n}return r.patchProperty(c,"default",c),Object.defineProperty(c,"apps",{get:h}),r.patchProperty(u,"App",s),c}();t.firebase=u,t.default=u},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(global){function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var t7ctx;t7ctx="undefined"!=typeof window?window:void 0!==global?global:void 0;var Template7Context=t7ctx,Template7Utils={quoteSingleRexExp:new RegExp("'","g"),quoteDoubleRexExp:new RegExp('"',"g"),isFunction:function(e){return"function"==typeof e},escape:function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")},helperToSlices:function(e){var t,n,r,i=Template7Utils.quoteDoubleRexExp,a=Template7Utils.quoteSingleRexExp,o=e.replace(/[{}#}]/g,"").trim().split(" "),s=[];for(n=0;n<o.length;n+=1){var l=o[n],c=void 0,u=void 0;if(0===n)s.push(l);else if(0===l.indexOf('"')||0===l.indexOf("'"))if(c=0===l.indexOf('"')?i:a,u=0===l.indexOf('"')?'"':"'",2===l.match(c).length)s.push(l);else{for(t=0,r=n+1;r<o.length;r+=1)if(l+=" ".concat(o[r]),0<=o[r].indexOf(u)){t=r,s.push(l);break}t&&(n=t)}else if(0<l.indexOf("=")){var h=l.split("="),d=h[0],p=h[1];if(c||(c=0===p.indexOf('"')?i:a,u=0===p.indexOf('"')?'"':"'"),2!==p.match(c).length){for(t=0,r=n+1;r<o.length;r+=1)if(p+=" ".concat(o[r]),0<=o[r].indexOf(u)){t=r;break}t&&(n=t)}var f=[d,p.replace(c,"")];s.push(f)}else s.push(l)}return s},stringToBlocks:function(e){var t,n,r=[];if(!e)return[];var i=e.split(/({{[^{^}]*}})/);for(t=0;t<i.length;t+=1){var a=i[t];if(""!==a)if(a.indexOf("{{")<0)r.push({type:"plain",content:a});else{if(0<=a.indexOf("{/"))continue;if((a=a.replace(/{{([#\/])*([ ])*/,"{{$1").replace(/([ ])*}}/,"}}")).indexOf("{#")<0&&a.indexOf(" ")<0&&a.indexOf("else")<0){r.push({type:"variable",contextName:a.replace(/[{}]/g,"")});continue}var o=Template7Utils.helperToSlices(a),s=o[0],l=">"===s,c=[],u={};for(n=1;n<o.length;n+=1){var h=o[n];Array.isArray(h)?u[h[0]]="false"!==h[1]&&h[1]:c.push(h)}if(0<=a.indexOf("{#")){var d="",p="",f=0,m=void 0,v=!1,g=!1,y=0;for(n=t+1;n<i.length;n+=1)if(0<=i[n].indexOf("{{#")&&(y+=1),0<=i[n].indexOf("{{/")&&(y-=1),0<=i[n].indexOf("{{#".concat(s)))d+=i[n],g&&(p+=i[n]),f+=1;else if(0<=i[n].indexOf("{{/".concat(s))){if(!(0<f)){m=n,v=!0;break}f-=1,d+=i[n],g&&(p+=i[n])}else 0<=i[n].indexOf("else")&&0===y?g=!0:(g||(d+=i[n]),g&&(p+=i[n]));v&&(m&&(t=m),"raw"===s?r.push({type:"plain",content:d}):r.push({type:"helper",helperName:s,contextName:c,content:d,inverseContent:p,hash:u}))}else 0<a.indexOf(" ")&&(l&&(s="_partial",c[0]&&(0===c[0].indexOf("[")?c[0]=c[0].replace(/[[\]]/g,""):c[0]='"'.concat(c[0].replace(/"|'/g,""),'"'))),r.push({type:"helper",helperName:s,contextName:c,hash:u}))}}return r},parseJsVariable:function(e,t,n){return e.split(/([+ \-*\/^()&=|<>!%:?])/g).reduce(function(e,r){if(!r)return e;if(r.indexOf(t)<0)return e.push(r),e;if(!n)return e.push(JSON.stringify("")),e;var i=n;return 0<=r.indexOf("".concat(t,"."))&&r.split("".concat(t,"."))[1].split(".").forEach(function(e){i=e in i?i[e]:void 0}),"string"==typeof i&&(i=JSON.stringify(i)),void 0===i&&(i="undefined"),e.push(i),e},[]).join("")},parseJsParents:function(e,t){return e.split(/([+ \-*^()&=|<>!%:?])/g).reduce(function(e,n){if(!n)return e;if(n.indexOf("../")<0)return e.push(n),e;if(!t||0===t.length)return e.push(JSON.stringify("")),e;var r=n.split("../").length-1,i=r>t.length?t[t.length-1]:t[r-1];return n.replace(/..\//g,"").split(".").forEach(function(e){i=void 0!==i[e]?i[e]:"undefined"}),!1===i||!0===i?e.push(JSON.stringify(i)):null===i||"undefined"===i?e.push(JSON.stringify("")):e.push(JSON.stringify(i)),e},[]).join("")},getCompileVar:function(e,t){var n,r,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"data_1",a=t,o=0;n=0===e.indexOf("../")?(o=e.split("../").length-1,r=a.split("_")[1]-o,a="ctx_".concat(1<=r?r:1),e.split("../")[o].split(".")):0===e.indexOf("@global")?(a="Template7.global",e.split("@global.")[1].split(".")):0===e.indexOf("@root")?(a="root",e.split("@root.")[1].split(".")):e.split(".");for(var s=0;s<n.length;s+=1){var l=n[s];if(0===l.indexOf("@")){var c=i.split("_")[1];0<o&&(c=r),0<s?a+="[(data_".concat(c," && data_").concat(c,".").concat(l.replace("@",""),")]"):a="(data_".concat(c," && data_").concat(c,".").concat(l.replace("@",""),")")}else(Number.isFinite?Number.isFinite(l):Template7Context.isFinite(l))?a+="[".concat(l,"]"):"this"===l||0<=l.indexOf("this.")||0<=l.indexOf("this[")||0<=l.indexOf("this(")?a=l.replace("this",t):a+=".".concat(l)}return a},getCompiledArguments:function(e,t,n){for(var r=[],i=0;i<e.length;i+=1)/^['"]/.test(e[i])?r.push(e[i]):/^(true|false|\d+)$/.test(e[i])?r.push(e[i]):r.push(Template7Utils.getCompileVar(e[i],t,n));return r.join(", ")}},Template7Helpers={_partial:function(e,t){var n=this,r=Template7Class.partials[e];return!r||r&&!r.template?"":(r.compiled||(r.compiled=new Template7Class(r.template).compile()),Object.keys(t.hash).forEach(function(e){n[e]=t.hash[e]}),r.compiled(n,t.data,t.root))},escape:function(e){if("string"!=typeof e)throw new Error('Template7: Passed context to "escape" helper should be a string');return Template7Utils.escape(e)},if:function(e,t){var n=e;return Template7Utils.isFunction(n)&&(n=n.call(this)),n?t.fn(this,t.data):t.inverse(this,t.data)},unless:function(e,t){var n=e;return Template7Utils.isFunction(n)&&(n=n.call(this)),n?t.inverse(this,t.data):t.fn(this,t.data)},each:function(e,t){var n=e,r="",i=0;if(Template7Utils.isFunction(n)&&(n=n.call(this)),Array.isArray(n)){for(t.hash.reverse&&(n=n.reverse()),i=0;i<n.length;i+=1)r+=t.fn(n[i],{first:0===i,last:i===n.length-1,index:i});t.hash.reverse&&(n=n.reverse())}else for(var a in n)i+=1,r+=t.fn(n[a],{key:a});return 0<i?r:t.inverse(this)},with:function(e,t){var n=e;return Template7Utils.isFunction(n)&&(n=e.call(this)),t.fn(n)},join:function(e,t){var n=e;return Template7Utils.isFunction(n)&&(n=n.call(this)),n.join(t.hash.delimiter||t.hash.delimeter)},js:function js(expression,options){var data=options.data,func,execute=expression;return"index first last key".split(" ").forEach(function(e){if(void 0!==data[e]){var t=new RegExp("this.@".concat(e),"g"),n=new RegExp("@".concat(e),"g");execute=execute.replace(t,JSON.stringify(data[e])).replace(n,JSON.stringify(data[e]))}}),options.root&&0<=execute.indexOf("@root")&&(execute=Template7Utils.parseJsVariable(execute,"@root",options.root)),0<=execute.indexOf("@global")&&(execute=Template7Utils.parseJsVariable(execute,"@global",Template7Context.Template7.global)),0<=execute.indexOf("../")&&(execute=Template7Utils.parseJsParents(execute,options.parents)),func=0<=execute.indexOf("return")?"(function(){".concat(execute,"})"):"(function(){return (".concat(execute,")})"),eval(func).call(this)},js_if:function js_if(expression,options){var data=options.data,func,execute=expression;"index first last key".split(" ").forEach(function(e){if(void 0!==data[e]){var t=new RegExp("this.@".concat(e),"g"),n=new RegExp("@".concat(e),"g");execute=execute.replace(t,JSON.stringify(data[e])).replace(n,JSON.stringify(data[e]))}}),options.root&&0<=execute.indexOf("@root")&&(execute=Template7Utils.parseJsVariable(execute,"@root",options.root)),0<=execute.indexOf("@global")&&(execute=Template7Utils.parseJsVariable(execute,"@global",Template7Context.Template7.global)),0<=execute.indexOf("../")&&(execute=Template7Utils.parseJsParents(execute,options.parents)),func=0<=execute.indexOf("return")?"(function(){".concat(execute,"})"):"(function(){return (".concat(execute,")})");var condition=eval(func).call(this);return condition?options.fn(this,options.data):options.inverse(this,options.data)}};Template7Helpers.js_compare=Template7Helpers.js_if;var Template7Options={},Template7Partials={},Template7Class=function(){function Template7Class(e){_classCallCheck(this,Template7Class),this.template=e}return _createClass(Template7Class,[{key:"compile",value:function compile(){var template=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.template,depth=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,t=this;if(t.compiled)return t.compiled;if("string"!=typeof template)throw new Error("Template7: Template must be a string");var stringToBlocks=Template7Utils.stringToBlocks,getCompileVar=Template7Utils.getCompileVar,getCompiledArguments=Template7Utils.getCompiledArguments,blocks=stringToBlocks(template),ctx="ctx_".concat(depth),data="data_".concat(depth);if(0===blocks.length)return function(){return""};function getCompileFn(e,n){return e.content?t.compile(e.content,n):function(){return""}}function getCompileInverse(e,n){return e.inverseContent?t.compile(e.inverseContent,n):function(){return""}}var resultString="",i;for(resultString+=1===depth?"(function (".concat(ctx,", ").concat(data,", root) {\n"):"(function (".concat(ctx,", ").concat(data,") {\n"),1===depth&&(resultString+="function isArray(arr){return Array.isArray(arr);}\n",resultString+="function isFunction(func){return (typeof func === 'function');}\n",resultString+='function c(val, ctx) {if (typeof val !== "undefined" && val !== null) {if (isFunction(val)) {return val.call(ctx);} else return val;} else return "";}\n',resultString+="root = root || ctx_1 || {};\n"),resultString+="var r = '';\n",i=0;i<blocks.length;i+=1){var block=blocks[i];if("plain"!==block.type){var variable=void 0,compiledArguments=void 0;if("variable"===block.type&&(variable=getCompileVar(block.contextName,ctx,data),resultString+="r += c(".concat(variable,", ").concat(ctx,");")),"helper"===block.type){var parents=void 0;if("ctx_1"!==ctx){for(var level=ctx.split("_")[1],parentsString="ctx_".concat(level-1),j=level-2;1<=j;j-=1)parentsString+=", ctx_".concat(j);parents="[".concat(parentsString,"]")}else parents="[".concat(ctx,"]");var dynamicHelper=void 0;if(0===block.helperName.indexOf("[")&&(block.helperName=getCompileVar(block.helperName.replace(/[[\]]/g,""),ctx,data),dynamicHelper=!0),dynamicHelper||block.helperName in Template7Helpers)compiledArguments=getCompiledArguments(block.contextName,ctx,data),resultString+="r += (Template7Helpers".concat(dynamicHelper?"[".concat(block.helperName,"]"):".".concat(block.helperName),").call(").concat(ctx,", ").concat(compiledArguments&&"".concat(compiledArguments,", "),"{hash:").concat(JSON.stringify(block.hash),", data: ").concat(data," || {}, fn: ").concat(getCompileFn(block,depth+1),", inverse: ").concat(getCompileInverse(block,depth+1),", root: root, parents: ").concat(parents,"});");else{if(0<block.contextName.length)throw new Error('Template7: Missing helper: "'.concat(block.helperName,'"'));variable=getCompileVar(block.helperName,ctx,data),resultString+="if (".concat(variable,") {"),resultString+="if (isArray(".concat(variable,")) {"),resultString+="r += (Template7Helpers.each).call(".concat(ctx,", ").concat(variable,", {hash:").concat(JSON.stringify(block.hash),", data: ").concat(data," || {}, fn: ").concat(getCompileFn(block,depth+1),", inverse: ").concat(getCompileInverse(block,depth+1),", root: root, parents: ").concat(parents,"});"),resultString+="}else {",resultString+="r += (Template7Helpers.with).call(".concat(ctx,", ").concat(variable,", {hash:").concat(JSON.stringify(block.hash),", data: ").concat(data," || {}, fn: ").concat(getCompileFn(block,depth+1),", inverse: ").concat(getCompileInverse(block,depth+1),", root: root, parents: ").concat(parents,"});"),resultString+="}}"}}}else resultString+="r +='".concat(block.content.replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/'/g,"\\'"),"';")}return resultString+="\nreturn r;})",1===depth?(t.compiled=eval(resultString),t.compiled):resultString}}],[{key:"options",get:function(){return Template7Options}},{key:"partials",get:function(){return Template7Partials}},{key:"helpers",get:function(){return Template7Helpers}}]),Template7Class}();function Template7(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1];if(2!==t.length)return new Template7Class(r);var a=new Template7Class(r),o=a.compile()(i);return a=null,o}Template7.registerHelper=function(e,t){Template7Class.helpers[e]=t},Template7.unregisterHelper=function(e){Template7Class.helpers[e]=void 0,delete Template7Class.helpers[e]},Template7.registerPartial=function(e,t){Template7Class.partials[e]={template:t}},Template7.unregisterPartial=function(e){Template7Class.partials[e]&&(Template7Class.partials[e]=void 0,delete Template7Class.partials[e])},Template7.compile=function(e,t){return new Template7Class(e,t).compile()},Template7.options=Template7Class.options,Template7.helpers=Template7Class.helpers,Template7.partials=Template7Class.partials,__webpack_exports__.a=Template7}).call(this,__webpack_require__(5))},function(e,t,n){var r=n(28)("wks"),i=n(15),a=n(3).Symbol,o="function"==typeof a;(e.exports=function(e){return r[e]||(r[e]=o&&a[e]||(o?a:i)("Symbol."+e))}).store=r},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){var n=e.exports={version:"2.5.5"};"number"==typeof __e&&(__e=n)},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(3),i=n(4),a=n(7),o=n(14),s=n(43),l="prototype",c=function(e,t,n){var u,h,d,p,f=e&c.F,m=e&c.G,v=e&c.S,g=e&c.P,y=e&c.B,b=m?r:v?r[t]||(r[t]={}):(r[t]||{})[l],w=m?i:i[t]||(i[t]={}),E=w[l]||(w[l]={});for(u in m&&(n=t),n)d=((h=!f&&b&&void 0!==b[u])?b:n)[u],p=y&&h?s(d,r):g&&"function"==typeof d?s(Function.call,d):d,b&&o(b,u,d,e&c.U),w[u]!=d&&a(w,u,p),g&&E[u]!=d&&(E[u]=d)};r.core=i,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,t,n){var r=n(10),i=n(19);e.exports=n(11)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(18),i=n(41),a=n(24),o=Object.defineProperty;t.f=n(11)?Object.defineProperty:function(e,t,n){if(r(e),t=a(t,!0),r(n),i)try{return o(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){e.exports=!n(13)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(25),i=n(16);e.exports=function(e){return r(i(e))}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var r=n(3),i=n(7),a=n(9),o=n(15)("src"),s="toString",l=Function[s],c=(""+l).split(s);n(4).inspectSource=function(e){return l.call(e)},(e.exports=function(e,t,n,s){var l="function"==typeof n;l&&(a(n,"name")||i(n,"name",t)),e[t]!==n&&(l&&(a(n,o)||i(n,o,e[t]?""+e[t]:c.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:i(e,t,n):(delete e[t],i(e,t,n)))})(Function.prototype,s,function(){return"function"==typeof this&&this[o]||l.call(this)})},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(46),i=n(31);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){var r=n(8);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?r:n)(e)}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t){var n,r,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(e){n=a}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var l,c=[],u=!1,h=-1;function d(){u&&l&&(u=!1,l.length?c=l.concat(c):h=-1,c.length&&p())}function p(){if(!u){var e=s(d);u=!0;for(var t=c.length;t;){for(l=c,c=[];++h<t;)l&&l[h].run();h=-1,t=c.length}l=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new f(e,t)),1!==c.length||u||s(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){var r=n(8);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(20);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(16);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r=n(21),i=Math.min;e.exports=function(e){return 0<e?i(r(e),9007199254740991):0}},function(e,t,n){var r=n(3),i="__core-js_shared__",a=r[i]||(r[i]={});e.exports=function(e){return a[e]||(a[e]={})}},function(e,t,n){var r=n(2)("unscopables"),i=Array.prototype;null==i[r]&&n(7)(i,r,{}),e.exports=function(e){i[r][e]=!0}},function(e,t,n){var r=n(28)("keys"),i=n(15);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(10).f,i=n(9),a=n(2)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,a)&&r(e,a,{configurable:!0,value:t})}},function(e,t,n){t.f=n(2)},function(e,t,n){var r=n(3),i=n(4),a=n(36),o=n(34),s=n(10).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=a?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:o.f(e)})}},function(e,t){e.exports=!1},function(e,t){e.exports={}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(99),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},a=function(e,t){if(!e)throw o(t)},o=function(e){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},s=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);t[n++]=i<128?i:(t[n++]=i<2048?i>>6|192:(55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128):t[n++]=i>>12|224,i>>6&63|128),63&i|128)}return t},l={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,l=i+2<e.length,c=l?e[i+2]:0,u=a>>2,h=(3&a)<<4|s>>4,d=(15&s)<<2|c>>6,p=63&c;l||(p=64,o||(d=64)),r.push(n[u],n[h],n[d],n[p])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(s(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(191<i&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(239<i&&i<365){var o=((7&i)<<18|(63&(a=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{a=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&a)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,l=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==l)throw Error();var c=a<<2|o>>4;if(r.push(c),64!=s){var u=o<<4&240|s>>2;if(r.push(u),64!=l){var h=s<<6&192|l;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),(this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e)>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},c=function(e){try{return l.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&(e[n]=u(e[n],t[n]));return e}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var h=function(){function e(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch(function(){}),1===e.length?e(n):e(n,r))}},e}(),d=function(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""},p="FirebaseError",f=Error.captureStackTrace,m=function(e,t){if(this.code=e,this.message=t,f)f(this,v.prototype.create);else try{throw Error.apply(this,arguments)}catch(e){this.name=p,Object.defineProperty(this,"stack",{get:function(){return e.stack}})}};
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */((m.prototype=Object.create(Error.prototype)).constructor=m).prototype.name=p;var v=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n,this.pattern=/\{\$([^}]+)}/g}return e.prototype.create=function(e,t){void 0===t&&(t={});var n,r=this.errors[e],i=this.service+"/"+e;n=void 0===r?"Error":r.replace(this.pattern,function(e,n){var r=t[n];return void 0!==r?r.toString():"<"+n+"?>"}),n=this.serviceName+": "+n+" ("+i+").";var a=new m(i,n);for(var o in t)t.hasOwnProperty(o)&&"_"!==o.slice(-1)&&(a[o]=t[o]);return a},e}();
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g(e){return JSON.parse(e)}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var y=function(e){var t={},n={},r={},i="";try{var a=e.split(".");t=g(c(a[0])||""),n=g(c(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(e){}return{header:t,claims:n,data:r,signature:i}},b=function(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])},w=function(e,t){return b(t,function(t,n){e[t]=n}),e},E=function(e,t,n){for(var r in e)if(t.call(n,e[r],r,e))return r},C=function(e){function t(){var t=e.call(this)||this;t.chain_=[],t.buf_=[],t.W_=[],t.pad_=[],t.inbuf_=0,t.total_=0,t.blockSize=64,t.pad_[0]=128;for(var n=1;n<t.blockSize;++n)t.pad_[n]=0;return t.reset(),t}return r.__extends(t,e),t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var a,o,s=this.chain_[0],l=this.chain_[1],c=this.chain_[2],u=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++)o=r<40?r<20?(a=u^l&(c^u),1518500249):(a=l^c^u,1859775393):r<60?(a=l&c|u&(l|c),2400959708):(a=l^c^u,3395469782),i=(s<<5|s>>>27)+a+h+o+n[r]&4294967295,h=u,u=c,c=4294967295&(l<<30|l>>>2),l=s,s=i;this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},t.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;r<t;){if(0==a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a==this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a==this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}},t.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;56<=n;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;0<=i;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},t}(function(){this.blockSize=-1}),S=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(function(){e(n)}).catch(function(e){n.error(e)})}return e.prototype.next=function(e){this.forEachObserver(function(t){t.next(e)})},e.prototype.error=function(e){this.forEachObserver(function(t){t.error(e)}),this.close(e)},e.prototype.complete=function(){this.forEachObserver(function(e){e.complete()}),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e)?e:{next:e,error:t,complete:n}).next&&(r.next=_),void 0===r.error&&(r.error=_),void 0===r.complete&&(r.complete=_);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}}),this.observers.push(r),a},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}})},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(function(){t.observers=void 0,t.onNoObservers=void 0}))},e}();function _(){}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T(e,t,n){var r="";switch(t){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return e+" failed: "+(r+" argument ")}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */t.assert=a,t.assertionError=o,t.base64=l,t.base64Decode=c,t.base64Encode=function(e){var t=s(e);return l.encodeByteArray(t,!0)},t.CONSTANTS=i,t.deepCopy=
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e){return u(void 0,e)},t.deepExtend=u,t.patchProperty=function(e,t,n){e[t]=n},t.Deferred=h,t.getUA=d,t.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(d())},t.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},t.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},t.ErrorFactory=v,t.FirebaseError=m,t.patchCapture=function(e){var t=f;return f=e,t},t.jsonEval=g,t.stringify=function(e){return JSON.stringify(e)},t.decode=y,t.isAdmin=function(e){var t=y(e).claims;return"object"==typeof t&&!0===t.admin},t.issuedAtTime=function(e){var t=y(e).claims;return"object"==typeof t&&t.hasOwnProperty("iat")?t.iat:null},t.isValidFormat=function(e){var t=y(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")},t.isValidTimestamp=function(e){var t,n,r=y(e).claims,i=Math.floor((new Date).getTime()/1e3);return"object"==typeof r&&(r.hasOwnProperty("nbf")?t=r.nbf:r.hasOwnProperty("iat")&&(t=r.iat),n=r.hasOwnProperty("exp")?r.exp:t+86400),i&&t&&n&&t<=i&&i<=n},t.clone=function(e){return w({},e)},t.contains=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.every=function(e,t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&!t(n,e[n]))return!1;return!0},t.extend=w,t.findKey=E,t.findValue=function(e,t,n){var r=E(e,t,n);return r&&e[r]},t.forEach=b,t.getAnyKey=function(e){for(var t in e)return t},t.getCount=function(e){var t=0;for(var n in e)t++;return t},t.getValues=function(e){var t=[],n=0;for(var r in e)t[n++]=e[r];return t},t.isEmpty=function(e){for(var t in e)return!1;return!0},t.isNonNullObject=function(e){return"object"==typeof e&&null!==e},t.map=function(e,t,n){var r={};for(var i in e)r[i]=t.call(n,e[i],i,e);return r},t.safeGet=function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]},t.querystring=function(e){var t=[];return b(e,function(e,n){Array.isArray(n)?n.forEach(function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}),t.length?"&"+t.join("&"):""},t.querystringDecode=function(e){var t={};return e.replace(/^\?/,"").split("&").forEach(function(e){if(e){var n=e.split("=");t[n[0]]=n[1]}}),t},t.Sha1=C,t.async=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then(function(){e.apply(void 0,n)}).catch(function(e){t&&t(e)})}},t.createSubscribe=function(e,t){var n=new S(e,t);return n.subscribe.bind(n)},t.errorPrefix=T,t.validateArgCount=function(e,t,n,r){var i;if(r<t?i="at least "+t:n<r&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},t.validateCallback=function(e,t,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(T(e,t,r)+"must be a valid function.")},t.validateContextObject=function(e,t,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(T(e,t,r)+"must be a valid context object.")}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,t.validateNamespace=function(e,t,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(T(e,t,r)+"must be a valid firebase namespace.")},t.stringLength=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:55296<=r&&r<=56319?(t+=4,n++):t+=3}return t},t.stringToByteArray=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(55296<=i&&i<=56319){var o=i-55296;a(++r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(e.charCodeAt(r)-56320)}t[n++]=i<128?i:(t[n++]=i<2048?i>>6|192:(t[n++]=i<65536?i>>12|224:(t[n++]=i>>18|240,i>>12&63|128),i>>6&63|128),63&i|128)}return t}},function(e,t){e.exports=function e(t,n,r){return t instanceof RegExp?function(e,t){if(!t)return e;var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return e}(t,n):Array.isArray(t)?function(t,n,r){for(var i=[],a=0;a<t.length;a++)i.push(e(t[a],n,r).source);return new RegExp("(?:"+i.join("|")+")",s(r))}(t,n,r):(a=n,l(i(t,o=r),a,o));var a,o},e.exports.parse=i,e.exports.compile=function(e,t){return a(i(e,t))},e.exports.tokensToFunction=a,e.exports.tokensToRegExp=l;var n="/",r=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g");function i(e,t){for(var i,a,s=[],l=0,c=0,u="",h=t&&t.delimiter||n,d=t&&t.whitelist||void 0,p=!1;null!==(i=r.exec(e));){var f=i[0],m=i[1],v=i.index;if(u+=e.slice(c,v),c=v+f.length,m)u+=m[1],p=!0;else{var g="",y=i[2],b=i[3],w=i[4],E=i[5];if(!p&&u.length){var C=u.length-1,S=u[C];(!d||-1<d.indexOf(S))&&(g=S,u=u.slice(0,C))}u&&(s.push(u),u="",p=!1);var _="+"===E||"*"===E,T="?"===E||"*"===E,k=b||w,x=g||h;s.push({name:y||l++,prefix:g,delimiter:x,optional:T,repeat:_,pattern:k?(a=k,a.replace(/([=!:$\/()])/g,"\\$1")):"[^"+o(x===h?x:x+h)+"]+?"})}}return(u||c<e.length)&&s.push(u+e.substr(c)),s}function a(e){for(var t=new Array(e.length),n=0;n<e.length;n++)"object"==typeof e[n]&&(t[n]=new RegExp("^(?:"+e[n].pattern+")$"));return function(n,r){for(var i="",a=r&&r.encode||encodeURIComponent,o=0;o<e.length;o++){var s=e[o];if("string"!=typeof s){var l,c=n?n[s.name]:void 0;if(Array.isArray(c)){if(!s.repeat)throw new TypeError('Expected "'+s.name+'" to not repeat, but got array');if(0===c.length){if(s.optional)continue;throw new TypeError('Expected "'+s.name+'" to not be empty')}for(var u=0;u<c.length;u++){if(l=a(c[u],s),!t[o].test(l))throw new TypeError('Expected all "'+s.name+'" to match "'+s.pattern+'"');i+=(0===u?s.prefix:s.delimiter)+l}}else if("string"!=typeof c&&"number"!=typeof c&&"boolean"!=typeof c){if(!s.optional)throw new TypeError('Expected "'+s.name+'" to be '+(s.repeat?"an array":"a string"))}else{if(l=a(String(c),s),!t[o].test(l))throw new TypeError('Expected "'+s.name+'" to match "'+s.pattern+'", but got "'+l+'"');i+=s.prefix+l}}else i+=s}return i}}function o(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function s(e){return e&&e.sensitive?"":"i"}function l(e,t,r){for(var i=(r=r||{}).strict,a=!1!==r.start,l=!1!==r.end,c=r.delimiter||n,u=[].concat(r.endsWith||[]).map(o).concat("$").join("|"),h=a?"^":"",d=0;d<e.length;d++){var p=e[d];if("string"==typeof p)h+=o(p);else{var f=p.repeat?"(?:"+p.pattern+")(?:"+o(p.delimiter)+"(?:"+p.pattern+"))*":p.pattern;t&&t.push(p),p.optional?p.prefix?h+="(?:"+o(p.prefix)+"("+f+"))?":h+="("+f+")?":h+=o(p.prefix)+"("+f+")"}}if(l)i||(h+="(?:"+o(c)+")?"),h+="$"===u?"$":"(?="+u+")";else{var m=e[e.length-1],v="string"==typeof m?m[m.length-1]===c:void 0===m;i||(h+="(?:"+o(c)+"(?="+u+"))?"),v||(h+="(?="+o(c)+"|"+u+")")}return new RegExp(h,s(r))}},function(e,t,n){"use strict";n(54);var r,i=(r=n(0))&&"object"==typeof r&&"default"in r?r.default:r;
/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */e.exports=i},function(e,t,n){e.exports=!n(11)&&!n(13)(function(){return 7!=Object.defineProperty(n(42)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(8),i=n(3).document,a=r(i)&&r(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},function(e,t,n){var r=n(61);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(43),i=n(25),a=n(26),o=n(27),s=n(62);e.exports=function(e,t){var n=1==e,l=2==e,c=3==e,u=4==e,h=6==e,d=5==e||h,p=t||s;return function(t,s,f){for(var m,v,g=a(t),y=i(g),b=r(s,f,3),w=o(y.length),E=0,C=n?p(t,w):l?p(t,0):void 0;E<w;E++)if((d||E in y)&&(v=b(m=y[E],E,g),e))if(n)C[E]=v;else if(v)switch(e){case 3:return!0;case 5:return m;case 6:return E;case 2:C.push(m)}else if(u)return!1;return h?-1:c||u?u:C}}},function(e,t,n){var r=n(20);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(9),i=n(12),a=n(69)(!1),o=n(30)("IE_PROTO");e.exports=function(e,t){var n,s=i(e),l=0,c=[];for(n in s)n!=o&&r(s,n)&&c.push(n);for(;t.length>l;)r(s,n=t[l++])&&(~a(c,n)||c.push(n));return c}},function(e,t,n){var r=n(18),i=n(83),a=n(31),o=n(30)("IE_PROTO"),s=function(){},l="prototype",c=function(){var e,t=n(42)("iframe"),r=a.length;for(t.style.display="none",n(84).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;r--;)delete c[l][a[r]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(s[l]=r(e),n=new s,s[l]=null,n[o]=e):n=c(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(46),i=n(31).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){"use strict";var r=n(36),i=n(6),a=n(14),o=n(7),s=n(37),l=n(94),c=n(33),u=n(95),h=n(2)("iterator"),d=!([].keys&&"next"in[].keys()),p="values",f=function(){return this};e.exports=function(e,t,n,m,v,g,y){l(n,t,m);var b,w,E,C=function(e){if(!d&&e in k)return k[e];switch(e){case"keys":case p:return function(){return new n(this,e)}}return function(){return new n(this,e)}},S=t+" Iterator",_=v==p,T=!1,k=e.prototype,x=k[h]||k["@@iterator"]||v&&k[v],I=x||C(v),O=v?_?C("entries"):I:void 0,P="Array"==t&&k.entries||x;if(P&&(E=u(P.call(new e)))!==Object.prototype&&E.next&&(c(E,S,!0),r||"function"==typeof E[h]||o(E,h,f)),_&&x&&x.name!==p&&(T=!0,I=function(){return x.call(this)}),r&&!y||!d&&!T&&k[h]||o(k,h,I),s[t]=I,s[S]=f,v)if(b={values:_?I:C(p),keys:g?I:C("keys"),entries:O},y)for(w in b)w in k||a(k,w,b[w]);else i(i.P+i.F*(d||T),t,b);return b}},function(e,t,n){"use strict";n.r(t),n(101)},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t,n){"use strict";n.r(t),n.d(t,"setLogLevel",function(){return c}),n.d(t,"Logger",function(){return l}),n.d(t,"LogLevel",function(){return r});
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var r,i,a=[];(i=r||(r={}))[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT";var o=r.INFO,s=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var a=(new Date).toISOString();switch(t){case r.DEBUG:case r.VERBOSE:console.log.apply(console,["["+a+"]  "+e.name+":"].concat(n));break;case r.INFO:console.info.apply(console,["["+a+"]  "+e.name+":"].concat(n));break;case r.WARN:console.warn.apply(console,["["+a+"]  "+e.name+":"].concat(n));break;case r.ERROR:console.error.apply(console,["["+a+"]  "+e.name+":"].concat(n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}}},l=function(){function e(e){this.name=e,this._logLevel=o,this._logHandler=s,a.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in r))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!0,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,r.DEBUG].concat(e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,r.VERBOSE].concat(e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,r.INFO].concat(e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,r.WARN].concat(e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,r.ERROR].concat(e))},e}();
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c(e){a.forEach(function(t){t.logLevel=e})}},function(e,t,n){e.exports=n(117)},function(e,t,n){"use strict";n.r(t),n(55),n(56),n(59),n(64),n(66),n(71),n(76),n(79),n(91)},function(e,t){!function(e){"use strict";if(!e.fetch){var t="URLSearchParams"in e,n="Symbol"in e&&"iterator"in Symbol,r="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),i="FormData"in e,a="ArrayBuffer"in e;if(a)var o=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=function(e){return e&&DataView.prototype.isPrototypeOf(e)},l=ArrayBuffer.isView||function(e){return e&&-1<o.indexOf(Object.prototype.toString.call(e))};f.prototype.append=function(e,t){e=h(e),t=d(t);var n=this.map[e];this.map[e]=n?n+","+t:t},f.prototype.delete=function(e){delete this.map[h(e)]},f.prototype.get=function(e){return e=h(e),this.has(e)?this.map[e]:null},f.prototype.has=function(e){return this.map.hasOwnProperty(h(e))},f.prototype.set=function(e,t){this.map[h(e)]=d(t)},f.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},f.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),p(e)},f.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),p(e)},f.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),p(e)},n&&(f.prototype[Symbol.iterator]=f.prototype.entries);var c=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},b.call(w.prototype),b.call(C.prototype),C.prototype.clone=function(){return new C(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},C.error=function(){var e=new C(null,{status:0,statusText:""});return e.type="error",e};var u=[301,302,303,307,308];C.redirect=function(e,t){if(-1===u.indexOf(t))throw new RangeError("Invalid status code");return new C(null,{status:t,headers:{location:e}})},e.Headers=f,e.Request=w,e.Response=C,e.fetch=function(e,t){return new Promise(function(n,i){var a=new w(e,t),o=new XMLHttpRequest;o.onload=function(){var e,t,r={status:o.status,statusText:o.statusText,headers:(e=o.getAllResponseHeaders()||"",t=new f,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}}),t)};r.url="responseURL"in o?o.responseURL:r.headers.get("X-Request-URL");var i="response"in o?o.response:o.responseText;n(new C(i,r))},o.onerror=function(){i(new TypeError("Network request failed"))},o.ontimeout=function(){i(new TypeError("Network request failed"))},o.open(a.method,a.url,!0),"include"===a.credentials?o.withCredentials=!0:"omit"===a.credentials&&(o.withCredentials=!1),"responseType"in o&&r&&(o.responseType="blob"),a.headers.forEach(function(e,t){o.setRequestHeader(t,e)}),o.send(void 0===a._bodyInit?null:a._bodyInit)})},e.fetch.polyfill=!0}function h(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function d(e){return"string"!=typeof e&&(e=String(e)),e}function p(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n&&(t[Symbol.iterator]=function(){return t}),t}function f(e){this.map={},e instanceof f?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function m(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function v(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function g(e){var t=new FileReader,n=v(t);return t.readAsArrayBuffer(e),n}function y(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function b(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e)if("string"==typeof e)this._bodyText=e;else if(r&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(i&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(a&&r&&s(e))this._bodyArrayBuffer=y(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!a||!ArrayBuffer.prototype.isPrototypeOf(e)&&!l(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=y(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r&&(this.blob=function(){var e=m(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?m(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(g)}),this.text=function(){var e,t,n,r=m(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,n=v(t=new FileReader),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i&&(this.formData=function(){return this.text().then(E)}),this.json=function(){return this.text().then(JSON.parse)},this}function w(e,t){var n,r,i=(t=t||{}).body;if(e instanceof w){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new f(e.headers)),this.method=e.method,this.mode=e.mode,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new f(t.headers)),this.method=(r=(n=t.method||this.method||"GET").toUpperCase(),-1<c.indexOf(r)?r:n),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function E(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}}),t}function C(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new f(t.headers),this.url=t.url||"",this._initBody(e)}}("undefined"!=typeof self?self:this)},function(e,t,n){"use strict";(function(e,t){var n=setTimeout;function r(){}function i(e){if(!(this instanceof i))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],u(e,this)}function a(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,i._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(n){return void s(t.promise,n)}o(t.promise,r)}else(1===e._state?o:s)(t.promise,e._value)})):e._deferreds.push(t)}function o(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof i)return e._state=3,e._value=t,void l(e);if("function"==typeof n)return void u((r=n,a=t,function(){r.apply(a,arguments)}),e)}e._state=1,e._value=t,l(e)}catch(t){s(e,t)}var r,a}function s(e,t){e._state=2,e._value=t,l(e)}function l(e){2===e._state&&0===e._deferreds.length&&i._immediateFn(function(){e._handled||i._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)a(e,e._deferreds[t]);e._deferreds=null}function c(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function u(e,t){var n=!1;try{e(function(e){n||(n=!0,o(t,e))},function(e){n||(n=!0,s(t,e))})}catch(e){if(n)return;n=!0,s(t,e)}}i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var n=new this.constructor(r);return a(this,new c(e,t,n)),n},i.prototype.finally=function(e){var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){return t.reject(n)})})},i.all=function(e){return new i(function(t,n){if(!e||void 0===e.length)throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);var i=r.length;function a(e,o){try{if(o&&("object"==typeof o||"function"==typeof o)){var s=o.then;if("function"==typeof s)return void s.call(o,function(t){a(e,t)},n)}r[e]=o,0==--i&&t(r)}catch(o){n(o)}}for(var o=0;o<r.length;o++)a(o,r[o])})},i.resolve=function(e){return e&&"object"==typeof e&&e.constructor===i?e:new i(function(t){t(e)})},i.reject=function(e){return new i(function(t,n){n(e)})},i.race=function(e){return new i(function(t,n){for(var r=0,i=e.length;r<i;r++)e[r].then(t,n)})},i._immediateFn="function"==typeof e&&function(t){e(t)}||function(e){n(e,0)},i._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var h=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==t)return t;throw new Error("unable to locate global object")}();h.Promise||(h.Promise=i)}).call(this,n(57).setImmediate,n(5))},function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function a(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new a(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new a(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(58),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(5))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,i,a,o,s,l=1,c={},u=!1,h=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,r="[object process]"==={}.toString.call(e.process)?function(e){t.nextTick(function(){f(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?(o="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(o)&&f(+t.data.slice(o.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),function(t){e.postMessage(o+t,"*")}):e.MessageChannel?((a=new MessageChannel).port1.onmessage=function(e){f(e.data)},function(e){a.port2.postMessage(e)}):h&&"onreadystatechange"in h.createElement("script")?(i=h.documentElement,function(e){var t=h.createElement("script");t.onreadystatechange=function(){f(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):function(e){setTimeout(f,0,e)},d.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return c[l]=i,r(l),l++},d.clearImmediate=p}function p(e){delete c[e]}function f(e){if(u)setTimeout(f,0,e);else{var t=c[e];if(t){u=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{p(e),u=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(5),n(23))},function(e,t,n){n(60),e.exports=n(4).Array.find},function(e,t,n){"use strict";var r=n(6),i=n(44)(5),a="find",o=!0;a in[]&&Array(1)[a](function(){o=!1}),r(r.P+r.F*o,"Array",{find:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}}),n(29)(a)},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(63);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(8),i=n(45),a=n(2)("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),r(t)&&null===(t=t[a])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){n(65),e.exports=n(4).Array.findIndex},function(e,t,n){"use strict";var r=n(6),i=n(44)(6),a="findIndex",o=!0;a in[]&&Array(1)[a](function(){o=!1}),r(r.P+r.F*o,"Array",{findIndex:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}}),n(29)(a)},function(e,t,n){n(67),e.exports=n(4).Object.assign},function(e,t,n){var r=n(6);r(r.S+r.F,"Object",{assign:n(68)})},function(e,t,n){"use strict";var r=n(17),i=n(32),a=n(22),o=n(26),s=n(25),l=Object.assign;e.exports=!l||n(13)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=l({},e)[n]||Object.keys(l({},t)).join("")!=r})?function(e,t){for(var n=o(e),l=arguments.length,c=1,u=i.f,h=a.f;c<l;)for(var d,p=s(arguments[c++]),f=u?r(p).concat(u(p)):r(p),m=f.length,v=0;v<m;)h.call(p,d=f[v++])&&(n[d]=p[d]);return n}:l},function(e,t,n){var r=n(12),i=n(27),a=n(70);e.exports=function(e){return function(t,n,o){var s,l=r(t),c=i(l.length),u=a(o,c);if(e&&n!=n){for(;u<c;)if((s=l[u++])!=s)return!0}else for(;u<c;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}}},function(e,t,n){var r=n(21),i=Math.max,a=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):a(e,t)}},function(e,t,n){n(72),e.exports=n(4).String.startsWith},function(e,t,n){"use strict";var r=n(6),i=n(27),a=n(73),o="startsWith",s=""[o];r(r.P+r.F*n(75)(o),"String",{startsWith:function(e){var t=a(this,e,o),n=i(Math.min(1<arguments.length?arguments[1]:void 0,t.length)),r=String(e);return s?s.call(t,r,n):t.slice(n,n+r.length)===r}})},function(e,t,n){var r=n(74),i=n(16);e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(e))}},function(e,t,n){var r=n(8),i=n(20),a=n(2)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==i(e))}},function(e,t,n){var r=n(2)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(e){}}return!0}},function(e,t,n){n(77),e.exports=n(4).String.repeat},function(e,t,n){var r=n(6);r(r.P,"String",{repeat:n(78)})},function(e,t,n){"use strict";var r=n(21),i=n(16);e.exports=function(e){var t=String(i(this)),n="",a=r(e);if(a<0||a==1/0)throw RangeError("Count can't be negative");for(;0<a;(a>>>=1)&&(t+=t))1&a&&(n+=t);return n}},function(e,t,n){n(80),n(87),n(89),n(90),e.exports=n(4).Symbol},function(e,t,n){"use strict";var r=n(3),i=n(9),a=n(11),o=n(6),s=n(14),l=n(81).KEY,c=n(13),u=n(28),h=n(33),d=n(15),p=n(2),f=n(34),m=n(35),v=n(82),g=n(45),y=n(18),b=n(8),w=n(12),E=n(24),C=n(19),S=n(47),_=n(85),T=n(86),k=n(10),x=n(17),I=T.f,O=k.f,P=_.f,A=r.Symbol,D=r.JSON,N=D&&D.stringify,M="prototype",R=p("_hidden"),L=p("toPrimitive"),F={}.propertyIsEnumerable,B=u("symbol-registry"),j=u("symbols"),$=u("op-symbols"),V=Object[M],q="function"==typeof A,U=r.QObject,H=!U||!U[M]||!U[M].findChild,z=a&&c(function(){return 7!=S(O({},"a",{get:function(){return O(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=I(V,t);r&&delete V[t],O(e,t,n),r&&e!==V&&O(V,t,r)}:O,W=function(e){var t=j[e]=S(A[M]);return t._k=e,t},K=q&&"symbol"==typeof A.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof A},G=function(e,t,n){return e===V&&G($,t,n),y(e),t=E(t,!0),y(n),i(j,t)?(n.enumerable?(i(e,R)&&e[R][t]&&(e[R][t]=!1),n=S(n,{enumerable:C(0,!1)})):(i(e,R)||O(e,R,C(1,{})),e[R][t]=!0),z(e,t,n)):O(e,t,n)},Q=function(e,t){y(e);for(var n,r=v(t=w(t)),i=0,a=r.length;i<a;)G(e,n=r[i++],t[n]);return e},Y=function(e){var t=F.call(this,e=E(e,!0));return!(this===V&&i(j,e)&&!i($,e))&&(!(t||!i(this,e)||!i(j,e)||i(this,R)&&this[R][e])||t)},X=function(e,t){if(e=w(e),t=E(t,!0),e!==V||!i(j,t)||i($,t)){var n=I(e,t);return!n||!i(j,t)||i(e,R)&&e[R][t]||(n.enumerable=!0),n}},J=function(e){for(var t,n=P(w(e)),r=[],a=0;n.length>a;)i(j,t=n[a++])||t==R||t==l||r.push(t);return r},Z=function(e){for(var t,n=e===V,r=P(n?$:w(e)),a=[],o=0;r.length>o;)!i(j,t=r[o++])||n&&!i(V,t)||a.push(j[t]);return a};q||(s((A=function(){if(this instanceof A)throw TypeError("Symbol is not a constructor!");var e=d(0<arguments.length?arguments[0]:void 0),t=function(n){this===V&&t.call($,n),i(this,R)&&i(this[R],e)&&(this[R][e]=!1),z(this,e,C(1,n))};return a&&H&&z(V,e,{configurable:!0,set:t}),W(e)})[M],"toString",function(){return this._k}),T.f=X,k.f=G,n(48).f=_.f=J,n(22).f=Y,n(32).f=Z,a&&!n(36)&&s(V,"propertyIsEnumerable",Y,!0),f.f=function(e){return W(p(e))}),o(o.G+o.W+o.F*!q,{Symbol:A});for(var ee="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),te=0;ee.length>te;)p(ee[te++]);for(var ne=x(p.store),re=0;ne.length>re;)m(ne[re++]);o(o.S+o.F*!q,"Symbol",{for:function(e){return i(B,e+="")?B[e]:B[e]=A(e)},keyFor:function(e){if(!K(e))throw TypeError(e+" is not a symbol!");for(var t in B)if(B[t]===e)return t},useSetter:function(){H=!0},useSimple:function(){H=!1}}),o(o.S+o.F*!q,"Object",{create:function(e,t){return void 0===t?S(e):Q(S(e),t)},defineProperty:G,defineProperties:Q,getOwnPropertyDescriptor:X,getOwnPropertyNames:J,getOwnPropertySymbols:Z}),D&&o(o.S+o.F*(!q||c(function(){var e=A();return"[null]"!=N([e])||"{}"!=N({a:e})||"{}"!=N(Object(e))})),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(b(t)||void 0!==e)&&!K(e))return g(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!K(t))return t}),r[1]=t,N.apply(D,r)}}),A[M][L]||n(7)(A[M],L,A[M].valueOf),h(A,"Symbol"),h(Math,"Math",!0),h(r.JSON,"JSON",!0)},function(e,t,n){var r=n(15)("meta"),i=n(8),a=n(9),o=n(10).f,s=0,l=Object.isExtensible||function(){return!0},c=!n(13)(function(){return l(Object.preventExtensions({}))}),u=function(e){o(e,r,{value:{i:"O"+ ++s,w:{}}})},h=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,r)){if(!l(e))return"F";if(!t)return"E";u(e)}return e[r].i},getWeak:function(e,t){if(!a(e,r)){if(!l(e))return!0;if(!t)return!1;u(e)}return e[r].w},onFreeze:function(e){return c&&h.NEED&&l(e)&&!a(e,r)&&u(e),e}}},function(e,t,n){var r=n(17),i=n(32),a=n(22);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var o,s=n(e),l=a.f,c=0;s.length>c;)l.call(e,o=s[c++])&&t.push(o);return t}},function(e,t,n){var r=n(10),i=n(18),a=n(17);e.exports=n(11)?Object.defineProperties:function(e,t){i(e);for(var n,o=a(t),s=o.length,l=0;l<s;)r.f(e,n=o[l++],t[n]);return e}},function(e,t,n){var r=n(3).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(12),i=n(48).f,a={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return o&&"[object Window]"==a.call(e)?function(e){try{return i(e)}catch(e){return o.slice()}}(e):i(r(e))}},function(e,t,n){var r=n(22),i=n(19),a=n(12),o=n(24),s=n(9),l=n(41),c=Object.getOwnPropertyDescriptor;t.f=n(11)?c:function(e,t){if(e=a(e),t=o(t,!0),l)try{return c(e,t)}catch(e){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t,n){"use strict";var r=n(88),i={};i[n(2)("toStringTag")]="z",i+""!="[object z]"&&n(14)(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},function(e,t,n){var r=n(20),i=n(2)("toStringTag"),a="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:a?r(t):"Object"==(o=r(t))&&"function"==typeof t.callee?"Arguments":o}},function(e,t,n){n(35)("asyncIterator")},function(e,t,n){n(35)("observable")},function(e,t,n){n(92),n(96),e.exports=n(34).f("iterator")},function(e,t,n){"use strict";var r=n(93)(!0);n(49)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){var r=n(21),i=n(16);e.exports=function(e){return function(t,n){var a,o,s=String(i(t)),l=r(n),c=s.length;return l<0||c<=l?e?"":void 0:(a=s.charCodeAt(l))<55296||56319<a||l+1===c||(o=s.charCodeAt(l+1))<56320||57343<o?e?s.charAt(l):a:e?s.slice(l,l+2):o-56320+(a-55296<<10)+65536}}},function(e,t,n){"use strict";var r=n(47),i=n(19),a=n(33),o={};n(7)(o,n(2)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(o,{next:i(1,n)}),a(e,t+" Iterator")}},function(e,t,n){var r=n(9),i=n(26),a=n(30)("IE_PROTO"),o=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?o:null}},function(e,t,n){for(var r=n(97),i=n(17),a=n(14),o=n(3),s=n(7),l=n(37),c=n(2),u=c("iterator"),h=c("toStringTag"),d=l.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},f=i(p),m=0;m<f.length;m++){var v,g=f[m],y=p[g],b=o[g],w=b&&b.prototype;if(w&&(w[u]||s(w,u,d),w[h]||s(w,h,g),l[g]=d,y))for(v in r)w[v]||a(w,v,r[v],!0)}},function(e,t,n){"use strict";var r=n(29),i=n(98),a=n(37),o=n(12);e.exports=n(49)(Array,"Array",function(e,t){this._t=o(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),a.Arguments=a.Array,r("keys"),r("values"),r("entries")},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",function(){return i}),n.d(t,"__assign",function(){return a}),n.d(t,"__rest",function(){return o}),n.d(t,"__decorate",function(){return s}),n.d(t,"__param",function(){return l}),n.d(t,"__metadata",function(){return c}),n.d(t,"__awaiter",function(){return u}),n.d(t,"__generator",function(){return h}),n.d(t,"__exportStar",function(){return d}),n.d(t,"__values",function(){return p}),n.d(t,"__read",function(){return f}),n.d(t,"__spread",function(){return m}),n.d(t,"__await",function(){return v}),n.d(t,"__asyncGenerator",function(){return g}),n.d(t,"__asyncDelegator",function(){return y}),n.d(t,"__asyncValues",function(){return b}),n.d(t,"__makeTemplateObject",function(){return w}),n.d(t,"__importStar",function(){return E}),n.d(t,"__importDefault",function(){return C});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;0<=s;s--)(i=e[s])&&(o=(a<3?i(o):3<a?i(t,n,o):i(t,n))||o);return 3<a&&o&&Object.defineProperty(t,n,o),o}function l(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,n,r){return new(n||(n=Promise))(function(i,a){function o(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(o,s)}l((r=r.apply(e,t||[])).next())})}function h(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=r[2&a[0]?"return":a[0]?"throw":"next"])&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[0,i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=0<(i=o.trys).length&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function d(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function f(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||0<t--)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(f(arguments[t]));return e}function v(e){return this instanceof v?(this.v=e,this):new v(e)}function g(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),a=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(e){i[e]&&(r[e]=function(t){return new Promise(function(n,r){1<a.push([e,t,n,r])||s(e,t)})})}function s(e,t){try{(n=i[e](t)).value instanceof v?Promise.resolve(n.value.v).then(l,c):u(a[0][2],n)}catch(e){u(a[0][3],e)}var n}function l(e){s("next",e)}function c(e){s("throw",e)}function u(e,t){e(t),a.shift(),a.length&&s(a[0][0],a[0][1])}}function y(e){var t,n;return t={},r("next"),r("throw",function(e){throw e}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){e[r]&&(t[r]=function(t){return(n=!n)?{value:v(e[r](t)),done:"return"===r}:i?i(t):t})}}function b(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator];return t?t.call(e):p(e)}function w(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function C(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){(function(r){var i;!function(){var a=n(40);n(50),void 0!==a.default&&(a=a.default);var o,s,l,c,u={upgradeDom:function(e,t){},upgradeElement:function(e,t){},upgradeElements:function(e){},upgradeAllRegistered:function(){},registerUpgradedCallback:function(e,t){},register:function(e){},downgradeElements:function(e){}};(u=function(){var e=[],t=[],n="mdlComponentConfigInternal_";function r(t,n){for(var r=0;r<e.length;r++)if(e[r].className===t)return void 0!==n&&(e[r]=n),e[r];return!1}function i(e){var t=e.getAttribute("data-upgraded");return null===t?[""]:t.split(",")}function a(e,t){return-1!==i(e).indexOf(t)}function o(e,t,n){if("CustomEvent"in window&&"function"==typeof window.CustomEvent)return new CustomEvent(e,{bubbles:t,cancelable:n});var r=document.createEvent("Events");return r.initEvent(e,t,n),r}function s(t,n){if(void 0===t&&void 0===n)for(var i=0;i<e.length;i++)s(e[i].className,e[i].cssClass);else{var a=t;if(void 0===n){var o=r(a);o&&(n=o.cssClass)}for(var c=document.querySelectorAll("."+n),u=0;u<c.length;u++)l(c[u],a)}}function l(s,l){if(!("object"==typeof s&&s instanceof Element))throw new Error("Invalid argument provided to upgrade MDL element.");var c=o("mdl-componentupgrading",!0,!0);if(s.dispatchEvent(c),!c.defaultPrevented){var u=i(s),h=[];if(l)a(s,l)||h.push(r(l));else{var d=s.classList;e.forEach(function(e){d.contains(e.cssClass)&&-1===h.indexOf(e)&&!a(s,e.className)&&h.push(e)})}for(var p,f=0,m=h.length;f<m;f++){if(!(p=h[f]))throw new Error("Unable to find a registered component for the given class.");u.push(p.className),s.setAttribute("data-upgraded",u.join(","));var v=new p.classConstructor(s);v[n]=p,t.push(v);for(var g=0,y=p.callbacks.length;g<y;g++)p.callbacks[g](s);p.widget&&(s[p.className]=v);var b=o("mdl-componentupgraded",!0,!1);s.dispatchEvent(b)}}}function c(e){if(e){var r=t.indexOf(e);t.splice(r,1);var i=e.element_.getAttribute("data-upgraded").split(","),a=i.indexOf(e[n].classAsString);i.splice(a,1),e.element_.setAttribute("data-upgraded",i.join(","));var s=o("mdl-componentdowngraded",!0,!1);e.element_.dispatchEvent(s)}}return{upgradeDom:s,upgradeElement:l,upgradeElements:function e(t){Array.isArray(t)||(t=t instanceof Element?[t]:Array.prototype.slice.call(t));for(var n,r=0,i=t.length;r<i;r++)(n=t[r])instanceof HTMLElement&&(l(n),0<n.children.length&&e(n.children))},upgradeAllRegistered:function(){for(var t=0;t<e.length;t++)s(e[t].className)},registerUpgradedCallback:function(e,t){var n=r(e);n&&n.callbacks.push(t)},register:function(t){var i=!0;void 0===t.widget&&void 0===t.widget||(i=t.widget||t.widget);var a={classConstructor:t.constructor||t.constructor,className:t.classAsString||t.classAsString,cssClass:t.cssClass||t.cssClass,widget:i,callbacks:[]};if(e.forEach(function(e){if(e.cssClass===a.cssClass)throw new Error("The provided cssClass has already been registered: "+e.cssClass);if(e.className===a.className)throw new Error("The provided className has already been registered")}),t.constructor.prototype.hasOwnProperty(n))throw new Error("MDL component classes must not have "+n+" defined as a property.");r(t.classAsString,a)||e.push(a)},downgradeElements:function(e){var n=function(e){t.filter(function(t){return t.element_===e}).forEach(c)};if(e instanceof Array||e instanceof NodeList)for(var r=0;r<e.length;r++)n(e[r]);else{if(!(e instanceof Node))throw new Error("Invalid argument provided to downgrade MDL nodes.");n(e)}}}}()).ComponentConfigPublic,u.ComponentConfig,u.Component,u.upgradeDom=u.upgradeDom,u.upgradeElement=u.upgradeElement,u.upgradeElements=u.upgradeElements,u.upgradeAllRegistered=u.upgradeAllRegistered,u.registerUpgradedCallback=u.registerUpgradedCallback,u.register=u.register,u.downgradeElements=u.downgradeElements,window.componentHandler=u,window.componentHandler=u,window.addEventListener("load",function(){"classList"in document.createElement("div")&&"querySelector"in document&&"addEventListener"in window&&Array.prototype.forEach?(document.documentElement.classList.add("mdl-js"),u.upgradeAllRegistered()):(u.upgradeElement=function(){},u.register=function(){})}),o=function(e){this.element_=e,this.init()},(window.MaterialButton=o).prototype.Constant_={},o.prototype.CssClasses_={RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_CONTAINER:"mdl-button__ripple-container",RIPPLE:"mdl-ripple"},o.prototype.blurHandler_=function(e){e&&this.element_.blur()},o.prototype.disable=o.prototype.disable=function(){this.element_.disabled=!0},o.prototype.enable=o.prototype.enable=function(){this.element_.disabled=!1},o.prototype.init=function(){if(this.element_){if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){var e=document.createElement("span");e.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleElement_=document.createElement("span"),this.rippleElement_.classList.add(this.CssClasses_.RIPPLE),e.appendChild(this.rippleElement_),this.boundRippleBlurHandler=this.blurHandler_.bind(this),this.rippleElement_.addEventListener("mouseup",this.boundRippleBlurHandler),this.element_.appendChild(e)}this.boundButtonBlurHandler=this.blurHandler_.bind(this),this.element_.addEventListener("mouseup",this.boundButtonBlurHandler),this.element_.addEventListener("mouseleave",this.boundButtonBlurHandler)}},u.register({constructor:o,classAsString:"MaterialButton",cssClass:"mdl-js-button",widget:!0}),s=function(e){this.element_=e,this.init()},(window.MaterialProgress=s).prototype.Constant_={},s.prototype.CssClasses_={INDETERMINATE_CLASS:"mdl-progress__indeterminate"},s.prototype.setProgress=s.prototype.setProgress=function(e){this.element_.classList.contains(this.CssClasses_.INDETERMINATE_CLASS)||(this.progressbar_.style.width=e+"%")},s.prototype.setBuffer=s.prototype.setBuffer=function(e){this.bufferbar_.style.width=e+"%",this.auxbar_.style.width=100-e+"%"},s.prototype.init=function(){if(this.element_){var e=document.createElement("div");e.className="progressbar bar bar1",this.element_.appendChild(e),this.progressbar_=e,(e=document.createElement("div")).className="bufferbar bar bar2",this.element_.appendChild(e),this.bufferbar_=e,(e=document.createElement("div")).className="auxbar bar bar3",this.element_.appendChild(e),this.auxbar_=e,this.progressbar_.style.width="0%",this.bufferbar_.style.width="100%",this.auxbar_.style.width="0%",this.element_.classList.add("is-upgraded")}},u.register({constructor:s,classAsString:"MaterialProgress",cssClass:"mdl-js-progress",widget:!0}),l=function(e){this.element_=e,this.init()},(window.MaterialSpinner=l).prototype.Constant_={MDL_SPINNER_LAYER_COUNT:4},l.prototype.CssClasses_={MDL_SPINNER_LAYER:"mdl-spinner__layer",MDL_SPINNER_CIRCLE_CLIPPER:"mdl-spinner__circle-clipper",MDL_SPINNER_CIRCLE:"mdl-spinner__circle",MDL_SPINNER_GAP_PATCH:"mdl-spinner__gap-patch",MDL_SPINNER_LEFT:"mdl-spinner__left",MDL_SPINNER_RIGHT:"mdl-spinner__right"},l.prototype.createLayer=l.prototype.createLayer=function(e){var t=document.createElement("div");t.classList.add(this.CssClasses_.MDL_SPINNER_LAYER),t.classList.add(this.CssClasses_.MDL_SPINNER_LAYER+"-"+e);var n=document.createElement("div");n.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),n.classList.add(this.CssClasses_.MDL_SPINNER_LEFT);var r=document.createElement("div");r.classList.add(this.CssClasses_.MDL_SPINNER_GAP_PATCH);var i=document.createElement("div");i.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),i.classList.add(this.CssClasses_.MDL_SPINNER_RIGHT);for(var a=[n,r,i],o=0;o<a.length;o++){var s=document.createElement("div");s.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE),a[o].appendChild(s)}t.appendChild(n),t.appendChild(r),t.appendChild(i),this.element_.appendChild(t)},l.prototype.stop=l.prototype.stop=function(){this.element_.classList.remove("is-active")},l.prototype.start=l.prototype.start=function(){this.element_.classList.add("is-active")},l.prototype.init=function(){if(this.element_){for(var e=1;e<=this.Constant_.MDL_SPINNER_LAYER_COUNT;e++)this.createLayer(e);this.element_.classList.add("is-upgraded")}},u.register({constructor:l,classAsString:"MaterialSpinner",cssClass:"mdl-js-spinner",widget:!0}),c=function(e){this.element_=e,this.maxRows=this.Constant_.NO_MAX_ROWS,this.init()},(window.MaterialTextfield=c).prototype.Constant_={NO_MAX_ROWS:-1,MAX_ROWS_ATTRIBUTE:"maxrows"},c.prototype.CssClasses_={LABEL:"mdl-textfield__label",INPUT:"mdl-textfield__input",IS_DIRTY:"is-dirty",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_INVALID:"is-invalid",IS_UPGRADED:"is-upgraded",HAS_PLACEHOLDER:"has-placeholder"},c.prototype.onKeyDown_=function(e){var t=e.target.value.split("\n").length;13===e.keyCode&&t>=this.maxRows&&e.preventDefault()},c.prototype.onFocus_=function(e){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},c.prototype.onBlur_=function(e){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},c.prototype.onReset_=function(e){this.updateClasses_()},c.prototype.updateClasses_=function(){this.checkDisabled(),this.checkValidity(),this.checkDirty(),this.checkFocus()},c.prototype.checkDisabled=c.prototype.checkDisabled=function(){this.input_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},c.prototype.checkFocus=c.prototype.checkFocus=function(){Boolean(this.element_.querySelector(":focus"))?this.element_.classList.add(this.CssClasses_.IS_FOCUSED):this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},c.prototype.checkValidity=c.prototype.checkValidity=function(){this.input_.validity&&(this.input_.validity.valid?this.element_.classList.remove(this.CssClasses_.IS_INVALID):this.element_.classList.add(this.CssClasses_.IS_INVALID))},c.prototype.checkDirty=c.prototype.checkDirty=function(){this.input_.value&&0<this.input_.value.length?this.element_.classList.add(this.CssClasses_.IS_DIRTY):this.element_.classList.remove(this.CssClasses_.IS_DIRTY)},c.prototype.disable=c.prototype.disable=function(){this.input_.disabled=!0,this.updateClasses_()},c.prototype.enable=c.prototype.enable=function(){this.input_.disabled=!1,this.updateClasses_()},c.prototype.change=c.prototype.change=function(e){this.input_.value=e||"",this.updateClasses_()},c.prototype.init=function(){if(this.element_&&(this.label_=this.element_.querySelector("."+this.CssClasses_.LABEL),this.input_=this.element_.querySelector("."+this.CssClasses_.INPUT),this.input_)){this.input_.hasAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE)&&(this.maxRows=parseInt(this.input_.getAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE),10),isNaN(this.maxRows)&&(this.maxRows=this.Constant_.NO_MAX_ROWS)),this.input_.hasAttribute("placeholder")&&this.element_.classList.add(this.CssClasses_.HAS_PLACEHOLDER),this.boundUpdateClassesHandler=this.updateClasses_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.boundResetHandler=this.onReset_.bind(this),this.input_.addEventListener("input",this.boundUpdateClassesHandler),this.input_.addEventListener("focus",this.boundFocusHandler),this.input_.addEventListener("blur",this.boundBlurHandler),this.input_.addEventListener("reset",this.boundResetHandler),this.maxRows!==this.Constant_.NO_MAX_ROWS&&(this.boundKeyDownHandler=this.onKeyDown_.bind(this),this.input_.addEventListener("keydown",this.boundKeyDownHandler));var e=this.element_.classList.contains(this.CssClasses_.IS_INVALID);this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED),e&&this.element_.classList.add(this.CssClasses_.IS_INVALID),this.input_.hasAttribute("autofocus")&&(this.element_.focus(),this.checkFocus())}},u.register({constructor:c,classAsString:"MaterialTextfield",cssClass:"mdl-js-textfield",widget:!0}),function(){var r=window.CustomEvent;function a(e){for(;e;){if("dialog"===e.localName)return e;e=e.parentElement}return null}function o(e){e&&e.blur&&e!==document.body&&e.blur()}function s(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1}function l(e){return!(!e||!e.hasAttribute("method"))&&"dialog"===e.getAttribute("method").toLowerCase()}function c(e){if(this.dialog_=e,this.replacedStyleTop_=!1,this.openAsModal_=!1,e.hasAttribute("role")||e.setAttribute("role","dialog"),e.show=this.show.bind(this),e.showModal=this.showModal.bind(this),e.close=this.close.bind(this),"returnValue"in e||(e.returnValue=""),"MutationObserver"in window)new MutationObserver(this.maybeHideModal.bind(this)).observe(e,{attributes:!0,attributeFilter:["open"]});else{var t,n=!1,r=function(){n?this.downgradeModal():this.maybeHideModal(),n=!1}.bind(this),i=function(i){if(i.target===e){var a="DOMNodeRemoved";n|=i.type.substr(0,a.length)===a,window.clearTimeout(t),t=window.setTimeout(r,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach(function(t){e.addEventListener(t,i)})}Object.defineProperty(e,"open",{set:this.setOpen.bind(this),get:e.hasAttribute.bind(e,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("click",this.backdropClick_.bind(this))}r&&"object"!=typeof r||((r=function(e,t){t=t||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!!t.bubbles,!!t.cancelable,t.detail||null),n}).prototype=window.Event.prototype),c.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&document.body.contains(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),u.dm.removeDialog(this))},setOpen:function(e){e?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropClick_:function(e){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var t=document.createElement("div");this.dialog_.insertBefore(t,this.dialog_.firstChild),t.tabIndex=-1,t.focus(),this.dialog_.removeChild(t)}var n=document.createEvent("MouseEvents");n.initMouseEvent(e.type,e.bubbles,e.cancelable,window,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget),this.dialog_.dispatchEvent(n),e.stopPropagation()},focus_:function(){var e=this.dialog_.querySelector("[autofocus]:not([disabled])");if(!e&&0<=this.dialog_.tabIndex&&(e=this.dialog_),!e){var t=["button","input","keygen","select","textarea"].map(function(e){return e+":not([disabled])"});t.push('[tabindex]:not([disabled]):not([tabindex=""])'),e=this.dialog_.querySelector(t.join(", "))}o(document.activeElement),e&&e.focus()},updateZIndex:function(e,t){if(e<t)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=e,this.backdrop_.style.zIndex=t},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!document.body.contains(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!u.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");(function(e){for(;e&&e!==document.body;){var t=window.getComputedStyle(e),n=function(e,n){return!(void 0===t[e]||t[e]===n)};if(t.opacity<1||n("zIndex","auto")||n("transform","none")||n("mixBlendMode","normal")||n("filter","none")||n("perspective","none")||"isolate"===t.isolation||"fixed"===t.position||"touch"===t.webkitOverflowScrolling)return!0;e=e.parentElement}return!1})(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,u.needsCentering(this.dialog_)?(u.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(e){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),void 0!==e&&(this.dialog_.returnValue=e);var t=new r("close",{bubbles:!1,cancelable:!1});this.dialog_.dispatchEvent(t)}};var u={reposition:function(e){var t=document.body.scrollTop||document.documentElement.scrollTop,n=t+(window.innerHeight-e.offsetHeight)/2;e.style.top=Math.max(t,n)+"px"},isInlinePositionSetByStylesheet:function(e){for(var t=0;t<document.styleSheets.length;++t){var n=document.styleSheets[t],r=null;try{r=n.cssRules}catch(e){}if(r)for(var i=0;i<r.length;++i){var a=r[i],o=null;try{o=document.querySelectorAll(a.selectorText)}catch(e){}if(o&&s(o,e)){var l=a.style.getPropertyValue("top"),c=a.style.getPropertyValue("bottom");if(l&&"auto"!==l||c&&"auto"!==c)return!0}}}return!1},needsCentering:function(e){return!("absolute"!==window.getComputedStyle(e).position||"auto"!==e.style.top&&""!==e.style.top||"auto"!==e.style.bottom&&""!==e.style.bottom||u.isInlinePositionSetByStylesheet(e))},forceRegisterDialog:function(e){if((window.HTMLDialogElement||e.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",e),"dialog"!==e.localName)throw new Error("Failed to register dialog: The element is not a dialog.");new c(e)},registerDialog:function(e){e.showModal||u.forceRegisterDialog(e)},DialogManager:function(){this.pendingDialogStack=[];var e=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",function(t){this.forwardTab_=void 0,t.stopPropagation(),e([])}.bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=100150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver(function(t){var n=[];t.forEach(function(e){for(var t,r=0;t=e.removedNodes[r];++r)t instanceof Element&&("dialog"===t.localName&&n.push(t),n=n.concat(t.querySelectorAll("dialog")))}),n.length&&e(n)}))}};if(u.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},u.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},u.DialogManager.prototype.updateStacking=function(){for(var e,t=this.zIndexHigh_,n=0;e=this.pendingDialogStack[n];++n)e.updateZIndex(--t,--t),0===n&&(this.overlay.style.zIndex=--t);var r=this.pendingDialogStack[0];r?(r.dialog.parentNode||document.body).appendChild(this.overlay):this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},u.DialogManager.prototype.containedByTopDialog_=function(e){for(;e=a(e);){for(var t,n=0;t=this.pendingDialogStack[n];++n)if(t.dialog===e)return 0===n;e=e.parentElement}return!1},u.DialogManager.prototype.handleFocus_=function(e){if(!this.containedByTopDialog_(e.target)&&(e.preventDefault(),e.stopPropagation(),o(e.target),void 0!==this.forwardTab_)){var t=this.pendingDialogStack[0];return t.dialog.compareDocumentPosition(e.target)&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?t.focus_():document.documentElement.focus()),!1}},u.DialogManager.prototype.handleKey_=function(e){if(this.forwardTab_=void 0,27===e.keyCode){e.preventDefault(),e.stopPropagation();var t=new r("cancel",{bubbles:!1,cancelable:!0}),n=this.pendingDialogStack[0];n&&n.dialog.dispatchEvent(t)&&n.dialog.close()}else 9===e.keyCode&&(this.forwardTab_=!e.shiftKey)},u.DialogManager.prototype.checkDOM_=function(e){this.pendingDialogStack.slice().forEach(function(t){-1!==e.indexOf(t.dialog)?t.downgradeModal():t.maybeHideModal()})},u.DialogManager.prototype.pushDialog=function(e){var t=(this.zIndexHigh_-this.zIndexLow_)/2-1;return!(this.pendingDialogStack.length>=t||(1===this.pendingDialogStack.unshift(e)&&this.blockDocument(),this.updateStacking(),0))},u.DialogManager.prototype.removeDialog=function(e){var t=this.pendingDialogStack.indexOf(e);-1!==t&&(this.pendingDialogStack.splice(t,1),0===this.pendingDialogStack.length&&this.unblockDocument(),this.updateStacking())},u.dm=new u.DialogManager,u.formSubmitter=null,u.useValue=null,void 0===window.HTMLDialogElement){var h=document.createElement("form");if(h.setAttribute("method","dialog"),"dialog"!==h.method){var d=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(d){var p=d.get;d.get=function(){return l(this)?"dialog":p.call(this)};var f=d.set;d.set=function(e){return"string"==typeof e&&"dialog"===e.toLowerCase()?this.setAttribute("method",e):f.call(this,e)},Object.defineProperty(HTMLFormElement.prototype,"method",d)}}document.addEventListener("click",function(e){if(u.formSubmitter=null,u.useValue=null,!e.defaultPrevented){var t=e.target;if(t&&l(t.form)){if(!("submit"===t.type&&-1<["button","input"].indexOf(t.localName))){if("input"!==t.localName||"image"!==t.type)return;u.useValue=e.offsetX+","+e.offsetY}a(t)&&(u.formSubmitter=t)}}},!1);var m=HTMLFormElement.prototype.submit;HTMLFormElement.prototype.submit=function(){if(!l(this))return m.call(this);var e=a(this);e&&e.close()},document.addEventListener("submit",function(e){var t=e.target;if(l(t)){e.preventDefault();var n=a(t);if(n){var r=u.formSubmitter;r&&r.form===t?n.close(u.useValue||r.value):n.close(),u.formSubmitter=null}}},!0)}u.forceRegisterDialog=u.forceRegisterDialog,u.registerDialog=u.registerDialog,"amd"in n(51)?void 0===(i=function(){return u}.call(t,n,t,e))||(e.exports=i):"object"==typeof e.exports?e.exports=u:window.dialogPolyfill=u}(),function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},n="undefined"!=typeof window&&window===this?this:void 0!==r&&null!=r?r:this;function i(e){var t,n,r="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return r?r.call(e):{next:(t=e,n=0,function(){return n<t.length?{done:!1,value:t[n++]}:{done:!0}})}}!function(e){if(e){for(var r=n,i=["Promise"],a=0;a<i.length-1;a++){var o=i[a];o in r||(r[o]={}),r=r[o]}(e=e(a=r[i=i[i.length-1]]))!=a&&null!=e&&t(r,i,{configurable:!0,writable:!0,value:e})}}(function(e){function t(e){this.g=0,this.h=void 0,this.a=[];var t=this.j();try{e(t.resolve,t.reject)}catch(e){t.reject(e)}}function r(){this.a=null}function a(e){return e instanceof t?e:new t(function(t){t(e)})}if(e)return e;r.prototype.g=function(e){null==this.a&&(this.a=[],this.j()),this.a.push(e)},r.prototype.j=function(){var e=this;this.h(function(){e.u()})};var o=n.setTimeout;r.prototype.h=function(e){o(e,0)},r.prototype.u=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(e){this.i(e)}}}this.a=null},r.prototype.i=function(e){this.h(function(){throw e})},t.prototype.j=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.F),reject:e(this.i)}},t.prototype.F=function(e){if(e===this)this.i(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.J(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.D(e):this.u(e)}},t.prototype.D=function(e){var t=void 0;try{t=e.then}catch(e){return void this.i(e)}"function"==typeof t?this.N(t,e):this.u(e)},t.prototype.i=function(e){this.w(2,e)},t.prototype.u=function(e){this.w(1,e)},t.prototype.w=function(e,t){if(0!=this.g)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.g);this.g=e,this.h=t,this.B()},t.prototype.B=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)s.g(this.a[e]);this.a=null}};var s=new r;return t.prototype.J=function(e){var t=this.j();e.Ba(t.resolve,t.reject)},t.prototype.N=function(e,t){var n=this.j();try{e.call(t,n.resolve,n.reject)}catch(e){n.reject(e)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(t){a(t)}}:t}var i,a,o=new t(function(e,t){i=e,a=t});return this.Ba(r(e,i),r(n,a)),o},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Ba=function(e,t){function n(){switch(r.g){case 1:e(r.h);break;case 2:t(r.h);break;default:throw Error("Unexpected state: "+r.g)}}var r=this;null==this.a?s.g(n):this.a.push(n)},t.resolve=a,t.reject=function(e){return new t(function(t,n){n(e)})},t.race=function(e){return new t(function(t,n){for(var r=i(e),o=r.next();!o.done;o=r.next())a(o.value).Ba(t,n)})},t.all=function(e){var n=i(e),r=n.next();return r.done?a([]):new t(function(e,t){function i(t){return function(n){o[t]=n,0==--s&&e(o)}}for(var o=[],s=0;o.push(void 0),s++,a(r.value).Ba(i(o.length-1),t),!(r=n.next()).done;);})},t});var o=this;function s(e){return void 0!==e}function l(e){return"string"==typeof e}var c=/^[\w+\/_-]+[=]{0,2}$/,u=null;function h(){}function d(e){e.U=void 0,e.Pa=function(){return e.U?e.U:e.U=new e}}function p(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t}function f(e){return null!=e}function m(e){return"array"==p(e)}function v(e){var t=p(e);return"array"==t||"object"==t&&"number"==typeof e.length}function g(e){return"function"==p(e)}function y(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var b="closure_uid_"+(1e9*Math.random()>>>0),w=0;function E(e,t,n){return e.call.apply(e.bind,arguments)}function C(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function S(e,t,n){return(S=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?E:C).apply(null,arguments)}function _(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function T(e,t){for(var n in t)e[n]=t[n]}var k,x=Date.now||function(){return+new Date};function I(e,t){e=e.split(".");var n,r=o;e[0]in r||void 0===r.execScript||r.execScript("var "+e[0]);for(;e.length&&(n=e.shift());)!e.length&&s(t)?r[n]=t:r=r[n]&&r[n]!==Object.prototype[n]?r[n]:r[n]={}}function O(e,t){function n(){}n.prototype=t.prototype,e.o=t.prototype,e.prototype=new n,(e.prototype.constructor=e).$b=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function P(e){if(Error.captureStackTrace)Error.captureStackTrace(this,P);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function A(e,t){for(var n="",r=(e=e.split("%s")).length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");P.call(this,n+e[r])}function D(e,t){throw new A("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}O(P,Error),P.prototype.name="CustomError",O(A,P),A.prototype.name="AssertionError";var N=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(l(e))return l(t)&&1==t.length?e.indexOf(t,0):-1;for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},M=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=l(e)?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)},R=Array.prototype.filter?function(e,t){return Array.prototype.filter.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=[],i=0,a=l(e)?e.split(""):e,o=0;o<n;o++)if(o in a){var s=a[o];t.call(void 0,s,o,e)&&(r[i++]=s)}return r},L=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),i=l(e)?e.split(""):e,a=0;a<n;a++)a in i&&(r[a]=t.call(void 0,i[a],a,e));return r},F=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=l(e)?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e))return!0;return!1};function B(e,t,n){for(var r=e.length,i=l(e)?e.split(""):e,a=0;a<r;a++)if(a in i&&t.call(n,i[a],a,e))return a;return-1}function j(e,t){return 0<=N(e,t)}function $(e,t){var n;return(n=0<=(t=N(e,t)))&&V(e,t),n}function V(e,t){return 1==Array.prototype.splice.call(e,t,1).length}function q(e){return Array.prototype.concat.apply([],arguments)}function U(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function H(e,t,n,r){return Array.prototype.splice.apply(e,z(arguments,1))}function z(e,t,n){return arguments.length<=2?Array.prototype.slice.call(e,t):Array.prototype.slice.call(e,t,n)}var W=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function K(e){return te.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(Q,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(Y,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(X,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(J,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(Z,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(ee,"&#0;"))),e}var G,Q=/&/g,Y=/</g,X=/>/g,J=/"/g,Z=/'/g,ee=/\x00/g,te=/[\x00&<>"']/;function ne(e,t){return e<t?-1:t<e?1:0}e:{var re=o.navigator;if(re){var ie=re.userAgent;if(ie){G=ie;break e}}G=""}function ae(e){return-1!=G.indexOf(e)}function oe(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function se(e){var t,n={};for(t in e)n[t]=e[t];return n}var le="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<le.length;a++)n=le[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ue(){return(ae("Chrome")||ae("CriOS"))&&!ae("Edge")}function he(e){return he[" "](e),e}he[" "]=h;var de,pe,fe=ae("Opera"),me=ae("Trident")||ae("MSIE"),ve=ae("Edge"),ge=ve||me,ye=ae("Gecko")&&!(-1!=G.toLowerCase().indexOf("webkit")&&!ae("Edge"))&&!(ae("Trident")||ae("MSIE"))&&!ae("Edge"),be=-1!=G.toLowerCase().indexOf("webkit")&&!ae("Edge"),we=be&&ae("Mobile"),Ee=ae("Macintosh");function Ce(){var e=o.document;return e?e.documentMode:void 0}e:{var Se="",_e=(pe=G,ye?/rv:([^\);]+)(\)|;)/.exec(pe):ve?/Edge\/([\d\.]+)/.exec(pe):me?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(pe):be?/WebKit\/(\S+)/.exec(pe):fe?/(?:Version)[ \/]?(\S+)/.exec(pe):void 0);if(_e&&(Se=_e?_e[1]:""),me){var Te=Ce();if(null!=Te&&Te>parseFloat(Se)){de=String(Te);break e}}de=Se}var ke,xe={};function Ie(e){return t=e,n=function(){for(var t=0,n=W(String(de)).split("."),r=W(String(e)).split("."),i=Math.max(n.length,r.length),a=0;0==t&&a<i;a++){var o=n[a]||"",s=r[a]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==o[0].length&&0==s[0].length)break;t=ne(0==o[1].length?0:parseInt(o[1],10),0==s[1].length?0:parseInt(s[1],10))||ne(0==o[2].length,0==s[2].length)||ne(o[2],s[2]),o=o[3],s=s[3]}while(0==t)}return 0<=t},r=xe,Object.prototype.hasOwnProperty.call(r,t)?r[t]:r[t]=n();var t,n,r}var Oe=o.document;function Pe(e,t){this.a=e===Ne&&t||"",this.g=De}function Ae(e){return e instanceof Pe&&e.constructor===Pe&&e.g===De?e.a:(D("expected object of type Const, got '"+e+"'"),"type_error:Const")}ke=Oe&&me?Ce()||("CSS1Compat"==Oe.compatMode?parseInt(de,10):5):void 0,Pe.prototype.na=!0,Pe.prototype.ka=function(){return this.a},Pe.prototype.toString=function(){return"Const{"+this.a+"}"};var De={},Ne={};function Me(){this.a="",this.h=Le}function Re(e){return e instanceof Me&&e.constructor===Me&&e.h===Le?e.a:(D("expected object of type TrustedResourceUrl, got '"+e+"' of type "+p(e)),"type_error:TrustedResourceUrl")}Me.prototype.na=!0,Me.prototype.ka=function(){return this.a},Me.prototype.g=function(){return 1},Me.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Le={};function Fe(e){var t=new Me;return t.a=e,t}function Be(){this.a="",this.h=qe}function je(e){return e instanceof Be&&e.constructor===Be&&e.h===qe?e.a:(D("expected object of type SafeUrl, got '"+e+"' of type "+p(e)),"type_error:SafeUrl")}Be.prototype.na=!0,Be.prototype.ka=function(){return this.a},Be.prototype.g=function(){return 1},Be.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var $e=/^(?:(?:https?|mailto|ftp):|[^:\/?#]*(?:[\/?#]|$))/i;function Ve(e){return e instanceof Be?e:(e="object"==typeof e&&e.na?e.ka():String(e),$e.test(e)||(e="about:invalid#zClosurez"),Ue(e))}var qe={};function Ue(e){var t=new Be;return t.a=e,t}function He(){this.a="",this.j=We,this.h=null}function ze(e){return e instanceof He&&e.constructor===He&&e.j===We?e.a:(D("expected object of type SafeHtml, got '"+e+"' of type "+p(e)),"type_error:SafeHtml")}Ue("about:blank"),He.prototype.g=function(){return this.h},He.prototype.na=!0,He.prototype.ka=function(){return this.a},He.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var We={};function Ke(e,t){var n=new He;return n.a=e,n.h=t,n}Ke("<!DOCTYPE html>",0),Ke("",0),Ke("<br>",0);var Ge,Qe,Ye=(Qe=!1,function(){return Qe||(Ge=function(){if("undefined"==typeof document)return!1;var e=document.createElement("div");if(e.innerHTML="<div><div></div></div>",!e.firstChild)return!1;var t=e.firstChild.firstChild;return e.innerHTML="",!t.parentElement}(),Qe=!0),Ge});function Xe(e,t){this.a=s(e)?e:0,this.g=s(t)?t:0}function Je(e,t){this.width=e,this.height=t}function Ze(e){return e?new ct(ot(e)):k||(k=new ct)}function et(e,t){var n=t||document;return n.querySelectorAll&&n.querySelector?n.querySelectorAll("."+e):nt(document,e,t)}function tt(e,t){var n=t||document;if(n.getElementsByClassName)e=n.getElementsByClassName(e)[0];else{n=document;var r=t||n;e=r.querySelectorAll&&r.querySelector&&e?r.querySelector(e?"."+e:""):nt(n,e,t)[0]||null}return e||null}function nt(e,t,n){var r;if((e=n||e).querySelectorAll&&e.querySelector&&t)return e.querySelectorAll(t?"."+t:"");if(t&&e.getElementsByClassName){var i=e.getElementsByClassName(t);return i}if(i=e.getElementsByTagName("*"),t){var a={};for(n=r=0;e=i[n];n++){var o=e.className;"function"==typeof o.split&&j(o.split(/\s+/),t)&&(a[r++]=e)}return a.length=r,a}return i}Xe.prototype.toString=function(){return"("+this.a+", "+this.g+")"},Xe.prototype.ceil=function(){return this.a=Math.ceil(this.a),this.g=Math.ceil(this.g),this},Xe.prototype.floor=function(){return this.a=Math.floor(this.a),this.g=Math.floor(this.g),this},Xe.prototype.round=function(){return this.a=Math.round(this.a),this.g=Math.round(this.g),this},(e=Je.prototype).toString=function(){return"("+this.width+" x "+this.height+")"},e.aspectRatio=function(){return this.width/this.height},e.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},e.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},e.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this};var rt={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function it(e){return e.scrollingElement?e.scrollingElement:(be||"CSS1Compat"!=e.compatMode)&&e.body||e.documentElement}function at(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function ot(e){return 9==e.nodeType?e:e.ownerDocument||e.document}function st(e,t){if("textContent"in e)e.textContent=t;else if(3==e.nodeType)e.data=String(t);else if(e.firstChild&&3==e.firstChild.nodeType){for(;e.lastChild!=e.firstChild;)e.removeChild(e.lastChild);e.firstChild.data=String(t)}else{for(var n;n=e.firstChild;)e.removeChild(n);e.appendChild(ot(e).createTextNode(String(t)))}}function lt(e,t){return t?function(e,t){for(;e;){if(t(e))return e;e=e.parentNode}return null}(e,function(e){return!t||l(e.className)&&j(e.className.split(/\s+/),t)}):null}function ct(e){this.a=e||o.document||document}ct.prototype.M=function(){return l(void 0)?this.a.getElementById(void 0):void 0};var ut="StopIteration"in o?o.StopIteration:{message:"StopIteration",stack:""};function ht(){}function dt(e){if(e instanceof ht)return e;if("function"==typeof e.da)return e.da(!1);if(v(e)){var t=0,n=new ht;return n.next=function(){for(;;){if(t>=e.length)throw ut;if(t in e)return e[t++];t++}},n}throw Error("Not implemented")}function pt(e,t){this.g={},this.a=[],this.j=this.h=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof pt)for(n=e.ga(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function ft(e){if(e.h!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];mt(e.g,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.h!=e.a.length){var i={};for(n=t=0;t<e.a.length;)mt(i,r=e.a[t])||(i[e.a[n++]=r]=1),t++;e.a.length=n}}function mt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}ht.prototype.next=function(){throw ut},ht.prototype.da=function(){return this},(e=pt.prototype).ha=function(){ft(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.g[this.a[t]]);return e},e.ga=function(){return ft(this),this.a.concat()},e.clear=function(){this.g={},this.j=this.h=this.a.length=0},e.get=function(e,t){return mt(this.g,e)?this.g[e]:t},e.set=function(e,t){mt(this.g,e)||(this.h++,this.a.push(e),this.j++),this.g[e]=t},e.forEach=function(e,t){for(var n=this.ga(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}},e.da=function(e){ft(this);var t=0,n=this.j,r=this,i=new ht;return i.next=function(){if(n!=r.j)throw Error("The map has changed since the iterator was created");if(t>=r.a.length)throw ut;var i=r.a[t++];return e?i:r.g[i]},i};var vt=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function gt(e,t,n,r){for(var i=n.length;0<=(t=e.indexOf(n,t))&&t<r;){var a=e.charCodeAt(t-1);if(!(38!=a&&63!=a||(a=e.charCodeAt(t+i))&&61!=a&&38!=a&&35!=a))return t;t+=i+1}return-1}var yt=/#|$/;function bt(e,t){var n=e.search(yt),r=gt(e,0,t,n);if(r<0)return null;var i=e.indexOf("&",r);return(i<0||n<i)&&(i=n),r+=t.length+1,decodeURIComponent(e.substr(r,i-r).replace(/\+/g," "))}var wt=/[?&]($|#)/;function Et(e,t){var n;this.h=this.w=this.j="",this.B=null,this.i=this.g="",this.u=!1,e instanceof Et?(this.u=s(t)?t:e.u,Ct(this,e.j),this.w=e.w,this.h=e.h,St(this,e.B),this.g=e.g,_t(this,jt(e.a)),this.i=e.i):e&&(n=String(e).match(vt))?(this.u=!!t,Ct(this,n[1]||"",!0),this.w=xt(n[2]||""),this.h=xt(n[3]||"",!0),St(this,n[4]),this.g=xt(n[5]||"",!0),_t(this,n[6]||"",!0),this.i=xt(n[7]||"")):(this.u=!!t,this.a=new Rt(null,this.u))}function Ct(e,t,n){e.j=n?xt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function St(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.B=t}else e.B=null}function _t(e,t,n){var r,i;t instanceof Rt?(e.a=t,r=e.a,(i=e.u)&&!r.j&&(Lt(r),r.h=null,r.a.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Ft(this,t),Ft(this,n),0<e.length&&(this.h=null,this.a.set($t(this,n),U(e)),this.g+=e.length))},r)),r.j=i):(n||(t=It(t,Nt)),e.a=new Rt(t,e.u))}function Tt(e){return e instanceof Et?new Et(e):new Et(e,void 0)}function kt(e,t){return e instanceof Et||(e=Tt(e)),t instanceof Et||(t=Tt(t)),e.resolve(t)}function xt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function It(e,t,n){return l(e)?(e=encodeURI(e).replace(t,Ot),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ot(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Et.prototype.toString=function(){var e=[],t=this.j;t&&e.push(It(t,Pt,!0),":");var n=this.h;return(n||"file"==t)&&(e.push("//"),(t=this.w)&&e.push(It(t,Pt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.B)&&e.push(":",String(n))),(n=this.g)&&(this.h&&"/"!=n.charAt(0)&&e.push("/"),e.push(It(n,"/"==n.charAt(0)?Dt:At,!0))),(n=this.a.toString())&&e.push("?",n),(n=this.i)&&e.push("#",It(n,Mt)),e.join("")},Et.prototype.resolve=function(e){var t=new Et(this),n=!!e.j;n?Ct(t,e.j):n=!!e.w,n?t.w=e.w:n=!!e.h,n?t.h=e.h:n=null!=e.B;var r=e.g;if(n)St(t,e.B);else if(n=!!e.g){if("/"!=r.charAt(0))if(this.h&&!this.g)r="/"+r;else{var i=t.g.lastIndexOf("/");-1!=i&&(r=t.g.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var a=[],o=0;o<i.length;){var s=i[o++];"."==s?r&&o==i.length&&a.push(""):".."==s?((1<a.length||1==a.length&&""!=a[0])&&a.pop(),r&&o==i.length&&a.push("")):(a.push(s),r=!0)}r=a.join("/")}else r=i}return n?t.g=r:n=""!==e.a.toString(),n?_t(t,jt(e.a)):n=!!e.i,n&&(t.i=e.i),t};var Pt=/[#\/\?@]/g,At=/[#\?:]/g,Dt=/[#\?]/g,Nt=/[#\?@]/g,Mt=/#/g;function Rt(e,t){this.g=this.a=null,this.h=e||null,this.j=!!t}function Lt(e){e.a||(e.a=new pt,e.g=0,e.h&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.h,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Ft(e,t){Lt(e),t=$t(e,t),mt(e.a.g,t)&&(e.h=null,e.g-=e.a.get(t).length,mt((e=e.a).g,t)&&(delete e.g[t],e.h--,e.j++,e.a.length>2*e.h&&ft(e)))}function Bt(e,t){return Lt(e),t=$t(e,t),mt(e.a.g,t)}function jt(e){var t=new Rt;return t.h=e.h,e.a&&(t.a=new pt(e.a),t.g=e.g),t}function $t(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(e=Rt.prototype).add=function(e,t){Lt(this),this.h=null,e=$t(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.g+=1,this},e.clear=function(){this.a=this.h=null,this.g=0},e.forEach=function(e,t){Lt(this),this.a.forEach(function(n,r){M(n,function(n){e.call(t,n,r,this)},this)},this)},e.ga=function(){Lt(this);for(var e=this.a.ha(),t=this.a.ga(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},e.ha=function(e){Lt(this);var t=[];if(l(e))Bt(this,e)&&(t=q(t,this.a.get($t(this,e))));else{e=this.a.ha();for(var n=0;n<e.length;n++)t=q(t,e[n])}return t},e.set=function(e,t){return Lt(this),this.h=null,Bt(this,e=$t(this,e))&&(this.g-=this.a.get(e).length),this.a.set(e,[t]),this.g+=1,this},e.get=function(e,t){return e&&0<(e=this.ha(e)).length?String(e[0]):t},e.toString=function(){if(this.h)return this.h;if(!this.a)return"";for(var e=[],t=this.a.ga(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.ha(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.h=e.join("&")};var Vt={jc:!0},qt={lc:!0},Ut={kc:!0};function Ht(){throw Error("Do not instantiate directly")}function zt(e,t,n,r){if(e=e(t||Kt,void 0,n),r=(r||Ze()).a.createElement("DIV"),(e=function(e){if(!y(e))return String(e);if(e instanceof Ht){if(e.ea===Vt)return e.content;if(e.ea===Ut)return K(e.content)}return D("Soy template output is unsafe for use as HTML: "+e),"zSoyz"}(e)).match(Wt),Ye())for(;r.lastChild;)r.removeChild(r.lastChild);return r.innerHTML=e,1==r.childNodes.length&&1==(e=r.firstChild).nodeType&&(r=e),r}Ht.prototype.ra=null,Ht.prototype.toString=function(){return this.content};var Wt=/^<(body|caption|col|colgroup|head|html|tr|td|th|tbody|thead|tfoot)>/i,Kt={};function Gt(){Ht.call(this)}function Qt(e){return null!=e&&e.ea===Vt?e:e instanceof He?Zt(ze(e),e.g()):Zt(K(String(String(e))),function(e){if(null!=e)switch(e.ra){case 1:return 1;case-1:return-1;case 0:return 0}return null}(e))}function Yt(){Ht.call(this)}function Xt(e,t){this.content=String(e),this.ra=null!=t?t:null}function Jt(e){return new Xt(e,void 0)}O(Gt,Ht),Gt.prototype.ea=Vt,O(Yt,Ht),Yt.prototype.ea=qt,Yt.prototype.ra=1,O(Xt,Ht),Xt.prototype.ea=Ut;var Zt=function(e){function t(e){this.content=e}return t.prototype=Gt.prototype,function(e,n){return e=new t(String(e)),void 0!==n&&(e.ra=n),e}}(),en=function(e){function t(e){this.content=e}return t.prototype=Yt.prototype,function(e){return new t(String(e))}}();function tn(e){return(e=String(e))?new Xt(e,void 0):""}var nn=function(e){function t(e){this.content=e}return t.prototype=Gt.prototype,function(e,n){return(e=String(e))?(e=new t(e),void 0!==n&&(e.ra=n),e):""}}();function rn(e){return null!=e&&e.ea===Vt?String(String(e.content).replace(pn,"").replace(fn,"&lt;")).replace(un,sn):K(String(e))}function an(e){return null!=e&&e.ea===qt?String(e).replace(hn,cn):e instanceof Be?String(je(e)).replace(hn,cn):(e=String(e),dn.test(e)?e.replace(hn,cn):(D("Bad value `%s` for |filterNormalizeUri",[e]),"#zSoyz"))}var on={"\0":"&#0;","\t":"&#9;","\n":"&#10;","\v":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;",'"':"&quot;","&":"&amp;","'":"&#39;","-":"&#45;","/":"&#47;","<":"&lt;","=":"&#61;",">":"&gt;","`":"&#96;","":"&#133;","":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function sn(e){return on[e]}var ln={"\0":"%00","":"%01","":"%02","":"%03","":"%04","":"%05","":"%06","":"%07","\b":"%08","\t":"%09","\n":"%0A","\v":"%0B","\f":"%0C","\r":"%0D","":"%0E","":"%0F","":"%10","":"%11","":"%12","":"%13","":"%14","":"%15","":"%16","":"%17","":"%18","":"%19","":"%1A","":"%1B","":"%1C","":"%1D","":"%1E","":"%1F"," ":"%20",'"':"%22","'":"%27","(":"%28",")":"%29","<":"%3C",">":"%3E","\\":"%5C","{":"%7B","}":"%7D","":"%7F","":"%C2%85","":"%C2%A0","\u2028":"%E2%80%A8","\u2029":"%E2%80%A9","":"%EF%BC%81","":"%EF%BC%83","":"%EF%BC%84","":"%EF%BC%86","":"%EF%BC%87","":"%EF%BC%88","":"%EF%BC%89","":"%EF%BC%8A","":"%EF%BC%8B","":"%EF%BC%8C","":"%EF%BC%8F","":"%EF%BC%9A","":"%EF%BC%9B","":"%EF%BC%9D","":"%EF%BC%9F","":"%EF%BC%A0","":"%EF%BC%BB","":"%EF%BC%BD"};function cn(e){return ln[e]}var un=/[\x00\x22\x27\x3c\x3e]/g,hn=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g,dn=/^(?![^#?]*\/(?:\.|%2E){2}(?:[\/?#]|$))(?:(?:https?|mailto):|[^&:\/?#]*(?:[\/?#]|$))/i,pn=/<(?:!|\/?([a-zA-Z][a-zA-Z0-9:\-]*))(?:[^>'"]|"[^"]*"|'[^']*')*>/g,fn=/</g;function mn(){return Jt("Enter a valid phone number")}function vn(){return Jt("Something went wrong. Please try again.")}function gn(){return Jt("This email already exists without any means of sign-in. Please reset the password to recover.")}function yn(){return Jt("Please login again to perform this operation")}function bn(e,t,n){if(this.code=wn+e,!(e=t)){switch(e="",this.code){case"firebaseui/merge-conflict":e+="The current anonymous user failed to upgrade. The non-anonymous credential is already associated with a different user account.";break;default:e+=vn()}e=Jt(e).toString()}this.message=e||"",this.credential=n||null}O(bn,Error),bn.prototype.ja=function(){return{code:this.code,message:this.message}},bn.prototype.toJSON=function(){return this.ja()};var wn="firebaseui/";function En(){this.U={}}function Cn(e,t,n){if(t.toLowerCase()in e.U)throw Error("Configuration "+t+" has already been defined.");e.U[t.toLowerCase()]=n}function Sn(e,t,n){if(!(t.toLowerCase()in e.U))throw Error("Configuration "+t+" is not defined.");e.U[t.toLowerCase()]=n}function _n(e,t){if(!(e=e.get(t)))throw Error("Configuration "+t+" is required.");return e}function Tn(){this.g=void 0,this.a={}}function kn(e,t,n,r){for(var i=0;i<t.length;i++){var a=t.charAt(i);e.a[a]||(e.a[a]=new Tn),e=e.a[a]}if(r&&void 0!==e.g)throw Error('The collection already contains the key "'+t+'"');e.g=n}function xn(e){for(this.a=e,this.g=new Tn,e=0;e<this.a.length;e++){var t=this.g.get("+"+this.a[e].b);t?t.push(this.a[e]):this.g.add("+"+this.a[e].b,[this.a[e]])}}function In(e,t){var n={},r=0;for(void 0!==(e=e.g).g&&(n[r]=e.g);r<t.length;r++){var i=t.charAt(r);if(!(i in e.a))break;void 0!==(e=e.a[i]).g&&(n[r]=e.g)}for(var a in n)if(n.hasOwnProperty(a))return n[a];return[]}function On(e){for(var t=0;t<Nn.length;t++)if(Nn[t].c===e)return Nn[t];return null}function Pn(e){e=e.toUpperCase();for(var t=[],n=0;n<Nn.length;n++)Nn[n].f===e&&t.push(Nn[n]);return t}function An(e){if(0<e.length&&"+"==e.charAt(0)){e=e.substring(1);for(var t=[],n=0;n<Nn.length;n++)Nn[n].b==e&&t.push(Nn[n]);e=t}else e=Pn(e);return e}function Dn(e){e.sort(function(e,t){return e.name.localeCompare(t.name,"en")})}En.prototype.get=function(e){if(!(e.toLowerCase()in this.U))throw Error("Configuration "+e+" is not defined.");return this.U[e.toLowerCase()]},(e=Tn.prototype).set=function(e,t){kn(this,e,t,!1)},e.add=function(e,t){kn(this,e,t,!0)},e.get=function(e){e:{for(var t=this,n=0;n<e.length;n++)if(!(t=t.a[e.charAt(n)])){e=void 0;break e}e=t}return e?e.g:void 0},e.ha=function(){var e=[];return function e(t,n){for(var r in void 0!==t.g&&n.push(t.g),t.a)e(t.a[r],n)}(this,e),e},e.ga=function(){var e=[];return function e(t,n,r){for(var i in void 0!==t.g&&r.push(n),t.a)e(t.a[i],n+i,r)}(this,"",e),e},e.clear=function(){this.a={},this.g=void 0};var Nn=[{name:"Afghanistan",c:"93-AF-0",b:"93",f:"AF"},{name:"land Islands",c:"358-AX-0",b:"358",f:"AX"},{name:"Albania",c:"355-AL-0",b:"355",f:"AL"},{name:"Algeria",c:"213-DZ-0",b:"213",f:"DZ"},{name:"American Samoa",c:"1-AS-0",b:"1",f:"AS"},{name:"Andorra",c:"376-AD-0",b:"376",f:"AD"},{name:"Angola",c:"244-AO-0",b:"244",f:"AO"},{name:"Anguilla",c:"1-AI-0",b:"1",f:"AI"},{name:"Antigua and Barbuda",c:"1-AG-0",b:"1",f:"AG"},{name:"Argentina",c:"54-AR-0",b:"54",f:"AR"},{name:"Armenia",c:"374-AM-0",b:"374",f:"AM"},{name:"Aruba",c:"297-AW-0",b:"297",f:"AW"},{name:"Ascension Island",c:"247-AC-0",b:"247",f:"AC"},{name:"Australia",c:"61-AU-0",b:"61",f:"AU"},{name:"Austria",c:"43-AT-0",b:"43",f:"AT"},{name:"Azerbaijan",c:"994-AZ-0",b:"994",f:"AZ"},{name:"Bahamas",c:"1-BS-0",b:"1",f:"BS"},{name:"Bahrain",c:"973-BH-0",b:"973",f:"BH"},{name:"Bangladesh",c:"880-BD-0",b:"880",f:"BD"},{name:"Barbados",c:"1-BB-0",b:"1",f:"BB"},{name:"Belarus",c:"375-BY-0",b:"375",f:"BY"},{name:"Belgium",c:"32-BE-0",b:"32",f:"BE"},{name:"Belize",c:"501-BZ-0",b:"501",f:"BZ"},{name:"Benin",c:"229-BJ-0",b:"229",f:"BJ"},{name:"Bermuda",c:"1-BM-0",b:"1",f:"BM"},{name:"Bhutan",c:"975-BT-0",b:"975",f:"BT"},{name:"Bolivia",c:"591-BO-0",b:"591",f:"BO"},{name:"Bosnia and Herzegovina",c:"387-BA-0",b:"387",f:"BA"},{name:"Botswana",c:"267-BW-0",b:"267",f:"BW"},{name:"Brazil",c:"55-BR-0",b:"55",f:"BR"},{name:"British Indian Ocean Territory",c:"246-IO-0",b:"246",f:"IO"},{name:"British Virgin Islands",c:"1-VG-0",b:"1",f:"VG"},{name:"Brunei",c:"673-BN-0",b:"673",f:"BN"},{name:"Bulgaria",c:"359-BG-0",b:"359",f:"BG"},{name:"Burkina Faso",c:"226-BF-0",b:"226",f:"BF"},{name:"Burundi",c:"257-BI-0",b:"257",f:"BI"},{name:"Cambodia",c:"855-KH-0",b:"855",f:"KH"},{name:"Cameroon",c:"237-CM-0",b:"237",f:"CM"},{name:"Canada",c:"1-CA-0",b:"1",f:"CA"},{name:"Cape Verde",c:"238-CV-0",b:"238",f:"CV"},{name:"Caribbean Netherlands",c:"599-BQ-0",b:"599",f:"BQ"},{name:"Cayman Islands",c:"1-KY-0",b:"1",f:"KY"},{name:"Central African Republic",c:"236-CF-0",b:"236",f:"CF"},{name:"Chad",c:"235-TD-0",b:"235",f:"TD"},{name:"Chile",c:"56-CL-0",b:"56",f:"CL"},{name:"China",c:"86-CN-0",b:"86",f:"CN"},{name:"Christmas Island",c:"61-CX-0",b:"61",f:"CX"},{name:"Cocos [Keeling] Islands",c:"61-CC-0",b:"61",f:"CC"},{name:"Colombia",c:"57-CO-0",b:"57",f:"CO"},{name:"Comoros",c:"269-KM-0",b:"269",f:"KM"},{name:"Democratic Republic Congo",c:"243-CD-0",b:"243",f:"CD"},{name:"Republic of Congo",c:"242-CG-0",b:"242",f:"CG"},{name:"Cook Islands",c:"682-CK-0",b:"682",f:"CK"},{name:"Costa Rica",c:"506-CR-0",b:"506",f:"CR"},{name:"Cte d'Ivoire",c:"225-CI-0",b:"225",f:"CI"},{name:"Croatia",c:"385-HR-0",b:"385",f:"HR"},{name:"Cuba",c:"53-CU-0",b:"53",f:"CU"},{name:"Curaao",c:"599-CW-0",b:"599",f:"CW"},{name:"Cyprus",c:"357-CY-0",b:"357",f:"CY"},{name:"Czech Republic",c:"420-CZ-0",b:"420",f:"CZ"},{name:"Denmark",c:"45-DK-0",b:"45",f:"DK"},{name:"Djibouti",c:"253-DJ-0",b:"253",f:"DJ"},{name:"Dominica",c:"1-DM-0",b:"1",f:"DM"},{name:"Dominican Republic",c:"1-DO-0",b:"1",f:"DO"},{name:"East Timor",c:"670-TL-0",b:"670",f:"TL"},{name:"Ecuador",c:"593-EC-0",b:"593",f:"EC"},{name:"Egypt",c:"20-EG-0",b:"20",f:"EG"},{name:"El Salvador",c:"503-SV-0",b:"503",f:"SV"},{name:"Equatorial Guinea",c:"240-GQ-0",b:"240",f:"GQ"},{name:"Eritrea",c:"291-ER-0",b:"291",f:"ER"},{name:"Estonia",c:"372-EE-0",b:"372",f:"EE"},{name:"Ethiopia",c:"251-ET-0",b:"251",f:"ET"},{name:"Falkland Islands [Islas Malvinas]",c:"500-FK-0",b:"500",f:"FK"},{name:"Faroe Islands",c:"298-FO-0",b:"298",f:"FO"},{name:"Fiji",c:"679-FJ-0",b:"679",f:"FJ"},{name:"Finland",c:"358-FI-0",b:"358",f:"FI"},{name:"France",c:"33-FR-0",b:"33",f:"FR"},{name:"French Guiana",c:"594-GF-0",b:"594",f:"GF"},{name:"French Polynesia",c:"689-PF-0",b:"689",f:"PF"},{name:"Gabon",c:"241-GA-0",b:"241",f:"GA"},{name:"Gambia",c:"220-GM-0",b:"220",f:"GM"},{name:"Georgia",c:"995-GE-0",b:"995",f:"GE"},{name:"Germany",c:"49-DE-0",b:"49",f:"DE"},{name:"Ghana",c:"233-GH-0",b:"233",f:"GH"},{name:"Gibraltar",c:"350-GI-0",b:"350",f:"GI"},{name:"Greece",c:"30-GR-0",b:"30",f:"GR"},{name:"Greenland",c:"299-GL-0",b:"299",f:"GL"},{name:"Grenada",c:"1-GD-0",b:"1",f:"GD"},{name:"Guadeloupe",c:"590-GP-0",b:"590",f:"GP"},{name:"Guam",c:"1-GU-0",b:"1",f:"GU"},{name:"Guatemala",c:"502-GT-0",b:"502",f:"GT"},{name:"Guernsey",c:"44-GG-0",b:"44",f:"GG"},{name:"Guinea Conakry",c:"224-GN-0",b:"224",f:"GN"},{name:"Guinea-Bissau",c:"245-GW-0",b:"245",f:"GW"},{name:"Guyana",c:"592-GY-0",b:"592",f:"GY"},{name:"Haiti",c:"509-HT-0",b:"509",f:"HT"},{name:"Heard Island and McDonald Islands",c:"672-HM-0",b:"672",f:"HM"},{name:"Honduras",c:"504-HN-0",b:"504",f:"HN"},{name:"Hong Kong",c:"852-HK-0",b:"852",f:"HK"},{name:"Hungary",c:"36-HU-0",b:"36",f:"HU"},{name:"Iceland",c:"354-IS-0",b:"354",f:"IS"},{name:"India",c:"91-IN-0",b:"91",f:"IN"},{name:"Indonesia",c:"62-ID-0",b:"62",f:"ID"},{name:"Iran",c:"98-IR-0",b:"98",f:"IR"},{name:"Iraq",c:"964-IQ-0",b:"964",f:"IQ"},{name:"Ireland",c:"353-IE-0",b:"353",f:"IE"},{name:"Isle of Man",c:"44-IM-0",b:"44",f:"IM"},{name:"Israel",c:"972-IL-0",b:"972",f:"IL"},{name:"Italy",c:"39-IT-0",b:"39",f:"IT"},{name:"Jamaica",c:"1-JM-0",b:"1",f:"JM"},{name:"Japan",c:"81-JP-0",b:"81",f:"JP"},{name:"Jersey",c:"44-JE-0",b:"44",f:"JE"},{name:"Jordan",c:"962-JO-0",b:"962",f:"JO"},{name:"Kazakhstan",c:"7-KZ-0",b:"7",f:"KZ"},{name:"Kenya",c:"254-KE-0",b:"254",f:"KE"},{name:"Kiribati",c:"686-KI-0",b:"686",f:"KI"},{name:"Kosovo",c:"377-XK-0",b:"377",f:"XK"},{name:"Kosovo",c:"381-XK-0",b:"381",f:"XK"},{name:"Kosovo",c:"386-XK-0",b:"386",f:"XK"},{name:"Kuwait",c:"965-KW-0",b:"965",f:"KW"},{name:"Kyrgyzstan",c:"996-KG-0",b:"996",f:"KG"},{name:"Laos",c:"856-LA-0",b:"856",f:"LA"},{name:"Latvia",c:"371-LV-0",b:"371",f:"LV"},{name:"Lebanon",c:"961-LB-0",b:"961",f:"LB"},{name:"Lesotho",c:"266-LS-0",b:"266",f:"LS"},{name:"Liberia",c:"231-LR-0",b:"231",f:"LR"},{name:"Libya",c:"218-LY-0",b:"218",f:"LY"},{name:"Liechtenstein",c:"423-LI-0",b:"423",f:"LI"},{name:"Lithuania",c:"370-LT-0",b:"370",f:"LT"},{name:"Luxembourg",c:"352-LU-0",b:"352",f:"LU"},{name:"Macau",c:"853-MO-0",b:"853",f:"MO"},{name:"Macedonia",c:"389-MK-0",b:"389",f:"MK"},{name:"Madagascar",c:"261-MG-0",b:"261",f:"MG"},{name:"Malawi",c:"265-MW-0",b:"265",f:"MW"},{name:"Malaysia",c:"60-MY-0",b:"60",f:"MY"},{name:"Maldives",c:"960-MV-0",b:"960",f:"MV"},{name:"Mali",c:"223-ML-0",b:"223",f:"ML"},{name:"Malta",c:"356-MT-0",b:"356",f:"MT"},{name:"Marshall Islands",c:"692-MH-0",b:"692",f:"MH"},{name:"Martinique",c:"596-MQ-0",b:"596",f:"MQ"},{name:"Mauritania",c:"222-MR-0",b:"222",f:"MR"},{name:"Mauritius",c:"230-MU-0",b:"230",f:"MU"},{name:"Mayotte",c:"262-YT-0",b:"262",f:"YT"},{name:"Mexico",c:"52-MX-0",b:"52",f:"MX"},{name:"Micronesia",c:"691-FM-0",b:"691",f:"FM"},{name:"Moldova",c:"373-MD-0",b:"373",f:"MD"},{name:"Monaco",c:"377-MC-0",b:"377",f:"MC"},{name:"Mongolia",c:"976-MN-0",b:"976",f:"MN"},{name:"Montenegro",c:"382-ME-0",b:"382",f:"ME"},{name:"Montserrat",c:"1-MS-0",b:"1",f:"MS"},{name:"Morocco",c:"212-MA-0",b:"212",f:"MA"},{name:"Mozambique",c:"258-MZ-0",b:"258",f:"MZ"},{name:"Myanmar [Burma]",c:"95-MM-0",b:"95",f:"MM"},{name:"Namibia",c:"264-NA-0",b:"264",f:"NA"},{name:"Nauru",c:"674-NR-0",b:"674",f:"NR"},{name:"Nepal",c:"977-NP-0",b:"977",f:"NP"},{name:"Netherlands",c:"31-NL-0",b:"31",f:"NL"},{name:"New Caledonia",c:"687-NC-0",b:"687",f:"NC"},{name:"New Zealand",c:"64-NZ-0",b:"64",f:"NZ"},{name:"Nicaragua",c:"505-NI-0",b:"505",f:"NI"},{name:"Niger",c:"227-NE-0",b:"227",f:"NE"},{name:"Nigeria",c:"234-NG-0",b:"234",f:"NG"},{name:"Niue",c:"683-NU-0",b:"683",f:"NU"},{name:"Norfolk Island",c:"672-NF-0",b:"672",f:"NF"},{name:"North Korea",c:"850-KP-0",b:"850",f:"KP"},{name:"Northern Mariana Islands",c:"1-MP-0",b:"1",f:"MP"},{name:"Norway",c:"47-NO-0",b:"47",f:"NO"},{name:"Oman",c:"968-OM-0",b:"968",f:"OM"},{name:"Pakistan",c:"92-PK-0",b:"92",f:"PK"},{name:"Palau",c:"680-PW-0",b:"680",f:"PW"},{name:"Palestinian Territories",c:"970-PS-0",b:"970",f:"PS"},{name:"Panama",c:"507-PA-0",b:"507",f:"PA"},{name:"Papua New Guinea",c:"675-PG-0",b:"675",f:"PG"},{name:"Paraguay",c:"595-PY-0",b:"595",f:"PY"},{name:"Peru",c:"51-PE-0",b:"51",f:"PE"},{name:"Philippines",c:"63-PH-0",b:"63",f:"PH"},{name:"Poland",c:"48-PL-0",b:"48",f:"PL"},{name:"Portugal",c:"351-PT-0",b:"351",f:"PT"},{name:"Puerto Rico",c:"1-PR-0",b:"1",f:"PR"},{name:"Qatar",c:"974-QA-0",b:"974",f:"QA"},{name:"Runion",c:"262-RE-0",b:"262",f:"RE"},{name:"Romania",c:"40-RO-0",b:"40",f:"RO"},{name:"Russia",c:"7-RU-0",b:"7",f:"RU"},{name:"Rwanda",c:"250-RW-0",b:"250",f:"RW"},{name:"Saint Barthlemy",c:"590-BL-0",b:"590",f:"BL"},{name:"Saint Helena",c:"290-SH-0",b:"290",f:"SH"},{name:"St. Kitts",c:"1-KN-0",b:"1",f:"KN"},{name:"St. Lucia",c:"1-LC-0",b:"1",f:"LC"},{name:"Saint Martin",c:"590-MF-0",b:"590",f:"MF"},{name:"Saint Pierre and Miquelon",c:"508-PM-0",b:"508",f:"PM"},{name:"St. Vincent",c:"1-VC-0",b:"1",f:"VC"},{name:"Samoa",c:"685-WS-0",b:"685",f:"WS"},{name:"San Marino",c:"378-SM-0",b:"378",f:"SM"},{name:"So Tom and Prncipe",c:"239-ST-0",b:"239",f:"ST"},{name:"Saudi Arabia",c:"966-SA-0",b:"966",f:"SA"},{name:"Senegal",c:"221-SN-0",b:"221",f:"SN"},{name:"Serbia",c:"381-RS-0",b:"381",f:"RS"},{name:"Seychelles",c:"248-SC-0",b:"248",f:"SC"},{name:"Sierra Leone",c:"232-SL-0",b:"232",f:"SL"},{name:"Singapore",c:"65-SG-0",b:"65",f:"SG"},{name:"Sint Maarten",c:"1-SX-0",b:"1",f:"SX"},{name:"Slovakia",c:"421-SK-0",b:"421",f:"SK"},{name:"Slovenia",c:"386-SI-0",b:"386",f:"SI"},{name:"Solomon Islands",c:"677-SB-0",b:"677",f:"SB"},{name:"Somalia",c:"252-SO-0",b:"252",f:"SO"},{name:"South Africa",c:"27-ZA-0",b:"27",f:"ZA"},{name:"South Georgia and the South Sandwich Islands",c:"500-GS-0",b:"500",f:"GS"},{name:"South Korea",c:"82-KR-0",b:"82",f:"KR"},{name:"South Sudan",c:"211-SS-0",b:"211",f:"SS"},{name:"Spain",c:"34-ES-0",b:"34",f:"ES"},{name:"Sri Lanka",c:"94-LK-0",b:"94",f:"LK"},{name:"Sudan",c:"249-SD-0",b:"249",f:"SD"},{name:"Suriname",c:"597-SR-0",b:"597",f:"SR"},{name:"Svalbard and Jan Mayen",c:"47-SJ-0",b:"47",f:"SJ"},{name:"Swaziland",c:"268-SZ-0",b:"268",f:"SZ"},{name:"Sweden",c:"46-SE-0",b:"46",f:"SE"},{name:"Switzerland",c:"41-CH-0",b:"41",f:"CH"},{name:"Syria",c:"963-SY-0",b:"963",f:"SY"},{name:"Taiwan",c:"886-TW-0",b:"886",f:"TW"},{name:"Tajikistan",c:"992-TJ-0",b:"992",f:"TJ"},{name:"Tanzania",c:"255-TZ-0",b:"255",f:"TZ"},{name:"Thailand",c:"66-TH-0",b:"66",f:"TH"},{name:"Togo",c:"228-TG-0",b:"228",f:"TG"},{name:"Tokelau",c:"690-TK-0",b:"690",f:"TK"},{name:"Tonga",c:"676-TO-0",b:"676",f:"TO"},{name:"Trinidad/Tobago",c:"1-TT-0",b:"1",f:"TT"},{name:"Tunisia",c:"216-TN-0",b:"216",f:"TN"},{name:"Turkey",c:"90-TR-0",b:"90",f:"TR"},{name:"Turkmenistan",c:"993-TM-0",b:"993",f:"TM"},{name:"Turks and Caicos Islands",c:"1-TC-0",b:"1",f:"TC"},{name:"Tuvalu",c:"688-TV-0",b:"688",f:"TV"},{name:"U.S. Virgin Islands",c:"1-VI-0",b:"1",f:"VI"},{name:"Uganda",c:"256-UG-0",b:"256",f:"UG"},{name:"Ukraine",c:"380-UA-0",b:"380",f:"UA"},{name:"United Arab Emirates",c:"971-AE-0",b:"971",f:"AE"},{name:"United Kingdom",c:"44-GB-0",b:"44",f:"GB"},{name:"United States",c:"1-US-0",b:"1",f:"US"},{name:"Uruguay",c:"598-UY-0",b:"598",f:"UY"},{name:"Uzbekistan",c:"998-UZ-0",b:"998",f:"UZ"},{name:"Vanuatu",c:"678-VU-0",b:"678",f:"VU"},{name:"Vatican City",c:"379-VA-0",b:"379",f:"VA"},{name:"Venezuela",c:"58-VE-0",b:"58",f:"VE"},{name:"Vietnam",c:"84-VN-0",b:"84",f:"VN"},{name:"Wallis and Futuna",c:"681-WF-0",b:"681",f:"WF"},{name:"Western Sahara",c:"212-EH-0",b:"212",f:"EH"},{name:"Yemen",c:"967-YE-0",b:"967",f:"YE"},{name:"Zambia",c:"260-ZM-0",b:"260",f:"ZM"},{name:"Zimbabwe",c:"263-ZW-0",b:"263",f:"ZW"}];Dn(Nn);var Mn=new xn(Nn);function Rn(e,t){this.a=e,this.ta=t}function Ln(e){e=W(e);var t=In(Mn,e);return 0<t.length?new Rn("1"==t[0].b?"1-US-0":t[0].c,W(e.substr(t[0].b.length+1))):null}function Fn(e){var t=On(e.a);if(!t)throw Error("Country ID "+e.a+" not found.");return"+"+t.b+e.ta}function Bn(e){for(var t=0;t<e.length;t++)if(!j(jn,e[t]))return e[t];return null}var jn=["emailLink","password","phone"],$n={"facebook.com":"FacebookAuthProvider","github.com":"GithubAuthProvider","google.com":"GoogleAuthProvider",password:"EmailAuthProvider","twitter.com":"TwitterAuthProvider",phone:"PhoneAuthProvider"},Vn=Object.freeze||function(e){return e};function qn(e,t,n){this.reset(e,t,n,void 0,void 0)}function Un(e){this.i=e,this.a=this.h=this.j=this.g=null}function Hn(e,t){this.name=e,this.value=t}qn.prototype.a=null,qn.prototype.reset=function(e,t,n,r,i){this.h=r||x(),this.j=e,this.i=t,this.g=n,delete this.a},Hn.prototype.toString=function(){return this.name};var zn=new Hn("SHOUT",1200),Wn=new Hn("SEVERE",1e3),Kn=new Hn("WARNING",900),Gn=new Hn("CONFIG",700);Un.prototype.log=function(e,t,n){if(e.value>=function e(t){return t.j?t.j:t.g?e(t.g):(D("Root logger has no level set."),null)}(this).value)for(g(t)&&(t=t()),e=new qn(e,String(t),this.i),n&&(e.a=n),n=this;n;){var r=n,i=e;if(r.a)for(var a=0;t=r.a[a];a++)t(i);n=n.g}};var Qn={},Yn=null;function Xn(){Yn||(Yn=new Un(""),(Qn[""]=Yn).j=Gn)}function Jn(){this.a=x()}var Zn=null;function er(e){this.j=e||"",Zn||(Zn=new Jn),this.i=Zn}function tr(e){return e<10?"0"+e:String(e)}function nr(e){er.call(this,e)}function rr(){this.i=S(this.h,this),this.a=new nr,this.a.g=!1,this.a.h=!1,this.g=this.a.a=!1,this.j={}}Jn.prototype.set=function(e){this.a=e},Jn.prototype.reset=function(){this.set(x())},Jn.prototype.get=function(){return this.a},er.prototype.a=!0,er.prototype.g=!0,er.prototype.h=!1,O(nr,er),rr.prototype.h=function(e){if(!this.j[e.g]){var t=this.a,n=[];if(n.push(t.j," "),t.g){var r=new Date(e.h);n.push("[",tr(r.getFullYear()-2e3)+tr(r.getMonth()+1)+tr(r.getDate())+" "+tr(r.getHours())+":"+tr(r.getMinutes())+":"+tr(r.getSeconds())+"."+tr(Math.floor(r.getMilliseconds()/10)),"] ")}if(n.push("[",function(e,t){t=(e=(e.h-t)/1e3).toFixed(3);var n=0;if(e<1)n=2;else for(;e<100;)n++,e*=10;for(;0<n--;)t=" "+t;return t}(e,t.i.get()),"s] "),n.push("[",e.g,"] "),n.push(e.i),t.h&&(r=e.a)&&n.push("\n",r instanceof Error?r.message:r.toString()),t.a&&n.push("\n"),t=n.join(""),n=ar)switch(e.j){case zn:or(n,"info",t);break;case Wn:or(n,"error",t);break;case Kn:or(n,"warn",t);break;default:or(n,"log",t)}}};var ir,ar=o.console;function or(e,t,n){e[t]?e[t](n):e.log(n)}function sr(e,t){ir&&ir.log(Wn,e,t)}ir=function e(t){var n;if(Xn(),!(n=Qn[t])){n=new Un(t);var r=t.lastIndexOf("."),i=t.substr(r+1);(r=e(t.substr(0,r))).h||(r.h={}),(r.h[i]=n).g=r,Qn[t]=n}return n}("firebaseui");var lr=new rr;if(1!=lr.g){var cr;Xn(),cr=Yn;var ur=lr.i;cr.a||(cr.a=[]),cr.a.push(ur),lr.g=!0}function hr(e){ir&&ir.log(Kn,e,void 0)}function dr(e){e.prototype.then=e.prototype.then,e.prototype.$goog_Thenable=!0}function pr(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(e){return!1}}function fr(e,t){this.h=e,this.j=t,this.g=0,this.a=null}function mr(e,t){e.j(t),e.g<100&&(e.g++,t.next=e.a,e.a=t)}function vr(){this.g=this.a=null}fr.prototype.get=function(){if(0<this.g){this.g--;var e=this.a;this.a=e.next,e.next=null}else e=this.h();return e};var gr,yr,br=new fr(function(){return new wr},function(e){e.reset()});function wr(){this.next=this.g=this.a=null}function Er(e){o.setTimeout(function(){throw e},0)}function Cr(e,t){yr||function(){if(o.Promise&&o.Promise.resolve){var e=o.Promise.resolve(void 0);yr=function(){e.then(Tr)}}else yr=function(){var e=Tr;!g(o.setImmediate)||o.Window&&o.Window.prototype&&!ae("Edge")&&o.Window.prototype.setImmediate==o.setImmediate?(gr||(gr=function(){var e=o.MessageChannel;if(void 0===e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ae("Presto")&&(e=function(){var e=document.createElement("IFRAME");e.style.display="none",e.src="",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.write(""),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=S(function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()},this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),void 0===e||ae("Trident")||ae("MSIE"))return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(e){var t=document.createElement("SCRIPT");t.onreadystatechange=function(){t.onreadystatechange=null,t.parentNode.removeChild(t),t=null,e(),e=null},document.documentElement.appendChild(t)}:function(e){o.setTimeout(e,0)};var t=new e,n={},r=n;return t.port1.onmessage=function(){if(s(n.next)){var e=(n=n.next).Za;n.Za=null,e()}},function(e){r.next={Za:e},r=r.next,t.port2.postMessage(0)}}()),gr(e)):o.setImmediate(e)}}(),Sr||(yr(),Sr=!0),_r.add(e,t)}vr.prototype.add=function(e,t){var n=br.get();n.set(e,t),this.g?this.g.next=n:this.a=n,this.g=n},wr.prototype.set=function(e,t){this.a=e,this.g=t,this.next=null};var Sr=!(wr.prototype.reset=function(){this.next=this.g=this.a=null}),_r=new vr;function Tr(){for(var e;n=t=void 0,n=null,(t=_r).a&&(n=t.a,t.a=t.a.next,t.a||(t.g=null),n.next=null),e=n;){try{e.a.call(e.g)}catch(e){Er(e)}mr(br,e)}var t,n;Sr=!1}function kr(e,t){if(this.a=xr,this.w=void 0,this.j=this.g=this.h=null,this.i=this.u=!1,e!=h)try{var n=this;e.call(t,function(e){Br(n,Ir,e)},function(e){if(!(e instanceof Hr))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(e){}Br(n,Or,e)})}catch(e){Br(this,Or,e)}}var xr=0,Ir=2,Or=3;function Pr(){this.next=this.context=this.g=this.h=this.a=null,this.j=!1}Pr.prototype.reset=function(){this.context=this.g=this.h=this.a=null,this.j=!1};var Ar=new fr(function(){return new Pr},function(e){e.reset()});function Dr(e,t,n){var r=Ar.get();return r.h=e,r.g=t,r.context=n,r}function Nr(e){if(e instanceof kr)return e;var t=new kr(h);return Br(t,Ir,e),t}function Mr(e){return new kr(function(t,n){n(e)})}function Rr(e,t){return Fr(e,null,t,void 0)}function Lr(e,t){e.g||e.a!=Ir&&e.a!=Or||jr(e),e.j?e.j.next=t:e.g=t,e.j=t}function Fr(e,t,n,r){var i=Dr(null,null,null);return i.a=new kr(function(e,a){i.h=t?function(n){try{var i=t.call(r,n);e(i)}catch(n){a(n)}}:e,i.g=n?function(t){try{var i=n.call(r,t);!s(i)&&t instanceof Hr?a(t):e(i)}catch(t){a(t)}}:a}),Lr(i.a.h=e,i),i.a}function Br(e,t,n){if(e.a==xr){e===n&&(t=Or,n=new TypeError("Promise cannot resolve to itself")),e.a=1;e:{var r=n,i=e.D,a=e.F;if(r instanceof kr){Lr(r,Dr(i||h,a||null,e));var o=!0}else if(pr(r))r.then(i,a,e),o=!0;else{if(y(r))try{var s=r.then;if(g(s)){!function(e,t,n,r,i){function a(e){o||(o=!0,r.call(i,e))}var o=!1;try{t.call(e,function(e){o||(o=!0,n.call(i,e))},a)}catch(e){a(e)}}(r,s,i,a,e),o=!0;break e}}catch(t){a.call(e,t),o=!0;break e}o=!1}}o||(e.w=n,e.a=t,e.h=null,jr(e),t!=Or||n instanceof Hr||(c=n,(l=e).i=!0,Cr(function(){l.i&&Ur.call(null,c)})))}var l,c}function jr(e){e.u||(e.u=!0,Cr(e.B,e))}function $r(e){var t=null;return e.g&&(t=e.g,e.g=t.next,t.next=null),e.g||(e.j=null),t}function Vr(e,t,n,r){if(n==Or&&t.g&&!t.j)for(;e&&e.i;e=e.h)e.i=!1;if(t.a)t.a.h=null,qr(t,n,r);else try{t.j?t.h.call(t.context):qr(t,n,r)}catch(e){Ur.call(null,e)}mr(Ar,t)}function qr(e,t,n){t==Ir?e.h.call(e.context,n):e.g&&e.g.call(e.context,n)}kr.prototype.then=function(e,t,n){return Fr(this,g(e)?e:null,g(t)?t:null,n)},dr(kr),kr.prototype.cancel=function(e){this.a==xr&&Cr(function(){!function e(t,n){if(t.a==xr)if(t.h){var r=t.h;if(r.g){for(var i=0,a=null,o=null,s=r.g;s&&(s.j||(i++,s.a==t&&(a=s),!(a&&1<i)));s=s.next)a||(o=s);a&&(r.a==xr&&1==i?e(r,n):(o?((i=o).next==r.j&&(r.j=i),i.next=i.next.next):$r(r),Vr(r,a,Or,n)))}t.h=null}else Br(t,Or,n)}(this,new Hr(e))},this)},kr.prototype.D=function(e){this.a=xr,Br(this,Ir,e)},kr.prototype.F=function(e){this.a=xr,Br(this,Or,e)},kr.prototype.B=function(){for(var e;e=$r(this);)Vr(this,e,this.a,this.w);this.u=!1};var Ur=Er;function Hr(e){P.call(this,e)}O(Hr,P),Hr.prototype.name="cancel";var zr=!me||9<=Number(ke),Wr=me&&!Ie("9"),Kr=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{o.addEventListener("test",h,t),o.removeEventListener("test",h,t)}catch(e){}return e}();function Gr(){0!=Qr&&(Yr[this[b]||(this[b]=++w)]=this),this.N=this.N,this.B=this.B}var Qr=0,Yr={};function Xr(e,t){e.N?s(void 0)?t.call(void 0):t():(e.B||(e.B=[]),e.B.push(s(void 0)?S(t,void 0):t))}function Jr(e){e&&"function"==typeof e.m&&e.m()}function Zr(e,t){this.type=e,this.g=this.target=t,this.h=!1,this.eb=!0}function ei(e,t){if(Zr.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.j=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(ye){e:{try{he(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,this.screenY=null===r?(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,e.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,r.screenY||0),this.button=e.button,this.keyCode=e.keyCode||0,this.key=e.key||"",this.j=e.charCode||("keypress"==n?e.keyCode:0),this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=l(e.pointerType)?e.pointerType:ti[e.pointerType]||"",(this.a=e).defaultPrevented&&this.preventDefault()}}Gr.prototype.N=!1,Gr.prototype.m=function(){if(!this.N&&(this.N=!0,this.l(),0!=Qr)){var e=this[b]||(this[b]=++w);if(0!=Qr&&this.B&&0<this.B.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Yr[e]}},Gr.prototype.l=function(){if(this.B)for(;this.B.length;)this.B.shift()()},Zr.prototype.stopPropagation=function(){this.h=!0},Zr.prototype.preventDefault=function(){this.eb=!1},O(ei,Zr);var ti=Vn({2:"touch",3:"pen",4:"mouse"});ei.prototype.stopPropagation=function(){ei.o.stopPropagation.call(this),this.a.stopPropagation?this.a.stopPropagation():this.a.cancelBubble=!0},ei.prototype.preventDefault=function(){ei.o.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Wr)try{(e.ctrlKey||112<=e.keyCode&&e.keyCode<=123)&&(e.keyCode=-1)}catch(e){}};var ni="closure_listenable_"+(1e6*Math.random()|0),ri=0;function ii(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Da=i,this.key=++ri,this.oa=this.Aa=!1}function ai(e){e.oa=!0,e.listener=null,e.proxy=null,e.src=null,e.Da=null}function oi(e){this.src=e,this.a={},this.g=0}function si(e,t){var n=t.type;n in e.a&&$(e.a[n],t)&&(ai(t),0==e.a[n].length&&(delete e.a[n],e.g--))}function li(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.oa&&a.listener==t&&a.capture==!!n&&a.Da==r)return i}return-1}oi.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.a[a])||(e=this.a[a]=[],this.g++);var o=li(e,t,r,i);return-1<o?(t=e[o],n||(t.Aa=!1)):((t=new ii(t,this.src,a,!!r,i)).Aa=n,e.push(t)),t};var ci="closure_lm_"+(1e6*Math.random()|0),ui={};function hi(e,t,n,r,i){if(r&&r.once)return pi(e,t,n,r,i);if(m(t)){for(var a=0;a<t.length;a++)hi(e,t[a],n,r,i);return null}return n=Ci(n),e&&e[ni]?e.D.add(String(t),n,!1,y(r)?!!r.capture:!!r,i):di(e,t,n,!1,r,i)}function di(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o,s,l=y(i)?!!i.capture:!!i,c=wi(e);if(c||(e[ci]=c=new oi(e)),(n=c.add(t,n,r,l,a)).proxy)return n;if(o=bi,r=s=zr?function(e){return o.call(s.src,s.listener,e)}:function(e){if(!(e=o.call(s.src,s.listener,e)))return e},(n.proxy=r).src=e,r.listener=n,e.addEventListener)Kr||(i=l),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(vi(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function pi(e,t,n,r,i){if(m(t)){for(var a=0;a<t.length;a++)pi(e,t[a],n,r,i);return null}return n=Ci(n),e&&e[ni]?e.D.add(String(t),n,!0,y(r)?!!r.capture:!!r,i):di(e,t,n,!0,r,i)}function fi(e,t,n,r,i){if(m(t))for(var a=0;a<t.length;a++)fi(e,t[a],n,r,i);else r=y(r)?!!r.capture:!!r,n=Ci(n),e&&e[ni]?(e=e.D,(t=String(t).toString())in e.a&&-1<(n=li(a=e.a[t],n,r,i))&&(ai(a[n]),V(a,n),0==a.length&&(delete e.a[t],e.g--))):e&&(e=wi(e))&&(t=e.a[t.toString()],e=-1,t&&(e=li(t,n,r,i)),(n=-1<e?t[e]:null)&&mi(n))}function mi(e){if("number"!=typeof e&&e&&!e.oa){var t=e.src;if(t&&t[ni])si(t.D,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(vi(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=wi(t))?(si(n,e),0==n.g&&(n.src=null,t[ci]=null)):ai(e)}}}function vi(e){return e in ui?ui[e]:ui[e]="on"+e}function gi(e,t,n,r){var i=!0;if((e=wi(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var a=t[e];a&&a.capture==n&&!a.oa&&(a=yi(a,r),i=i&&!1!==a)}return i}function yi(e,t){var n=e.listener,r=e.Da||e.src;return e.Aa&&mi(e),n.call(r,t)}function bi(e,t){if(e.oa)return!0;if(zr)return yi(e,new ei(t,this));if(!t)e:{t=["window","event"];for(var n=o,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(t=new ei(r=t,this),n=!0,!(r.keyCode<0||null!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(e){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=t.g;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;!t.h&&0<=i;i--){t.g=r[i];var a=gi(r[i],e,!0,t);n=n&&a}for(i=0;!t.h&&i<r.length;i++)t.g=r[i],a=gi(r[i],e,!1,t),n=n&&a}return n}function wi(e){return(e=e[ci])instanceof oi?e:null}var Ei="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ci(e){return g(e)?e:(e[Ei]||(e[Ei]=function(t){return e.handleEvent(t)}),e[Ei])}function Si(e,t,n){t||(t={}),n=n||window;var r=e instanceof Be?e:Ve(void 0!==e.href?e.href:String(e));e=t.target||e.target;var i=[];for(a in t)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(t[a]?1:0))}var a=i.join(",");return(ae("iPhone")&&!ae("iPod")&&!ae("iPad")||ae("iPad")||ae("iPod"))&&n.navigator&&n.navigator.standalone&&e&&"_self"!=e?(a=n.document.createElement("A"),r instanceof Be||r instanceof Be||(r="object"==typeof r&&r.na?r.ka():String(r),$e.test(r)||(r="about:invalid#zClosurez"),r=Ue(r)),a.href=je(r),a.setAttribute("target",e),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,n,1),a.dispatchEvent(t),n={}):t.noreferrer?(n=n.open("",e,a),t=je(r),n&&(ge&&-1!=t.indexOf(";")&&(t="'"+t.replace(/'/g,"%27")+"'"),n.opener=null,t=Ke(t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+K(t)+'">',null),n.document.write(ze(t)),n.document.close())):(n=n.open(je(r),e,a))&&t.noopener&&(n.opener=null),n}function _i(e){window.location.assign(je(Ve(e)))}function Ti(){try{return!!(window.opener&&window.opener.location&&window.opener.location.assign&&window.opener.location.hostname===window.location.hostname&&window.opener.location.protocol===window.location.protocol)}catch(e){}return!1}function ki(e){Si(e,{target:window.cordova&&window.cordova.InAppBrowser?"_system":"_blank"},void 0)}function xi(e){if(null==(e=y(e)&&1==e.nodeType?e:document.querySelector(String(e))))throw Error("Could not find the FirebaseUI widget element on the page.");return e}function Ii(){return window.location.href}function Oi(){this.a=new En,Cn(this.a,"acUiConfig"),Cn(this.a,"autoUpgradeAnonymousUsers"),Cn(this.a,"callbacks"),Cn(this.a,"credentialHelper",Pi),Cn(this.a,"popupMode",!1),Cn(this.a,"privacyPolicyUrl"),Cn(this.a,"queryParameterForSignInSuccessUrl","signInSuccessUrl"),Cn(this.a,"queryParameterForWidgetMode","mode"),Cn(this.a,"signInFlow"),Cn(this.a,"signInOptions"),Cn(this.a,"signInSuccessUrl"),Cn(this.a,"siteName"),Cn(this.a,"tosUrl"),Cn(this.a,"widgetUrl")}var Pi="accountchooser.com",Ai={Pb:Pi,Sb:"googleyolo",NONE:"none"},Di={Tb:"popup",Vb:"redirect"},Ni={Rb:"callback",Ub:"recoverEmail",Wb:"resetPassword",Xb:"select",Yb:"signIn",Zb:"verifyEmail"},Mi=["anonymous"],Ri=["sitekey","tabindex","callback","expired-callback"];function Li(e){return Fi(e,e.a.get("widgetUrl")||Ii())}function Fi(e,t){e=zi(e);for(var n,r=t.search(yt),i=0,a=[];0<=(n=gt(t,i,e,r));)a.push(t.substring(i,n)),i=Math.min(t.indexOf("&",n)+1||r,r);return a.push(t.substr(i)),t=a.join("").replace(wt,"$1"),(e+=r="="+encodeURIComponent("select"))?((r=t.indexOf("#"))<0&&(r=t.length),n=(i=t.indexOf("?"))<0||r<i?(i=r,""):t.substring(i+1,r),r=(t=[t.substr(0,i),n,t.substr(r)])[1],t[1]=e?r?r+"&"+e:e:r,t[0]+(t[1]?"?"+t[1]:"")+t[2]):t}function Bi(e){var t=!!e.a.get("autoUpgradeAnonymousUsers");return t&&!Zi(e)&&sr('Missing "signInFailure" callback: "signInFailure" callback needs to be provided when "autoUpgradeAnonymousUsers" is set to true.',void 0),t}function ji(e){e=e.a.get("signInOptions")||[];for(var t=[],n=0;n<e.length;n++){var r=e[n];r=y(r)?r:{provider:r},($n[r.provider]||j(Mi,r.provider))&&t.push(r)}return t}function $i(e,t){e=ji(e);for(var n=0;n<e.length;n++)if(e[n].provider===t)return e[n];return null}function Vi(e){return L(ji(e),function(e){return e.provider})}function qi(e,t){return m(e=(e=$i(e,t))&&e.scopes)?e:[]}function Ui(e,t){return y(e=(e=$i(e,t))&&e.customParameters)?(e=se(e),t===a.auth.GoogleAuthProvider.PROVIDER_ID&&delete e.login_hint,e):null}function Hi(e){if(!(e=$i(e,a.auth.PhoneAuthProvider.PROVIDER_ID)))return null;var t=e.whitelistedCountries,n=e.blacklistedCountries;if(void 0!==t&&(!m(t)||0==t.length))throw Error("WhitelistedCountries must be a non-empty array.");if(void 0!==n&&!m(n))throw Error("BlacklistedCountries must be an array.");if(t&&n)throw Error("Both whitelistedCountries and blacklistedCountries are provided.");if(!t&&!n)return Nn;if(e=[],t){n={};for(var r=0;r<t.length;r++)for(var i=An(t[r]),o=0;o<i.length;o++)n[i[o].c]=i[o];for(var s in n)n.hasOwnProperty(s)&&e.push(n[s])}else{for(s={},r=0;r<n.length;r++)for(i=An(n[r]),o=0;o<i.length;o++)s[i[o].c]=i[o];for(t=0;t<Nn.length;t++)null!==s&&Nn[t].c in s||e.push(Nn[t])}return e}function zi(e){return _n(e.a,"queryParameterForWidgetMode")}function Wi(e){var t=e.a.get("tosUrl")||null;if(e=e.a.get("privacyPolicyUrl")||null,t&&!e&&hr("Privacy Policy URL is missing, the link will not be displayed."),t&&e){if(g(t))return t;if(l(t))return function(){ki(t)}}return null}function Ki(e){var t=e.a.get("tosUrl")||null,n=e.a.get("privacyPolicyUrl")||null;if(n&&!t&&hr("Term of Service URL is missing, the link will not be displayed."),t&&n){if(g(n))return n;if(l(n))return function(){ki(n)}}return null}function Gi(e){return!(e=$i(e,a.auth.EmailAuthProvider.PROVIDER_ID))||void 0===e.requireDisplayName||!!e.requireDisplayName}function Qi(e){return!(!(e=$i(e,a.auth.EmailAuthProvider.PROVIDER_ID))||e.signInMethod!==a.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD)}function Yi(e){return ea(e).uiShown||null}function Xi(e){return ea(e).signInSuccess||null}function Ji(e){return ea(e).signInSuccessWithAuthResult||null}function Zi(e){return ea(e).signInFailure||null}function ea(e){return e.a.get("callbacks")||{}}function ta(e){if("http:"!==(window.location&&window.location.protocol)&&"https:"!==(window.location&&window.location.protocol))return"none";for(var t in e=e.a.get("credentialHelper"),Ai)if(Ai[t]==e)return Ai[t];return Pi}function na(e){this.a=Tt(e)}var ra={Ha:"ui_auid",Qb:"apiKey",Ia:"ui_sd",hb:"mode",Ta:"oobCode",PROVIDER_ID:"ui_pid",Ka:"ui_sid"};function ia(e){return e.a.a.get(ra.Ha)||null}function aa(e,t){t?e.a.a.set(ra.PROVIDER_ID,t):Ft(e.a.a,ra.PROVIDER_ID)}function oa(){Gr.call(this),this.D=new oi(this),(this.ib=this).za=null}function sa(e,t){var n,r=e.za;if(r)for(n=[];r;r=r.za)n.push(r);if(e=e.ib,r=t.type||t,l(t))t=new Zr(t,e);else if(t instanceof Zr)t.target=t.target||e;else{var i=t;ce(t=new Zr(r,e),i)}if(i=!0,n)for(var a=n.length-1;!t.h&&0<=a;a--){var o=t.g=n[a];i=la(o,r,!0,t)&&i}if(t.h||(i=la(o=t.g=e,r,!0,t)&&i,t.h||(i=la(o,r,!1,t)&&i)),n)for(a=0;!t.h&&a<n.length;a++)i=la(o=t.g=n[a],r,!1,t)&&i;return i}function la(e,t,n,r){if(!(t=e.D.a[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.oa&&o.capture==n){var s=o.listener,l=o.Da||o.src;o.Aa&&si(e.D,o),i=!1!==s.call(l,r)&&i}}return i&&0!=r.eb}na.prototype.toString=function(){return this.a.toString()},O(oa,Gr),oa.prototype[ni]=!0,oa.prototype.Ra=function(e){this.za=e},oa.prototype.removeEventListener=function(e,t,n,r){fi(this,e,t,n,r)},oa.prototype.l=function(){if(oa.o.l.call(this),this.D){var e,t=this.D;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)ai(n[r]);delete t.a[e],t.g--}}this.za=null};var ca={},ua=0;function ha(e,t){if(!e)throw Error("Event target element must be provided!");if(e=da(e),ca[e]&&ca[e].length)for(var n=0;n<ca[e].length;n++)sa(ca[e][n],t)}function da(e){return void 0===e.a&&(e.a=ua,ua++),e.a}function pa(e){if(!e)throw Error("Event target element must be provided!");this.a=e,oa.call(this)}function fa(e,t){this.i=[],this.N=e,this.J=t||null,this.j=this.a=!1,this.h=void 0,this.D=this.s=this.w=!1,this.u=0,this.g=null,this.B=0}function ma(e,t,n){e.a=!0,e.h=n,e.j=!t,ba(e)}function va(e){if(e.a){if(!e.D)throw new wa(e);e.D=!1}}function ga(e,t,n){e.i.push([t,n,void 0]),e.a&&ba(e)}function ya(e){return F(e.i,function(e){return g(e[1])})}function ba(e){if(e.u&&e.a&&ya(e)){var t=e.u,n=Sa[t];n&&(o.clearTimeout(n.a),delete Sa[t]),e.u=0}e.g&&(e.g.B--,delete e.g),t=e.h;for(var r=n=!1;e.i.length&&!e.w;){var i=e.i.shift(),a=i[0],l=i[1];if(i=i[2],a=e.j?l:a)try{var c=a.call(i||e.J,t);s(c)&&(e.j=e.j&&(c==t||c instanceof Error),e.h=t=c),(pr(t)||"function"==typeof o.Promise&&t instanceof o.Promise)&&(r=!0,e.w=!0)}catch(r){t=r,e.j=!0,ya(e)||(n=!0)}}e.h=t,r&&(c=S(e.F,e,!0),r=S(e.F,e,!1),t instanceof fa?(ga(t,c,r),t.s=!0):t.then(c,r)),n&&(t=new Ca(t),Sa[t.a]=t,e.u=t.a)}function wa(){P.call(this)}function Ea(){P.call(this)}function Ca(e){this.a=o.setTimeout(S(this.h,this),0),this.g=e}O(pa,oa),pa.prototype.M=function(){return this.a},pa.prototype.register=function(){var e=da(this.M());ca[e]?j(ca[e],this)||ca[e].push(this):ca[e]=[this]},fa.prototype.cancel=function(e){if(this.a)this.h instanceof fa&&this.h.cancel();else{if(this.g){var t=this.g;delete this.g,e?t.cancel(e):(t.B--,t.B<=0&&t.cancel())}this.N?this.N.call(this.J,this):this.D=!0,this.a||(e=new Ea(this),va(this),ma(this,!1,e))}},fa.prototype.F=function(e,t){this.w=!1,ma(this,e,t)},fa.prototype.then=function(e,t,n){var r,i,a=new kr(function(e,t){r=e,i=t});return ga(this,r,function(e){e instanceof Ea?a.cancel():i(e)}),a.then(e,t,n)},dr(fa),O(wa,P),wa.prototype.message="Deferred has already fired",wa.prototype.name="AlreadyCalledError",O(Ea,P),Ea.prototype.message="Deferred was canceled",Ea.prototype.name="CanceledError",Ca.prototype.h=function(){throw delete Sa[this.a],this.g};var Sa={};function _a(e){var t,n,r,i,a,s={},l=s.document||document,h=Re(e),d=document.createElement("SCRIPT"),p={fb:d,gb:void 0},f=new fa(Ta,p),m=null,v=null!=s.timeout?s.timeout:5e3;return 0<v&&(m=window.setTimeout(function(){ka(d,!0);var e=new Oa(Ia,"Timeout reached for loading script "+h);va(f),ma(f,!1,e)},v),p.gb=m),d.onload=d.onreadystatechange=function(){d.readyState&&"loaded"!=d.readyState&&"complete"!=d.readyState||(ka(d,s.bc||!1,m),va(f),ma(f,!0,null))},d.onerror=function(){ka(d,!0,m);var e=new Oa(xa,"Error while loading script "+h);va(f),ma(f,!1,e)},ce(p=s.attributes||{},{type:"text/javascript",charset:"UTF-8"}),t=d,oe(p,function(e,n){e&&"object"==typeof e&&e.na&&(e=e.ka()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:rt.hasOwnProperty(n)?t.setAttribute(rt[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}),r=e,(n=d).src=Re(r),null===u&&((r=(r=o.document).querySelector&&r.querySelector("script[nonce]"))&&(r=r.nonce||r.getAttribute("nonce"))&&c.test(r)||(r=null),u=r||""),(r=u)&&n.setAttribute("nonce",r),(i=l,a=(i||document).getElementsByTagName("HEAD"),a&&0!=a.length?a[0]:i.documentElement).appendChild(d),f}function Ta(){if(this&&this.fb){var e=this.fb;e&&"SCRIPT"==e.tagName&&ka(e,!0,this.gb)}}function ka(e,t,n){null!=n&&o.clearTimeout(n),e.onload=h,e.onerror=h,e.onreadystatechange=h,t&&window.setTimeout(function(){at(e)},0)}var xa=0,Ia=1;function Oa(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),P.call(this,n),this.code=e}function Pa(e){this.a=e||o.googleyolo,this.g=null,this.h=!1}O(Oa,P),d(Pa);var Aa=new Pe(Ne,"https://smartlock.google.com/client");function Da(){this.a=null}function Na(e,t){this.a=e,this.g=t||function(e){throw e}}function Ma(e,t,n,r){this.a=e,this.h=t||null,this.j=n||null,this.g=r||null}function Ra(e){return e.email?new Ma(e.email,e.displayName,e.photoUrl,e.providerId):null}function La(){this.a=("undefined"==typeof document?null:document)||{cookie:""}}function Fa(e){e=(e.a.cookie||"").split(";");for(var t,n,r=[],i=[],a=0;a<e.length;a++)-1==(t=(n=W(e[a])).indexOf("="))?(r.push(""),i.push(n)):(r.push(n.substring(0,t)),i.push(n.substring(t+1)));return{keys:r,values:i}}Pa.prototype.cancel=function(){this.a&&this.h&&(this.g=this.a.cancelLastOperation().catch(function(){}))},d(Da),Da.prototype.load=function(){var e=this;if(this.a)return this.a;var t,n=Fe(Ae(Aa));return o.googleyolo?Nr():this.a=(t=null,Rr(new kr(function(e){"complete"==o.document.readyState?e():(t=function(){e()},pi(window,"load",t))}),function(e){throw fi(window,"load",t),e})).then(function(){if(!o.googleyolo)return new kr(function(t,r){var i=setTimeout(function(){e.a=null,r(Error("Network error!"))},1e4);o.onGoogleYoloLoad=function(){clearTimeout(i),t()},Rr(Nr(_a(n)),function(t){clearTimeout(i),e.a=null,r(t)})})})},Na.prototype.confirm=function(e){return Rr(Nr(this.a.confirm(e)),this.g)},Ma.prototype.ja=function(){return{email:this.a,displayName:this.h,photoUrl:this.j,providerId:this.g}},(e=La.prototype).set=function(e,t,n,r,i,a){if(/[;=\s]/.test(e))throw Error('Invalid cookie name "'+e+'"');if(/[;\r\n]/.test(t))throw Error('Invalid cookie value "'+t+'"');s(n)||(n=-1),i=i?";domain="+i:"",r=r?";path="+r:"",a=a?";secure":"",n=n<0?"":0==n?";expires="+new Date(1970,1,1).toUTCString():";expires="+new Date(x()+1e3*n).toUTCString(),this.a.cookie=e+"="+t+i+r+n+a},e.get=function(e,t){for(var n,r=e+"=",i=(this.a.cookie||"").split(";"),a=0;a<i.length;a++){if(0==(n=W(i[a])).lastIndexOf(r,0))return n.substr(r.length);if(n==e)return""}return t},e.ga=function(){return Fa(this).keys},e.ha=function(){return Fa(this).values},e.clear=function(){for(var e=Fa(this).keys,t=e.length-1;0<=t;t--){var n=e[t];this.get(n),this.set(n,"",0,void 0,void 0)}};var Ba=new La;function ja(){}function $a(e,t,n,r){this.h=null!=e?e:-1,this.g=t||null,this.a=n||null,this.j=!!r}function Va(e,t){this.g=e,this.a=t||null}function qa(e){if(e&&e.email){var t;if(t=e.credential){var n=(t=e.credential)&&t.providerId;t=$n[n]&&a.auth[$n[n]]?t.secret&&t.accessToken?a.auth[$n[n]].credential(t.accessToken,t.secret):n==a.auth.GoogleAuthProvider.PROVIDER_ID?a.auth[$n[n]].credential(t.idToken,t.accessToken):a.auth[$n[n]].credential(t.accessToken):null}return new Va(e.email,t)}return null}function Ua(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);255<i&&(t[n++]=255&i,i>>=8),t[n++]=i}return t}function Ha(e){for(this.u=e,this.g=this.u.length/4,this.j=this.g+6,this.h=[[],[],[],[]],this.i=[[],[],[],[]],this.a=Array(za*(this.j+1)),e=0;e<this.g;e++)this.a[e]=[this.u[4*e],this.u[4*e+1],this.u[4*e+2],this.u[4*e+3]];var t=Array(4);for(e=this.g;e<za*(this.j+1);e++){if(t[0]=this.a[e-1][0],t[1]=this.a[e-1][1],t[2]=this.a[e-1][2],t[3]=this.a[e-1][3],0==e%this.g){var n=t,r=n[0];n[0]=n[1],n[1]=n[2],n[2]=n[3],n[3]=r,Ja(t),t[0]^=to[e/this.g][0],t[1]^=to[e/this.g][1],t[2]^=to[e/this.g][2],t[3]^=to[e/this.g][3]}else 6<this.g&&4==e%this.g&&Ja(t);this.a[e]=Array(4),this.a[e][0]=this.a[e-this.g][0]^t[0],this.a[e][1]=this.a[e-this.g][1]^t[1],this.a[e][2]=this.a[e-this.g][2]^t[2],this.a[e][3]=this.a[e-this.g][3]^t[3]}}Ba.g=3950,O($a,ja),$a.prototype.set=function(e,t){Ba.set(e,t,this.h,this.g,this.a,this.j)},$a.prototype.get=function(e){return Ba.get(e)||null},$a.prototype.ma=function(e){var t=this.g,n=this.a;Ba.get(e),Ba.set(e,"",0,t,n)},Va.prototype.ja=function(){return{email:this.g,credential:this.a&&se(this.a)}};var za=(Ha.prototype.w=16)/4;function Wa(e,t){for(var n,r=0;r<za;r++)for(var i=0;i<4;i++)n=t[n=4*i+r],e.h[r][i]=n}function Ka(e){for(var t=[],n=0;n<za;n++)for(var r=0;r<4;r++)t[4*r+n]=e.h[n][r];return t}function Ga(e,t){for(var n=0;n<4;n++)for(var r=0;r<4;r++)e.h[n][r]^=e.a[4*t+r][n]}function Qa(e,t){for(var n=0;n<4;n++)for(var r=0;r<4;r++)e.h[n][r]=t[e.h[n][r]]}function Ya(e){for(var t=1;t<4;t++)for(var n=0;n<4;n++)e.i[t][n]=e.h[t][n];for(t=1;t<4;t++)for(n=0;n<4;n++)e.h[t][n]=e.i[t][(n+t)%za]}function Xa(e){for(var t=1;t<4;t++)for(var n=0;n<4;n++)e.i[t][(n+t)%za]=e.h[t][n];for(t=1;t<4;t++)for(n=0;n<4;n++)e.h[t][n]=e.i[t][n]}function Ja(e){e[0]=Za[e[0]],e[1]=Za[e[1]],e[2]=Za[e[2]],e[3]=Za[e[3]]}var Za=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],eo=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],to=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]],no=[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,27,25,31,29,19,17,23,21,11,9,15,13,3,1,7,5,59,57,63,61,51,49,55,53,43,41,47,45,35,33,39,37,91,89,95,93,83,81,87,85,75,73,79,77,67,65,71,69,123,121,127,125,115,113,119,117,107,105,111,109,99,97,103,101,155,153,159,157,147,145,151,149,139,137,143,141,131,129,135,133,187,185,191,189,179,177,183,181,171,169,175,173,163,161,167,165,219,217,223,221,211,209,215,213,203,201,207,205,195,193,199,197,251,249,255,253,243,241,247,245,235,233,239,237,227,225,231,229],ro=[0,3,6,5,12,15,10,9,24,27,30,29,20,23,18,17,48,51,54,53,60,63,58,57,40,43,46,45,36,39,34,33,96,99,102,101,108,111,106,105,120,123,126,125,116,119,114,113,80,83,86,85,92,95,90,89,72,75,78,77,68,71,66,65,192,195,198,197,204,207,202,201,216,219,222,221,212,215,210,209,240,243,246,245,252,255,250,249,232,235,238,237,228,231,226,225,160,163,166,165,172,175,170,169,184,187,190,189,180,183,178,177,144,147,150,149,156,159,154,153,136,139,142,141,132,135,130,129,155,152,157,158,151,148,145,146,131,128,133,134,143,140,137,138,171,168,173,174,167,164,161,162,179,176,181,182,191,188,185,186,251,248,253,254,247,244,241,242,227,224,229,230,239,236,233,234,203,200,205,206,199,196,193,194,211,208,213,214,223,220,217,218,91,88,93,94,87,84,81,82,67,64,69,70,79,76,73,74,107,104,109,110,103,100,97,98,115,112,117,118,127,124,121,122,59,56,61,62,55,52,49,50,35,32,37,38,47,44,41,42,11,8,13,14,7,4,1,2,19,16,21,22,31,28,25,26],io=[0,9,18,27,36,45,54,63,72,65,90,83,108,101,126,119,144,153,130,139,180,189,166,175,216,209,202,195,252,245,238,231,59,50,41,32,31,22,13,4,115,122,97,104,87,94,69,76,171,162,185,176,143,134,157,148,227,234,241,248,199,206,213,220,118,127,100,109,82,91,64,73,62,55,44,37,26,19,8,1,230,239,244,253,194,203,208,217,174,167,188,181,138,131,152,145,77,68,95,86,105,96,123,114,5,12,23,30,33,40,51,58,221,212,207,198,249,240,235,226,149,156,135,142,177,184,163,170,236,229,254,247,200,193,218,211,164,173,182,191,128,137,146,155,124,117,110,103,88,81,74,67,52,61,38,47,16,25,2,11,215,222,197,204,243,250,225,232,159,150,141,132,187,178,169,160,71,78,85,92,99,106,113,120,15,6,29,20,43,34,57,48,154,147,136,129,190,183,172,165,210,219,192,201,246,255,228,237,10,3,24,17,46,39,60,53,66,75,80,89,102,111,116,125,161,168,179,186,133,140,151,158,233,224,251,242,205,196,223,214,49,56,35,42,21,28,7,14,121,112,107,98,93,84,79,70],ao=[0,11,22,29,44,39,58,49,88,83,78,69,116,127,98,105,176,187,166,173,156,151,138,129,232,227,254,245,196,207,210,217,123,112,109,102,87,92,65,74,35,40,53,62,15,4,25,18,203,192,221,214,231,236,241,250,147,152,133,142,191,180,169,162,246,253,224,235,218,209,204,199,174,165,184,179,130,137,148,159,70,77,80,91,106,97,124,119,30,21,8,3,50,57,36,47,141,134,155,144,161,170,183,188,213,222,195,200,249,242,239,228,61,54,43,32,17,26,7,12,101,110,115,120,73,66,95,84,247,252,225,234,219,208,205,198,175,164,185,178,131,136,149,158,71,76,81,90,107,96,125,118,31,20,9,2,51,56,37,46,140,135,154,145,160,171,182,189,212,223,194,201,248,243,238,229,60,55,42,33,16,27,6,13,100,111,114,121,72,67,94,85,1,10,23,28,45,38,59,48,89,82,79,68,117,126,99,104,177,186,167,172,157,150,139,128,233,226,255,244,197,206,211,216,122,113,108,103,86,93,64,75,34,41,52,63,14,5,24,19,202,193,220,215,230,237,240,251,146,153,132,143,190,181,168,163],oo=[0,13,26,23,52,57,46,35,104,101,114,127,92,81,70,75,208,221,202,199,228,233,254,243,184,181,162,175,140,129,150,155,187,182,161,172,143,130,149,152,211,222,201,196,231,234,253,240,107,102,113,124,95,82,69,72,3,14,25,20,55,58,45,32,109,96,119,122,89,84,67,78,5,8,31,18,49,60,43,38,189,176,167,170,137,132,147,158,213,216,207,194,225,236,251,246,214,219,204,193,226,239,248,245,190,179,164,169,138,135,144,157,6,11,28,17,50,63,40,37,110,99,116,121,90,87,64,77,218,215,192,205,238,227,244,249,178,191,168,165,134,139,156,145,10,7,16,29,62,51,36,41,98,111,120,117,86,91,76,65,97,108,123,118,85,88,79,66,9,4,19,30,61,48,39,42,177,188,171,166,133,136,159,146,217,212,195,206,237,224,247,250,183,186,173,160,131,142,153,148,223,210,197,200,235,230,241,252,103,106,125,112,83,94,73,68,15,2,21,24,59,54,33,44,12,1,22,27,56,53,34,47,100,105,126,115,80,93,74,71,220,209,198,203,232,229,242,255,180,185,174,163,128,141,154,151],so=[0,14,28,18,56,54,36,42,112,126,108,98,72,70,84,90,224,238,252,242,216,214,196,202,144,158,140,130,168,166,180,186,219,213,199,201,227,237,255,241,171,165,183,185,147,157,143,129,59,53,39,41,3,13,31,17,75,69,87,89,115,125,111,97,173,163,177,191,149,155,137,135,221,211,193,207,229,235,249,247,77,67,81,95,117,123,105,103,61,51,33,47,5,11,25,23,118,120,106,100,78,64,82,92,6,8,26,20,62,48,34,44,150,152,138,132,174,160,178,188,230,232,250,244,222,208,194,204,65,79,93,83,121,119,101,107,49,63,45,35,9,7,21,27,161,175,189,179,153,151,133,139,209,223,205,195,233,231,245,251,154,148,134,136,162,172,190,176,234,228,246,248,210,220,206,192,122,116,102,104,66,76,94,80,10,4,22,24,50,60,46,32,236,226,240,254,212,218,200,198,156,146,128,142,164,170,184,182,12,2,16,30,52,58,40,38,124,114,96,110,68,74,88,86,55,57,43,37,15,1,19,29,71,73,91,85,127,113,99,109,215,217,203,197,239,225,243,253,167,169,187,181,159,145,131,141];function lo(e,t){e=new Ha(uo(e));for(var n,r=H(t=Ua(t),0,16),i="";r.length;){n=16-r.length;for(var a=0;a<n;a++)r.push(0);for(Wa(n=e,r),Ga(n,0),r=1;r<n.j;++r){Qa(n,Za),Ya(n),a=n.h;for(var o=n.i[0],s=0;s<4;s++)o[0]=a[0][s],o[1]=a[1][s],o[2]=a[2][s],o[3]=a[3][s],a[0][s]=no[o[0]]^ro[o[1]]^o[2]^o[3],a[1][s]=o[0]^no[o[1]]^ro[o[2]]^o[3],a[2][s]=o[0]^o[1]^no[o[2]]^ro[o[3]],a[3][s]=ro[o[0]]^o[1]^o[2]^no[o[3]];Ga(n,r)}Qa(n,Za),Ya(n),Ga(n,n.j),i+=(l=Ka(n),L(l,function(e){return 1<(e=e.toString(16)).length?e:"0"+e}).join("")),r=H(t,0,16)}var l;return i}function co(e,t){e=new Ha(uo(e));for(var n=[],r=0;r<t.length;r+=2)n.push(parseInt(t.substring(r,r+2),16));var i=H(n,0,16);for(t="";i.length;){for(Wa(r=e,i),Ga(r,r.j),i=1;i<r.j;++i){Xa(r),Qa(r,eo),Ga(r,r.j-i);for(var a=r.h,o=r.i[0],s=0;s<4;s++)o[0]=a[0][s],o[1]=a[1][s],o[2]=a[2][s],o[3]=a[3][s],a[0][s]=so[o[0]]^ao[o[1]]^oo[o[2]]^io[o[3]],a[1][s]=io[o[0]]^so[o[1]]^ao[o[2]]^oo[o[3]],a[2][s]=oo[o[0]]^io[o[1]]^so[o[2]]^ao[o[3]],a[3][s]=ao[o[0]]^oo[o[1]]^io[o[2]]^so[o[3]]}if(Xa(r),Qa(r,eo),Ga(r,0),(r=Ka(r)).length<=8192)r=String.fromCharCode.apply(null,r);else{for(i="",a=0;a<r.length;a+=8192)i+=String.fromCharCode.apply(null,z(r,a,a+8192));r=i}t+=r,i=H(n,0,16)}return t.replace(/(\x00)+$/,"")}function uo(e){for(var t=32-(e=Ua(e.substring(0,32))).length,n=0;n<t;n++)e.push(0);return e}function ho(e){var t=[];return function e(t,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(m(n)){var i=n;n=i.length,r.push("[");for(var a="",o=0;o<n;o++)r.push(a),e(t,i[o],r),a=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),a="",n)Object.prototype.hasOwnProperty.call(n,i)&&"function"!=typeof(o=n[i])&&(r.push(a),vo(i,r),r.push(":"),e(t,o,r),a=",");return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":vo(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new po,e,t),t.join("")}function po(){}var fo={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},mo=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function vo(e,t){t.push('"',e.replace(mo,function(e){var t=fo[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),fo[e]=t),t}),'"')}function go(e){this.a=e}function yo(){}function bo(e){this.a=e}function wo(e){if(!e.a)return!1;try{return e.a.setItem("__sak","1"),e.a.removeItem("__sak"),!0}catch(e){return!1}}function Eo(){var e=null;try{e=window.localStorage||null}catch(e){}this.a=e}function Co(){var e=null;try{e=window.sessionStorage||null}catch(e){}this.a=e}function So(e,t){this.g=e,this.a=t+"::"}go.prototype.set=function(e,t){s(t)?this.a.set(e,ho(t)):this.a.ma(e)},go.prototype.get=function(e){try{var t=this.a.get(e)}catch(e){return}if(null!==t)try{return JSON.parse(t)}catch(e){throw"Storage: Invalid value was encountered"}},O(yo,ja),yo.prototype.clear=function(){var e=function(e){if(v(e))return U(e);e=dt(e);var t=[];return function(e,t){if(v(e))try{M(e,t,void 0)}catch(e){if(e!==ut)throw e}else{e=dt(e);try{for(;;)t.call(void 0,e.next(),void 0,e)}catch(e){if(e!==ut)throw e}}}(e,function(e){t.push(e)}),t}(this.da(!0)),t=this;M(e,function(e){t.ma(e)})},O(bo,yo),(e=bo.prototype).set=function(e,t){try{this.a.setItem(e,t)}catch(e){if(0==this.a.length)throw"Storage mechanism: Storage disabled";throw"Storage mechanism: Quota exceeded"}},e.get=function(e){if(!l(e=this.a.getItem(e))&&null!==e)throw"Storage mechanism: Invalid value was encountered";return e},e.ma=function(e){this.a.removeItem(e)},e.da=function(e){var t=0,n=this.a,r=new ht;return r.next=function(){if(t>=n.length)throw ut;var r=n.key(t++);if(e)return r;if(!l(r=n.getItem(r)))throw"Storage mechanism: Invalid value was encountered";return r},r},e.clear=function(){this.a.clear()},e.key=function(e){return this.a.key(e)},O(Eo,bo),O(Co,bo),O(So,yo),So.prototype.set=function(e,t){this.g.set(this.a+e,t)},So.prototype.get=function(e){return this.g.get(this.a+e)},So.prototype.ma=function(e){this.g.ma(this.a+e)},So.prototype.da=function(e){var t=this.g.da(!0),n=this,r=new ht;return r.next=function(){for(var r=t.next();r.substr(0,n.a.length)!=n.a;)r=t.next();return e?r.substr(n.a.length):n.g.get(r)},r};var _o=new Eo,To=new go(wo(_o)?new So(_o,"firebaseui"):null),ko=new Co,xo=new go(wo(ko)?new So(ko,"firebaseui"):null),Io={name:"pendingEmailCredential",storage:xo},Oo={name:"pendingRedirect",storage:xo},Po={name:"redirectUrl",storage:xo},Ao={name:"rememberAccount",storage:xo},Do={name:"rememberedAccounts",storage:To},No={name:"emailForSignIn",storage:new go(new $a(3600,"/"))},Mo={name:"pendingEncryptedCredential",storage:new go(new $a(3600,"/"))};function Ro(e,t){return e.storage.get(t?e.name+":"+t:e.name)}function Lo(e,t){e.storage.a.ma(t?e.name+":"+t:e.name)}function Fo(e,t,n){e.storage.set(n?e.name+":"+n:e.name,t)}function Bo(e){return Ro(Po,e)||null}function jo(e,t){Fo(Po,e,t)}function $o(e,t){Fo(Ao,e,t)}function Vo(e){return e=Ro(Do,e)||[],e=L(e,function(e){return Ra(e)}),R(e,f)}function qo(e){return qa(e=Ro(Io,e)||null)}function Uo(e,t){Fo(Io,e.ja(),t)}function Ho(e){Fo(Oo,"pending",e)}var zo=null;function Wo(e){return!(!e||-32e3!=e.code||"Service unavailable"!=e.message)}function Ko(e,t,n){function r(){var e=kt(window.location.href,n).toString();zo.select(L(t||[],function(e){return e.ja()}),{clientCallbackUrl:e})}t&&t.length?r():zo.checkEmpty(function(t,n){t||n?e(!Wo(n)):r()})}function Go(e){this.a=e,this.a.callbacks=this.a.callbacks||{}}var Qo={code:-32e3,message:"Service unavailable",data:"Service is unavailable."};(e=Go.prototype).store=function(){g(this.a.callbacks.store)&&this.a.callbacks.store(void 0,Qo)},e.select=function(){g(this.a.callbacks.select)&&this.a.callbacks.select(void 0,Qo)},e.update=function(){g(this.a.callbacks.update)&&this.a.callbacks.update(void 0,Qo)},e.checkDisabled=function(e){e(!0)},e.checkEmpty=function(e){e(void 0,Qo)},e.checkAccountExist=function(e,t){t(void 0,Qo)},e.checkShouldUpdate=function(e,t){t(void 0,Qo)};var Yo,Xo,Jo,Zo,es={};function ts(e,t,n,r){es[e].apply(null,Array.prototype.slice.call(arguments,1))}var ns=/MSIE ([\d.]+).*Windows NT ([\d.]+)/,rs=/Firefox\/([\d.]+)/,is=/Opera[ \/]([\d.]+)(.*Version\/([\d.]+))?/,as=/Chrome\/([\d.]+)/,os=/((Windows NT ([\d.]+))|(Mac OS X ([\d_]+))).*Version\/([\d.]+).*Safari/,ss=/Mac OS X;.*(?!(Version)).*Safari/,ls=/Android ([\d.]+).*Safari/,cs=/OS ([\d_]+) like Mac OS X.*Mobile.*Safari/,us=/Konqueror\/([\d.]+)/,hs=/MSIE ([\d.]+).*Windows Phone OS ([\d.]+)/;function ds(e,t){for(e=e.split(t||"."),this.a=[],t=0;t<e.length;t++)this.a.push(parseInt(e[t],10))}function ps(e,t){return 0<=function(e,t){t instanceof ds||(t=new ds(String(t)));for(var n=Math.max(e.a.length,t.a.length),r=0;r<n;r++){var i=e.a[r],a=t.a[r];if(void 0!==i&&void 0!==a&&i!==a)return i-a;if(void 0===i)return-1;if(void 0===a)return 1}return 0}(e,t)}function fs(e){return e.classList?e.classList:l(e=e.className)&&e.match(/\S+/g)||[]}function ms(e,t){return e.classList?e.classList.contains(t):j(fs(e),t)}function vs(e,t){e.classList?e.classList.add(t):ms(e,t)||(e.className+=0<e.className.length?" "+t:t)}function gs(e,t){e.classList?e.classList.remove(t):ms(e,t)&&(e.className=R(fs(e),function(e){return e!=t}).join(" "))}function ys(e){var t=e.type;switch(l(t)&&t.toLowerCase()){case"checkbox":case"radio":return e.checked?e.value:null;case"select-one":return 0<=(t=e.selectedIndex)?e.options[t].value:null;case"select-multiple":t=[];for(var n,r=0;n=e.options[r];r++)n.selected&&t.push(n.value);return t.length?t:null;default:return null!=e.value?e.value:null}}function bs(e,t){var n=e.type;switch(l(n)&&n.toLowerCase()){case"checkbox":case"radio":e.checked=t;break;case"select-one":if(e.selectedIndex=-1,l(t))for(var r=0;n=e.options[r];r++)if(n.value==t){n.selected=!0;break}break;case"select-multiple":for(l(t)&&(t=[t]),r=0;n=e.options[r];r++)if(n.selected=!1,t)for(var i,a=0;i=t[a];a++)n.value==i&&(n.selected=!0);break;default:e.value=null!=t?t:""}}function ws(e,t,n,r,i,a){if(be&&!Ie("525"))return!0;if(Ee&&i)return Es(e);if(i&&!r)return!1;if(!ye&&("number"==typeof t&&(t=Cs(t)),(!n||Ee)&&(17==t||18==t||Ee&&91==t)||Ee&&16==t&&(r||a)))return!1;if((be||ve)&&r&&n)switch(e){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(me&&r&&t==e)return!1;switch(e){case 13:return!(ye&&(a||i||n&&r));case 27:return!(be||ve||ye)}return(!ye||!(r||i||a))&&Es(e)}function Es(e){if(48<=e&&e<=57||96<=e&&e<=106||65<=e&&e<=90||(be||ve)&&0==e)return!0;switch(e){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return!0;default:return!1}}function Cs(e){if(ye)e=function(e){switch(e){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return e}}(e);else if(Ee&&be)switch(e){case 93:e=91}return e}function Ss(e){oa.call(this),hi(this.a=e,"keydown",this.g,!1,this),hi(e,"click",this.h,!1,this)}function _s(e,t){var n=new ks(t);if(sa(e,n)){n=new Ts(t);try{sa(e,n)}finally{t.stopPropagation()}}}function Ts(e){ei.call(this,e.a),this.type="action"}function ks(e){ei.call(this,e.a),this.type="beforeaction"}function xs(e){oa.call(this),this.a=e,e=me?"focusout":"blur",this.g=hi(this.a,me?"focusin":"focus",this,!me),this.h=hi(this.a,e,this,!me)}function Is(e,t){oa.call(this),this.g=e||1,this.a=t||o,this.h=S(this.Lb,this),this.j=x()}function Os(e){e.Ca=!1,e.W&&(e.a.clearTimeout(e.W),e.W=null)}function Ps(e){Gr.call(this),this.g=e,this.a={}}O(Ss,oa),Ss.prototype.g=function(e){(13==e.keyCode||be&&3==e.keyCode)&&_s(this,e)},Ss.prototype.h=function(e){_s(this,e)},Ss.prototype.l=function(){Ss.o.l.call(this),fi(this.a,"keydown",this.g,!1,this),fi(this.a,"click",this.h,!1,this),delete this.a},O(Ts,ei),O(ks,ei),O(xs,oa),xs.prototype.handleEvent=function(e){var t=new ei(e.a);t.type="focusin"==e.type||"focus"==e.type?"focusin":"focusout",sa(this,t)},xs.prototype.l=function(){xs.o.l.call(this),mi(this.g),mi(this.h),delete this.a},O(Is,oa),(e=Is.prototype).Ca=!1,e.W=null,e.Lb=function(){if(this.Ca){var e=x()-this.j;0<e&&e<.8*this.g?this.W=this.a.setTimeout(this.h,this.g-e):(this.W&&(this.a.clearTimeout(this.W),this.W=null),sa(this,"tick"),this.Ca&&(Os(this),this.start()))}},e.start=function(){this.Ca=!0,this.W||(this.W=this.a.setTimeout(this.h,this.g),this.j=x())},e.l=function(){Is.o.l.call(this),Os(this),delete this.a},O(Ps,Gr);var As=[];function Ds(e,t,n,r){m(n)||(n&&(As[0]=n.toString()),n=As);for(var i=0;i<n.length;i++){var a=hi(t,n[i],r||e.handleEvent,!1,e.g||e);if(!a)break;e.a[a.key]=a}}function Ns(e){oe(e.a,function(e,t){this.a.hasOwnProperty(t)&&mi(e)},e),e.a={}}function Ms(e){oa.call(this),this.a=null,this.g=e,e=me||ve||be&&!Ie("531")&&"TEXTAREA"==e.tagName,this.h=new Ps(this),Ds(this.h,this.g,e?["keydown","paste","cut","drop","input"]:"input",this)}function Rs(e){null!=e.a&&(o.clearTimeout(e.a),e.a=null)}function Ls(e){return(e=new ei(e.a)).type="input",e}function Fs(e,t){oa.call(this),e&&(this.Ga&&qs(this),this.la=e,this.Fa=hi(this.la,"keypress",this,t),this.Qa=hi(this.la,"keydown",this.sb,t,this),this.Ga=hi(this.la,"keyup",this.vb,t,this))}Ps.prototype.l=function(){Ps.o.l.call(this),Ns(this)},Ps.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},O(Ms,oa),Ms.prototype.handleEvent=function(e){if("input"==e.type)me&&Ie(10)&&0==e.keyCode&&0==e.j||(Rs(this),sa(this,Ls(e)));else if("keydown"!=e.type||function(e){if(e.altKey&&!e.ctrlKey||e.metaKey||112<=e.keyCode&&e.keyCode<=123)return!1;switch(e.keyCode){case 18:case 20:case 93:case 17:case 40:case 35:case 27:case 36:case 45:case 37:case 224:case 91:case 144:case 12:case 34:case 33:case 19:case 255:case 44:case 39:case 145:case 16:case 38:case 252:case 224:case 92:return!1;case 0:return!ye;default:return e.keyCode<166||183<e.keyCode}}(e)){var t="keydown"==e.type?this.g.value:null;me&&229==e.keyCode&&(t=null);var n=Ls(e);Rs(this),this.a=function(e,t){if(g(e))t&&(e=S(e,t));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=S(e.handleEvent,e)}return 2147483647<Number(0)?-1:o.setTimeout(e,0)}(function(){this.a=null,this.g.value!=t&&sa(this,n)},this)}},Ms.prototype.l=function(){Ms.o.l.call(this),this.h.m(),Rs(this),delete this.g},O(Fs,oa),(e=Fs.prototype).la=null,e.Fa=null,e.Qa=null,e.Ga=null,e.R=-1,e.ba=-1,e.Ma=!1;var Bs={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},js={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},$s=!be||Ie("525"),Vs=Ee&&ye;function qs(e){e.Fa&&(mi(e.Fa),mi(e.Qa),mi(e.Ga),e.Fa=null,e.Qa=null,e.Ga=null),e.la=null,e.R=-1,e.ba=-1}function Us(e,t,n,r){ei.call(this,r),this.type="key",this.keyCode=e,this.j=t,this.repeat=n}function Hs(e,t,n,r){this.top=e,this.right=t,this.bottom=n,this.left=r}function zs(e,t){var n=ot(e);return n.defaultView&&n.defaultView.getComputedStyle&&(e=n.defaultView.getComputedStyle(e,null))&&(e[t]||e.getPropertyValue(t))||""}function Ws(e){try{var t=e.getBoundingClientRect()}catch(e){return{left:0,top:0,right:0,bottom:0}}return me&&e.ownerDocument.body&&(e=e.ownerDocument,t.left-=e.documentElement.clientLeft+e.body.clientLeft,t.top-=e.documentElement.clientTop+e.body.clientTop),t}function Ks(e){var t=ot(e),n=new Xe(0,0),r=t?ot(t):document;return e==(r=!me||9<=Number(ke)||"CSS1Compat"==Ze(r).a.compatMode?r.documentElement:r.body)||(e=Ws(e),t=it(r=Ze(t).a),r=r.parentWindow||r.defaultView,t=me&&Ie("10")&&r.pageYOffset!=t.scrollTop?new Xe(t.scrollLeft,t.scrollTop):new Xe(r.pageXOffset||t.scrollLeft,r.pageYOffset||t.scrollTop),n.a=e.left+t.a,n.g=e.top+t.g),n}(e=Fs.prototype).sb=function(e){(be||ve)&&(17==this.R&&!e.ctrlKey||18==this.R&&!e.altKey||Ee&&91==this.R&&!e.metaKey)&&(this.ba=this.R=-1),-1==this.R&&(e.ctrlKey&&17!=e.keyCode?this.R=17:e.altKey&&18!=e.keyCode?this.R=18:e.metaKey&&91!=e.keyCode&&(this.R=91)),$s&&!ws(e.keyCode,this.R,e.shiftKey,e.ctrlKey,e.altKey,e.metaKey)?this.handleEvent(e):(this.ba=Cs(e.keyCode),Vs&&(this.Ma=e.altKey))},e.vb=function(e){this.ba=this.R=-1,this.Ma=e.altKey},e.handleEvent=function(e){var t=e.a,n=t.altKey;if(me&&"keypress"==e.type)var r=this.ba,i=13!=r&&27!=r?t.keyCode:0;else(be||ve)&&"keypress"==e.type?(r=this.ba,i=0<=t.charCode&&t.charCode<63232&&Es(r)?t.charCode:0):fe&&!be?i=Es(r=this.ba)?t.keyCode:0:(r=t.keyCode||this.ba,i=t.charCode||0,Vs&&"keypress"==e.type&&(n=this.Ma),Ee&&63==i&&224==r&&(r=191));var a=r=Cs(r);r?63232<=r&&r in Bs?a=Bs[r]:25==r&&e.shiftKey&&(a=9):t.keyIdentifier&&t.keyIdentifier in js&&(a=js[t.keyIdentifier]),ye&&$s&&"keypress"==e.type&&!ws(a,this.R,e.shiftKey,e.ctrlKey,n,e.metaKey)||(e=a==this.R,(t=new Us(this.R=a,i,e,t)).altKey=n,sa(this,t))},e.M=function(){return this.la},e.l=function(){Fs.o.l.call(this),qs(this)},O(Us,ei),Hs.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"},Hs.prototype.ceil=function(){return this.top=Math.ceil(this.top),this.right=Math.ceil(this.right),this.bottom=Math.ceil(this.bottom),this.left=Math.ceil(this.left),this},Hs.prototype.floor=function(){return this.top=Math.floor(this.top),this.right=Math.floor(this.right),this.bottom=Math.floor(this.bottom),this.left=Math.floor(this.left),this},Hs.prototype.round=function(){return this.top=Math.round(this.top),this.right=Math.round(this.right),this.bottom=Math.round(this.bottom),this.left=Math.round(this.left),this};var Gs={thin:2,medium:4,thick:6};function Qs(e,t){if("none"==(e.currentStyle?e.currentStyle[t+"Style"]:null))return 0;var n=e.currentStyle?e.currentStyle[t+"Width"]:null;if(n in Gs)e=Gs[n];else if(/^\d+px?$/.test(n))e=parseInt(n,10);else{t=e.style.left;var r=e.runtimeStyle.left;e.runtimeStyle.left=e.currentStyle.left,e.style.left=n,n=e.style.pixelLeft,e.style.left=t,e.runtimeStyle.left=r,e=+n}return e}function Ys(){}function Xs(e){oa.call(this),this.w=e||Ze(),this.Va=null,this.ia=!1,this.j=null,this.F=void 0,this.va=this.xa=this.X=null}function Js(e,t){return e.j?tt(t,e.j||e.w.a):null}function Zs(e){return e.F||(e.F=new Ps(e)),e.F}function el(e,t){e.xa&&M(e.xa,t,void 0)}function tl(e,t){var n=lt(e,"firebaseui-textfield");t?(gs(e,"firebaseui-input-invalid"),vs(e,"firebaseui-input"),n&&gs(n,"firebaseui-textfield-invalid")):(gs(e,"firebaseui-input"),vs(e,"firebaseui-input-invalid"),n&&vs(n,"firebaseui-textfield-invalid"))}function nl(e,t,n){Xr(e,_(Jr,t=new Ms(t))),Ds(Zs(e),t,"input",n)}function rl(e,t,n){Xr(e,_(Jr,t=new Fs(t))),Ds(Zs(e),t,"key",function(e){13==e.keyCode&&(e.stopPropagation(),e.preventDefault(),n(e))})}function il(e,t,n){Xr(e,_(Jr,t=new Ss(t))),Ds(Zs(e),t,"action",function(e){e.stopPropagation(),e.preventDefault(),n(e)})}function al(e){vs(e,"firebaseui-hidden")}function ol(e,t){t&&st(e,t),gs(e,"firebaseui-hidden")}function sl(e){return!ms(e,"firebaseui-hidden")&&"none"!=e.style.display}function ll(e){var t=(e=e||{}).email,n=e.disabled,r='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="email">';return r=e.ac?r+"Enter new email address":r+"Email",r+='</label><input type="email" name="email" autocomplete="username" class="mdl-textfield__input firebaseui-input firebaseui-id-email" value="'+rn(null!=t?t:"")+'"'+(n?"disabled":"")+'></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-email-error"></p></div>',Zt(r)}function cl(e){var t='<button type="submit" class="firebaseui-id-submit firebaseui-button mdl-button mdl-js-button mdl-button--raised mdl-button--colored">';return t=(e=(e=e||{}).label)?t+Qt(e):t+"Next",Zt(t+"</button>")}function ul(){var e=""+cl({label:tn("Sign In")});return Zt(e)}function hl(){var e=""+cl({label:tn("Save")});return Zt(e)}function dl(){var e=""+cl({label:tn("Continue")});return Zt(e)}function pl(e){var t='<div class="firebaseui-new-password-component"><div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="newPassword">';return t=(e=(e=e||{}).label)?t+Qt(e):t+"Choose password",Zt(t+'</label><input type="password" name="newPassword" autocomplete="new-password" class="mdl-textfield__input firebaseui-input firebaseui-id-new-password"></div><a href="javascript:void(0)" class="firebaseui-input-floating-button firebaseui-id-password-toggle firebaseui-input-toggle-on firebaseui-input-toggle-blur"></a><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-new-password-error"></p></div></div>')}function fl(){var e='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="password">';return Zt((e={}.current?e+"Current password":e+"Password")+'</label><input type="password" name="password" autocomplete="current-password" class="mdl-textfield__input firebaseui-input firebaseui-id-password"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-password-error"></p></div>')}function ml(){return Zt('<a class="firebaseui-link firebaseui-id-secondary-link" href="javascript:void(0)">Trouble signing in?</a>')}function vl(e){var t='<button class="firebaseui-id-secondary-link firebaseui-button mdl-button mdl-js-button mdl-button--primary">';return t=(e=(e=e||{}).label)?t+Qt(e):t+"Cancel",Zt(t+"</button>")}function gl(e){var t="";return e.H&&e.G&&(t+='<ul class="firebaseui-tos-list firebaseui-tos"><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a></li><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a></li></ul>'),Zt(t)}function yl(e){var t="";return e.H&&e.G&&(t+='<p class="firebaseui-tos firebaseui-tospp-full-message">By continuing, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>.</p>'),Zt(t)}function bl(e){return e='<div class="firebaseui-info-bar firebaseui-id-info-bar"><p class="firebaseui-info-bar-message">'+Qt(e.message)+'&nbsp;&nbsp;<a href="javascript:void(0)" class="firebaseui-link firebaseui-id-dismiss-info-bar">Dismiss</a></p></div>',Zt(e)}function wl(e){var t=e.content;return e=e.lb,Zt('<dialog class="mdl-dialog firebaseui-dialog firebaseui-id-dialog'+(e?" "+rn(e):"")+'">'+Qt(t)+"</dialog>")}function El(e){var t=e.message;return Zt(wl({content:nn('<div class="firebaseui-dialog-icon-wrapper"><div class="'+rn(e.Ea)+' firebaseui-dialog-icon"></div></div><div class="firebaseui-progress-dialog-message">'+Qt(t)+"</div>")}))}function Cl(e){for(var t='<div class="firebaseui-list-box-actions">',n=(e=e.items).length,r=0;r<n;r++){var i=e[r];t+='<button type="button" data-listboxid="'+rn(i.id)+'" class="mdl-button firebaseui-id-list-box-dialog-button firebaseui-list-box-dialog-button">'+(i.Ea?'<div class="firebaseui-list-box-icon-wrapper"><div class="firebaseui-list-box-icon '+rn(i.Ea)+'"></div></div>':"")+'<div class="firebaseui-list-box-label-wrapper">'+Qt(i.label)+"</div></button>"}return t=""+wl({lb:tn("firebaseui-list-box-dialog"),content:nn(t+"</div>")}),Zt(t)}function Sl(e){return Zt((e=e||{}).Nb?'<div class="mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>':'<div class="mdl-progress mdl-js-progress mdl-progress__indeterminate firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>')}function _l(e){var t="";switch((e=e||{}).providerId){case"google.com":t+="Google";break;case"github.com":t+="GitHub";break;case"facebook.com":t+="Facebook";break;case"twitter.com":t+="Twitter";break;case"anonymous":t+="Guest";break;default:t+="Password"}return Jt(t)}function Tl(e){Il(e,"upgradeElement")}function kl(e){Il(e,"downgradeElements")}d(Ys),Ys.prototype.a=0,O(Xs,oa),(e=Xs.prototype).xb=Ys.Pa(),e.M=function(){return this.j},e.Ra=function(e){if(this.X&&this.X!=e)throw Error("Method not supported");Xs.o.Ra.call(this,e)},e.bb=function(){this.j=this.w.a.createElement("DIV")},e.render=function(e){if(this.ia)throw Error("Component already rendered");this.j||this.bb(),e?e.insertBefore(this.j,null):this.w.a.body.appendChild(this.j),this.X&&!this.X.ia||this.v()},e.v=function(){this.ia=!0,el(this,function(e){!e.ia&&e.M()&&e.v()})},e.sa=function(){el(this,function(e){e.ia&&e.sa()}),this.F&&Ns(this.F),this.ia=!1},e.l=function(){this.ia&&this.sa(),this.F&&(this.F.m(),delete this.F),el(this,function(e){e.m()}),this.j&&at(this.j),this.X=this.j=this.va=this.xa=null,Xs.o.l.call(this)},e.removeChild=function(e,t){if(e){var n=l(e)?e:e.Va||(e.Va=":"+(e.xb.a++).toString(36));if(e=this.va&&n&&(null!==(e=this.va)&&n in e?e[n]:void 0)||null,n&&e){var r=this.va;if(n in r&&delete r[n],$(this.xa,e),t&&(e.sa(),e.j&&at(e.j)),null==(t=e))throw Error("Unable to set parent component");t.X=null,Xs.o.Ra.call(t,null)}}if(!e)throw Error("Child is not in parent component");return e},bl.a="firebaseui.auth.soy2.element.infoBar",El.a="firebaseui.auth.soy2.element.progressDialog",Cl.a="firebaseui.auth.soy2.element.listBoxDialog",Sl.a="firebaseui.auth.soy2.element.busyIndicator";var xl=["mdl-js-textfield","mdl-js-progress","mdl-js-spinner","mdl-js-button"];function Il(e,t){e&&window.componentHandler&&window.componentHandler[t]&&M(xl,function(n){ms(e,n)&&window.componentHandler[t](e),M(et(n,e),function(e){window.componentHandler[t](e)})})}function Ol(e,t,n){if(Pl.call(this),document.body.appendChild(e),e.showModal||window.dialogPolyfill.registerDialog(e),e.showModal(),Tl(e),t&&il(this,e,function(t){var n=e.getBoundingClientRect();(t.clientX<n.left||n.left+n.width<t.clientX||t.clientY<n.top||n.top+n.height<t.clientY)&&Pl.call(this)}),!n){var r=this.M().parentElement||this.M().parentNode;if(r){var i=this;this.$=function(){if(e.open){var t=e.getBoundingClientRect().height,n=r.getBoundingClientRect().height,a=r.getBoundingClientRect().top-document.body.getBoundingClientRect().top,o=r.getBoundingClientRect().left-document.body.getBoundingClientRect().left,s=e.getBoundingClientRect().width,l=r.getBoundingClientRect().width;e.style.top=(a+(n-t)/2).toString()+"px",t=o+(l-s)/2,e.style.left=t.toString()+"px",e.style.right=(document.body.getBoundingClientRect().width-t-s).toString()+"px"}else window.removeEventListener("resize",i.$)},this.$(),window.addEventListener("resize",this.$,!1)}}}function Pl(){var e=Al.call(this);e&&(kl(e),e.open&&e.close(),at(e),this.$&&window.removeEventListener("resize",this.$))}function Al(){return tt("firebaseui-id-dialog")}function Dl(){at(Nl.call(this))}function Nl(){return Js(this,"firebaseui-id-info-bar")}function Ml(){return Js(this,"firebaseui-id-dismiss-info-bar")}var Rl={tb:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",rb:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/github.svg",ob:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/facebook.svg",Mb:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/twitter.svg",yb:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/mail.svg",Ab:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/phone.svg",jb:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/anonymous.png"};function Ll(e,t,n){for(var r in Zr.call(this,e,t),n)this[r]=n[r]}function Fl(e,t,n,r,i){Xs.call(this,n),this.Ya=e,this.Xa=t,this.ya=!1,this.Wa=r||null,this.u=this.ca=null,this.Y=se(Rl),ce(this.Y,i||{})}function Bl(e){return e.M().parentElement||e.M().parentNode}function jl(e,t,n){rl(e,t,function(){n.focus()})}function $l(e,t,n){rl(e,t,function(){n()})}function Vl(e,t,n){t=(e=e||{}).Na;var r=e.fa;return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in with email</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+ll(e)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(t?vl(null):"")+cl(null)+'</div></div><div class="firebaseui-card-footer">'+(r?yl(n):gl(n))+"</div></form></div>",Zt(e)}function ql(e,t,n){return t=(e=e||{}).fa,e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content">'+ll(e)+fl()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+ml()+'</div><div class="firebaseui-form-actions">'+ul()+'</div></div><div class="firebaseui-card-footer">'+(t?yl(n):gl(n))+"</div></form></div>",Zt(e)}function Ul(e,t,n){var r=(e=e||{}).Cb;t=e.La;var i=e.fa;return n='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-up"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Create account</h1></div><div class="firebaseui-card-content">'+ll(e)+(e=r?(e='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="name">First &amp; last name</label><input type="text" name="name" autocomplete="name" class="mdl-textfield__input firebaseui-input firebaseui-id-name" value="'+rn(null!=(e=(e=e||{}).name)?e:"")+'"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-name-error"></p></div>',Zt(e)):"")+pl(null)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(t?vl(null):"")+hl()+'</div></div><div class="firebaseui-card-footer">'+(i?yl(n):gl(n))+"</div></form></div>",Zt(n)}function Hl(e,t,n){return t=(e=e||{}).La,e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Recover password</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Get instructions sent to this email that explain how to reset your password</p>'+ll(e)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(t?vl(null):"")+cl({label:tn("Send")})+'</div></div><div class="firebaseui-card-footer">'+gl(n)+"</div></form></div>",Zt(e)}function zl(e,t,n){t=e.S;var r="";return r+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery-email-sent"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Check your email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(e="Follow the instructions sent to <strong>"+Qt(e.email)+"</strong> to recover your password")+'</p></div><div class="firebaseui-card-actions">',t&&(r+='<div class="firebaseui-form-actions">'+cl({label:tn("Done")})+"</div>"),r+='</div><div class="firebaseui-card-footer">'+gl(n)+"</div></div>",Zt(r)}function Wl(e,t,n){return Zt('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-callback"><div class="firebaseui-callback-indicator-container">'+Sl(null)+"</div></div>")}function Kl(){return Zt('<div class="firebaseui-container firebaseui-id-page-blank firebaseui-use-spinner"></div>')}function Gl(e,t,n){return t="",t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-sent"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign-in email sent</h1></div><div class="firebaseui-card-content"><div class="firebaseui-email-sent"></div><p class="firebaseui-text">'+(e="A sign-in email with additional instructions was sent to <strong>"+Qt(e.email)+"</strong>. Check your email to complete sign-in.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+Zt('<a class="firebaseui-link firebaseui-id-trouble-getting-email-link" href="javascript:void(0)">Trouble getting email?</a>')+'</div><div class="firebaseui-form-actions">'+vl({label:tn("Back")})+'</div></div><div class="firebaseui-card-footer">'+gl(n)+"</div></form></div>",Zt(t)}function Ql(e,t,n){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-not-received"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Trouble getting email?</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try these common fixes:<ul><li>Check if the email was marked as spam or filtered.</li><li>Check your internet connection.</li><li>Check that you did not misspell your email.</li><li>Check that your inbox space is not running out or other inbox settings related issues.</li></ul></p><p class="firebaseui-text">If the steps above didn\'t work, you can resend the email. Note that this will deactivate the link in the older email.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+Zt('<a class="firebaseui-link firebaseui-id-resend-email-link" href="javascript:void(0)">Resend</a>')+'</div><div class="firebaseui-form-actions">'+vl({label:tn("Back")})+'</div></div><div class="firebaseui-card-footer">'+gl(n)+"</div></form></div>",Zt(e)}function Yl(e,t,n){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-confirmation"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Confirm email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Confirm your email to complete sign in</p><div class="firebaseui-relative-wrapper">'+ll(e)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+vl(null)+cl(null)+'</div></div><div class="firebaseui-card-footer">'+gl(n)+"</div></form></div>",Zt(e)}function Xl(){var e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-different-device-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">New device or browser detected</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try opening the link using the same device or browser where you started the sign-in process.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+vl({label:tn("Dismiss")})+"</div></div></div>";return Zt(e)}function Jl(){var e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-anonymous-user-mismatch"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Session ended</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">The session associated with this sign-in request has either expired or was cleared.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+vl({label:tn("Dismiss")})+"</div></div></div>";return Zt(e)}function Zl(e,t,n){return t="",t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+(e="Youve already used <strong>"+Qt(e.email)+"</strong> to sign in. Enter your password for that account.")+"</p>"+fl()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+ml()+'</div><div class="firebaseui-form-actions">'+ul()+'</div></div><div class="firebaseui-card-footer">'+gl(n)+"</div></form></div>",Zt(t)}function ec(e,t,n){var r=e.email;return e=tn(e=(t="")+_l(e)),t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text firebaseui-text-justify">'+(r="Youve already used <strong>"+Qt(r)+"</strong>. You can connect your <strong>"+Qt(e)+"</strong> account with <strong>"+Qt(r)+"</strong> by signing in with email link below.")+'<p class="firebaseui-text firebaseui-text-justify">'+(e="For this flow to successfully connect your "+Qt(e)+" account with this email, you have to open the link on the same device or browser.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ul()+'</div></div><div class="firebaseui-card-footer">'+gl(n)+"</div></form></div>",Zt(t)}function tc(e,t,n){var r=(t="")+_l(e);return t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking-different-device"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text firebaseui-text-justify">'+(e="You originally intended to connect <strong>"+Qt(r=tn(r))+"</strong> to your email account but have opened the link on a different device where you are not signed in.")+'</p><p class="firebaseui-text firebaseui-text-justify">'+(r="If you still want to connect your <strong>"+Qt(r)+"</strong> account, open the link on the same device where you started sign-in. Otherwise, tap Continue to sign-in on this device.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+dl()+'</div></div><div class="firebaseui-card-footer">'+gl(n)+"</div></form></div>",Zt(t)}function nc(e,t,n){var r=e.email;return e=tn(e=(t="")+_l(e)),t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-federated-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+(r="Youve already used <strong>"+Qt(r)+"</strong>. Sign in with "+Qt(e)+" to continue.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+cl({label:tn("Sign in with "+e)})+'</div></div><div class="firebaseui-card-footer">'+gl(n)+"</div></form></div>",Zt(t)}function rc(e){var t="";return t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Reset your password</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">for <strong>'+Qt(e.email)+"</strong></p>"+pl(function(e){function t(){}var n={label:tn("New password")};for(var r in t.prototype=e,e=new t,n)e[r]=n[r];return e}(e))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+hl()+"</div></div></form></div>",Zt(t)}function ic(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Password changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new password</p></div><div class="firebaseui-card-actions">'+((e=e||{}).S?'<div class="firebaseui-form-actions">'+dl()+"</div>":"")+"</div></div>",Zt(e)}function ac(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try resetting your password again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to reset your password has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+((e=e||{}).S?'<div class="firebaseui-form-actions">'+cl(null)+"</div>":"")+"</div></div>",Zt(e)}function oc(e){var t=e.S,n="";return n+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Updated email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(e="Your sign-in email address has been changed back to <strong>"+Qt(e.email)+"</strong>.")+'</p><p class="firebaseui-text">If you didnt ask to change your sign-in email, its possible someone is trying to access your account and you should <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">change your password right away</a>.</p></div><div class="firebaseui-card-actions">'+(t?'<div class="firebaseui-form-actions">'+cl(null)+"</div>":"")+"</div></form></div>",Zt(n)}function sc(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Unable to update your email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">There was a problem changing your sign-in email back.</p><p class="firebaseui-text">If you try again and still cant reset your email, try asking your administrator for help.</p></div><div class="firebaseui-card-actions">'+((e=e||{}).S?'<div class="firebaseui-form-actions">'+cl(null)+"</div>":"")+"</div></div>",Zt(e)}function lc(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new account</p></div><div class="firebaseui-card-actions">'+((e=e||{}).S?'<div class="firebaseui-form-actions">'+dl()+"</div>":"")+"</div></div>",Zt(e)}function cc(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try verifying your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify your email has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+((e=e||{}).S?'<div class="firebaseui-form-actions">'+cl(null)+"</div>":"")+"</div></div>",Zt(e)}function uc(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unrecoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+Qt(e.errorMessage)+"</p></div></div>",Zt(e)}function hc(e,t,n){var r=e.zb;return t="",t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-mismatch"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">'+(e="Continue with "+Qt(e.Ob)+"?")+'</h2><p class="firebaseui-text">'+(r="You originally wanted to sign in with "+Qt(r))+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+vl(null)+cl({label:tn("Continue")})+'</div></div><div class="firebaseui-card-footer">'+gl(n)+"</div></form></div>",Zt(t)}function dc(e,t,n){var r='<div class="firebaseui-container firebaseui-page-provider-sign-in firebaseui-id-page-provider-sign-in firebaseui-use-spinner"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-idp-list">';t=(e=e.Bb).length;for(var i=0;i<t;i++){var a={providerId:e[i]},o=n,s=a.providerId,l=a,c="";switch((l=l||{}).providerId){case"google.com":c+="firebaseui-idp-google";break;case"github.com":c+="firebaseui-idp-github";break;case"facebook.com":c+="firebaseui-idp-facebook";break;case"twitter.com":c+="firebaseui-idp-twitter";break;case"phone":c+="firebaseui-idp-phone";break;case"anonymous":c+="firebaseui-idp-anonymous";break;default:c+="firebaseui-idp-password"}l='<button class="firebaseui-idp-button mdl-button mdl-js-button mdl-button--raised '+rn(Jt(c))+' firebaseui-id-idp-button" data-provider-id="'+rn(s)+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="';var u="";switch((c=(c=a)||{}).providerId){case"google.com":u+=an(o.tb);break;case"github.com":u+=an(o.rb);break;case"facebook.com":u+=an(o.ob);break;case"twitter.com":u+=an(o.Mb);break;case"phone":u+=an(o.Ab);break;case"anonymous":u+=an(o.jb);break;default:u+=an(o.yb)}l=l+rn(an(o=en(u)))+'"></span>',l+="password"==s?'<span class="firebaseui-idp-text firebaseui-idp-text-long">Sign in with email</span><span class="firebaseui-idp-text firebaseui-idp-text-short">Email</span>':"phone"==s?'<span class="firebaseui-idp-text firebaseui-idp-text-long">Sign in with phone</span><span class="firebaseui-idp-text firebaseui-idp-text-short">Phone</span>':"anonymous"==s?'<span class="firebaseui-idp-text firebaseui-idp-text-long">Continue as guest</span><span class="firebaseui-idp-text firebaseui-idp-text-short">Guest</span>':'<span class="firebaseui-idp-text firebaseui-idp-text-long">'+(s="Sign in with "+Qt(_l(a)))+'</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+Qt(_l(a))+"</span>",r+='<li class="firebaseui-list-item">'+(a=Zt(l+"</button>"))+"</li>"}return r+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+yl(n)+"</div></div>",Zt(r)}function pc(e,t,n){var r,i=(e=e||{}).nb,a=e.Na;return t=e.fa,e='<div class="firebaseui-phone-number"><button class="firebaseui-id-country-selector firebaseui-country-selector mdl-button mdl-js-button"><span class="firebaseui-flag firebaseui-country-selector-flag firebaseui-id-country-selector-flag"></span><span class="firebaseui-id-country-selector-code"></span></button><div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label firebaseui-textfield firebaseui-phone-input-wrapper"><label class="mdl-textfield__label firebaseui-label" for="phoneNumber">Phone number</label><input type="tel" name="phoneNumber" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-number" value="'+rn(null!=(e=(e=e||{}).ta)?e:"")+'"></div></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-phone-number-error firebaseui-id-phone-number-error"></p></div>',r=(e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-start"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Enter your phone number</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+Zt(e))+(r=i?Zt('<div class="firebaseui-recaptcha-wrapper"><div class="firebaseui-recaptcha-container"></div><div class="firebaseui-error-wrapper firebaseui-recaptcha-error-wrapper"><p class="firebaseui-error firebaseui-hidden firebaseui-id-recaptcha-error"></p></div></div>'):"")+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(a?vl(null):"")+cl({label:tn("Verify")})+'</div></div><div class="firebaseui-card-footer">',n=t?(t='<p class="firebaseui-tos firebaseui-phone-tos">',t=n.H&&n.G?t+'By tapping Verify, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>. An SMS may be sent. Message &amp; data rates may apply.':t+"By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.",Zt(t+"</p>")):Zt('<p class="firebaseui-tos firebaseui-phone-sms-notice">By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.</p>')+gl(n),Zt(r+n+"</div></form></div>")}function fc(e,t,n){var r="";return e='Enter the 6-digit code we sent to <a class="firebaseui-link firebaseui-change-phone-number-link firebaseui-id-change-phone-number-link" href="javascript:void(0)">&lrm;'+Qt(t=(e=e||{}).phoneNumber)+"</a>",Qt(t),t=r,n='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-finish"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Verify your phone number</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+e+"</p>"+(r=Zt('<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="phoneConfirmationCode">6-digit code</label><input type="number" name="phoneConfirmationCode" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-confirmation-code"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-phone-confirmation-code-error"></p></div>'))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+vl(null)+cl({label:tn("Continue")})+'</div></div><div class="firebaseui-card-footer">'+gl(n)+"</div></form>",e=Zt('<div class="firebaseui-resend-container"><span class="firebaseui-id-resend-countdown"></span><a href="javascript:void(0)" class="firebaseui-id-resend-link firebaseui-hidden firebaseui-link">Resend</a></div>'),Zt(t+(n+e+"</div>"))}function mc(){return Js(this,"firebaseui-id-submit")}function vc(){return Js(this,"firebaseui-id-secondary-link")}function gc(e,t){il(this,mc.call(this),function(t){e(t)});var n=vc.call(this);n&&t&&il(this,n,function(e){t(e)})}function yc(){return Js(this,"firebaseui-id-password")}function bc(){return Js(this,"firebaseui-id-password-error")}function wc(){var e=yc.call(this),t=bc.call(this);nl(this,e,function(){sl(t)&&(tl(e,!0),al(t))})}function Ec(){var e=yc.call(this),t=bc.call(this);return(t=ys(e)?(tl(e,!0),al(t),!0):(tl(e,!1),ol(t,Jt("Enter your password").toString()),!1))?ys(e):null}function Cc(e,t,n,r,i,a){Fl.call(this,Zl,{email:e},a,"passwordLinking",{H:r,G:i}),this.a=t,this.K=n}O(Ll,Zr),O(Fl,Xs),(e=Fl.prototype).bb=function(){var e=zt(this.Ya,this.Xa,this.Y,this.w);Tl(e),this.j=e},e.v=function(){if(Fl.o.v.call(this),ha(Bl(this),new Ll("pageEnter",Bl(this),{pageId:this.Wa})),this.Ua()&&this.Y.H){var e=this.Y.H;il(this,this.Ua(),function(){e()})}if(this.Sa()&&this.Y.G){var t=this.Y.G;il(this,this.Sa(),function(){t()})}},e.sa=function(){ha(Bl(this),new Ll("pageExit",Bl(this),{pageId:this.Wa})),Fl.o.sa.call(this)},e.l=function(){window.clearTimeout(this.ca),this.Xa=this.Ya=this.ca=null,this.ya=!1,this.u=null,kl(this.M()),Fl.o.l.call(this)},e.L=function(e,t,n,r){function i(){if(a.N)return null;a.ya=!1,window.clearTimeout(a.ca),a.ca=null,a.u&&(kl(a.u),at(a.u),a.u=null)}var a=this;return a.ya?null:(function(e){e.ya=!0;var t=ms(e.M(),"firebaseui-use-spinner");e.ca=window.setTimeout(function(){e.M()&&null===e.u&&(e.u=zt(Sl,{Nb:t},null,e.w),e.M().appendChild(e.u),Tl(e.u))},500)}(a),e.apply(null,t).then(n,r).then(i,i))},T(Fl.prototype,{g:function(e){Dl.call(this);var t=zt(bl,{message:e},null,this.w);this.M().appendChild(t),il(this,Ml.call(this),function(){at(t)})},cc:Dl,fc:Nl,ec:Ml,V:function(e,t){e=zt(El,{Ea:e,message:t},null,this.w),Ol.call(this,e)},h:Pl,kb:Al,hc:function(){return Js(this,"firebaseui-tos")},Ua:function(){return Js(this,"firebaseui-tos-link")},Sa:function(){return Js(this,"firebaseui-pp-link")},ic:function(){return Js(this,"firebaseui-tos-list")}}),Vl.a="firebaseui.auth.soy2.page.signIn",ql.a="firebaseui.auth.soy2.page.passwordSignIn",Ul.a="firebaseui.auth.soy2.page.passwordSignUp",Hl.a="firebaseui.auth.soy2.page.passwordRecovery",zl.a="firebaseui.auth.soy2.page.passwordRecoveryEmailSent",Wl.a="firebaseui.auth.soy2.page.callback",Kl.a="firebaseui.auth.soy2.page.blank",Gl.a="firebaseui.auth.soy2.page.emailLinkSignInSent",Ql.a="firebaseui.auth.soy2.page.emailNotReceived",Yl.a="firebaseui.auth.soy2.page.emailLinkSignInConfirmation",Xl.a="firebaseui.auth.soy2.page.differentDeviceError",Jl.a="firebaseui.auth.soy2.page.anonymousUserMismatch",Zl.a="firebaseui.auth.soy2.page.passwordLinking",ec.a="firebaseui.auth.soy2.page.emailLinkSignInLinking",tc.a="firebaseui.auth.soy2.page.emailLinkSignInLinkingDifferentDevice",nc.a="firebaseui.auth.soy2.page.federatedLinking",rc.a="firebaseui.auth.soy2.page.passwordReset",ic.a="firebaseui.auth.soy2.page.passwordResetSuccess",ac.a="firebaseui.auth.soy2.page.passwordResetFailure",oc.a="firebaseui.auth.soy2.page.emailChangeRevokeSuccess",sc.a="firebaseui.auth.soy2.page.emailChangeRevokeFailure",lc.a="firebaseui.auth.soy2.page.emailVerificationSuccess",cc.a="firebaseui.auth.soy2.page.emailVerificationFailure",uc.a="firebaseui.auth.soy2.page.unrecoverableError",hc.a="firebaseui.auth.soy2.page.emailMismatch",dc.a="firebaseui.auth.soy2.page.providerSignIn",pc.a="firebaseui.auth.soy2.page.phoneSignInStart",fc.a="firebaseui.auth.soy2.page.phoneSignInFinish",O(Cc,Fl),Cc.prototype.v=function(){this.P(),this.O(this.a,this.K),$l(this,this.i(),this.a),this.i().focus(),Cc.o.v.call(this)},Cc.prototype.l=function(){this.a=null,Cc.o.l.call(this)},Cc.prototype.I=function(){return ys(Js(this,"firebaseui-id-email"))},T(Cc.prototype,{i:yc,C:bc,P:wc,A:Ec,Z:mc,aa:vc,O:gc});var Sc=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;function _c(){return Js(this,"firebaseui-id-email")}function Tc(){return Js(this,"firebaseui-id-email-error")}function kc(e){var t=_c.call(this),n=Tc.call(this);nl(this,t,function(){sl(n)&&(tl(t,!0),al(n))}),e&&rl(this,t,function(){e()})}function xc(){return W(ys(_c.call(this))||"")}function Ic(){var e=_c.call(this),t=Tc.call(this),n=ys(e)||"";return(t=n?Sc.test(n)?(tl(e,!0),al(t),!0):(tl(e,!1),ol(t,Jt("That email address isn't correct").toString()),!1):(tl(e,!1),ol(t,Jt("Enter your email address to continue").toString()),!1))?W(ys(e)):null}function Oc(e,t,n,r,i,a,o){Fl.call(this,ql,{email:n,fa:!!a},o,"passwordSignIn",{H:r,G:i}),this.a=e,this.K=t}function Pc(e,t,n,r,i,a){Fl.call(this,e,t,r,i||"notice",a),this.a=n||null}function Ac(e,t,n,r,i){Pc.call(this,zl,{email:e,S:!!t},t,i,"passwordRecoveryEmailSent",{H:n,G:r})}function Dc(e,t){Pc.call(this,lc,{S:!!e},e,t,"emailVerificationSuccess")}function Nc(e,t){Pc.call(this,cc,{S:!!e},e,t,"emailVerificationFailure")}function Mc(e,t){Pc.call(this,ic,{S:!!e},e,t,"passwordResetSuccess")}function Rc(e,t){Pc.call(this,ac,{S:!!e},e,t,"passwordResetFailure")}function Lc(e,t){Pc.call(this,sc,{S:!!e},e,t,"emailChangeRevokeFailure")}function Fc(e,t){Pc.call(this,uc,{errorMessage:e},void 0,t,"unrecoverableError")}O(Oc,Fl),Oc.prototype.v=function(){this.P(),this.Z(),this.aa(this.a,this.K),jl(this,this.s(),this.i()),$l(this,this.i(),this.a),ys(this.s())?this.i().focus():this.s().focus(),Oc.o.v.call(this)},Oc.prototype.l=function(){this.K=this.a=null,Oc.o.l.call(this)},T(Oc.prototype,{s:_c,T:Tc,P:kc,O:xc,I:Ic,i:yc,C:bc,Z:wc,A:Ec,qa:mc,pa:vc,aa:gc}),O(Pc,Fl),Pc.prototype.v=function(){this.a&&(this.s(this.a),this.i().focus()),Pc.o.v.call(this)},Pc.prototype.l=function(){this.a=null,Pc.o.l.call(this)},T(Pc.prototype,{i:mc,A:vc,s:gc}),O(Ac,Pc),O(Dc,Pc),O(Nc,Pc),O(Mc,Pc),O(Rc,Pc),O(Lc,Pc),O(Fc,Pc);var Bc=!1,jc=null;function $c(e,t){Bc=!!t,jc||(jc="undefined"==typeof accountchooser&&function(){var e=window.navigator&&window.navigator.userAgent;if(e){var t;if(t=e.match(is)){var n=new ds(t[3]||t[1]);return!(0<=e.indexOf("Opera Mini"))&&(0<=e.indexOf("Opera Mobi")?0<=e.indexOf("Android")&&ps(n,"10.1"):ps(n,"8.0"))}if(t=e.match(rs))return ps(new ds(t[1]),"2.0");if(t=e.match(as))return ps(new ds(t[1]),"6.0");if(t=e.match(os))return n=new ds(t[6]),e=t[3]&&new ds(t[3]),t=t[5]&&new ds(t[5],"_"),(!(!e||!ps(e,"6.0"))||!(!t||!ps(t,"10.5.6")))&&ps(n,"3.0");if(t=e.match(ls))return ps(new ds(t[1]),"3.0");if(t=e.match(cs))return ps(new ds(t[1],"_"),"4.0");if(t=e.match(us))return ps(new ds(t[1]),"4.7");if(t=e.match(hs))return n=new ds(t[1]),e=new ds(t[2]),ps(n,"7.0")&&ps(e,"7.0");if(t=e.match(ns))return n=new ds(t[1]),e=new ds(t[2]),ps(n,"7.0")&&ps(e,"6.0");if(e.match(ss))return!1}return!0}()?Rr(Nr(_a(t=Fe(Ae(new Pe(Ne,"//www.gstatic.com/accountchooser/client.js"))))),function(){}):Nr()),jc.then(e,e)}function Vc(e,t){(e=ea(e=gh(e)).accountChooserInvoked||null)?e(t):t()}function qc(e,t,n){(e=ea(e=gh(e)).accountChooserResult||null)?e(t,n):n()}function Uc(e,t,n,r){function i(){var t=e();t&&(t=Yi(gh(t)))&&t()}var a,o,s,l,c;a=function(){var a,o,s,l,c=e();c&&(a=c,o=t,s=i,l=r,n?(ts("callback",a,o),Bc&&s()):Vc(a,function(){Ho(uh(a)),Ko(function(e){Lo(Oo,uh(a)),qc(a,e?"empty":"unavailable",function(){ts("signIn",a,o),(e||Bc)&&s()})},Vo(uh(a)),l)}))},o=function(n){var r=e();r&&function(e,t,n,r){function i(e){e=Kc(e),Xc(t,n,void 0,e),r()}qc(t,"accountSelected",function(){$o(!1,uh(t));var a=Qc(t);mh(t,lh(t).fetchSignInMethodsForEmail(e.a).then(function(i){Zc(t,n,i,e.a,e.h||void 0,void 0,a),r()},i))})}(n,r,t,i)},s=function(n){var r,a,o,s,l=e();l&&(o=t,s=i,qc(a=l,(r=n)?"addAccount":"unavailable",function(){ts("signIn",a,o),(r||Bc)&&s()}))},l=e()&&(gh(e()).a.get("acUiConfig")||null),zo||(a={callbacks:{empty:a,select:function(e,t){e&&e.account&&o?o(Ra(e.account)):s&&s(!Wo(t))},store:a,update:a},language:"en",providers:void 0,ui:l},"undefined"!=typeof accountchooser&&accountchooser.Api&&accountchooser.Api.init?zo=accountchooser.Api.init(a):g((c=zo=new Go(a)).a.callbacks.empty)&&c.a.callbacks.empty())}function Hc(e,t,n,r){function i(n){if(!n.name||"cancel"!=n.name){e:{var r=n.message;try{var i=((JSON.parse(r).error||{}).message||"").toLowerCase().match(/invalid.+(access|id)_token/);if(i&&i.length){var a=!0;break e}}catch(n){}a=!1}if(a)n=Bl(t),t.m(),Xc(e,n,void 0,Jt("Your sign-in session has expired. Please try again.").toString());else{if(a=n&&n.message||"",n.code){if("auth/email-already-in-use"==n.code||"auth/credential-already-in-use"==n.code)return;a=Kc(n)}t.g(a)}}}if(vh(e),r)return zc(e,n),Nr();if(!n.credential)throw Error("No credential found!");if(!(r=lh(e).currentUser||n.user))throw Error("User not logged in.");var a,o,s,l,c,u;r=new Ma(r.email,r.displayName,r.photoURL,"password"==n.credential.providerId?null:n.credential.providerId),null!=Ro(Ao,uh(e))&&!Ro(Ao,uh(e))||(a=r,-1<(l=B(s=Vo(o=uh(e)),function(e){return e.a==a.a&&(e.g||null)==(a.g||null)}))&&V(s,l),s.unshift(a),Fo(Do,L(s,function(e){return e.ja()}),o)),Lo(Ao,uh(e));try{var h=(u=n,yh(c=e),ph(c,function(e){if(c.h&&!c.h.isAnonymous&&Bi(gh(c))&&!lh(c).currentUser)return wh(c).then(function(){return"password"==u.credential.providerId&&(u.credential=null),u});if(e)return wh(c).then(function(){return e.linkAndRetrieveDataWithCredential(u.credential)}).then(function(e){return u.user=e.user,u.credential=e.credential,u.operationType=e.operationType,u.additionalUserInfo=e.additionalUserInfo,u},function(e){if(e&&"auth/email-already-in-use"==e.code&&e.email&&e.credential)throw e;return Eh(c,e,u.credential)});if(!u.user)throw Error('Internal error: An incompatible or outdated version of "firebase.js" may be used.');return wh(c).then(function(){return ch(c).updateCurrentUser(u.user)}).then(function(){return u.user=ch(c).currentUser,u.operationType="signIn",u.credential&&u.credential.providerId&&"password"==u.credential.providerId&&(u.credential=null),u})}))}catch(n){return sr(n.code||n.message,n),t.g(n.code||n.message),Nr()}return n=h.then(function(t){zc(e,t)},i).then(void 0,i),mh(e,h),Nr(n)}function zc(e,t){if(!t.user)throw Error("No user found");var n=Ji(gh(e));if(Xi(gh(e))&&n&&hr("Both signInSuccess and signInSuccessWithAuthResult callbacks are provided. Only signInSuccessWithAuthResult callback will be invoked."),n){n=Ji(gh(e));var r=Bo(uh(e))||void 0;Lo(Po,uh(e));var i=!1;Ti()?(n&&!n(t,r)||(i=!0,window.opener.location.assign(je(Ve(Wc(e,r))))),n||window.close()):n&&!n(t,r)||(i=!0,_i(Wc(e,r))),i||e.reset()}else{n=t.user,t=t.credential,r=Xi(gh(e)),i=Bo(uh(e))||void 0,Lo(Po,uh(e));var a=!1;Ti()?(r&&!r(n,t,i)||(a=!0,window.opener.location.assign(je(Ve(Wc(e,i))))),r||window.close()):r&&!r(n,t,i)||(a=!0,_i(Wc(e,i))),a||e.reset()}}function Wc(e,t){if(!(e=t||gh(e).a.get("signInSuccessUrl")))throw Error("No redirect URL has been found. You must either specify a signInSuccessUrl in the configuration, pass in a redirect URL to the widget URL, or return false from the callback.");return e}function Kc(e){var t="";switch(e.code){case"auth/email-already-in-use":t+="The email address is already used by another account";break;case"auth/requires-recent-login":t+=yn();break;case"auth/too-many-requests":t+="You have entered an incorrect password too many times. Please try again in a few minutes.";break;case"auth/user-cancelled":t+="Please authorize the required permissions to sign in to the application";break;case"auth/user-not-found":t+="That email address doesn't match an existing account";break;case"auth/user-token-expired":t+=yn();break;case"auth/weak-password":t+="Strong passwords have at least 6 characters and a mix of letters and numbers";break;case"auth/wrong-password":t+="The email and password you entered don't match";break;case"auth/network-request-failed":t+="A network error has occurred";break;case"auth/invalid-phone-number":t+=mn();break;case"auth/invalid-verification-code":t+=Jt("Wrong code. Try again.");break;case"auth/code-expired":t+="This code is no longer valid";break;case"auth/expired-action-code":t+="This code has expired.";break;case"auth/invalid-action-code":t+="The action code is invalid. This can happen if the code is malformed, expired, or has already been used."}if(t=Jt(t).toString())return t;try{return JSON.parse(e.message),sr("Internal error: "+e.message,void 0),vn().toString()}catch(t){return e.message}}function Gc(e,t,n,r){function i(){Ho(uh(e)),mh(e,t.L(S(e.Kb,e),[h],function(){if("file:"===(window.location&&window.location.protocol))return mh(e,ih(e).then(function(n){t.m(),Lo(Oo,uh(e)),ts("callback",e,u,Nr(n))},o))},s))}function o(n){if(Lo(Oo,uh(e)),!n.name||"cancel"!=n.name)switch(n.code){case"auth/popup-blocked":i();break;case"auth/popup-closed-by-user":case"auth/cancelled-popup-request":case"auth/credential-already-in-use":break;case"auth/network-request-failed":case"auth/too-many-requests":case"auth/user-cancelled":t.g(Kc(n));break;default:t.m(),ts("callback",e,u,Mr(n))}}function s(n){Lo(Oo,uh(e)),n.name&&"cancel"==n.name||(sr("signInWithRedirect: "+n.code,void 0),n=Kc(n),t.g(n))}var l,c,u=Bl(t),h=function(e,t,n){var r=$n[t]&&a.auth[$n[t]]?new a.auth[$n[t]]:null;if(!r)throw Error("Invalid Firebase Auth provider!");var i=qi(gh(e),t);if(r&&r.addScope)for(var o=0;o<i.length;o++)r.addScope(i[o]);return e=Ui(gh(e),t),t==a.auth.GoogleAuthProvider.PROVIDER_ID&&n&&((e=e||{}).login_hint=n),e&&r&&r.setCustomParameters&&r.setCustomParameters(e),r}(e,n,r);"redirect"==function(e){for(var t in e=e.a.get("signInFlow"),Di)if(Di[t]==e)return Di[t];return"redirect"}(gh(e))?i():mh(e,(l=e,c=h,yh(l),ph(l,function(e){return e&&!qo(uh(l))?e.linkWithPopup(c).then(function(e){return e},function(e){if(e&&"auth/email-already-in-use"==e.code&&e.email&&e.credential)throw e;return Eh(l,e)}):lh(l).signInWithPopup(c)})).then(function(n){t.m(),ts("callback",e,u,Nr(n))},o))}function Qc(e){return 1==(e=Vi(gh(e))).length&&e[0]==a.auth.EmailAuthProvider.PROVIDER_ID}function Yc(e){return 1==(e=Vi(gh(e))).length&&e[0]==a.auth.PhoneAuthProvider.PROVIDER_ID}function Xc(e,t,n,r){Qc(e)?r?ts("signIn",e,t,n,r):tu(e,t,n):e&&Yc(e)&&!r?ts("phoneSignInStart",e,t):ts("providerSignIn",e,t,r)}function Jc(e,t,n,r){var i=Bl(t);mh(e,t.L(S(lh(e).fetchSignInMethodsForEmail,lh(e)),[n],function(a){$o(ta(gh(e))==Pi,uh(e)),t.m(),Zc(e,i,a,n,void 0,r)},function(e){e=Kc(e),t.g(e)}))}function Zc(e,t,n,r,i,o,s){n.length||Qi(gh(e))?!n.length&&Qi(gh(e))?ts("sendEmailLinkForSignIn",e,t,r,function(){ts("signIn",e,t)}):j(n,a.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?ts("passwordSignIn",e,t,r,s):1==n.length&&n[0]===a.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?ts("sendEmailLinkForSignIn",e,t,r,function(){ts("signIn",e,t)}):(n=Bn(n),Uo(new Va(r),uh(e)),ts("federatedSignIn",e,t,r,n,o)):ts("passwordSignUp",e,t,r,i,void 0,s)}function eu(e,t,n,r,i,a){var o=Bl(t);mh(e,t.L(S(e.qb,e),[n,a],function(){t.m(),ts("emailLinkSignInSent",e,o,n,r,a)},i))}function tu(e,t,n){ta(gh(e))==Pi?$c(function(){zo?Vc(e,function(){Ho(uh(e)),Ko(function(r){Lo(Oo,uh(e)),qc(e,r?"empty":"unavailable",function(){ts("signIn",e,t,n)})},Vo(uh(e)),Li(gh(e)))}):(yh(e),Uc(sh,t,!1,Li(gh(e))))},!1):(Bc=!1,Vc(e,function(){qc(e,"unavailable",function(){ts("signIn",e,t,n)})}))}function nu(e){var t=Ii();return(t=bt(t,e=_n(gh(e).a,"queryParameterForSignInSuccessUrl")))?je(Ve(t)):null}function ru(){return bt(Ii(),"oobCode")}function iu(){var e=bt(Ii(),"continueUrl");return e?function(){_i(e)}:null}function au(e,t){Fl.call(this,Jl,void 0,t,"anonymousUserMismatch"),this.a=e}function ou(e){Fl.call(this,Wl,void 0,e,"callback")}function su(e,t,n){if(n.user){var r={user:n.user,credential:n.credential,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo},i=qo(uh(e)),a=i&&i.g;if(a&&!function(e,t){if(t==e.email)return!0;if(e.providerData)for(var n=0;n<e.providerData.length;n++)if(t==e.providerData[n].email)return!0;return!1}(n.user,a))s=e,c=r,u=Bl(l=t),mh(s,wh(s).then(function(){l.m(),ts("emailMismatch",s,u,c)},function(e){e.name&&"cancel"==e.name||(e=Kc(e.code),l.g(e))}));else{var o=i&&i.a;o?mh(e,n.user.linkAndRetrieveDataWithCredential(o).then(function(n){r={user:n.user,credential:o,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo},lu(e,t,r)},function(n){cu(e,t,n)})):lu(e,t,r)}}else n=Bl(t),t.m(),Lo(Io,uh(e)),Xc(e,n);var s,l,c,u}function lu(e,t,n){Lo(Io,uh(e)),Hc(e,t,n)}function cu(e,t,n){var r=Bl(t);Lo(Io,uh(e)),n=Kc(n),t.m(),Xc(e,r,void 0,n)}function uu(e,t,n,r){var i=Bl(t);mh(e,lh(e).fetchSignInMethodsForEmail(n).then(function(o){t.m(),o.length?j(o,a.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?ts("passwordLinking",e,i,n):1==o.length&&o[0]===a.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?ts("emailLinkSignInLinking",e,i,n):ts("federatedLinking",e,i,n,Bn(o),r):(Lo(Io,uh(e)),ts("passwordRecovery",e,i,n,!1,gn().toString()))},function(n){cu(e,t,n)}))}function hu(e,t){Fl.call(this,Xl,void 0,t,"differentDeviceError"),this.a=e}function du(e,t,n,r){Fl.call(this,oc,{email:e,S:!!n},r,"emailChangeRevoke"),this.i=t,this.a=n||null}function pu(){return Js(this,"firebaseui-id-new-password")}function fu(){return Js(this,"firebaseui-id-password-toggle")}function mu(){this.Ja=!this.Ja;var e=fu.call(this),t=pu.call(this);this.Ja?(t.type="text",vs(e,"firebaseui-input-toggle-off"),gs(e,"firebaseui-input-toggle-on")):(t.type="password",vs(e,"firebaseui-input-toggle-on"),gs(e,"firebaseui-input-toggle-off")),t.focus()}function vu(){return Js(this,"firebaseui-id-new-password-error")}function gu(){this.Ja=!1;var e=pu.call(this);e.type="password";var t=vu.call(this);nl(this,e,function(){sl(t)&&(tl(e,!0),al(t))});var n,r,i,a,o=fu.call(this);vs(o,"firebaseui-input-toggle-on"),gs(o,"firebaseui-input-toggle-off"),r=function(){vs(o,"firebaseui-input-toggle-focus"),gs(o,"firebaseui-input-toggle-blur")},Xr(this,_(Jr,n=new xs(n=e))),Ds(Zs(this),n,"focusin",r),a=function(){vs(o,"firebaseui-input-toggle-blur"),gs(o,"firebaseui-input-toggle-focus")},Xr(this,_(Jr,i=new xs(i=e))),Ds(Zs(this),i,"focusout",a),il(this,o,S(mu,this))}function yu(){var e=pu.call(this),t=vu.call(this);return(t=ys(e)?(tl(e,!0),al(t),!0):(tl(e,!1),ol(t,Jt("Enter your password").toString()),!1))?ys(e):null}function bu(e,t,n){Fl.call(this,rc,{email:e},n,"passwordReset"),this.a=t}function wu(e,t,n,r){"auth/weak-password"==(r&&r.code)?(e=Kc(r),tl(n.i(),!1),ol(n.A(),e),n.i().focus()):(n&&n.m(),(n=new Rc).render(t),ah(e,n))}function Eu(e,t){try{var n="number"==typeof e.selectionStart}catch(e){n=!1}n?(e.selectionStart=t,e.selectionEnd=t):me&&!Ie("9")&&("textarea"==e.type&&(t=e.value.substring(0,t).replace(/(\r\n|\r|\n)/g,"\n").length),(e=e.createTextRange()).collapse(!0),e.move("character",t),e.select())}function Cu(e,t,n,r,i,a){Fl.call(this,Yl,{email:n},a,"emailLinkSignInConfirmation",{H:r,G:i}),this.i=e,this.s=t}function Su(e,t,n,r,i){Fl.call(this,tc,{providerId:e},i,"emailLinkSignInLinkingDifferentDevice",{H:n,G:r}),this.a=t}function _u(e){Fl.call(this,Kl,void 0,e,"blank")}function Tu(e,t,n,r,i){var o=new _u,s=new na(n),l=s.a.a.get(ra.Ta)||"",c=s.a.a.get(ra.Ka)||"",u="1"===s.a.a.get(ra.Ia),h=ia(s),d=s.a.a.get(ra.PROVIDER_ID)||null,p=!Ro(No,uh(e)),f=r||function(e,t){var n=null;if(t=Ro(No,t))try{var r=co(e,t),i=JSON.parse(r);n=i&&i.email||null}catch(e){}return n}(c,uh(e)),m=(r=function(e,t){var n=null;if(t=Ro(Mo,t))try{var r=co(e,t);n=JSON.parse(r)}catch(e){}return qa(n||null)}(c,uh(e)))&&r.a;d&&m&&m.providerId!==d&&(m=null),o.render(t),ah(e,o),mh(e,o.L(function(){var t,r,a,o=Nr(null);o=h&&p||p&&u?Mr(Error("anonymous-user-not-found")):(t=e,r=n,a=ia(new na(r)),a?(r=new kr(function(e,n){var r=ch(t).onAuthStateChanged(function(t){r(),t&&t.isAnonymous&&t.uid===a?e(t):t&&t.isAnonymous&&t.uid!==a?n(Error("anonymous-user-mismatch")):n(Error("anonymous-user-not-found"))});mh(t,r)}),mh(t,r),r):Nr(null)).then(function(e){if(d&&!m)throw Error("pending-credential-not-found");return e});var s=null;return o.then(function(t){return s=t,i?null:lh(e).checkActionCode(l)}).then(function(){return s})},[],function(r){f?function(e,t,n,r,i,o){var s=Bl(t);t.V("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",Jt("Signing in...").toString());var l=null;i=(o?function(e,t,n,r,i){yh(e);var o=i||null,s=a.auth.EmailAuthProvider.credentialWithLink(n,r);return n=o?lh(e).signInWithEmailLink(n,r).then(function(e){return e.user.linkAndRetrieveDataWithCredential(o)}).then(function(){return wh(e)}).then(function(){return Eh(e,{code:"auth/email-already-in-use"},o)}):lh(e).fetchSignInMethodsForEmail(n).then(function(n){return n.length?Eh(e,{code:"auth/email-already-in-use"},s):t.linkAndRetrieveDataWithCredential(s)}),mh(e,n),n}(e,o,n,r,i):function(e,t,n,r){yh(e);var i,a=r||null;return t=lh(e).signInWithEmailLink(t,n).then(function(e){if(i={user:e.user,credential:null,operationType:e.operationType,additionalUserInfo:e.additionalUserInfo},a)return e.user.linkAndRetrieveDataWithCredential(a).then(function(e){i={user:e.user,credential:a,operationType:i.operationType,additionalUserInfo:e.additionalUserInfo}})}).then(function(){wh(e)}).then(function(){return ch(e).updateCurrentUser(i.user)}).then(function(){return i.user=ch(e).currentUser,i}),mh(e,t),t}(e,n,r,i)).then(function(n){Lo(Mo,uh(e)),Lo(No,uh(e)),t.h(),t.V("firebaseui-icon-done",Jt("Signed in!").toString()),l=setTimeout(function(){t.h(),Hc(e,t,n,!0)},1e3),mh(e,function(){t&&(t.h(),t.m()),clearTimeout(l)})},function(i){if(t.h(),t.m(),!i.name||"cancel"!=i.name){var a=Kc(i);"auth/email-already-in-use"==i.code||"auth/credential-already-in-use"==i.code?(Lo(Mo,uh(e)),Lo(No,uh(e))):"auth/invalid-email"==i.code?(a=Jt("The email provided does not match the current sign-in session.").toString(),ts("emailLinkConfirmation",e,s,r,ku,null,a)):Xc(e,s,n,a)}}),mh(e,i)}(e,o,f,n,m,r):u?(o.m(),ts("differentDeviceError",e,t)):(o.m(),ts("emailLinkConfirmation",e,t,n,ku))},function(r){var i=void 0;if(!r||!r.name||"cancel"!=r.name)switch(o.m(),r&&r.message){case"anonymous-user-not-found":ts("differentDeviceError",e,t);break;case"anonymous-user-mismatch":ts("anonymousUserMismatch",e,t);break;case"pending-credential-not-found":ts("emailLinkNewDeviceLinking",e,t,n,xu);break;default:r&&(i=Kc(r)),Xc(e,t,void 0,i)}}))}function ku(e,t,n,r){Tu(e,t,r,n,!0)}function xu(e,t,n){Tu(e,t,n)}function Iu(e,t,n,r,i,a){Fl.call(this,ec,{email:e,providerId:t},a,"emailLinkSignInLinking",{H:r,G:i}),this.a=n}function Ou(e,t,n,r,i,a){Fl.call(this,Gl,{email:e},a,"emailLinkSignInSent",{H:r,G:i}),this.s=t,this.a=n}function Pu(e,t,n,r,i,a,o){Fl.call(this,hc,{Ob:e,zb:t},o,"emailMismatch",{H:i,G:a}),this.s=n,this.i=r}function Au(e,t,n,r,i){Fl.call(this,Ql,void 0,i,"emailNotReceived",{H:n,G:r}),this.i=e,this.a=t}function Du(e,t,n,r,i,a){Fl.call(this,nc,{email:e,providerId:t},a,"federatedLinking",{H:r,G:i}),this.a=n}function Nu(e,t,n,r,i,a){Fl.call(this,Hl,{email:n,La:!!t},a,"passwordRecovery",{H:r,G:i}),this.a=e,this.s=t}function Mu(){return Js(this,"firebaseui-id-name")}function Ru(){return Js(this,"firebaseui-id-name-error")}function Lu(e,t,n,r,i,a,o,s,l){Fl.call(this,Ul,{email:r,Cb:e,name:i,La:!!n,fa:!!s},l,"passwordSignUp",{H:a,G:o}),this.a=t,this.I=n,this.C=e}function Fu(){return Js(this,"firebaseui-id-phone-confirmation-code")}function Bu(){return Js(this,"firebaseui-id-phone-confirmation-code-error")}function ju(){return Js(this,"firebaseui-id-resend-countdown")}function $u(e,t,n,r,i,a,o,s,l){Fl.call(this,fc,{phoneNumber:i},l,"phoneSignInFinish",{H:o,G:s}),this.Oa=a,this.i=new Is(1e3),this.C=a,this.O=e,this.a=t,this.I=n,this.K=r}O(au,Fl),au.prototype.v=function(){var e=this;il(this,this.i(),function(){e.a()}),this.i().focus(),au.o.v.call(this)},au.prototype.l=function(){this.a=null,au.o.l.call(this)},T(au.prototype,{i:vc}),es.anonymousUserMismatch=function(e,t){var n=new au(function(){n.m(),Xc(e,t)});n.render(t),ah(e,n)},O(ou,Fl),ou.prototype.L=function(e,t,n,r){return e.apply(null,t).then(n,r)},es.callback=function(e,t,n){var r=new ou;r.render(t),ah(e,r),t=n||ih(e),mh(e,t.then(function(t){su(e,r,t)},function(t){if(t&&("auth/account-exists-with-different-credential"==t.code||"auth/email-already-in-use"==t.code)&&t.email&&t.credential)Uo(qa(t),uh(e)),uu(e,r,t.email);else if(t&&"auth/user-cancelled"==t.code){var n=qo(uh(e)),i=Kc(t);n&&n.a?uu(e,r,n.g,i):n?Jc(e,r,n.g,i):cu(e,r,t)}else t&&"auth/credential-already-in-use"==t.code||(t&&"auth/operation-not-supported-in-this-environment"==t.code&&Qc(e)?su(e,r,{user:null,credential:null}):cu(e,r,t))}))},O(hu,Fl),hu.prototype.v=function(){var e=this;il(this,this.i(),function(){e.a()}),this.i().focus(),hu.o.v.call(this)},hu.prototype.l=function(){this.a=null,hu.o.l.call(this)},T(hu.prototype,{i:vc}),es.differentDeviceError=function(e,t){var n=new hu(function(){n.m(),Xc(e,t)});n.render(t),ah(e,n)},O(du,Fl),du.prototype.v=function(){var e=this;il(this,Js(this,"firebaseui-id-reset-password-link"),function(){e.i()}),this.a&&(this.A(this.a),this.s().focus()),du.o.v.call(this)},du.prototype.l=function(){this.i=this.a=null,du.o.l.call(this)},T(du.prototype,{s:mc,C:vc,A:gc}),O(bu,Fl),bu.prototype.v=function(){this.I(),this.C(this.a),$l(this,this.i(),this.a),this.i().focus(),bu.o.v.call(this)},bu.prototype.l=function(){this.a=null,bu.o.l.call(this)},T(bu.prototype,{i:pu,A:vu,K:fu,I:gu,s:yu,P:mc,O:vc,C:gc}),es.passwordReset=function(e,t,n,r){mh(e,lh(e).verifyPasswordResetCode(n).then(function(i){var a=new bu(i,function(){var i,o,s,l,c,u;i=e,o=t,l=n,c=r,(u=(s=a).s())&&mh(i,s.L(S(lh(i).confirmPasswordReset,lh(i)),[l,u],function(){s.m();var e=new Mc(c);e.render(o),ah(i,e)},function(e){wu(i,o,s,e)}))});a.render(t),ah(e,a)},function(){wu(e,t)}))},es.emailChangeRevocation=function(e,t,n){var r=null;mh(e,lh(e).checkActionCode(n).then(function(t){return r=t.data.email,lh(e).applyActionCode(n)}).then(function(){var n,i,a,o;n=e,i=t,(o=new du(a=r,function(){mh(n,o.L(S(lh(n).sendPasswordResetEmail,lh(n)),[a],function(){o.m(),(o=new Ac(a,void 0,Wi(gh(n)),Ki(gh(n)))).render(i),ah(n,o)},function(){o.g(Jt("Unable to send password reset code to specified email").toString())}))})).render(i),ah(n,o)},function(){var n=new Lc;n.render(t),ah(e,n)}))},es.emailVerification=function(e,t,n,r){mh(e,lh(e).applyActionCode(n).then(function(){var n=new Dc(r);n.render(t),ah(e,n)},function(){var n=new Nc;n.render(t),ah(e,n)}))},O(Cu,Fl),Cu.prototype.v=function(){this.C(this.i),this.I(this.i,this.s),this.a().focus(),Eu(this.a(),(this.a().value||"").length),Cu.o.v.call(this)},Cu.prototype.l=function(){this.s=this.i=null,Cu.o.l.call(this)},T(Cu.prototype,{a:_c,O:Tc,C:kc,K:xc,A:Ic,T:mc,P:vc,I:gc}),es.emailLinkConfirmation=function(e,t,n,r,i,a){var o=new Cu(function(){var i=o.A();i?(o.m(),r(e,t,i,n)):o.a().focus()},function(){o.m(),Xc(e,t,i||void 0)},i||void 0,Wi(gh(e)),Ki(gh(e)));o.render(t),ah(e,o),a&&o.g(a)},O(Su,Fl),Su.prototype.v=function(){this.s(this.a),this.i().focus(),Su.o.v.call(this)},Su.prototype.l=function(){this.a=null,Su.o.l.call(this)},T(Su.prototype,{i:mc,s:gc}),es.emailLinkNewDeviceLinking=function(e,t,n,r){var i=new na(n);if(n=i.a.a.get(ra.PROVIDER_ID)||null,aa(i,null),n){var a=new Su(n,function(){a.m(),r(e,t,i.toString())},Wi(gh(e)),Ki(gh(e)));a.render(t),ah(e,a)}else Xc(e,t)},O(_u,Fl),es.emailLinkSignInCallback=Tu,O(Iu,Fl),Iu.prototype.v=function(){this.s(this.a),this.i().focus(),Iu.o.v.call(this)},Iu.prototype.l=function(){this.a=null,Iu.o.l.call(this)},T(Iu.prototype,{i:mc,s:gc}),es.emailLinkSignInLinking=function(e,t,n){var r=qo(uh(e));if(Lo(Io,uh(e)),r){var i=new Iu(n,r.a.providerId,function(){var t,a,o,s,l;t=e,o=n,s=r,l=Bl(a=i),eu(t,a,o,function(){Xc(t,l,o)},function(e){if(!e.name||"cancel"!=e.name){var n=Kc(e);e&&"auth/network-request-failed"==e.code?a.g(n):(a.m(),Xc(t,l,o,n))}},s)},Wi(gh(e)),Ki(gh(e)));i.render(t),ah(e,i)}else Xc(e,t)},O(Ou,Fl),Ou.prototype.v=function(){var e=this;il(this,this.i(),function(){e.a()}),il(this,Js(this,"firebaseui-id-trouble-getting-email-link"),function(){e.s()}),this.i().focus(),Ou.o.v.call(this)},Ou.prototype.l=function(){this.a=this.s=null,Ou.o.l.call(this)},T(Ou.prototype,{i:vc}),es.emailLinkSignInSent=function(e,t,n,r,i){var a=new Ou(n,function(){a.m(),ts("emailNotReceived",e,t,n,r,i)},function(){a.m(),r()},Wi(gh(e)),Ki(gh(e)));a.render(t),ah(e,a)},O(Pu,Fl),Pu.prototype.v=function(){this.C(this.s,this.i),this.A().focus(),Pu.o.v.call(this)},Pu.prototype.l=function(){this.i=this.a=null,Pu.o.l.call(this)},T(Pu.prototype,{A:mc,I:vc,C:gc}),es.emailMismatch=function(e,t,n){var r=qo(uh(e));if(r){var i=new Pu(n.user.email,r.g,function(){var t=i;Lo(Io,uh(e)),Hc(e,t,n)},function(){var t=n.credential.providerId,a=Bl(i);i.m(),r.a?ts("federatedLinking",e,a,r.g,t):ts("federatedSignIn",e,a,r.g,t)},Wi(gh(e)),Ki(gh(e)));i.render(t),ah(e,i)}else Xc(e,t)},O(Au,Fl),Au.prototype.v=function(){var e=this;il(this,this.s(),function(){e.a()}),il(this,this.wa(),function(){e.i()}),this.s().focus(),Au.o.v.call(this)},Au.prototype.wa=function(){return Js(this,"firebaseui-id-resend-email-link")},Au.prototype.l=function(){this.a=this.i=null,Au.o.l.call(this)},T(Au.prototype,{s:vc}),es.emailNotReceived=function(e,t,n,r,i){var a=new Au(function(){eu(e,a,n,r,function(e){e=Kc(e),a.g(e)},i)},function(){a.m(),Xc(e,t,n)},Wi(gh(e)),Ki(gh(e)));a.render(t),ah(e,a)},O(Du,Fl),Du.prototype.v=function(){this.s(this.a),this.i().focus(),Du.o.v.call(this)},Du.prototype.l=function(){this.a=null,Du.o.l.call(this)},T(Du.prototype,{i:mc,s:gc}),es.federatedLinking=function(e,t,n,r,i){var a=qo(uh(e));if(a&&a.a){var o=new Du(n,r,function(){Gc(e,o,r,n)},Wi(gh(e)),Ki(gh(e)));o.render(t),ah(e,o),i&&o.g(i)}else Xc(e,t)},es.federatedSignIn=function(e,t,n,r,i){var a=new Du(n,r,function(){Gc(e,a,r,n)},Wi(gh(e)),Ki(gh(e)));a.render(t),ah(e,a),i&&a.g(i)},es.passwordLinking=function(e,t,n){var r=qo(uh(e));Lo(Io,uh(e));var i=r&&r.a;if(i){var a=new Cc(n,function(){var t,r,o,s,l;t=e,o=n,s=i,(l=(r=a).A())?mh(t,r.L(S(t.Eb,t),[o,l],function(e){return e=e.user.linkAndRetrieveDataWithCredential(s).then(function(e){return Hc(t,r,{user:e.user,credential:s,operationType:e.operationType,additionalUserInfo:e.additionalUserInfo})}),mh(t,e),e},function(e){if(!e.name||"cancel"!=e.name)switch(e.code){case"auth/wrong-password":tl(r.i(),!1),ol(r.C(),Kc(e));break;case"auth/too-many-requests":r.g(Kc(e));break;default:sr("signInWithEmailAndPassword: "+e.message,void 0),r.g(Kc(e))}})):r.i().focus()},function(){a.m(),ts("passwordRecovery",e,t,n)},Wi(gh(e)),Ki(gh(e)));a.render(t),ah(e,a)}else Xc(e,t)},O(Nu,Fl),Nu.prototype.v=function(){this.I(),this.K(this.a,this.s),ys(this.i())||this.i().focus(),$l(this,this.i(),this.a),Nu.o.v.call(this)},Nu.prototype.l=function(){this.s=this.a=null,Nu.o.l.call(this)},T(Nu.prototype,{i:_c,C:Tc,I:kc,O:xc,A:Ic,T:mc,P:vc,K:gc}),es.passwordRecovery=function(e,t,n,r,i){var a=new Nu(function(){!function(e,t){var n=t.A();if(n){var r=Bl(t);mh(e,t.L(S(lh(e).sendPasswordResetEmail,lh(e)),[n],function(){t.m();var i=new Ac(n,function(){i.m(),Xc(e,r)},Wi(gh(e)),Ki(gh(e)));i.render(r),ah(e,i)},function(e){tl(t.i(),!1),ol(t.C(),Kc(e))}))}else t.i().focus()}(e,a)},r?void 0:function(){a.m(),Xc(e,t)},n,Wi(gh(e)),Ki(gh(e)));a.render(t),ah(e,a),i&&a.g(i)},es.passwordSignIn=function(e,t,n,r){var i=new Oc(function(){!function(e,t){var n=t.I(),r=t.A();if(n)if(r){var i=a.auth.EmailAuthProvider.credential(n,r);mh(e,t.L(S(e.Ib,e),[n,r],function(n){return Hc(e,t,{user:n.user,credential:i,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo})},function(e){if(!e.name||"cancel"!=e.name)switch(e.code){case"auth/email-already-in-use":break;case"auth/email-exists":tl(t.s(),!1),ol(t.T(),Kc(e));break;case"auth/too-many-requests":case"auth/wrong-password":tl(t.i(),!1),ol(t.C(),Kc(e));break;default:sr("verifyPassword: "+e.message,void 0),t.g(Kc(e))}}))}else t.i().focus();else t.s().focus()}(e,i)},function(){var n=i.O();i.m(),ts("passwordRecovery",e,t,n)},n,Wi(gh(e)),Ki(gh(e)),r);i.render(t),ah(e,i)},O(Lu,Fl),Lu.prototype.v=function(){this.Z(),this.C&&this.Oa(),this.qa(),this.pa(this.a,this.I),this.C?(jl(this,this.i(),this.A()),jl(this,this.A(),this.s())):jl(this,this.i(),this.s()),this.a&&$l(this,this.s(),this.a),ys(this.i())?this.C&&!ys(this.A())?this.A().focus():this.s().focus():this.i().focus(),Lu.o.v.call(this)},Lu.prototype.l=function(){this.I=this.a=null,Lu.o.l.call(this)},T(Lu.prototype,{i:_c,T:Tc,Z:kc,$a:xc,O:Ic,A:Mu,gc:Ru,Oa:function(){var e=Mu.call(this),t=Ru.call(this);nl(this,e,function(){sl(t)&&(tl(e,!0),al(t))})},K:function(){var e=Mu.call(this),t=Ru.call(this),n=ys(e);return tl(e,n=!/^[\s\xa0]*$/.test(null==n?"":String(n))),(t=n?(al(t),!0):(ol(t,Jt("Enter your account name").toString()),!1))?W(ys(e)):null},s:pu,aa:vu,ub:fu,qa:gu,P:yu,dc:mc,wb:vc,pa:gc}),es.passwordSignUp=function(e,t,n,r,i,o){var s=new Lu(Gi(gh(e)),function(){!function(e,t){var n=Gi(gh(e)),r=t.O(),i=null;n&&(i=t.K());var o=t.P();if(r){if(n){if(!i)return void t.A().focus();i=K(i)}if(o){var s=a.auth.EmailAuthProvider.credential(r,o);mh(e,t.L(S(e.Fb,e),[r,o],function(r){var a={user:r.user,credential:s,operationType:r.operationType,additionalUserInfo:r.additionalUserInfo};return n?(r=r.user.updateProfile({displayName:i}).then(function(){return Hc(e,t,a)}),mh(e,r),r):Hc(e,t,a)},function(n){if(!n.name||"cancel"!=n.name){var i=Kc(n);switch(n.code){case"auth/email-already-in-use":return function(e,t,n,r){function i(){var e=Kc(r);tl(t.i(),!1),ol(t.T(),e),t.i().focus()}var a=lh(e).fetchSignInMethodsForEmail(n).then(function(r){r.length?i():(r=Bl(t),t.m(),ts("passwordRecovery",e,r,n,!1,gn().toString()))},function(){i()});return mh(e,a),a}(e,t,r,n);case"auth/too-many-requests":i=Jt("Too many account requests are coming from your IP address. Try again in a few minutes.").toString();case"auth/operation-not-allowed":case"auth/weak-password":tl(t.s(),!1),ol(t.aa(),i);break;default:sr(n="setAccountInfo: "+ho(n),void 0),t.g(i)}}}))}else t.s().focus()}else t.i().focus()}(e,s)},i?void 0:function(){s.m(),Xc(e,t)},n,r,Wi(gh(e)),Ki(gh(e)),o);s.render(t),ah(e,s)},O($u,Fl),$u.prototype.v=function(){var e=this;this.P(this.Oa),hi(this.i,"tick",this.A,!1,this),this.i.start(),il(this,Js(this,"firebaseui-id-change-phone-number-link"),function(){e.O()}),il(this,this.wa(),function(){e.K()}),this.qa(this.a),this.aa(this.a,this.I),this.s().focus(),$u.o.v.call(this)},$u.prototype.l=function(){this.K=this.I=this.a=this.O=null,Os(this.i),fi(this.i,"tick",this.A),this.i=null,$u.o.l.call(this)},$u.prototype.A=function(){--this.C,0<this.C?this.P(this.C):(Os(this.i),fi(this.i,"tick",this.A),this.pa(),this.$a())},T($u.prototype,{s:Fu,Z:Bu,qa:function(e){var t=Fu.call(this),n=Bu.call(this);nl(this,t,function(){sl(n)&&(tl(t,!0),al(n))}),e&&rl(this,t,function(){e()})},T:function(){var e=W(ys(Fu.call(this))||"");return/^\d{6}$/.test(e)?e:null},mb:ju,P:function(e){st(ju.call(this),Jt("Resend code in "+(9<e?"0:":"0:0")+e).toString())},pa:function(){al(this.mb())},wa:function(){return Js(this,"firebaseui-id-resend-link")},$a:function(){ol(this.wa())},wb:mc,ub:vc,aa:gc}),es.phoneSignInFinish=function(e,t,n,r,i,a){var o=new $u(function(){o.m(),ts("phoneSignInStart",e,t,n)},function(){!function(e,t,n,r){function i(e){t.s().focus(),tl(t.s(),!1),ol(t.Z(),e)}var a=t.T();a?(t.V("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",Jt("Verifying...").toString()),mh(e,t.L(S(r.confirm,r),[a],function(n){t.h(),t.V("firebaseui-icon-done",Jt("Verified!").toString());var r=setTimeout(function(){t.h(),t.m();var r={user:ch(e).currentUser,credential:null,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo};Hc(e,t,r,!0)},1e3);mh(e,function(){t&&t.h(),clearTimeout(r)})},function(r){if(r.name&&"cancel"==r.name)t.h();else{var a=Kc(r);switch(r.code){case"auth/credential-already-in-use":t.h();break;case"auth/code-expired":r=Bl(t),t.h(),t.m(),ts("phoneSignInStart",e,r,n,a);break;case"auth/missing-verification-code":case"auth/invalid-verification-code":t.h(),i(a);break;default:t.h(),t.g(a)}}}))):i(Jt("Wrong code. Try again.").toString())}(e,o,n,i)},function(){o.m(),Xc(e,t)},function(){o.m(),ts("phoneSignInStart",e,t,n)},Fn(n),r,Wi(gh(e)),Ki(gh(e)));o.render(t),ah(e,o),a&&o.g(a)};var Vu=!(me||ae("Safari")&&!(ue()||ae("Coast")||ae("Opera")||ae("Edge")||ae("Silk")||ae("Android")));function qu(e,t){return/-[a-z]/.test(t)?null:Vu&&e.dataset?!ae("Android")||ue()||ae("Firefox")||ae("Opera")||ae("Silk")||t in e.dataset?void 0===(e=e.dataset[t])?null:e:null:e.getAttribute("data-"+String(t).replace(/([A-Z])/g,"-$1").toLowerCase())}function Uu(){return Js(this,"firebaseui-id-phone-number")}function Hu(){return Js(this,"firebaseui-id-country-selector")}function zu(){return Js(this,"firebaseui-id-phone-number-error")}function Wu(e,t){return!(!(e=On(e))||!j(t,e))}function Ku(e){return"firebaseui-flag-"+e.f}function Gu(e){var t,n=this;(function(e,t,n){e=zt(Cl,{items:e},null,this.w),Ol.call(this,e,!0,!0),n&&(n=function(e,t){e=(e||document).getElementsByTagName("BUTTON");for(var n=0;n<e.length;n++)if(qu(e[n],"listboxid")===t)return e[n];return null}(e,n))&&(n.focus(),function(e,t){var n=(t=t||it(document))||it(document),r=Ks(e),i=Ks(n);if(!me||9<=Number(ke)){o=zs(n,"borderLeftWidth");var a=zs(n,"borderRightWidth");l=zs(n,"borderTopWidth"),c=zs(n,"borderBottomWidth"),a=new Hs(parseFloat(l),parseFloat(a),parseFloat(c),parseFloat(o))}else{var o=Qs(n,"borderLeft");a=Qs(n,"borderRight");var l=Qs(n,"borderTop"),c=Qs(n,"borderBottom");a=new Hs(l,a,c,o)}n==it(document)?(o=r.a-n.scrollLeft,r=r.g-n.scrollTop,!me||10<=Number(ke)||(o+=a.left,r+=a.top)):(o=r.a-i.a-a.left,r=r.g-i.g-a.top),i=e.offsetWidth,a=e.offsetHeight,l=be&&!i&&!a,e=s(i)&&!l||!e.getBoundingClientRect?new Je(i,a):new Je((e=Ws(e)).right-e.left,e.bottom-e.top),i=n.clientHeight-e.height,a=n.scrollLeft,l=n.scrollTop,n=new Xe(a+=Math.min(o,Math.max(o-(n.clientWidth-e.width),0)),l+=Math.min(r,Math.max(r-i,0))),t.scrollLeft=n.a,t.scrollTop=n.g}(n,e)),il(this,e,function(e){(e=(e=lt(e.target,"firebaseui-id-list-box-dialog-button"))&&qu(e,"listboxid"))&&(Pl(),t(e))})}).call(this,(t=e.a,L(t,function(e){return{id:e.c,Ea:"firebaseui-flag "+Ku(e),label:e.name+" +"+e.b}})),function(t){Qu.call(n,t,e,!0),n.J().focus()},this.ua)}function Qu(e,t,n){var r=On(e);r&&(n&&(t=In(t,n=W(ys(Uu.call(this))||""))).length&&t[0].b!=r.b&&(n="+"+r.b+n.substr(t[0].b.length+1),bs(Uu.call(this),n)),t=On(this.ua),this.ua=e,e=Js(this,"firebaseui-id-country-selector-flag"),t&&gs(e,Ku(t)),vs(e,Ku(r)),st(Js(this,"firebaseui-id-country-selector-code"),"+"+r.b))}function Yu(e,t,n,r,i,a,o,s,l,c){Fl.call(this,pc,{nb:t,ta:l||null,Na:!!n,fa:!!a},c,"phoneSignInStart",{H:r,G:i}),this.I=s||null,this.K=t,this.a=e,this.A=n||null,this.Z=o||null}function Xu(e,t,n,r){try{var i=t.P(Jo)}catch(n){return}i?Yo?(t.V("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",Jt("Verifying...").toString()),mh(e,t.L(S(e.Jb,e),[Fn(i),n],function(n){var r=Bl(t);t.V("firebaseui-icon-done",Jt("Code sent!").toString());var a=setTimeout(function(){t.h(),t.m(),ts("phoneSignInFinish",e,r,i,15,n)},1e3);mh(e,function(){t&&t.h(),clearTimeout(a)})},function(e){if(t.h(),!e.name||"cancel"!=e.name){grecaptcha.reset(Zo),Yo=null;var n=e&&e.message||"";if(e.code)switch(e.code){case"auth/too-many-requests":n=Jt("This phone number has been used too many times").toString();break;case"auth/invalid-phone-number":case"auth/missing-phone-number":return t.J().focus(),void ol(t.C(),mn().toString());default:n=Kc(e)}t.g(n)}}))):Xo?ol(t.s(),Jt("Solve the reCAPTCHA").toString()):!Xo&&r&&t.i().click():(t.J().focus(),ol(t.C(),mn().toString()))}function Ju(e,t,n,r,i){Fl.call(this,dc,{Bb:t},i,"providerSignIn",{H:n,G:r}),this.a=e}function Zu(e,t,n,r,i,a,o){Fl.call(this,Vl,{email:n,Na:!!t,fa:!!a},o,"signIn",{H:r,G:i}),this.a=e,this.s=t}function eh(e,t){this.Y=!1;var n=rh(t);if(nh[n])throw Error('An AuthUI instance already exists for the key "'+n+'"');(nh[n]=this).g=e,this.A=null,this.s=!1,th(this.g),this.u=a.initializeApp({apiKey:e.app.options.apiKey,authDomain:e.app.options.authDomain},e.app.name+"-firebaseui-temp").auth(),th(this.u),this.u.setPersistence&&this.u.setPersistence(a.auth.Auth.Persistence.SESSION),this.ca=t,this.V=new Oi,this.a=this.J=this.i=this.D=null,this.j=[],this.X=!1,this.N=Pa.Pa(),this.h=this.B=null,this.$=this.w=!1}function th(e){e&&e.INTERNAL&&e.INTERNAL.logFramework&&e.INTERNAL.logFramework("FirebaseUI-web")}O(Yu,Fl),Yu.prototype.v=function(){this.aa(this.Z,this.I),this.O(this.a,this.A||void 0),this.K||jl(this,this.J(),this.i()),$l(this,this.i(),this.a),this.J().focus(),Eu(this.J(),(this.J().value||"").length),Yu.o.v.call(this)},Yu.prototype.l=function(){this.A=this.a=null,Yu.o.l.call(this)},T(Yu.prototype,{kb:Al,J:Uu,C:zu,aa:function(e,t,n){var r=this,i=Uu.call(this),a=Hu.call(this),o=zu.call(this),s=e||Mn,l=s.a;if(0==l.length)throw Error("No available countries provided.");(function(e,t){var n,r=e.a,i=Wu("1-US-0",r);if(!(n=t&&Wu(t,r)?t:i?"1-US-0":0<r.length?r[0].c:null))throw Error("No available default country");Qu.call(this,n,e)}).call(r,s,t),il(this,a,function(){Gu.call(r,s)}),nl(this,i,function(){sl(o)&&(tl(i,!0),al(o));var e=W(ys(i)||""),t=On(this.ua),n=In(s,e);e=Wu("1-US-0",l),n.length&&n[0].b!=t.b&&(t=n[0],Qu.call(r,"1"==t.b&&e?"1-US-0":t.c,s))}),n&&rl(this,i,function(){n()})},P:function(e){var t=W(ys(Uu.call(this))||""),n=(e=e||Mn).a,r=In(Mn,t);if(r.length&&!j(n,r[0]))throw bs(Uu.call(this)),Uu.call(this).focus(),ol(zu.call(this),Jt("The country code provided is not supported.").toString()),Error("The country code provided is not supported.");return n=On(this.ua),r.length&&r[0].b!=n.b&&Qu.call(this,r[0].c,e),r.length&&(t=t.substr(r[0].b.length+1)),t?new Rn(this.ua,t):null},qa:Hu,T:function(){return Js(this,"firebaseui-recaptcha-container")},s:function(){return Js(this,"firebaseui-id-recaptcha-error")},i:mc,pa:vc,O:gc}),es.phoneSignInStart=function(e,t,n,r){var i=function(e){var t=null;if(M(ji(e),function(e){e.provider==a.auth.PhoneAuthProvider.PROVIDER_ID&&y(e.recaptchaParameters)&&!m(e.recaptchaParameters)&&(t=se(e.recaptchaParameters))}),t){var n=[];M(Ri,function(e){void 0!==t[e]&&(n.push(e),delete t[e])}),n.length&&hr('The following provided "recaptchaParameters" keys are not allowed: '+n.join(", "))}return t}(gh(e))||{};Yo=null,Xo=!(i&&"invisible"===i.size);var o,s,c=Yc(e),u=function(e){var t=(e=$i(e,a.auth.PhoneAuthProvider.PROVIDER_ID))&&e.defaultCountry||null;t=t&&Pn(t);var n=null;return e&&l(e.loginHint)&&(n=Ln(e.loginHint)),t&&t[0]||n&&On(n.a)||null}(gh(e)),h=c?(s=null,(o=$i(o=gh(e),a.auth.PhoneAuthProvider.PROVIDER_ID))&&l(o.loginHint)&&(s=Ln(o.loginHint)),o&&o.defaultNationalNumber||s&&s.ta||null):null;u=n&&n.a||u&&u.c||null,n=n&&n.ta||h,(h=Hi(gh(e)))&&Dn(h),Jo=h?new xn(Hi(gh(e))):Mn;var d=new Yu(function(t){Xu(e,d,p,!(!t||!t.keyCode))},Xo,c?null:function(){p.clear(),d.m(),Xc(e,t)},Wi(gh(e)),Ki(gh(e)),c,Jo,u,n);d.render(t),ah(e,d),r&&d.g(r),i.callback=function(t){d.s()&&al(d.s()),Yo=t,Xo||Xu(e,d,p)},i["expired-callback"]=function(){Yo=null};var p=new a.auth.RecaptchaVerifier(Xo?d.T():d.i(),i,ch(e).app);mh(e,d.L(S(p.render,p),[],function(e){Zo=e},function(n){n.name&&"cancel"==n.name||(n=Kc(n),d.m(),Xc(e,t,void 0,n))}))},O(Ju,Fl),Ju.prototype.v=function(){this.i(this.a),Ju.o.v.call(this)},Ju.prototype.l=function(){this.a=null,Ju.o.l.call(this)},T(Ju.prototype,{i:function(e){function t(t){e(t)}for(var n=this.j?et("firebaseui-id-idp-button",this.j||this.w.a):[],r=0;r<n.length;r++){var i=n[r];il(this,i,_(t,qu(i,"providerId")))}}}),es.providerSignIn=function(e,t,n){var r=new Ju(function(n){var i,o;n==a.auth.EmailAuthProvider.PROVIDER_ID?(r.m(),tu(e,t)):n==a.auth.PhoneAuthProvider.PROVIDER_ID?(r.m(),ts("phoneSignInStart",e,t)):"anonymous"==n?mh(i=e,(o=r).L(S(i.Gb,i),[],function(e){return o.m(),Hc(i,o,e,!0)},function(e){e.name&&"cancel"==e.name||(sr("ContinueAsGuest: "+e.code,void 0),e=Kc(e),o.g(e))})):Gc(e,r,n),yh(e),e.N.cancel()},Vi(gh(e)),Wi(gh(e)),Ki(gh(e)));r.render(t),ah(e,r),n&&r.g(n),function(e){yh(e);try{(function e(t,n,r){if(t.a&&n){var i=function(){t.h=!0;var i=Promise.resolve(null);return r||(i=t.a.retrieve(n).catch(function(e){if("userCanceled"===e.type||"illegalConcurrentRequest"===e.type)throw e;return null})),i.then(function(e){return e||t.a.hint(n)}).catch(function(i){if("userCanceled"===i.type)t.g=Promise.resolve();else if("illegalConcurrentRequest"===i.type)return t.cancel(),e(t,n,r);return null})};return t.g?t.g.then(i):i()}if(n)return i=Rr(Da.Pa().load().then(function(){return t.a=o.googleyolo,e(t,n,r)}),function(){return null}),Promise.resolve(i);if("undefined"!=typeof Promise)return Promise.resolve(null);throw Error("One-Tap sign in not supported in the current browser!")})(e.N,function(e){var t=[],n=[];M(ji(e),function(e){e.authMethod&&(t.push(e.authMethod),e.clientId&&n.push({uri:e.authMethod,clientId:e.clientId}))});var r=null;return"googleyolo"===ta(e)&&t.length&&(r={supportedIdTokenProviders:n,supportedAuthMethods:t}),r}(gh(e)),(t=e,yh(t),(n=t.X)||(t=Ui(t=gh(t),a.auth.GoogleAuthProvider.PROVIDER_ID),n=!(!t||"select_account"!==t.prompt)),n)).then(function(t){return!!e.a&&function(e,t,n){var r,i,o,s,l,c=(r=gh(e),i=n&&n.authMethod||null,o=null,M(ji(r),function(e){e.authMethod===i&&(o=e.provider)}),o);return n&&n.idToken&&c===a.auth.GoogleAuthProvider.PROVIDER_ID?n=qi(gh(e),a.auth.GoogleAuthProvider.PROVIDER_ID).length?(Gc(e,t,c,n.id),Nr(!0)):(s=a.auth.GoogleAuthProvider.credential(n.idToken),l=!1,s=t.L(S(e.Hb,e),[s],function(n){var r=Bl(t);t.m(),ts("callback",e,r,Nr(n)),l=!0},function(n){if(!(n.name&&"cancel"==n.name||n&&"auth/credential-already-in-use"==n.code))if(n&&"auth/email-already-in-use"==n.code&&n.email&&n.credential){var r=Bl(t);t.m(),ts("callback",e,r,Mr(n))}else n=Kc(n),t.g(n)}),mh(e,s),s.then(function(){return l},function(){return!1})):(n&&t.g(Jt("The selected credential for the authentication provider is not supported!").toString()),Nr(!1))}(e,e.a,t)})}catch(t){}var t,n}(e)},es.sendEmailLinkForSignIn=function(e,t,n,r){var i=new ou;i.render(t),ah(e,i),eu(e,i,n,r,function(r){i.m(),r=Kc(r),ts("signIn",e,t,n,r)})},O(Zu,Fl),Zu.prototype.v=function(){this.C(this.a),this.I(this.a,this.s||void 0),this.i().focus(),Eu(this.i(),(this.i().value||"").length),Zu.o.v.call(this)},Zu.prototype.l=function(){this.s=this.a=null,Zu.o.l.call(this)},T(Zu.prototype,{i:_c,O:Tc,C:kc,K:xc,A:Ic,T:mc,P:vc,I:gc}),es.signIn=function(e,t,n,r){var i=Qc(e),a=new Zu(function(){var t=a,n=t.A()||"";n&&Jc(e,t,n)},i&&ta(gh(e))!=Pi?null:function(){a.m(),Xc(e,t,n)},n,Wi(gh(e)),Ki(gh(e)),i);a.render(t),ah(e,a),r&&a.g(r)};var nh={};function rh(e){return e||"[DEFAULT]"}function ih(e){return yh(e),e.i||(e.i=ph(e,function(t){return t&&!qo(uh(e))?Nr(ch(e).getRedirectResult().then(function(e){return e},function(t){if(t&&"auth/email-already-in-use"==t.code&&t.email&&t.credential)throw t;return Eh(e,t)})):Nr(lh(e).getRedirectResult().then(function(t){return Bi(gh(e))&&!t.user&&e.h&&!e.h.isAnonymous?ch(e).getRedirectResult():t}))})),e.i}function ah(e,t){yh(e),e.a=t}var oh=null;function sh(){return oh}function lh(e){return yh(e),e.u}function ch(e){return yh(e),e.g}function uh(e){return yh(e),e.ca}function hh(e){return"signIn"===((e=new na(e)).a.a.get(ra.hb)||null)&&!!e.a.a.get(ra.Ta)}function dh(e,t){var n,r,i=xi(t);if(i.setAttribute("lang","en".replace(/_/g,"-")),oh){var a=oh;yh(a),qo(uh(a))&&hr("UI Widget is already rendered on the page and is pending some user interaction. Only one widget instance can be rendered per page. The previous instance has been automatically reset."),oh.reset()}(oh=e).J=i,r=i,(n=e).F=null,n.D=new pa(r),n.D.register(),hi(n.D,"pageEnter",function(e){if(e=e&&e.pageId,n.F!=e){var t=gh(n);(t=ea(t).uiChanged||null)&&t(n.F,e),n.F=e}}),wo(new Eo)&&wo(new Co)?function(e,t){var n=xi(t);switch(function(e){var t=Ii();for(var n in t=bt(t,e=zi(gh(e)))||"",Ni)if(Ni[n].toLowerCase()==t.toLowerCase())return Ni[n];return"callback"}(e)){case"callback":(t=nu(e))&&jo(t,uh(e)),e.cb()?ts("callback",e,n):Xc(e,n);break;case"resetPassword":ts("passwordReset",e,n,ru(),iu());break;case"recoverEmail":ts("emailChangeRevocation",e,n,ru());break;case"verifyEmail":ts("emailVerification",e,n,ru(),iu());break;case"signIn":ts("emailLinkSignInCallback",e,n,Ii()),bh();break;case"select":if((t=nu(e))&&jo(t,uh(e)),zo){Xc(e,n);break}return void $c(function(){yh(e),Uc(sh,n,!0)},!0);default:throw Error("Unhandled widget operation.")}(t=Yi(gh(e)))&&t()}(e,t):(t=xi(t),(i=new Fc(Jt("The browser you are using does not support Web Storage. Please try again in a different browser.").toString())).render(t),ah(e,i)),Lo(Oo,uh(e))}function ph(e,t){if(e.w)return t(fh(e));if(mh(e,function(){e.w=!1}),Bi(gh(e))){var n=new kr(function(n){mh(e,e.g.onAuthStateChanged(function(r){e.h=r,e.w||(e.w=!0,n(t(fh(e))))}))});return mh(e,n),n}return e.w=!0,t(null)}function fh(e){return yh(e),Bi(gh(e))&&e.h&&e.h.isAnonymous?e.h:null}function mh(e,t){if(yh(e),t){e.j.push(t);var n=function(){var n,r;n=e.j,r=function(e){return e==t},function(e,t){var n=e.length,r=l(e)?e.split(""):e;for(--n;0<=n;--n)n in r&&t.call(void 0,r[n],n,e)}(n,function(e,t){r.call(void 0,e,t,n)&&V(n,t)})};"function"!=typeof t&&t.then(n,n)}}function vh(e){void 0!==e.g.languageCode&&e.s&&(e.s=!1,e.g.languageCode=e.A)}function gh(e){return yh(e),e.V}function yh(e){if(e.Y)throw Error("AuthUI instance is deleted!")}function bh(){var e=Ii();if(hh(e)){for(var t in e=new na(e),ra)ra.hasOwnProperty(t)&&Ft(e.a.a,ra[t]);t={state:"signIn",mode:"emailLink",operation:"clear"};var n=o.document.title;o.history&&o.history.replaceState&&o.history.replaceState(t,n,e.toString())}}function wh(e){return yh(e),lh(e).signOut()}function Eh(e,t,n){if(yh(e),!t||!t.code||"auth/email-already-in-use"!=t.code&&"auth/credential-already-in-use"!=t.code)return Mr(t);var r=Zi(gh(e));return Nr().then(function(){return r(new bn("anonymous-upgrade-merge-conflict",null,n||t.credential))}).then(function(){throw e.a&&(e.a.m(),e.a=null),t})}(e=eh.prototype).cb=function(){return yh(this),"pending"===Ro(Oo,uh(this))||hh(Ii())},e.start=function(e,t){yh(this);var n=this;void 0!==this.g.languageCode&&(this.A=this.g.languageCode);var r="en".replace(/_/g,"-");this.g.languageCode=r,this.u.languageCode=r,this.s=!0,this.ab(t);var i=o.document;this.B?this.B.then(function(){"complete"==i.readyState?dh(n,e):pi(window,"load",function(){dh(n,e)})}):"complete"==i.readyState?dh(n,e):pi(window,"load",function(){dh(n,e)})},e.disableAutoSignIn=function(){yh(this),this.X=!0},e.reset=function(){yh(this);var e=this;this.J&&this.J.removeAttribute("lang"),this.D&&function(e){var t,n,r=da(e.M());ca[r]&&ca[r].length&&(0<=(n=B(t=ca[r],n=function(t){return t==e},void 0))&&V(t,n),ca[r].length||delete ca[r])}(this.D),vh(this),bh(),Lo(Oo,uh(this)),yh(this),this.N.cancel(),this.i=Nr({user:null,credential:null}),oh==this&&(oh=null),this.J=null;for(var t=0;t<this.j.length;t++)"function"==typeof this.j[t]?this.j[t]():this.j[t].cancel&&this.j[t].cancel();this.j=[],Lo(Io,uh(this)),this.a&&(this.a.m(),this.a=null),this.F=null,this.u&&(this.B=wh(this).then(function(){e.B=null},function(){e.B=null}))},e.ab=function(e){yh(this);var t,n=this.V;for(t in e)try{Sn(n.a,t,e[t])}catch(e){sr('Invalid config: "'+t+'"',void 0)}we&&Sn(n.a,"popupMode",!1),Hi(n),!this.$&&Xi(gh(this))&&(hr("signInSuccess callback is deprecated. Please use signInSuccessWithAuthResult callback instead."),this.$=!0)},e.Db=function(){yh(this);var e=gh(this),t=_n(e.a,"widgetUrl"),n=Fi(e,t);gh(this).a.get("popupMode")?(n=n||"about:blank",(e={width:500,height:600,top:0<(e=(window.screen.availHeight-600)/2)?e:0,left:0<(t=(window.screen.availWidth-500)/2)?t:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1}).target=e.target||n.target||"google_popup",e.width=e.width||690,e.height=e.height||500,(e=Si(n,e))&&e.focus()):_i(n)},e.pb=function(){var e=this;return yh(this),this.u.app.delete().then(function(){var t=rh(uh(e));delete nh[t],e.reset(),e.Y=!0})},e.qb=function(e,t){yh(this);var n=this,r=function(){for(var e=32,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();if(!Qi(gh(this)))throw Error("Email link sign-in should be enabled to trigger email sending.");var i,o,s,l,c,u,h,d,p=function(e){if(Qi(e)){var t={url:Ii(),handleCodeInApp:!0};return(e=$i(e,a.auth.EmailAuthProvider.PROVIDER_ID))&&"function"==typeof e.emailLinkSignIn&&ce(t,e.emailLinkSignIn()),t.url=kt(Ii(),t.url).toString(),t}return null}(gh(this)),f=new na(p.url);return i=f,(o=r)?i.a.a.set(ra.Ka,o):Ft(i.a.a,ra.Ka),t&&t.a&&(s=r,l=t,c=uh(this),Fo(Mo,lo(s,JSON.stringify(l.ja())),c),aa(f,t.a.providerId)),u=f,null!==(h=!(!(d=$i(d=gh(this),a.auth.EmailAuthProvider.PROVIDER_ID))||!d.forceSameDevice))?u.a.a.set(ra.Ia,h?"1":"0"):Ft(u.a.a,ra.Ia),ph(this,function(t){return t&&((t=t.uid)?f.a.a.set(ra.Ha,t):Ft(f.a.a,ra.Ha)),p.url=f.toString(),lh(n).sendSignInLinkToEmail(e,p)}).then(function(){var t=uh(n),i={};i.email=e,Fo(No,lo(r,JSON.stringify(i)),t)},function(e){throw Lo(Mo,uh(n)),Lo(No,uh(n)),e})},e.Ib=function(e,t){yh(this);var n=this;return lh(this).signInWithEmailAndPassword(e,t).then(function(r){return ph(n,function(i){return i?wh(n).then(function(){return Eh(n,{code:"auth/email-already-in-use"},a.auth.EmailAuthProvider.credential(e,t))}):r})})},e.Fb=function(e,t){yh(this);var n=this;return ph(this,function(r){if(r){var i=a.auth.EmailAuthProvider.credential(e,t);return r.linkAndRetrieveDataWithCredential(i)}return lh(n).createUserWithEmailAndPassword(e,t)})},e.Hb=function(e){yh(this);var t=this;return ph(this,function(n){return n?n.linkAndRetrieveDataWithCredential(e).then(function(e){return e},function(n){if(n&&"auth/email-already-in-use"==n.code&&n.email&&n.credential)throw n;return Eh(t,n,e)}):lh(t).signInAndRetrieveDataWithCredential(e)})},e.Kb=function(e){yh(this);var t=this,n=this.i;return this.i=null,ph(this,function(n){return n&&!qo(uh(t))?n.linkWithRedirect(e):lh(t).signInWithRedirect(e)}).then(function(){},function(e){throw t.i=n,e})},e.Jb=function(e,t){yh(this);var n=this;return ph(this,function(r){return r?r.linkWithPhoneNumber(e,t).then(function(e){return new Na(e,function(e){if("auth/credential-already-in-use"==e.code)return Eh(n,e);throw e})}):ch(n).signInWithPhoneNumber(e,t).then(function(e){return new Na(e)})})},e.Gb=function(){return yh(this),ch(this).signInAnonymously()},e.Eb=function(e,t){return yh(this),lh(this).signInWithEmailAndPassword(e,t)},I("firebaseui.auth.AuthUI",eh),I("firebaseui.auth.AuthUI.getInstance",function(e){return e=rh(e),nh[e]?nh[e]:null}),I("firebaseui.auth.AuthUI.prototype.disableAutoSignIn",eh.prototype.disableAutoSignIn),I("firebaseui.auth.AuthUI.prototype.start",eh.prototype.start),I("firebaseui.auth.AuthUI.prototype.setConfig",eh.prototype.ab),I("firebaseui.auth.AuthUI.prototype.signIn",eh.prototype.Db),I("firebaseui.auth.AuthUI.prototype.reset",eh.prototype.reset),I("firebaseui.auth.AuthUI.prototype.delete",eh.prototype.pb),I("firebaseui.auth.AuthUI.prototype.isPendingRedirect",eh.prototype.cb),I("firebaseui.auth.AuthUIError",bn),I("firebaseui.auth.AuthUIError.prototype.toJSON",bn.prototype.toJSON),I("firebaseui.auth.CredentialHelper.ACCOUNT_CHOOSER_COM",Pi),I("firebaseui.auth.CredentialHelper.GOOGLE_YOLO","googleyolo"),I("firebaseui.auth.CredentialHelper.NONE","none"),I("firebaseui.auth.AnonymousAuthProvider.PROVIDER_ID","anonymous")}(),"undefined"!=typeof window&&(window.dialogPolyfill=n(102))}(),e.exports=firebaseui}).call(this,n(5))},function(e,t,n){"use strict";(function(e){var t=n(0),r=n.n(t);(function(){var e,t=t||{},n=this;function i(e){return"string"==typeof e}function a(e){return"boolean"==typeof e}function o(){}function s(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t}function l(e){return null===e}function c(e){return"array"==s(e)}function u(e){var t=s(e);return"array"==t||"object"==t&&"number"==typeof e.length}function h(e){return"function"==s(e)}function d(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var p="closure_uid_"+(1e9*Math.random()>>>0),f=0;function m(e,t,n){return e.call.apply(e.bind,arguments)}function v(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function g(e,t,n){return(g=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?m:v).apply(null,arguments)}function y(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var b=Date.now||function(){return+new Date};function w(e,t){function n(){}n.prototype=t.prototype,e.ob=t.prototype,e.prototype=new n,(e.prototype.constructor=e).ed=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function E(e){e.prototype.then=e.prototype.then,e.prototype.$goog_Thenable=!0}function C(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(e){return!1}}function S(e){if(Error.captureStackTrace)Error.captureStackTrace(this,S);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function _(e,t){for(var n="",r=(e=e.split("%s")).length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");S.call(this,n+e[r])}function T(e,t){throw new _("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function k(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function x(e,t){e.f(t),e.b<100&&(e.b++,t.next=e.a,e.a=t)}function I(){this.b=this.a=null}w(S,Error),S.prototype.name="CustomError",w(_,S),_.prototype.name="AssertionError",k.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var O=new k(function(){return new P},function(e){e.reset()});function P(){this.next=this.b=this.a=null}I.prototype.add=function(e,t){var n=O.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},P.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},P.prototype.reset=function(){this.next=this.b=this.a=null};var A=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(i(e))return i(t)&&1==t.length?e.indexOf(t,0):-1;for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},D=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,a=i(e)?e.split(""):e,o=0;o<r;o++)o in a&&t.call(n,a[o],o,e)},N=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),a=i(e)?e.split(""):e,o=0;o<n;o++)o in a&&(r[o]=t.call(void 0,a[o],o,e));return r},M=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=i(e)?e.split(""):e,a=0;a<n;a++)if(a in r&&t.call(void 0,r[a],a,e))return!0;return!1};function R(e,t){return 0<=A(e,t)}function L(e,t){var n;return(n=0<=(t=A(e,t)))&&Array.prototype.splice.call(e,t,1),n}function F(e,t){!function(e,t){var n=e.length,r=i(e)?e.split(""):e;for(--n;0<=n;--n)n in r&&t.call(void 0,r[n],n,e)}(e,function(n,r){t.call(void 0,n,r,e)&&Array.prototype.splice.call(e,r,1).length})}function B(e){return Array.prototype.concat.apply([],arguments)}function j(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function $(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}var V=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function q(e){return Y.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(H,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(z,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(W,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(K,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(G,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(Q,"&#0;"))),e}var U,H=/&/g,z=/</g,W=/>/g,K=/"/g,G=/'/g,Q=/\x00/g,Y=/[\x00&<>"']/;function X(e,t){return-1!=e.indexOf(t)}function J(e,t){return e<t?-1:t<e?1:0}e:{var Z=n.navigator;if(Z){var ee=Z.userAgent;if(ee){U=ee;break e}}U=""}function te(e){return X(U,e)}function ne(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function re(e){for(var t in e)return!1;return!0}function ie(e){var t,n={};for(t in e)n[t]=e[t];return n}var ae,oe,se="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<se.length;a++)n=se[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ce(e){n.setTimeout(function(){throw e},0)}function ue(e,t){oe||function(){if(n.Promise&&n.Promise.resolve){var e=n.Promise.resolve(void 0);oe=function(){e.then(pe)}}else oe=function(){var e=pe;!h(n.setImmediate)||n.Window&&n.Window.prototype&&!te("Edge")&&n.Window.prototype.setImmediate==n.setImmediate?(ae||(ae=function(){var e=n.MessageChannel;if(void 0===e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!te("Presto")&&(e=function(){var e=document.createElement("IFRAME");e.style.display="none",e.src="",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.write(""),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=g(function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()},this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),void 0===e||te("Trident")||te("MSIE"))return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(e){var t=document.createElement("SCRIPT");t.onreadystatechange=function(){t.onreadystatechange=null,t.parentNode.removeChild(t),t=null,e(),e=null},document.documentElement.appendChild(t)}:function(e){n.setTimeout(e,0)};var t=new e,r={},i=r;return t.port1.onmessage=function(){if(void 0!==r.next){var e=(r=r.next).wb;r.wb=null,e()}},function(e){i.next={wb:e},i=i.next,t.port2.postMessage(0)}}()),ae(e)):n.setImmediate(e)}}(),he||(oe(),he=!0),de.add(e,t)}var he=!1,de=new I;function pe(){for(var e;n=t=void 0,n=null,(t=de).a&&(n=t.a,t.a=t.a.next,t.a||(t.b=null),n.next=null),e=n;){try{e.a.call(e.b)}catch(e){ce(e)}x(O,e)}var t,n;he=!1}function fe(e,t){if(this.a=me,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=o)try{var n=this;e.call(t,function(e){xe(n,ve,e)},function(e){if(!(e instanceof Me))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(e){}xe(n,ge,e)})}catch(e){xe(this,ge,e)}}var me=0,ve=2,ge=3;function ye(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}ye.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var be=new k(function(){return new ye},function(e){e.reset()});function we(e,t,n){var r=be.get();return r.g=e,r.b=t,r.f=n,r}function Ee(e){if(e instanceof fe)return e;var t=new fe(o);return xe(t,ve,e),t}function Ce(e){return new fe(function(t,n){n(e)})}function Se(e,t,n){Ie(e,t,n,null)||ue(y(t,e))}function _e(e){return new fe(function(t){var n=e.length,r=[];if(n)for(var i=function(e,i,a){n--,r[e]=i?{Db:!0,value:a}:{Db:!1,reason:a},0==n&&t(r)},a=0;a<e.length;a++)Se(e[a],y(i,a,!0),y(i,a,!1));else t(r)})}function Te(e,t){e.b||e.a!=ve&&e.a!=ge||Oe(e),e.f?e.f.next=t:e.b=t,e.f=t}function ke(e,t,n,r){var i=we(null,null,null);return i.a=new fe(function(e,a){i.g=t?function(n){try{var i=t.call(r,n);e(i)}catch(n){a(n)}}:e,i.b=n?function(t){try{var i=n.call(r,t);void 0===i&&t instanceof Me?a(t):e(i)}catch(t){a(t)}}:a}),Te(i.a.c=e,i),i.a}function xe(e,t,n){var r,i;e.a==me&&(e===n&&(t=ge,n=new TypeError("Promise cannot resolve to itself")),e.a=1,Ie(n,e.Nc,e.Oc,e)||(e.i=n,e.a=t,e.c=null,Oe(e),t!=ge||n instanceof Me||(i=n,(r=e).g=!0,ue(function(){r.g&&Ne.call(null,i)}))))}function Ie(e,t,n,r){if(e instanceof fe)return Te(e,we(t||o,n||null,r)),!0;if(C(e))return e.then(t,n,r),!0;if(d(e))try{var i=e.then;if(h(i))return function(e,t,n,r,i){function a(e){o||(o=!0,r.call(i,e))}var o=!1;try{t.call(e,function(e){o||(o=!0,n.call(i,e))},a)}catch(e){a(e)}}(e,i,t,n,r),!0}catch(e){return n.call(r,e),!0}return!1}function Oe(e){e.h||(e.h=!0,ue(e.Yb,e))}function Pe(e){var t=null;return e.b&&(t=e.b,e.b=t.next,t.next=null),e.b||(e.f=null),t}function Ae(e,t,n,r){if(n==ge&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,De(t,n,r);else try{t.c?t.g.call(t.f):De(t,n,r)}catch(e){Ne.call(null,e)}x(be,t)}function De(e,t,n){t==ve?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}fe.prototype.then=function(e,t,n){return ke(this,h(e)?e:null,h(t)?t:null,n)},E(fe),(e=fe.prototype).ia=function(e,t){return(e=we(e,e,t)).c=!0,Te(this,e),this},e.s=function(e,t){return ke(this,null,e,t)},e.cancel=function(e){this.a==me&&ue(function(){!function e(t,n){if(t.a==me)if(t.c){var r=t.c;if(r.b){for(var i=0,a=null,o=null,s=r.b;s&&(s.c||(i++,s.a==t&&(a=s),!(a&&1<i)));s=s.next)a||(o=s);a&&(r.a==me&&1==i?e(r,n):(o?((i=o).next==r.f&&(r.f=i),i.next=i.next.next):Pe(r),Ae(r,a,ge,n)))}t.c=null}else xe(t,ge,n)}(this,new Me(e))},this)},e.Nc=function(e){this.a=me,xe(this,ve,e)},e.Oc=function(e){this.a=me,xe(this,ge,e)},e.Yb=function(){for(var e;e=Pe(this);)Ae(this,e,this.a,this.i);this.h=!1};var Ne=ce;function Me(e){S.call(this,e)}function Re(){0!=Le&&(Fe[this[p]||(this[p]=++f)]=this),this.qa=this.qa,this.ja=this.ja}w(Me,S);var Le=0,Fe={};function Be(e){if(!e.qa&&(e.qa=!0,e.va(),0!=Le)){var t=e[p]||(e[p]=++f);if(0!=Le&&e.ja&&0<e.ja.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Fe[t]}}function je(e){return je[" "](e),e}Re.prototype.qa=!(Me.prototype.name="cancel"),Re.prototype.va=function(){if(this.ja)for(;this.ja.length;)this.ja.shift()()},je[" "]=o;var $e,Ve,qe=te("Opera"),Ue=te("Trident")||te("MSIE"),He=te("Edge"),ze=He||Ue,We=te("Gecko")&&!(X(U.toLowerCase(),"webkit")&&!te("Edge"))&&!(te("Trident")||te("MSIE"))&&!te("Edge"),Ke=X(U.toLowerCase(),"webkit")&&!te("Edge");function Ge(){var e=n.document;return e?e.documentMode:void 0}e:{var Qe="",Ye=(Ve=U,We?/rv:([^\);]+)(\)|;)/.exec(Ve):He?/Edge\/([\d\.]+)/.exec(Ve):Ue?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Ve):Ke?/WebKit\/(\S+)/.exec(Ve):qe?/(?:Version)[ \/]?(\S+)/.exec(Ve):void 0);if(Ye&&(Qe=Ye?Ye[1]:""),Ue){var Xe=Ge();if(null!=Xe&&Xe>parseFloat(Qe)){$e=String(Xe);break e}}$e=Qe}var Je,Ze={};function et(e){return t=e,n=function(){for(var t=0,n=V(String($e)).split("."),r=V(String(e)).split("."),i=Math.max(n.length,r.length),a=0;0==t&&a<i;a++){var o=n[a]||"",s=r[a]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==o[0].length&&0==s[0].length)break;t=J(0==o[1].length?0:parseInt(o[1],10),0==s[1].length?0:parseInt(s[1],10))||J(0==o[2].length,0==s[2].length)||J(o[2],s[2]),o=o[3],s=s[3]}while(0==t)}return 0<=t},r=Ze,Object.prototype.hasOwnProperty.call(r,t)?r[t]:r[t]=n();var t,n,r}var tt=n.document;Je=tt&&Ue?Ge()||("CSS1Compat"==tt.compatMode?parseInt($e,10):5):void 0;var nt=Object.freeze||function(e){return e},rt=!Ue||9<=Number(Je),it=Ue&&!et("9"),at=function(){if(!n.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});return n.addEventListener("test",o,t),n.removeEventListener("test",o,t),e}();function ot(e,t){this.type=e,this.b=this.target=t,this.Kb=!0}function st(e,t){if(ot.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if(We){e:{try{je(t.nodeName);var a=!0;break e}catch(e){}a=!1}a||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,this.screenY=null===r?(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,e.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,r.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=i(e.pointerType)?e.pointerType:lt[e.pointerType]||"",(this.a=e).defaultPrevented&&this.preventDefault()}}ot.prototype.preventDefault=function(){this.Kb=!1},w(st,ot);var lt=nt({2:"touch",3:"pen",4:"mouse"});st.prototype.preventDefault=function(){st.ob.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,it)try{(e.ctrlKey||112<=e.keyCode&&e.keyCode<=123)&&(e.keyCode=-1)}catch(e){}},st.prototype.f=function(){return this.a};var ct="closure_listenable_"+(1e6*Math.random()|0),ut=0;function ht(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.La=i,this.key=++ut,this.oa=this.Ia=!1}function dt(e){e.oa=!0,e.listener=null,e.proxy=null,e.src=null,e.La=null}function pt(e){this.src=e,this.a={},this.b=0}function ft(e,t){var n=t.type;n in e.a&&L(e.a[n],t)&&(dt(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function mt(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.oa&&a.listener==t&&a.capture==!!n&&a.La==r)return i}return-1}pt.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.a[a])||(e=this.a[a]=[],this.b++);var o=mt(e,t,r,i);return-1<o?(t=e[o],n||(t.Ia=!1)):((t=new ht(t,this.src,a,!!r,i)).Ia=n,e.push(t)),t};var vt="closure_lm_"+(1e6*Math.random()|0),gt={};function yt(e,t,n,r,i){if(r&&r.once)wt(e,t,n,r,i);else if(c(t))for(var a=0;a<t.length;a++)yt(e,t[a],n,r,i);else n=Ot(n),e&&e[ct]?At(e,t,n,d(r)?!!r.capture:!!r,i):bt(e,t,n,!1,r,i)}function bt(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o,s,l=d(i)?!!i.capture:!!i,c=xt(e);if(c||(e[vt]=c=new pt(e)),!(n=c.add(t,n,r,l,a)).proxy)if(o=kt,r=s=rt?function(e){return o.call(s.src,s.listener,e)}:function(e){if(!(e=o.call(s.src,s.listener,e)))return e},(n.proxy=r).src=e,r.listener=n,e.addEventListener)at||(i=l),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(St(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}}function wt(e,t,n,r,i){if(c(t))for(var a=0;a<t.length;a++)wt(e,t[a],n,r,i);else n=Ot(n),e&&e[ct]?Dt(e,t,n,d(r)?!!r.capture:!!r,i):bt(e,t,n,!0,r,i)}function Et(e,t,n,r,i){if(c(t))for(var a=0;a<t.length;a++)Et(e,t[a],n,r,i);else r=d(r)?!!r.capture:!!r,n=Ot(n),e&&e[ct]?(e=e.l,(t=String(t).toString())in e.a&&-1<(n=mt(a=e.a[t],n,r,i))&&(dt(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.a[t],e.b--))):e&&(e=xt(e))&&(t=e.a[t.toString()],e=-1,t&&(e=mt(t,n,r,i)),(n=-1<e?t[e]:null)&&Ct(n))}function Ct(e){if("number"!=typeof e&&e&&!e.oa){var t=e.src;if(t&&t[ct])ft(t.l,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(St(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=xt(t))?(ft(n,e),0==n.b&&(n.src=null,t[vt]=null)):dt(e)}}}function St(e){return e in gt?gt[e]:gt[e]="on"+e}function _t(e,t,n,r){var i=!0;if((e=xt(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var a=t[e];a&&a.capture==n&&!a.oa&&(a=Tt(a,r),i=i&&!1!==a)}return i}function Tt(e,t){var n=e.listener,r=e.La||e.src;return e.Ia&&Ct(e),n.call(r,t)}function kt(e,t){if(e.oa)return!0;if(rt)return Tt(e,new st(t,this));if(!t)e:{t=["window","event"];for(var r=n,i=0;i<t.length;i++)if(null==(r=r[t[i]])){t=null;break e}t=r}if(t=new st(i=t,this),r=!0,!(i.keyCode<0||null!=i.returnValue)){e:{var a=!1;if(0==i.keyCode)try{i.keyCode=-1;break e}catch(e){a=!0}(a||null==i.returnValue)&&(i.returnValue=!0)}for(i=[],a=t.b;a;a=a.parentNode)i.push(a);for(e=e.type,a=i.length-1;0<=a;a--){t.b=i[a];var o=_t(i[a],e,!0,t);r=r&&o}for(a=0;a<i.length;a++)t.b=i[a],o=_t(i[a],e,!1,t),r=r&&o}return r}function xt(e){return(e=e[vt])instanceof pt?e:null}var It="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ot(e){return h(e)?e:(e[It]||(e[It]=function(t){return e.handleEvent(t)}),e[It])}function Pt(){Re.call(this),this.l=new pt(this),(this.Rb=this).Va=null}function At(e,t,n,r,i){e.l.add(String(t),n,!1,r,i)}function Dt(e,t,n,r,i){e.l.add(String(t),n,!0,r,i)}function Nt(e,t,n,r){if(!(t=e.l.a[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.oa&&o.capture==n){var s=o.listener,l=o.La||o.src;o.Ia&&ft(e.l,o),i=!1!==s.call(l,r)&&i}}return i&&0!=r.Kb}function Mt(e,t,r){if(h(e))r&&(e=g(e,r));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=g(e.handleEvent,e)}return 2147483647<Number(t)?-1:n.setTimeout(e,t||0)}function Rt(e){var t=null;return new fe(function(n,r){-1==(t=Mt(function(){n(void 0)},e))&&r(Error("Failed to schedule timer."))}).s(function(e){throw n.clearTimeout(t),e})}function Lt(e){if(e.S&&"function"==typeof e.S)return e.S();if(i(e))return e.split("");if(u(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function Ft(e){if(e.U&&"function"==typeof e.U)return e.U();if(!e.S||"function"!=typeof e.S){if(u(e)||i(e)){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}function Bt(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Bt)for(n=e.U(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function jt(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];$t(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)$t(i,r=e.a[t])||(i[e.a[n++]=r]=1),t++;e.a.length=n}}function $t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}w(Pt,Re),Pt.prototype[ct]=!0,Pt.prototype.addEventListener=function(e,t,n,r){yt(this,e,t,n,r)},Pt.prototype.removeEventListener=function(e,t,n,r){Et(this,e,t,n,r)},Pt.prototype.dispatchEvent=function(e){var t,n=this.Va;if(n)for(t=[];n;n=n.Va)t.push(n);n=this.Rb;var r=e.type||e;if(i(e))e=new ot(e,n);else if(e instanceof ot)e.target=e.target||n;else{var a=e;le(e=new ot(r,n),a)}if(a=!0,t)for(var o=t.length-1;0<=o;o--){var s=e.b=t[o];a=Nt(s,r,!0,e)&&a}if(a=Nt(s=e.b=n,r,!0,e)&&a,a=Nt(s,r,!1,e)&&a,t)for(o=0;o<t.length;o++)a=Nt(s=e.b=t[o],r,!1,e)&&a;return a},Pt.prototype.va=function(){if(Pt.ob.va.call(this),this.l){var e,t=this.l;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)dt(n[r]);delete t.a[e],t.b--}}this.Va=null},(e=Bt.prototype).S=function(){jt(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},e.U=function(){return jt(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(e,t){return $t(this.b,e)?this.b[e]:t},e.set=function(e,t){$t(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},e.forEach=function(e,t){for(var n=this.U(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Vt=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function qt(e,t){if(this.b=this.l=this.c="",this.i=null,this.h=this.g="",this.f=!1,e instanceof qt){this.f=void 0!==t?t:e.f,Ut(this,e.c),this.l=e.l,this.b=e.b,Ht(this,e.i),this.g=e.g,t=e.a;var n=new an;n.c=t.c,t.a&&(n.a=new Bt(t.a),n.b=t.b),zt(this,n),this.h=e.h}else e&&(n=String(e).match(Vt))?(this.f=!!t,Ut(this,n[1]||"",!0),this.l=Yt(n[2]||""),this.b=Yt(n[3]||"",!0),Ht(this,n[4]),this.g=Yt(n[5]||"",!0),zt(this,n[6]||"",!0),this.h=Yt(n[7]||"")):(this.f=!!t,this.a=new an(null,this.f))}function Ut(e,t,n){e.c=n?Yt(t,!0):t,e.c&&(e.c=e.c.replace(/:$/,""))}function Ht(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.i=t}else e.i=null}function zt(e,t,n){var r,i;t instanceof an?(e.a=t,r=e.a,(i=e.f)&&!r.f&&(on(r),r.c=null,r.a.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(ln(this,t),un(this,n,e))},r)),r.f=i):(n||(t=Xt(t,nn)),e.a=new an(t,e.f))}function Wt(e,t,n){e.a.set(t,n)}function Kt(e,t){return e.a.get(t)}function Gt(e){return e instanceof qt?new qt(e):new qt(e,void 0)}function Qt(e,t){var n=new qt(null,void 0);return Ut(n,"https"),e&&(n.b=e),t&&(n.g=t),n}function Yt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Xt(e,t,n){return i(e)?(e=encodeURI(e).replace(t,Jt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Jt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}qt.prototype.toString=function(){var e=[],t=this.c;t&&e.push(Xt(t,Zt,!0),":");var n=this.b;return(n||"file"==t)&&(e.push("//"),(t=this.l)&&e.push(Xt(t,Zt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&e.push(":",String(n))),(n=this.g)&&(this.b&&"/"!=n.charAt(0)&&e.push("/"),e.push(Xt(n,"/"==n.charAt(0)?tn:en,!0))),(n=this.a.toString())&&e.push("?",n),(n=this.h)&&e.push("#",Xt(n,rn)),e.join("")};var Zt=/[#\/\?@]/g,en=/[#\?:]/g,tn=/[#\?]/g,nn=/[#\?@]/g,rn=/#/g;function an(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function on(e){e.a||(e.a=new Bt,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function sn(e){var t=Ft(e);if(void 0===t)throw Error("Keys are undefined");var n=new an(null,void 0);e=Lt(e);for(var r=0;r<t.length;r++){var i=t[r],a=e[r];c(a)?un(n,i,a):n.add(i,a)}return n}function ln(e,t){on(e),t=hn(e,t),$t(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,$t((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&jt(e)))}function cn(e,t){return on(e),t=hn(e,t),$t(e.a.b,t)}function un(e,t,n){ln(e,t),0<n.length&&(e.c=null,e.a.set(hn(e,t),j(n)),e.b+=n.length)}function hn(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}(e=an.prototype).add=function(e,t){on(this),this.c=null,e=hn(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(e,t){on(this),this.a.forEach(function(n,r){D(n,function(n){e.call(t,n,r,this)},this)},this)},e.U=function(){on(this);for(var e=this.a.S(),t=this.a.U(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},e.S=function(e){on(this);var t=[];if(i(e))cn(this,e)&&(t=B(t,this.a.get(hn(this,e))));else{e=this.a.S();for(var n=0;n<e.length;n++)t=B(t,e[n])}return t},e.set=function(e,t){return on(this),this.c=null,cn(this,e=hn(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},e.get=function(e,t){return 0<(e=e?this.S(e):[]).length?String(e[0]):t},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.U(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.S(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.c=e.join("&")};var dn=!Ue||9<=Number(Je);function pn(){this.a="",this.b=mn}function fn(e){return e instanceof pn&&e.constructor===pn&&e.b===mn?e.a:(T("expected object of type Const, got '"+e+"'"),"type_error:Const")}pn.prototype.na=!0,pn.prototype.ma=function(){return this.a},pn.prototype.toString=function(){return"Const{"+this.a+"}"};var mn={};function vn(e){var t=new pn;return t.a=e,t}function gn(){this.a="",this.b=Cn}function yn(e){return e instanceof gn&&e.constructor===gn&&e.b===Cn?e.a:(T("expected object of type TrustedResourceUrl, got '"+e+"' of type "+s(e)),"type_error:TrustedResourceUrl")}function bn(e,t){var n,r,i=fn(e);if(!En.test(i))throw Error("Invalid TrustedResourceUrl format: "+i);return n=e=i.replace(wn,function(e,n){if(!Object.prototype.hasOwnProperty.call(t,n))throw Error('Found marker, "'+n+'", in format string, "'+i+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[n])instanceof pn?fn(e):encodeURIComponent(String(e))}),(r=new gn).a=n,r}vn(""),gn.prototype.na=!0,gn.prototype.ma=function(){return this.a},gn.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var wn=/%{(\w+)}/g,En=/^(?:https:)?\/\/[0-9a-z.:[\]-]+\/|^\/[^\/\\]|^about:blank#/i,Cn={};function Sn(){this.a="",this.b=xn}function _n(e){return e instanceof Sn&&e.constructor===Sn&&e.b===xn?e.a:(T("expected object of type SafeUrl, got '"+e+"' of type "+s(e)),"type_error:SafeUrl")}Sn.prototype.na=!0,Sn.prototype.ma=function(){return this.a},Sn.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Tn=/^(?:(?:https?|mailto|ftp):|[^:\/?#]*(?:[\/?#]|$))/i;function kn(e){return e instanceof Sn?e:(e=e.na?e.ma():String(e),Tn.test(e)||(e="about:invalid#zClosurez"),In(e))}var xn={};function In(e){var t=new Sn;return t.a=e,t}function On(){this.a="",this.b=Pn}In("about:blank"),On.prototype.na=!0,On.prototype.ma=function(){return this.a},On.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Pn={};function An(e){var t=new On;return t.a=e,t}function Dn(e){var t=document;return i(e)?t.getElementById(e):e}function Nn(e,t){ne(t,function(t,n){t&&t.na&&(t=t.ma()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:Mn.hasOwnProperty(n)?e.setAttribute(Mn[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t})}An("<!DOCTYPE html>"),An(""),An("<br>");var Mn={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Rn(e){if(e&&"number"==typeof e.length){if(d(e))return"function"==typeof e.item||"string"==typeof e.item;if(h(e))return"function"==typeof e.item}return!1}function Ln(e){var t=[];return function e(t,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(c(n)){var i=n;n=i.length,r.push("[");for(var a="",o=0;o<n;o++)r.push(a),e(t,i[o],r),a=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),a="",n)Object.prototype.hasOwnProperty.call(n,i)&&"function"!=typeof(o=n[i])&&(r.push(a),$n(i,r),r.push(":"),e(t,o,r),a=",");return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":$n(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new Fn,e,t),t.join("")}function Fn(){}var Bn={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},jn=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function $n(e,t){t.push('"',e.replace(jn,function(e){var t=Bn[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),Bn[e]=t),t}),'"')}function Vn(){var e=or();return Ue&&!!Je&&11==Je||/Edge\/\d+/.test(e)}function qn(){return n.window&&n.window.location.href||self&&self.location&&self.location.href||""}function Un(e,t){t=t||n.window;var r="about:blank";e&&(r=_n(kn(e))),t.location.href=r}function Hn(e){return!!((e=(e||or()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function zn(e){e=e||n.window;try{e.close()}catch(e){}}function Wn(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var i=(window.screen.availHeight-n)/2,a=(window.screen.availWidth-t)/2;for(l in t={width:t,height:n,top:0<i?i:0,left:0<a?a:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=or().toLowerCase(),r&&(t.target=r,X(n,"crios/")&&(t.target="_blank")),rr(or())==tr&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),r=window,t=n instanceof Sn?n:kn(void 0!==n.href?n.href:String(n)),n=e.target||n.target,i=[],e)switch(l){case"width":case"height":case"top":case"left":i.push(l+"="+e[l]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(l+"="+(e[l]?1:0))}var o,l=i.join(",");if((te("iPhone")&&!te("iPod")&&!te("iPad")||te("iPad")||te("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(l=r.document.createElement("A"),t instanceof Sn||t instanceof Sn||(t=t.na?t.ma():String(t),Tn.test(t)||(t="about:invalid#zClosurez"),t=In(t)),l.href=_n(t),l.setAttribute("target",n),e.noreferrer&&l.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),l.dispatchEvent(e),l={}):e.noreferrer?(l=r.open("",n,l),e=_n(t),l&&(ze&&X(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),l.opener=null,vn("b/12014412, meta tag with sanitized URL"),e=An(e='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+q(e)+'">'),l.document.write((o=e)instanceof On&&o.constructor===On&&o.b===Pn?o.a:(T("expected object of type SafeHtml, got '"+o+"' of type "+s(o)),"type_error:SafeHtml")),l.document.close())):(l=r.open(_n(t),n,l))&&e.noopener&&(l.opener=null),l)try{l.focus()}catch(e){}return l}var Kn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Gn=/^[^@]+@[^@]+$/;function Qn(){var e=null;return new fe(function(t){"complete"==n.document.readyState?t():(e=function(){t()},wt(window,"load",e))}).s(function(t){throw Et(window,"load",e),t})}function Yn(e){return e=e||or(),!("file:"!==hr()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Xn(){var e=n.window;try{return!(!e||e==e.top)}catch(e){return!1}}function Jn(){return"object"!=typeof n.window&&"function"==typeof n.importScripts}function Zn(){return r.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r.a.INTERNAL.hasOwnProperty("node")?"Node":Jn()?"Worker":"Browser"}function er(){var e=Zn();return"ReactNative"===e||"Node"===e}var tr="Firefox",nr="Chrome";function rr(e){var t=e.toLowerCase();return X(t,"opera/")||X(t,"opr/")||X(t,"opios/")?"Opera":X(t,"iemobile")?"IEMobile":X(t,"msie")||X(t,"trident/")?"IE":X(t,"edge/")?"Edge":X(t,"firefox/")?tr:X(t,"silk/")?"Silk":X(t,"blackberry")?"Blackberry":X(t,"webos")?"Webos":!X(t,"safari/")||X(t,"chrome/")||X(t,"crios/")||X(t,"android")?!X(t,"chrome/")&&!X(t,"crios/")||X(t,"edge/")?X(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":nr:"Safari"}var ir={Uc:"FirebaseCore-web",Wc:"FirebaseUI-web"};function ar(e,t){t=t||[];var n,r=[],i={};for(n in ir)i[ir[n]]=!0;for(n=0;n<t.length;n++)void 0!==i[t[n]]&&(delete i[t[n]],r.push(t[n]));return r.sort(),(t=r).length||(t=["FirebaseCore-web"]),"Browser"===(r=Zn())?r=rr(i=or()):"Worker"===r&&(r=rr(i=or())+"-"+r),r+"/JsCore/"+e+"/"+t.join(",")}function or(){return n.navigator&&n.navigator.userAgent||""}function sr(e,t){e=e.split("."),t=t||n;for(var r=0;r<e.length&&"object"==typeof t&&null!=t;r++)t=t[e[r]];return r!=e.length&&(t=void 0),t}function lr(){try{var e=n.localStorage,t=vr();if(e)return e.setItem(t,"1"),e.removeItem(t),!Vn()||!!n.indexedDB}catch(e){return Jn()&&!!n.indexedDB}return!1}function cr(){return(ur()||"chrome-extension:"===hr()||Yn())&&!er()&&lr()&&!Jn()}function ur(){return"http:"===hr()||"https:"===hr()}function hr(){return n.location&&n.location.protocol||null}function dr(e){return!Hn(e=e||or())&&rr(e)!=tr}function pr(e){return void 0===e?null:Ln(e)}function fr(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n}function mr(e){if(null!==e)return JSON.parse(e)}function vr(e){return e||Math.floor(1e9*Math.random()).toString()}function gr(e){return"Safari"!=rr(e=e||or())&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function yr(){var e=n.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var r=0;r<e.CP.length;r++)e.CP[r]=null}function br(e,t){if(t<e)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=or(),t=Zn(),this.b=Hn(e)||"ReactNative"===t}function wr(){var e=n.document;return!e||void 0===e.visibilityState||"visible"==e.visibilityState}function Er(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(e){}return null}function Cr(){return!(!sr("fireauth.oauthhelper",n)&&!sr("fireauth.iframe",n))}br.prototype.get=function(){var e=n.navigator;return!e||"boolean"!=typeof e.onLine||!ur()&&"chrome-extension:"!==hr()&&void 0===e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Sr,_r={};function Tr(e){_r[e]||(_r[e]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(e))}try{var kr={};Object.defineProperty(kr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(kr,"abcd",{configurable:!0,enumerable:!0,value:2}),Sr=2==kr.abcd}catch(e){Sr=!1}function xr(e,t,n){Sr?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function Ir(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&xr(e,n,t[n])}function Or(e){var t={};return Ir(t,e),t}function Pr(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)xr(t,n,Pr(e[n]));return t}function Ar(e){var t={},n=e[Nr],r=e[Mr];if(!(e=e[Rr])||e!=Dr&&!n)throw Error("Invalid provider user info!");t[Fr]=r||null,t[Lr]=n||null,xr(this,jr,e),xr(this,Br,Pr(t))}var Dr="EMAIL_SIGNIN",Nr="email",Mr="newEmail",Rr="requestType",Lr="email",Fr="fromEmail",Br="data",jr="operation";function $r(e,t){this.code=qr+e,this.message=t||Ur[e]||""}function Vr(e){var t=e&&e.code;return t?new $r(t.substring(qr.length),e.message):null}w($r,Error),$r.prototype.C=function(){return{code:this.code,message:this.message}},$r.prototype.toJSON=function(){return this.C()};var qr="auth/",Ur={"argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The OIDC ID token requires a valid unhashed nonce.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."};function Hr(e){var t=e[Qr];if(void 0===t)throw new $r("missing-continue-uri");if("string"!=typeof t||"string"==typeof t&&!t.length)throw new $r("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[zr];if(n&&"object"==typeof n){t=n[Jr];var r=n[Yr];if(n=n[Xr],"string"==typeof t&&t.length){if(this.a=t,void 0!==r&&"boolean"!=typeof r)throw new $r("argument-error",Yr+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new $r("argument-error",Xr+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==t)throw new $r("argument-error",Jr+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new $r("missing-android-pkg-name")}}else if(void 0!==n)throw new $r("argument-error",zr+" property must be a non null object when specified.");if(this.f=null,(t=e[Gr])&&"object"==typeof t){if("string"==typeof(t=t[Zr])&&t.length)this.f=t;else if(void 0!==t)throw new $r("argument-error",Zr+" property must be a non empty string when specified.")}else if(void 0!==t)throw new $r("argument-error",Gr+" property must be a non null object when specified.");if(void 0!==(t=e[Kr])&&"boolean"!=typeof t)throw new $r("argument-error",Kr+" property must be a boolean when specified.");if(this.c=!!t,void 0!==(e=e[Wr])&&("string"!=typeof e||"string"==typeof e&&!e.length))throw new $r("argument-error",Wr+" property must be a non empty string when specified.");this.i=e||null}var zr="android",Wr="dynamicLinkDomain",Kr="handleCodeInApp",Gr="iOS",Qr="url",Yr="installApp",Xr="minimumVersion",Jr="packageName",Zr="bundleId";function ei(e){var t={};for(var n in t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f,t.dynamicLinkDomain=e.i,t)null===t[n]&&delete t[n];return t}var ti=null,ni=null;function ri(e){this.c=e.sub,b(),this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function ii(e){return(e=ai(e))&&e.sub&&e.iss&&e.aud&&e.exp?new ri(e):null}function ai(e){if(!e)return null;if(3!=(e=e.split(".")).length)return null;for(var t=(4-(e=e[1]).length%4)%4,n=0;n<t;n++)e+=".";try{return JSON.parse(function(e){var t="";return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=ni[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}!function(){if(!ti){ti={},ni={};for(var e=0;e<65;e++)ti[e]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e),62<=(ni[ti[e]]=e)&&(ni["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(e)]=e)}}();for(var r=0;;){var i=n(-1),a=n(0),o=n(64),s=n(64);if(64===s&&-1===i)break;t(i<<2|a>>4),64!=o&&(t(a<<4&240|o>>2),64!=s&&t(o<<6&192|s))}}(e,function(e){t+=String.fromCharCode(e)}),t}(e))}catch(e){}return null}ri.prototype.f=function(){return this.b};var oi,si={$c:{ab:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://securetoken.googleapis.com/v1/token",id:"p"},bd:{ab:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},cd:{ab:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",ib:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}};function li(e){for(var t in si)if(si[t].id===e)return{firebaseEndpoint:(e=si[t]).ab,secureTokenEndpoint:e.ib};return null}oi=li("__EID__")?"__EID__":void 0;var ci="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),ui=["client_id","response_type","scope","redirect_uri","state"],hi={Vc:{Ma:"locale",Ba:500,Aa:600,Na:"facebook.com",hb:ui},Xc:{Ma:null,Ba:500,Aa:620,Na:"github.com",hb:ui},Yc:{Ma:"hl",Ba:515,Aa:680,Na:"google.com",hb:ui},dd:{Ma:"lang",Ba:485,Aa:705,Na:"twitter.com",hb:ci}};function di(e){for(var t in hi)if(hi[t].Na==e)return hi[t];return null}function pi(e){var t={};t["facebook.com"]=yi,t["google.com"]=wi,t["github.com"]=bi,t["twitter.com"]=Ei;var n=e&&e[mi];try{if(n)return t[n]?new t[n](e):new gi(e);if(void 0!==e[fi])return new vi(e)}catch(e){}return null}var fi="idToken",mi="providerId";function vi(e){var t=e[mi];if(!t&&e[fi]){var n=ii(e[fi]);n&&n.a&&(t=n.a)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,void 0!==e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),xr(this,"providerId",t),xr(this,"isNewUser",n)}function gi(e){vi.call(this,e),xr(this,"profile",Pr((e=mr(e.rawUserInfo||"{}"))||{}))}function yi(e){if(gi.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function bi(e){if(gi.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");xr(this,"username",this.profile&&this.profile.login||null)}function wi(e){if(gi.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Ei(e){if(gi.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");xr(this,"username",e.screenName||null)}function Ci(e){this.a=Gt(e)}function Si(e){var t=Gt(e),n=Kt(t,"link"),r=Kt(Gt(n),"link");return Kt(Gt(t=Kt(t,"deep_link_id")),"link")||t||r||n||e}function _i(e,t){return e.then(function(e){if(e[ao]){var n=ii(e[ao]);if(!n||t!=n.c)throw new $r("user-mismatch");return e}throw new $r("user-mismatch")}).s(function(e){throw e&&e.code&&e.code==qr+"user-not-found"?new $r("user-mismatch"):e})}function Ti(e,t){if(!t)throw new $r("internal-error","failed to construct a credential");this.a=t,xr(this,"providerId",e),xr(this,"signInMethod",e)}function ki(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function xi(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&xr(this,"idToken",t.idToken),t.accessToken&&xr(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&xr(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new $r("internal-error","failed to construct a credential");xr(this,"accessToken",t.oauthToken),xr(this,"secret",t.oauthTokenSecret)}xr(this,"providerId",e),xr(this,"signInMethod",n)}function Ii(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:sn(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function Oi(e,t){this.Dc=t||[],Ir(this,{providerId:e,isOAuthProvider:!0}),this.yb={},this.cb=(di(e)||{}).Ma||null,this.$a=null}function Pi(e){if("string"!=typeof e||0!=e.indexOf("saml."))throw new $r("argument-error",'SAML provider IDs must be prefixed with "saml."');Oi.call(this,e,[])}function Ai(e){Oi.call(this,e,ui),this.a=[]}function Di(){Ai.call(this,"facebook.com")}function Ni(e){if(!e)throw new $r("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return d(e)&&(t=e.accessToken),(new Di).credential(null,t)}function Mi(){Ai.call(this,"github.com")}function Ri(e){if(!e)throw new $r("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return d(e)&&(t=e.accessToken),(new Mi).credential(null,t)}function Li(){Ai.call(this,"google.com"),this.ua("profile")}function Fi(e,t){var n=e;return d(e)&&(n=e.idToken,t=e.accessToken),(new Li).credential(n,t)}function Bi(){Oi.call(this,"twitter.com",ci)}function ji(e,t){var n=e;if(d(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new $r("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new xi("twitter.com",n,"twitter.com")}function $i(e,t,n){this.a=e,this.c=t,xr(this,"providerId","password"),xr(this,"signInMethod",n===Vi.EMAIL_LINK_SIGN_IN_METHOD?Vi.EMAIL_LINK_SIGN_IN_METHOD:Vi.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Vi(){Ir(this,{providerId:"password",isOAuthProvider:!1})}function qi(e,t){if(!(t=Ui(t)))throw new $r("argument-error","Invalid email link!");return new $i(e,t,Vi.EMAIL_LINK_SIGN_IN_METHOD)}function Ui(e){var t=Kt((e=new Ci(e=Si(e))).a,"oobCode")||null;return"signIn"===(Kt(e.a,"mode")||null)&&t?t:null}function Hi(e){if(!(e.Ta&&e.Sa||e.Fa&&e.$))throw new $r("internal-error");this.a=e,xr(this,"providerId","phone"),xr(this,"signInMethod","phone")}function zi(e){return e.a.Fa&&e.a.$?{temporaryProof:e.a.Fa,phoneNumber:e.a.$}:{sessionInfo:e.a.Ta,code:e.a.Sa}}function Wi(e){try{this.a=e||r.a.auth()}catch(e){throw new $r("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Ir(this,{providerId:"phone",isOAuthProvider:!1})}function Ki(e,t){if(!e)throw new $r("missing-verification-id");if(!t)throw new $r("missing-verification-code");return new Hi({Ta:e,Sa:t})}function Gi(e){if(e.temporaryProof&&e.phoneNumber)return new Hi({Fa:e.temporaryProof,$:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret,i=e&&e.nonce,a=e&&e.oauthIdToken,o=e&&e.pendingToken;try{switch(t){case"google.com":return Fi(a,n);case"facebook.com":return Ni(n);case"github.com":return Ri(n);case"twitter.com":return ji(n,r);default:return n||r||a||o?o?0==t.indexOf("saml.")?new Ti(t,o):new xi(t,{pendingToken:o,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new Ai(t).credential(a,n,i):null}}catch(e){return null}}function Qi(e){if(!e.isOAuthProvider)throw new $r("invalid-oauth-provider")}function Yi(e,t,n,r,i,a){if(this.b=e,this.c=t||null,this.f=n||null,this.g=r||null,this.h=a||null,this.a=i||null,!this.f&&!this.a)throw new $r("invalid-auth-event");if(this.f&&this.a)throw new $r("invalid-auth-event");if(this.f&&!this.g)throw new $r("invalid-auth-event")}function Xi(e){return(e=e||{}).type?new Yi(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&Vr(e.error),e.postBody):null}function Ji(){this.b=null,this.a=[]}w(gi,vi),w(yi,gi),w(bi,gi),w(wi,gi),w(Ei,gi),Ti.prototype.la=function(e){return _o(e,ki(this))},Ti.prototype.b=function(e,t){var n=ki(this);return n.idToken=t,To(e,n)},Ti.prototype.f=function(e,t){return _i(ko(e,ki(this)),t)},Ti.prototype.C=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},xi.prototype.la=function(e){return _o(e,Ii(this))},xi.prototype.b=function(e,t){var n=Ii(this);return n.idToken=t,To(e,n)},xi.prototype.f=function(e,t){return _i(ko(e,Ii(this)),t)},xi.prototype.C=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},Oi.prototype.Da=function(e){return this.yb=ie(e),this},w(Pi,Oi),w(Ai,Oi),Ai.prototype.ua=function(e){return R(this.a,e)||this.a.push(e),this},Ai.prototype.Eb=function(){return j(this.a)},Ai.prototype.credential=function(e,t,n){if(!e&&!t)throw new $r("argument-error","credential failed: must provide the ID token and/or the access token.");return new xi(this.providerId,{idToken:e||null,accessToken:t||null,nonce:n||null},this.providerId)},w(Di,Ai),xr(Di,"PROVIDER_ID","facebook.com"),xr(Di,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),w(Mi,Ai),xr(Mi,"PROVIDER_ID","github.com"),xr(Mi,"GITHUB_SIGN_IN_METHOD","github.com"),w(Li,Ai),xr(Li,"PROVIDER_ID","google.com"),xr(Li,"GOOGLE_SIGN_IN_METHOD","google.com"),w(Bi,Oi),xr(Bi,"PROVIDER_ID","twitter.com"),xr(Bi,"TWITTER_SIGN_IN_METHOD","twitter.com"),$i.prototype.la=function(e){return this.signInMethod==Vi.EMAIL_LINK_SIGN_IN_METHOD?ts(e,Mo,{email:this.a,oobCode:this.c}):ts(e,Xo,{email:this.a,password:this.c})},$i.prototype.b=function(e,t){return this.signInMethod==Vi.EMAIL_LINK_SIGN_IN_METHOD?ts(e,Ro,{idToken:t,email:this.a,oobCode:this.c}):ts(e,zo,{idToken:t,email:this.a,password:this.c})},$i.prototype.f=function(e,t){return _i(this.la(e),t)},$i.prototype.C=function(){return{email:this.a,password:this.c,signInMethod:this.signInMethod}},Ir(Vi,{PROVIDER_ID:"password"}),Ir(Vi,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Ir(Vi,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Hi.prototype.la=function(e){return e.Ua(zi(this))},Hi.prototype.b=function(e,t){var n=zi(this);return n.idToken=t,ts(e,Zo,n)},Hi.prototype.f=function(e,t){var n=zi(this);return n.operation="REAUTH",_i(e=ts(e,es,n),t)},Hi.prototype.C=function(){var e={providerId:"phone"};return this.a.Ta&&(e.verificationId=this.a.Ta),this.a.Sa&&(e.verificationCode=this.a.Sa),this.a.Fa&&(e.temporaryProof=this.a.Fa),this.a.$&&(e.phoneNumber=this.a.$),e},Wi.prototype.Ua=function(e,t){var n=this.a.b;return Ee(t.verify()).then(function(r){if(!i(r))throw new $r("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(t.type){case"recaptcha":return(a=n,o={phoneNumber:e,recaptchaToken:r},ts(a,Uo,o)).then(function(e){return"function"==typeof t.reset&&t.reset(),e},function(e){throw"function"==typeof t.reset&&t.reset(),e});default:throw new $r("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}var a,o})},Ir(Wi,{PROVIDER_ID:"phone"}),Ir(Wi,{PHONE_SIGN_IN_METHOD:"phone"}),Yi.prototype.C=function(){return{type:this.b,eventId:this.c,urlResponse:this.f,sessionId:this.g,postBody:this.h,error:this.a&&this.a.C()}};var Zi,ea=null;function ta(e){var t="unauthorized-domain",n=void 0,r=Gt(e);e=r.b,"chrome-extension"==(r=r.c)?n=$("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=$("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",$r.call(this,t,n)}function na(e,t,n){$r.call(this,e,n),(e=t||{}).zb&&xr(this,"email",e.zb),e.$&&xr(this,"phoneNumber",e.$),e.credential&&xr(this,"credential",e.credential)}function ra(e){if(e.code){var t=e.code||"";0==t.indexOf(qr)&&(t=t.substring(qr.length));var n={credential:Gi(e)};if(e.email)n.zb=e.email;else if(e.phoneNumber)n.$=e.phoneNumber;else if(!n.credential)return new $r(t,e.message||void 0);return new na(t,n,e.message)}return null}function ia(){}function aa(e){return e.c||(e.c=e.b())}function oa(){}function sa(e){if(e.f||"undefined"!=typeof XMLHttpRequest||"undefined"==typeof ActiveXObject)return e.f;for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}function la(){}function ca(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseText="",this.status=-1,this.statusText="",this.a.onload=g(this.ec,this),this.a.onerror=g(this.Fb,this),this.a.onprogress=g(this.fc,this),this.a.ontimeout=g(this.ic,this)}function ua(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function ha(e,t,n){this.reset(e,t,n,void 0,void 0)}function da(e){this.f=e,this.b=this.c=this.a=null}function pa(e,t){this.name=e,this.value=t}Ji.prototype.subscribe=function(e){var t=this;this.a.push(e),this.b||(this.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"==typeof(e=sr("universalLinks.subscribe",n))&&e(null,this.b))},Ji.prototype.unsubscribe=function(e){F(this.a,function(t){return t==e})},w(ta,$r),w(na,$r),na.prototype.C=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber);var t=this.credential&&this.credential.C();return t&&le(e,t),e},na.prototype.toJSON=function(){return this.C()},ia.prototype.c=null,w(oa,ia),oa.prototype.a=function(){var e=sa(this);return e?new ActiveXObject(e):new XMLHttpRequest},oa.prototype.b=function(){var e={};return sa(this)&&(e[0]=!0,e[1]=!0),e},Zi=new oa,w(la,ia),la.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new ca;throw Error("Unsupported browser")},la.prototype.b=function(){return{}},(e=ca.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},e.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},e.ec=function(){this.status=200,this.responseText=this.a.responseText,ua(this,4)},e.Fb=function(){this.status=500,this.responseText="",ua(this,4)},e.ic=function(){this.Fb()},e.fc=function(){this.status=200,ua(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},ha.prototype.a=null,ha.prototype.reset=function(e,t,n,r,i){r||b(),delete this.a},pa.prototype.toString=function(){return this.name};var fa=new pa("SEVERE",1e3),ma=new pa("WARNING",900),va=new pa("CONFIG",700),ga=new pa("FINE",500);da.prototype.log=function(e,t,n){if(e.value>=function e(t){return t.c?t.c:t.a?e(t.a):(T("Root logger has no level set."),null)}(this).value)for(h(t)&&(t=t()),e=new ha(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var ya,ba={},wa=null;function Ea(e){var t;if(wa||(wa=new da(""),(ba[""]=wa).c=va),!(t=ba[e])){t=new da(e);var n=e.lastIndexOf("."),r=e.substr(n+1);(n=Ea(e.substr(0,n))).b||(n.b={}),(n.b[r]=t).a=n,ba[e]=t}return t}function Ca(e,t){e&&e.log(ga,t,void 0)}function Sa(e){this.f=e}function _a(e){Pt.call(this),this.i=e,this.readyState=Ta,this.status=0,this.responseText=this.statusText="",this.onreadystatechange=null,this.g=new Headers,this.b=null,this.h="GET",this.c="",this.a=!1,this.f=Ea("goog.net.FetchXmlHttp")}w(Sa,ia),Sa.prototype.a=function(){return new _a(this.f)},Sa.prototype.b=(ya={},function(){return ya}),w(_a,Pt);var Ta=0;function ka(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function xa(e){Pt.call(this),this.headers=new Bt,this.D=e||null,this.c=!1,this.w=this.a=null,this.h=this.N=this.m="",this.f=this.I=this.i=this.G=!1,this.g=0,this.u=null,this.o=Ia,this.v=this.O=!1}(e=_a.prototype).open=function(e,t){if(this.readyState!=Ta)throw this.abort(),Error("Error reopening a connection");this.h=e,this.c=t,this.readyState=1,ka(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.g,method:this.h,credentials:void 0,cache:void 0};e&&(t.body=e),this.i.fetch(new Request(this.c,t)).then(this.hc.bind(this),this.Gb.bind(this))},e.abort=function(){this.responseText="",this.g=new Headers,this.status=0,1<=this.readyState&&this.a&&4!=this.readyState&&(this.readyState=4,this.a=!1,ka(this)),this.readyState=Ta},e.hc=function(e){this.a&&(this.b||(this.b=e.headers,this.readyState=2,ka(this)),this.a&&(this.readyState=3,ka(this),this.a&&e.text().then(this.gc.bind(this,e),this.Gb.bind(this))))},e.gc=function(e,t){this.a&&(this.status=e.status,this.statusText=e.statusText,this.responseText=t,this.readyState=4,ka(this))},e.Gb=function(e){var t=this.f;t&&t.log(ma,"Failed to fetch url "+this.c,e instanceof Error?e:Error(e)),this.a&&(this.readyState=4,ka(this))},e.setRequestHeader=function(e,t){this.g.append(e,t)},e.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.f)&&e.log(ma,"Attempting to get response header but no headers have been received for url: "+this.c,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var e=this.f;return e&&e.log(ma,"Attempting to get all response headers but no headers have been received for url: "+this.c,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},w(xa,Pt);var Ia="";xa.prototype.b=Ea("goog.net.XhrIo");var Oa=/^https?$/i,Pa=["POST","PUT"];function Aa(e){return"content-type"==e.toLowerCase()}function Da(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,Na(e),Ra(e)}function Na(e){e.G||(e.G=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function Ma(e){if(e.c&&void 0!==t)if(e.w[1]&&4==Fa(e)&&2==Ba(e))Ca(e.b,ja(e,"Local request error detected and ignored"));else if(e.i&&4==Fa(e))Mt(e.Jb,0,e);else if(e.dispatchEvent("readystatechange"),4==Fa(e)){Ca(e.b,ja(e,"Request complete")),e.c=!1;try{var r,i=Ba(e);e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var a=!0;break e;default:a=!1}if(!(r=a)){var o;if(o=0===i){var s=String(e.m).match(Vt)[1]||null;if(!s&&n.self&&n.self.location){var l=n.self.location.protocol;s=l.substr(0,l.length-1)}o=!Oa.test(s?s.toLowerCase():"")}r=o}if(r)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var c=2<Fa(e)?e.a.statusText:""}catch(r){Ca(e.b,"Can not get status: "+r.message),c=""}e.h=c+" ["+Ba(e)+"]",Na(e)}}finally{Ra(e)}}}function Ra(e,t){if(e.a){La(e);var n=e.a,r=e.w[0]?o:null;e.a=null,e.w=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(t){(e=e.b)&&e.log(fa,"Problem encountered resetting onreadystatechange: "+t.message,void 0)}}}function La(e){e.a&&e.v&&(e.a.ontimeout=null),e.u&&(n.clearTimeout(e.u),e.u=null)}function Fa(e){return e.a?e.a.readyState:0}function Ba(e){try{return 2<Fa(e)?e.a.status:-1}catch(e){return-1}}function ja(e,t){return t+" ["+e.N+" "+e.m+" "+Ba(e)+"]"}function $a(e,t){this.g=[],this.v=e,this.u=t||null,this.f=this.a=!1,this.c=void 0,this.m=this.w=this.i=!1,this.h=0,this.b=null,this.l=0}function Va(e,t,n){e.a=!0,e.c=n,e.f=!t,za(e)}function qa(e){if(e.a){if(!e.m)throw new Wa(e);e.m=!1}}function Ua(e,t,n,r){e.g.push([t,n,r]),e.a&&za(e)}function Ha(e){return M(e.g,function(e){return h(e[1])})}function za(e){if(e.h&&e.a&&Ha(e)){var t=e.h,r=Qa[t];r&&(n.clearTimeout(r.a),delete Qa[t]),e.h=0}e.b&&(e.b.l--,delete e.b),t=e.c;for(var i=r=!1;e.g.length&&!e.i;){var a=e.g.shift(),o=a[0],s=a[1];if(a=a[2],o=e.f?s:o)try{var l=o.call(a||e.u,t);void 0!==l&&(e.f=e.f&&(l==t||l instanceof Error),e.c=t=l),(C(t)||"function"==typeof n.Promise&&t instanceof n.Promise)&&(i=!0,e.i=!0)}catch(i){t=i,e.f=!0,Ha(e)||(r=!0)}}e.c=t,i&&(l=g(e.o,e,!0),i=g(e.o,e,!1),t instanceof $a?(Ua(t,l,i),t.w=!0):t.then(l,i)),r&&(t=new Ga(t),Qa[t.a]=t,e.h=t.a)}function Wa(){S.call(this)}function Ka(){S.call(this)}function Ga(e){this.a=n.setTimeout(g(this.c,this),0),this.b=e}(e=xa.prototype).Ga=function(){void 0!==t&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Ca(this.b,ja(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(){this.a&&this.c&&(Ca(this.b,ja(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ra(this))},e.va=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Ra(this,!0)),xa.ob.va.call(this)},e.Jb=function(){this.qa||(this.I||this.i||this.f?Ma(this):this.wc())},e.wc=function(){Ma(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.o){case Ia:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(fa,"Response type "+this.o+" is not supported on this browser",void 0),null}catch(e){return Ca(this.b,"Can not get response: "+e.message),null}},$a.prototype.cancel=function(e){if(this.a)this.c instanceof $a&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.l--,t.l<=0&&t.cancel())}this.v?this.v.call(this.u,this):this.m=!0,this.a||(e=new Ka(this),qa(this),Va(this,!1,e))}},$a.prototype.o=function(e,t){this.i=!1,Va(this,e,t)},$a.prototype.D=function(){qa(this),Va(this,!0,null)},$a.prototype.then=function(e,t,n){var r,i,a=new fe(function(e,t){r=e,i=t});return Ua(this,r,function(e){e instanceof Ka?a.cancel():i(e)}),a.then(e,t,n)},E($a),w(Wa,S),Wa.prototype.message="Deferred has already fired",Wa.prototype.name="AlreadyCalledError",w(Ka,S),Ka.prototype.message="Deferred was canceled",Ka.prototype.name="CanceledError",Ga.prototype.c=function(){throw delete Qa[this.a],this.b};var Qa={};function Ya(e){var t,n,r={},i=r.document||document,a=yn(e),o=document.createElement("SCRIPT"),s={Lb:o,Ga:void 0},l=new $a(Xa,s),c=null,u=null!=r.timeout?r.timeout:5e3;return 0<u&&(c=window.setTimeout(function(){Ja(o,!0);var e=new to(eo,"Timeout reached for loading script "+a);qa(l),Va(l,!1,e)},u),s.Ga=c),o.onload=o.onreadystatechange=function(){o.readyState&&"loaded"!=o.readyState&&"complete"!=o.readyState||(Ja(o,r.fd||!1,c),l.D())},o.onerror=function(){Ja(o,!0,c);var e=new to(Za,"Error while loading script "+a);qa(l),Va(l,!1,e)},le(s=r.attributes||{},{type:"text/javascript",charset:"UTF-8"}),Nn(o,s),o.src=yn(e),(t=i,(n=(t||document).getElementsByTagName("HEAD"))&&0!=n.length?n[0]:t.documentElement).appendChild(o),l}function Xa(){if(this&&this.Lb){var e=this.Lb;e&&"SCRIPT"==e.tagName&&Ja(e,!0,this.Ga)}}function Ja(e,t,r){null!=r&&n.clearTimeout(r),e.onload=o,e.onerror=o,e.onreadystatechange=o,t&&window.setTimeout(function(){e&&e.parentNode&&e.parentNode.removeChild(e)},0)}var Za=0,eo=1;function to(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),S.call(this,n),this.code=e}function no(e){this.f=e}function ro(e,t,i){if(this.b=e,e=t||{},this.i=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.l=e.secureTokenTimeout||oo,this.f=ie(e.secureTokenHeaders||so),this.g=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.h=e.firebaseTimeout||lo,this.a=ie(e.firebaseHeaders||co),i&&(this.a["X-Client-Version"]=i,this.f["X-Client-Version"]=i),i="Node"==Zn(),!(i=n.XMLHttpRequest||i&&r.a.INTERNAL.node&&r.a.INTERNAL.node.XMLHttpRequest)&&!Jn())throw new $r("internal-error","The XMLHttpRequest compatibility library was not found.");this.c=void 0,Jn()?this.c=new Sa(self):er()?this.c=new no(i):this.c=new la}w(to,S),w(no,ia),no.prototype.a=function(){return new this.f},no.prototype.b=function(){return{}};var io,ao="idToken",oo=new br(3e4,6e4),so={"Content-Type":"application/x-www-form-urlencoded"},lo=new br(3e4,6e4),co={"Content-Type":"application/json"};function uo(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function ho(e,t){t?(e.a["X-Client-Version"]=t,e.f["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.f["X-Client-Version"])}function po(e,t,r,i,a,o,s){var l;(e=!((l=rr(l=or())!=nr?null:(l=l.match(/\sChrome\/(\d+)/i))&&2==l.length?parseInt(l[1],10):null)&&l<30||Ue&&Je&&!(9<Je))||Jn()?g(e.o,e):(io||(io=new fe(function(e,t){!function(e,t){((window.gapi||{}).client||{}).request?e():(n[mo]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))},Ua(Ya(bn(fo,{onload:mo})),null,function(){t(Error("CORS_UNSUPPORTED"))},void 0))}(e,t)})),g(e.m,e)))(t,r,i,a,o,s)}ro.prototype.o=function(e,t,r,a,o,s){if(Jn()&&(void 0===n.fetch||void 0===n.Headers||void 0===n.Request))throw new $r("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var l=new xa(this.c);if(s){l.g=Math.max(0,s);var c=setTimeout(function(){l.dispatchEvent("timeout")},s)}At(l,"complete",function(){c&&clearTimeout(c);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return Ca(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(t){e=null}t&&t(e)}),Dt(l,"ready",function(){c&&clearTimeout(c),Be(this)}),Dt(l,"timeout",function(){c&&clearTimeout(c),Be(this),t&&t(null)}),function(e,t,r,a,o){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.m+"; newUri="+t);r=r?r.toUpperCase():"GET",e.m=t,e.h="",e.N=r,e.G=!1,e.c=!0,e.a=e.D?e.D.a():Zi.a(),e.w=e.D?aa(e.D):aa(Zi),e.a.onreadystatechange=g(e.Jb,e);try{Ca(e.b,ja(e,"Opening Xhr")),e.I=!0,e.a.open(r,String(t),!0),e.I=!1}catch(t){return Ca(e.b,ja(e,"Error opening Xhr: "+t.message)),void Da(e,t)}t=a||"";var s,l=new Bt(e.headers);o&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(u(e)||i(e))D(e,t,void 0);else for(var n=Ft(e),r=Lt(e),a=r.length,o=0;o<a;o++)t.call(void 0,r[o],n&&n[o],e)}(o,function(e,t){l.set(t,e)}),o=function(e){e:{for(var t=Aa,n=e.length,r=i(e)?e.split(""):e,a=0;a<n;a++)if(a in r&&t.call(void 0,r[a],a,e)){t=a;break e}t=-1}return t<0?null:i(e)?e.charAt(t):e[t]}(l.U()),a=n.FormData&&t instanceof n.FormData,!R(Pa,r)||o||a||l.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),l.forEach(function(e,t){this.a.setRequestHeader(t,e)},e),e.o&&(e.a.responseType=e.o),"withCredentials"in e.a&&e.a.withCredentials!==e.O&&(e.a.withCredentials=e.O);try{La(e),0<e.g&&(e.v=(s=e.a,Ue&&et(9)&&"number"==typeof s.timeout&&void 0!==s.ontimeout),Ca(e.b,ja(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.v)),e.v?(e.a.timeout=e.g,e.a.ontimeout=g(e.Ga,e)):e.u=Mt(e.Ga,e.g,e)),Ca(e.b,ja(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(t){Ca(e.b,ja(e,"Send error: "+t.message)),Da(e,t)}}(l,e,r,a,o)};var fo=vn("https://apis.google.com/js/client.js?onload=%{onload}"),mo="__fcb"+Math.floor(1e6*Math.random()).toString();function vo(e){if(!i(e=e.email)||!Gn.test(e))throw new $r("invalid-email")}function go(e){"email"in e&&vo(e)}function yo(e){if(!e[ao])throw new $r("internal-error")}function bo(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new $r("internal-error")}else{if(!e.sessionInfo)throw new $r("missing-verification-id");if(!e.code)throw new $r("missing-verification-code")}}ro.prototype.m=function(e,t,n,r,i){var a=this;io.then(function(){window.gapi.client.setApiKey(a.b);var o=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(o),t&&t(e)}})}).s(function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})})},ro.prototype.Qa=function(){return ts(this,Wo,{})},ro.prototype.pb=function(e,t){return ts(this,Ho,{idToken:e,email:t})},ro.prototype.qb=function(e,t){return ts(this,zo,{idToken:e,password:t})};var wo={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function Eo(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new $r("internal-error")}function Co(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&cn(e=new an(e.postBody),"nonce")&&(t.nonce=e.get("nonce"))),t}function So(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=ra(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=ra(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=ra(e)):e.errorMessage&&(t=ns(e.errorMessage)),t)throw t;if(!e[ao])throw new $r("internal-error")}function _o(e,t){return t.returnIdpCredential=!0,ts(e,Ko,t)}function To(e,t){return t.returnIdpCredential=!0,ts(e,Qo,t)}function ko(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,ts(e,Go,t)}function xo(e){if(!e.oobCode)throw new $r("invalid-action-code")}(e=ro.prototype).rb=function(e,t){var n={idToken:e},r=[];return ne(wo,function(e,i){var a=t[i];null===a?r.push(e):i in t&&(n[i]=a)}),r.length&&(n.deleteAttribute=r),ts(this,Ho,n)},e.kb=function(e,t){return le(e={requestType:"PASSWORD_RESET",email:e},t),ts(this,jo,e)},e.lb=function(e,t){return le(e={requestType:"EMAIL_SIGNIN",email:e},t),ts(this,Fo,e)},e.jb=function(e,t){return le(e={requestType:"VERIFY_EMAIL",idToken:e},t),ts(this,Bo,e)},e.Ua=function(e){return ts(this,Jo,e)},e.Za=function(e,t){return ts(this,qo,{oobCode:e,newPassword:t})},e.Ja=function(e){return ts(this,Oo,{oobCode:e})},e.Wa=function(e){return ts(this,Io,{oobCode:e})};var Io={endpoint:"setAccountInfo",B:xo,da:"email"},Oo={endpoint:"resetPassword",B:xo,J:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t)throw new $r("internal-error")}},Po={endpoint:"signupNewUser",B:function(e){if(vo(e),!e.password)throw new $r("weak-password")},J:yo,R:!0},Ao={endpoint:"createAuthUri"},Do={endpoint:"deleteAccount",T:["idToken"]},No={endpoint:"setAccountInfo",T:["idToken","deleteProvider"],B:function(e){if(!c(e.deleteProvider))throw new $r("internal-error")}},Mo={endpoint:"emailLinkSignin",T:["email","oobCode"],B:vo,J:yo,R:!0},Ro={endpoint:"emailLinkSignin",T:["idToken","email","oobCode"],B:vo,J:yo,R:!0},Lo={endpoint:"getAccountInfo"},Fo={endpoint:"getOobConfirmationCode",T:["requestType"],B:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new $r("internal-error");vo(e)},da:"email"},Bo={endpoint:"getOobConfirmationCode",T:["idToken","requestType"],B:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new $r("internal-error")},da:"email"},jo={endpoint:"getOobConfirmationCode",T:["requestType"],B:function(e){if("PASSWORD_RESET"!=e.requestType)throw new $r("internal-error");vo(e)},da:"email"},$o={ub:!0,endpoint:"getProjectConfig",Ib:"GET"},Vo={ub:!0,endpoint:"getRecaptchaParam",Ib:"GET",J:function(e){if(!e.recaptchaSiteKey)throw new $r("internal-error")}},qo={endpoint:"resetPassword",B:xo,da:"email"},Uo={endpoint:"sendVerificationCode",T:["phoneNumber","recaptchaToken"],da:"sessionInfo"},Ho={endpoint:"setAccountInfo",T:["idToken"],B:go,R:!0},zo={endpoint:"setAccountInfo",T:["idToken"],B:function(e){if(go(e),!e.password)throw new $r("weak-password")},J:yo,R:!0},Wo={endpoint:"signupNewUser",J:yo,R:!0},Ko={endpoint:"verifyAssertion",B:Eo,Oa:Co,J:So,R:!0},Go={endpoint:"verifyAssertion",B:Eo,Oa:Co,J:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new $r("user-not-found");if(e.errorMessage)throw ns(e.errorMessage);if(!e[ao])throw new $r("internal-error")},R:!0},Qo={endpoint:"verifyAssertion",B:function(e){if(Eo(e),!e.idToken)throw new $r("internal-error")},Oa:Co,J:So,R:!0},Yo={endpoint:"verifyCustomToken",B:function(e){if(!e.token)throw new $r("invalid-custom-token")},J:yo,R:!0},Xo={endpoint:"verifyPassword",B:function(e){if(vo(e),!e.password)throw new $r("wrong-password")},J:yo,R:!0},Jo={endpoint:"verifyPhoneNumber",B:bo,J:yo},Zo={endpoint:"verifyPhoneNumber",B:function(e){if(!e.idToken)throw new $r("internal-error");bo(e)},J:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",ra(e);yo(e)}},es={Xb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",B:bo,J:yo};function ts(e,t,n){if(!function(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(null==r||""===r)return!1}return!0}(n,t.T))return Ce(new $r("internal-error"));var r,i=t.Ib||"POST";return Ee(n).then(t.B).then(function(){return t.R&&(n.returnSecureToken=!0),function(e,t,n,r,i,a){var o=Gt(e.g+t);Wt(o,"key",e.b),a&&Wt(o,"cb",b().toString());var s="GET"==n;if(s)for(var l in r)r.hasOwnProperty(l)&&Wt(o,l,r[l]);return new fe(function(t,a){po(e,o.toString(),function(e){e?e.error?a(rs(e,i||{})):t(e):a(new $r("network-request-failed"))},n,s?void 0:Ln(fr(r)),e.a,e.h.get())})}(e,t.endpoint,i,n,t.Xb,t.ub||!1)}).then(function(e){return r=e,t.Oa?t.Oa(n,r):r}).then(t.J).then(function(){if(!t.da)return r;if(!(t.da in r))throw new $r("internal-error");return r[t.da]})}function ns(e){return rs({error:{errors:[{message:e}],code:400,message:e}})}function rs(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new $r(r[n]):null)return n;for(var i in n=e.error&&e.error.message||"",le(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash"},t||{}),t=(t=n.match(/^[^\s]+\s*:\s*(.*)$/))&&1<t.length?t[1]:void 0,r)if(0===n.indexOf(i))return new $r(r[i],t);return!t&&e&&(t=pr(e)),new $r("internal-error",t)}function is(e){var t;this.b=e,this.a=null,this.fb=(t=this,(ls||(ls=new fe(function(e,t){function r(){yr(),sr("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){yr(),t(Error("Network Error"))},timeout:os.get()})}if(sr("gapi.iframes.Iframe"))e();else if(sr("gapi.load"))r();else{var i="__iframefcb"+Math.floor(1e6*Math.random()).toString();n[i]=function(){sr("gapi.load")?r():t(Error("Network Error"))},Ee(Ya(i=bn(as,{onload:i}))).s(function(){t(Error("Network Error"))})}}).s(function(e){throw ls=null,e}))).then(function(){return new fe(function(e,n){sr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:sr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(r){function i(){clearTimeout(a),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var a=setTimeout(function(){n(Error("Network Error"))},ss.get());r.ping(i).then(i,function(){n(Error("Network Error"))})})})}))}var as=vn("https://apis.google.com/js/api.js?onload=%{onload}"),os=new br(3e4,6e4),ss=new br(5e3,15e3),ls=null;function cs(e,t,n){this.i=e,this.g=t,this.h=n,this.f=null,this.a=Qt(this.i,"/__/auth/iframe"),Wt(this.a,"apiKey",this.g),Wt(this.a,"appName",this.h),this.b=null,this.c=[]}function us(e,t,n,r,i){this.o=e,this.m=t,this.c=n,this.l=r,this.h=this.g=this.i=null,this.a=i,this.f=null}function hs(e){try{return r.a.app(e).auth().ya()}catch(e){return[]}}function ds(e,t,n,r,i){this.m=e,this.f=t,this.b=n,this.c=r||null,this.h=i||null,this.o=this.u=this.v=null,this.g=[],this.l=this.a=null}function ps(e){var t,n=qn();return(t=e,ts(t,$o,{}).then(function(e){return e.authorizedDomains||[]})).then(function(e){e:{var t=Gt(n),r=t.c;t=t.b;for(var i=0;i<e.length;i++){var a=e[i],o=t,s=r;if(o=0==a.indexOf("chrome-extension://")?Gt(a).b==o&&"chrome-extension"==s:("http"==s||"https"==s)&&(Kn.test(a)?o==a:(a=a.split(".").join("\\."),new RegExp("^(.+\\."+a+"|"+a+")$","i").test(o)))){e=!0;break e}}e=!1}if(!e)throw new ta(qn())})}function fs(e){return e.l||(e.l=Qn().then(function(){if(!e.u){var t=e.c,n=e.h,r=hs(e.b),i=new cs(e.m,e.f,e.b);i.f=t,i.b=n,i.c=j(r||[]),e.u=i.toString()}e.i=new is(e.u),function(e){if(!e.i)throw Error("IfcHandler must be initialized!");var t,n;t=e.i,n=function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=Xi(t.authEvent),n=0;n<e.g.length;n++)r=e.g[n](t)||r;return(n={}).status=r?"ACK":"ERROR",Ee(n)}return n.status="ERROR",Ee(n)},t.fb.then(function(){t.a.register("authEvent",n,sr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(e)})),e.l}function ms(e){return e.o||(e.v=e.c?ar(e.c,hs(e.b)):null,e.o=new ro(e.f,li(e.h),e.v)),e.o}function vs(e,t,n,r,i,a,o,s,l,c){return(e=new us(e,t,n,r,i)).i=a,e.g=o,e.h=s,e.b=ie(l||null),e.f=c,e.toString()}function gs(e){if(this.a=e||r.a.INTERNAL.reactNative&&r.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new $r("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function ys(e){this.b=e,this.a={},this.c=g(this.f,this)}cs.prototype.toString=function(){return this.f?Wt(this.a,"v",this.f):ln(this.a.a,"v"),this.b?Wt(this.a,"eid",this.b):ln(this.a.a,"eid"),this.c.length?Wt(this.a,"fw",this.c.join(",")):ln(this.a.a,"fw"),this.a.toString()},us.prototype.toString=function(){var e=Qt(this.o,"/__/auth/handler");if(Wt(e,"apiKey",this.m),Wt(e,"appName",this.c),Wt(e,"authType",this.l),this.a.isOAuthProvider){var t=this.a;try{var n=r.a.app(this.c).auth().ea()}catch(e){n=null}for(var i in t.$a=n,Wt(e,"providerId",this.a.providerId),n=fr((t=this.a).yb))n[i]=n[i].toString();i=t.Dc,n=ie(n);for(var a=0;a<i.length;a++){var o=i[a];o in n&&delete n[o]}t.cb&&t.$a&&!n[t.cb]&&(n[t.cb]=t.$a),re(n)||Wt(e,"customParameters",pr(n))}if("function"==typeof this.a.Eb&&(t=this.a.Eb()).length&&Wt(e,"scopes",t.join(",")),this.i?Wt(e,"redirectUrl",this.i):ln(e.a,"redirectUrl"),this.g?Wt(e,"eventId",this.g):ln(e.a,"eventId"),this.h?Wt(e,"v",this.h):ln(e.a,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Kt(e,s)&&Wt(e,s,this.b[s]);return this.f?Wt(e,"eid",this.f):ln(e.a,"eid"),(s=hs(this.c)).length&&Wt(e,"fw",s.join(",")),e.toString()},(e=ds.prototype).Ea=function(e,t,n){var r=new $r("popup-closed-by-user"),i=new $r("web-storage-unsupported"),a=this,o=!1;return this.ga().then(function(){var n,r;(n=a,r={type:"webStorageSupport"},fs(n).then(function(){return e=n.i,t=r,e.fb.then(function(){return new fe(function(n){e.a.send(t.type,t,n,sr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})});var e,t}).then(function(e){if(e&&e.length&&void 0!==e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()})).then(function(n){n||(e&&zn(e),t(i),o=!0)})}).s(function(){}).then(function(){if(!o)return t=e,new fe(function(e){return function n(){Rt(2e3).then(function(){if(t&&!t.closed)return n();e()})}()});var t}).then(function(){if(!o)return Rt(n).then(function(){t(r)})})},e.Mb=function(){var e=or();return!dr(e)&&!gr(e)},e.Hb=function(){return!1},e.Cb=function(e,t,n,r,i,a,o){if(!e)return Ce(new $r("popup-blocked"));if(o&&!dr())return this.ga().s(function(t){zn(e),i(t)}),r(),Ee();this.a||(this.a=ps(ms(this)));var s=this;return this.a.then(function(){var t=s.ga().s(function(t){throw zn(e),i(t),t});return r(),t}).then(function(){Qi(n),o||Un(vs(s.m,s.f,s.b,t,n,null,a,s.c,void 0,s.h),e)}).s(function(e){throw"auth/network-request-failed"==e.code&&(s.a=null),e})},e.Ca=function(e,t,n){this.a||(this.a=ps(ms(this)));var r=this;return this.a.then(function(){Qi(t),Un(vs(r.m,r.f,r.b,e,t,qn(),n,r.c,void 0,r.h))}).s(function(e){throw"auth/network-request-failed"==e.code&&(r.a=null),e})},e.ga=function(){var e=this;return fs(this).then(function(){return e.i.fb}).s(function(){throw e.a=null,new $r("network-request-failed")})},e.Qb=function(){return!0},e.wa=function(e){this.g.push(e)},e.Ka=function(e){F(this.g,function(t){return t==e})},(e=gs.prototype).get=function(e){return Ee(this.a.getItem(e)).then(function(e){return e&&mr(e)})},e.set=function(e,t){return Ee(this.a.setItem(e,pr(t)))},e.P=function(e){return Ee(this.a.removeItem(e))},e.Y=function(){},e.ca=function(){};var bs,ws=[];function Es(e){this.a=e}function Cs(e){this.c=e,this.b=!1,this.a=[]}function Ss(e,t,n,r){var i,a,o,s,l=n||{},c=null;if(e.b)return Ce(Error("connection_unavailable"));var u=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new fe(function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),o=setTimeout(function(){r(Error("unsupported_event"))},u),c={messageChannel:h,onMessage:a=function(e){e.data.eventId===i&&("ack"===e.data.status?(clearTimeout(o),s=setTimeout(function(){r(Error("timeout"))},3e3)):"done"===e.data.status?(clearTimeout(s),void 0!==e.data.response?n(e.data.response):r(Error("unknown_error"))):(clearTimeout(o),clearTimeout(s),r(Error("invalid_response"))))}},e.a.push(c),h.port1.addEventListener("message",a),e.c.postMessage({eventType:t,eventId:i,data:l},[h.port2])):r(Error("connection_unavailable"))}).then(function(t){return _s(e,c),t}).s(function(t){throw _s(e,c),t})}function _s(e,t){if(t){var n=t.messageChannel,r=t.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),F(e.a,function(e){return e==t})}}function Ts(){if(!xs())throw new $r("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=n.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.u=!1,this.h=null;var e,t=this;Jn()&&self?(this.l=function(){var e=Jn()?self:null;if(D(ws,function(n){n.b==e&&(t=n)}),!t){var t=new ys(e);ws.push(t)}return t}(),this.l.subscribe("keyChanged",function(e,n){return Ds(t).then(function(e){return 0<e.length&&D(t.a,function(t){t(e)}),{keyProcessed:R(e,n.key)}})}),this.l.subscribe("ping",function(){return Ee(["keyChanged"])})):(e=n.navigator,e&&e.serviceWorker?Ee().then(function(){return e.serviceWorker.ready}).then(function(e){return e.active||null}).s(function(){return null}):Ee(null)).then(function(e){(t.h=e)&&(t.g=new Cs(new Es(e)),Ss(t.g,"ping",null,!0).then(function(e){e[0].fulfilled&&R(e[0].value,"keyChanged")&&(t.u=!0)}).s(function(){}))})}function ks(e){return e.o||(e.o=function e(t){return new fe(function(n,r){var i=t.m.open("firebaseLocalStorageDb",1);i.onerror=function(e){try{e.preventDefault()}catch(e){}r(Error(e.target.error))},i.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){r(e)}},i.onsuccess=function(i){var a;(i=i.target.result).objectStoreNames.contains("firebaseLocalStorage")?n(i):(a=t,new fe(function(e,t){var n=a.m.deleteDatabase("firebaseLocalStorageDb");n.onsuccess=function(){e()},n.onerror=function(e){t(Error(e.target.error))}})).then(function(){return e(t)}).then(function(e){n(e)}).s(function(e){r(e)})}})}(e)),e.o}function xs(){try{return!!n.indexedDB}catch(e){return!1}}function Is(e){return e.objectStore("firebaseLocalStorage")}function Os(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function Ps(e){return new fe(function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}})}function As(e,t){return e.g&&e.h&&((r=n.navigator)&&r.serviceWorker&&r.serviceWorker.controller||null)===e.h?Ss(e.g,"keyChanged",{key:t},e.u).then(function(){}).s(function(){}):Ee();var r}function Ds(e){return ks(e).then(function(e){var t=Is(Os(e,!1));return t.getAll?Ps(t.getAll()):new fe(function(e,n){var r=[],i=t.openCursor();i.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},i.onerror=function(e){n(e.target.error)}})}).then(function(t){var n={},r=[];if(0==e.b){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=function e(t,n){var r,i=[];for(r in t)r in n?typeof t[r]!=typeof n[r]?i.push(r):"object"==typeof t[r]&&null!=t[r]&&null!=n[r]?0<e(t[r],n[r]).length&&i.push(r):t[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in t||i.push(r);return i}(e.c,n),e.c=n}return r})}function Ns(e){e.i&&e.i.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function Ms(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=Ee().then(function(){if(xs()){var e=vr(),r="__sak"+e;return bs||(bs=new Ts),(n=bs).set(r,e).then(function(){return n.get(r)}).then(function(t){if(t!==e)throw Error("indexedDB not supported!");return n.P(r)}).then(function(){return n}).s(function(){return t.c})}return t.c}).then(function(e){return t.type=e.type,e.Y(function(e){D(t.a,function(t){t(e)})}),e})}function Rs(){this.a={},this.type="inMemory"}function Ls(){if(!function(){var e="Node"==Zn();if(!(e=Fs()||e&&r.a.INTERNAL.node&&r.a.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==Zn())throw new $r("internal-error","The LocalStorage compatibility library was not found.");throw new $r("web-storage-unsupported")}this.a=Fs()||r.a.INTERNAL.node.localStorage,this.type="localStorage"}function Fs(){try{var e=n.localStorage,t=vr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(e){return null}}function Bs(){this.type="nullStorage"}function js(){if(!function(){var e="Node"==Zn();if(!(e=$s()||e&&r.a.INTERNAL.node&&r.a.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==Zn())throw new $r("internal-error","The SessionStorage compatibility library was not found.");throw new $r("web-storage-unsupported")}this.a=$s()||r.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function $s(){try{var e=n.sessionStorage,t=vr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(e){return null}}function Vs(){var e={};e.Browser=Hs,e.Node=zs,e.ReactNative=Ws,e.Worker=Ks,this.a=e[Zn()]}ys.prototype.f=function(e){var t=e.data.eventType,n=e.data.eventId,r=this.a[t];if(r&&0<r.length){e.ports[0].postMessage({status:"ack",eventId:n,eventType:t,response:null});var i=[];D(r,function(t){i.push(Ee().then(function(){return t(e.origin,e.data.data)}))}),_e(i).then(function(r){var i=[];D(r,function(e){i.push({fulfilled:e.Db,value:e.value,reason:e.reason?e.reason.message:void 0})}),D(i,function(e){for(var t in e)void 0===e[t]&&delete e[t]}),e.ports[0].postMessage({status:"done",eventId:n,eventType:t,response:i})})}},ys.prototype.subscribe=function(e,t){re(this.a)&&this.b.addEventListener("message",this.c),void 0===this.a[e]&&(this.a[e]=[]),this.a[e].push(t)},ys.prototype.unsubscribe=function(e,t){void 0!==this.a[e]&&t?(F(this.a[e],function(e){return e==t}),0==this.a[e].length&&delete this.a[e]):t||delete this.a[e],re(this.a)&&this.b.removeEventListener("message",this.c)},Es.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},Cs.prototype.close=function(){for(;0<this.a.length;)_s(this,this.a[0]);this.b=!0},(e=Ts.prototype).set=function(e,t){var n,r=!1,i=this;return ks(this).then(function(t){return Ps((t=Is(Os(n=t,!0))).get(e))}).then(function(a){var o=Is(Os(n,!0));return a?(a.value=t,Ps(o.put(a))):(i.b++,r=!0,(a={}).fbase_key=e,a.value=t,Ps(o.add(a)))}).then(function(){return i.c[e]=t,As(i,e)}).ia(function(){r&&i.b--})},e.get=function(e){return ks(this).then(function(t){return Ps(Is(Os(t,!1)).get(e))}).then(function(e){return e&&e.value})},e.P=function(e){var t=!1,n=this;return ks(this).then(function(r){return t=!0,n.b++,Ps(Is(Os(r,!0)).delete(e))}).then(function(){return delete n.c[e],As(n,e)}).ia(function(){t&&n.b--})},e.Y=function(e){var t;0==this.a.length&&(Ns(t=this),function e(){t.f=setTimeout(function(){t.i=Ds(t).then(function(e){0<e.length&&D(t.a,function(t){t(e)})}).then(function(){e()}).s(function(t){"STOP_EVENT"!=t.message&&e()})},800)}()),this.a.push(e)},e.ca=function(e){F(this.a,function(t){return t==e}),0==this.a.length&&Ns(this)},(e=Ms.prototype).get=function(e){return this.b.then(function(t){return t.get(e)})},e.set=function(e,t){return this.b.then(function(n){return n.set(e,t)})},e.P=function(e){return this.b.then(function(t){return t.P(e)})},e.Y=function(e){this.a.push(e)},e.ca=function(e){F(this.a,function(t){return t==e})},(e=Rs.prototype).get=function(e){return Ee(this.a[e])},e.set=function(e,t){return this.a[e]=t,Ee()},e.P=function(e){return delete this.a[e],Ee()},e.Y=function(){},e.ca=function(){},(e=Ls.prototype).get=function(e){var t=this;return Ee().then(function(){return mr(t.a.getItem(e))})},e.set=function(e,t){var n=this;return Ee().then(function(){var r=pr(t);null===r?n.P(e):n.a.setItem(e,r)})},e.P=function(e){var t=this;return Ee().then(function(){t.a.removeItem(e)})},e.Y=function(e){n.window&&yt(n.window,"storage",e)},e.ca=function(e){n.window&&Et(n.window,"storage",e)},(e=Bs.prototype).get=function(){return Ee(null)},e.set=function(){return Ee()},e.P=function(){return Ee()},e.Y=function(){},e.ca=function(){},(e=js.prototype).get=function(e){var t=this;return Ee().then(function(){return mr(t.a.getItem(e))})},e.set=function(e,t){var n=this;return Ee().then(function(){var r=pr(t);null===r?n.P(e):n.a.setItem(e,r)})},e.P=function(e){var t=this;return Ee().then(function(){t.a.removeItem(e)})},e.Y=function(){},e.ca=function(){};var qs,Us,Hs={A:Ls,Ra:js},zs={A:Ls,Ra:js},Ws={A:gs,Ra:Bs},Ks={A:Ls,Ra:Bs},Gs={Zc:"local",NONE:"none",ad:"session"};function Qs(){var e=!(gr(or())||!Xn()),t=dr(),r=lr();this.o=e,this.h=t,this.l=r,this.a={},qs||(qs=new Vs),e=qs;try{this.g=!Vn()&&Cr()||!n.indexedDB?new e.a.A:new Ms(Jn()?new Rs:new e.a.A)}catch(e){this.g=new Rs,this.h=!0}try{this.i=new e.a.Ra}catch(e){this.i=new Rs}this.m=new Rs,this.f=g(this.Pb,this),this.b={}}function Ys(){return Us||(Us=new Qs),Us}function Xs(e,t){switch(t){case"session":return e.i;case"none":return e.m;default:return e.g}}function Js(e,t){return"firebase:"+e.name+(t?":"+t:"")}function Zs(e,t,n){return n=Js(t,n),"local"==t.A&&(e.b[n]=null),Xs(e,t.A).P(n)}function el(e){e.c&&(clearInterval(e.c),e.c=null)}function tl(e){this.a=e,this.b=Ys()}(e=Qs.prototype).get=function(e,t){return Xs(this,e.A).get(Js(e,t))},e.set=function(e,t,n){var r=Js(e,n),i=this,a=Xs(this,e.A);return a.set(r,t).then(function(){return a.get(r)}).then(function(t){"local"==e.A&&(i.b[r]=t)})},e.addListener=function(e,t,r){var i;e=Js(e,t),this.l&&(this.b[e]=n.localStorage.getItem(e)),re(this.a)&&(Xs(this,"local").Y(this.f),this.h||(Vn()||!Cr())&&n.indexedDB||!this.l||(el(i=this),i.c=setInterval(function(){for(var e in i.a){var t=n.localStorage.getItem(e),r=i.b[e];t!=r&&(i.b[e]=t,t=new st({type:"storage",key:e,target:window,oldValue:r,newValue:t,a:!0}),i.Pb(t))}},1e3))),this.a[e]||(this.a[e]=[]),this.a[e].push(r)},e.removeListener=function(e,t,n){e=Js(e,t),this.a[e]&&(F(this.a[e],function(e){return e==n}),0==this.a[e].length&&delete this.a[e]),re(this.a)&&(Xs(this,"local").ca(this.f),el(this))},e.Pb=function(e){if(e&&e.f){var t=e.a.key;if(null==t)for(var r in this.a){var i=this.b[r];void 0===i&&(i=null);var a=n.localStorage.getItem(r);a!==i&&(this.b[r]=a,this.Xa(r))}else if(0==t.indexOf("firebase:")&&this.a[t]){if(void 0!==e.a.a?Xs(this,"local").ca(this.f):el(this),this.o)if(r=n.localStorage.getItem(t),(i=e.a.newValue)!==r)null!==i?n.localStorage.setItem(t,i):n.localStorage.removeItem(t);else if(this.b[t]===i&&void 0===e.a.a)return;var o=this;r=function(){void 0===e.a.a&&o.b[t]===n.localStorage.getItem(t)||(o.b[t]=n.localStorage.getItem(t),o.Xa(t))},Ue&&Je&&10==Je&&n.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(r,10):r()}}else D(e,g(this.Xa,this))},e.Xa=function(e){this.a[e]&&D(this.a[e],function(e){e()})};var nl,rl={name:"authEvent",A:"local"};function il(){this.a=Ys()}function al(e,t){this.b=ol,this.f=n.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.l=n.Int32Array?new Int32Array(64):Array(64),void 0!==nl||(nl=n.Int32Array?new Int32Array(pl):pl),this.reset()}w(al,function(){this.b=-1});for(var ol=64,sl=ol-1,ll=[],cl=0;cl<sl;cl++)ll[cl]=0;var ul=B(128,ll);function hl(e){for(var t=e.f,n=e.l,r=0,i=0;i<t.length;)n[r++]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i=4*r;for(t=16;t<64;t++){i=0|n[t-15],r=0|n[t-2];var a=(0|n[t-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,o=(0|n[t-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=a+o|0}r=0|e.a[0],i=0|e.a[1];var s=0|e.a[2],l=0|e.a[3],c=0|e.a[4],u=0|e.a[5],h=0|e.a[6];for(a=0|e.a[7],t=0;t<64;t++){var d=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;o=(a=a+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((o=(o=c&u^~c&h)+(0|nl[t])|0)+(0|n[t])|0)|0,a=h,h=u,u=c,c=l+o|0,l=s,s=i,i=r,r=o+d|0}e.a[0]=e.a[0]+r|0,e.a[1]=e.a[1]+i|0,e.a[2]=e.a[2]+s|0,e.a[3]=e.a[3]+l|0,e.a[4]=e.a[4]+c|0,e.a[5]=e.a[5]+u|0,e.a[6]=e.a[6]+h|0,e.a[7]=e.a[7]+a|0}function dl(e,t,n){void 0===n&&(n=t.length);var r=0,a=e.c;if(i(t))for(;r<n;)e.f[a++]=t.charCodeAt(r++),a==e.b&&(hl(e),a=0);else{if(!u(t))throw Error("message must be string or array");for(;r<n;){var o=t[r++];if(!("number"==typeof o&&0<=o&&o<=255&&o==(0|o)))throw Error("message must be a byte array");e.f[a++]=o,a==e.b&&(hl(e),a=0)}}e.c=a,e.g+=n}al.prototype.reset=function(){this.g=this.c=0,this.a=n.Int32Array?new Int32Array(this.h):j(this.h)};var pl=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function fl(){al.call(this,8,ml)}w(fl,al);var ml=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function vl(e,t,n,r,i){this.m=e,this.i=t,this.l=n,this.o=r||null,this.u=i||null,this.h=t+":"+n,this.v=new il,this.g=new tl(this.h),this.f=null,this.b=[],this.a=this.c=null}function gl(e){return new $r("invalid-cordova-configuration",e)}function yl(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(e){}}function bl(e){return e.f||(e.f=e.ga().then(function(){return new fe(function(t){e.wa(function n(r){return t(r),e.Ka(n),!1}),function(e){function t(t){i=!0,a&&a.cancel(),wl(e).then(function(n){var i=r;if(n&&t&&t.url){var a=null;-1!=(i=Si(t.url)).indexOf("/__/auth/callback")&&(a=(a="object"==typeof(a=mr(Kt(a=Gt(i),"firebaseError")||null))?Vr(a):null)?new Yi(n.b,n.c,null,null,a):new Yi(n.b,n.c,i,n.g)),i=a||r}yl(e,i)})}var r=new Yi("unknown",null,null,null,new $r("no-auth-event")),i=!1,a=Rt(500).then(function(){return wl(e).then(function(){i||yl(e,r)})}),o=n.handleOpenURL;n.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(sr("BuildInfo.packageName",n).toLowerCase()+"://")&&t({url:e}),"function"==typeof o)try{o(e)}catch(e){console.error(e)}},ea||(ea=new Ji),ea.subscribe(t)}(e)})})),e.f}function wl(e){var t,n=null;return(t=e.g,t.b.get(rl,t.a).then(function(e){return Xi(e)})).then(function(t){return n=t,Zs((t=e.g).b,rl,t.a)}).then(function(){return n})}function El(e){this.a=e,this.b=Ys()}(e=vl.prototype).ga=function(){return this.za?this.za:this.za=(Yn(void 0)?Qn().then(function(){return new fe(function(e,t){var r=n.document,i=setTimeout(function(){t(Error("Cordova framework is not ready."))},1e3);r.addEventListener("deviceready",function(){clearTimeout(i),e()},!1)})}):Ce(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof sr("universalLinks.subscribe",n))throw gl("cordova-universal-links-plugin-fix is not installed");if(void 0===sr("BuildInfo.packageName",n))throw gl("cordova-plugin-buildinfo is not installed");if("function"!=typeof sr("cordova.plugins.browsertab.openUrl",n))throw gl("cordova-plugin-browsertab is not installed");if("function"!=typeof sr("cordova.InAppBrowser.open",n))throw gl("cordova-plugin-inappbrowser is not installed")},function(){throw new $r("cordova-not-ready")})},e.Ea=function(e,t){return t(new $r("operation-not-supported-in-this-environment")),Ee()},e.Cb=function(){return Ce(new $r("operation-not-supported-in-this-environment"))},e.Qb=function(){return!1},e.Mb=function(){return!0},e.Hb=function(){return!0},e.Ca=function(e,t,r){if(this.c)return Ce(new $r("redirect-operation-pending"));var i=this,a=n.document,o=null,s=null,l=null,c=null;return this.c=Ee().then(function(){return Qi(t),bl(i)}).then(function(){return function(e,t,r,i){var a=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),o=new Yi(t,i,null,a,new $r("no-auth-event")),s=sr("BuildInfo.packageName",n);if("string"!=typeof s)throw new $r("invalid-cordova-configuration");var l=sr("BuildInfo.displayName",n),c={};if(or().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=s;else{if(!or().toLowerCase().match(/android/))return Ce(new $r("operation-not-supported-in-this-environment"));c.apn=s}l&&(c.appDisplayName=l),a=function(e){var t=new fl;dl(t,e),e=[];var n=8*t.g;t.c<56?dl(t,ul,56-t.c):dl(t,ul,t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(hl(t),r=n=0;r<t.i;r++)for(var i=24;0<=i;i-=8)e[n++]=t.a[r]>>i&255;return N(e,function(e){return 1<(e=e.toString(16)).length?e:"0"+e}).join("")}(a),c.sessionId=a;var u=vs(e.m,e.i,e.l,t,r,null,i,e.o,c,e.u);return e.ga().then(function(){var t=e.h;return e.v.a.set(rl,o.C(),t)}).then(function(){var t=sr("cordova.plugins.browsertab.isAvailable",n);if("function"!=typeof t)throw new $r("invalid-cordova-configuration");var r=null;t(function(t){if(t){if("function"!=typeof(r=sr("cordova.plugins.browsertab.openUrl",n)))throw new $r("invalid-cordova-configuration");r(u)}else{if("function"!=typeof(r=sr("cordova.InAppBrowser.open",n)))throw new $r("invalid-cordova-configuration");t=!(!(t=or()).match(/(iPad|iPhone|iPod).*OS 7_\d/i)&&!t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)),e.a=r(u,t?"_blank":"_system","location=yes")}})})}(i,e,t,r)}).then(function(){return new fe(function(e,t){s=function(){var t=sr("cordova.plugins.browsertab.close",n);return e(),"function"==typeof t&&t(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.wa(s),l=function(){o||(o=Rt(2e3).then(function(){t(new $r("redirect-cancelled-by-user"))}))},c=function(){wr()&&l()},a.addEventListener("resume",l,!1),or().toLowerCase().match(/android/)||a.addEventListener("visibilitychange",c,!1)}).s(function(e){return wl(i).then(function(){throw e})})}).ia(function(){l&&a.removeEventListener("resume",l,!1),c&&a.removeEventListener("visibilitychange",c,!1),o&&o.cancel(),s&&i.Ka(s),i.c=null})},e.wa=function(e){this.b.push(e),bl(this).s(function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new Yi("unknown",null,null,null,new $r("no-auth-event")),e(t))})},e.Ka=function(e){F(this.b,function(t){return t==e})};var Cl={name:"pendingRedirect",A:"session"};function Sl(e){return Zs(e.b,Cl,e.a)}function _l(e,t,n){this.u=e,this.l=t,this.m=n,this.h=[],this.f=!1,this.i=g(this.bb,this),this.b=new Ml,this.o=new Bl,this.g=new El(this.l+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.o,this.c.linkViaPopup=this.o,this.c.reauthViaPopup=this.o,this.a=Tl(this.u,this.l,this.m,oi)}function Tl(e,t,n,i){var a=r.a.SDK_VERSION||null;return Yn()?new vl(e,t,n,a,i):new ds(e,t,n,a,i)}function kl(e){e.f||(e.f=!0,e.a.wa(e.i));var t=e.a;return e.a.ga().s(function(n){throw e.a==t&&e.reset(),n})}function xl(e){e.a.Mb()&&kl(e).s(function(t){var n=new Yi("unknown",null,null,null,new $r("operation-not-supported-in-this-environment"));Al(t)&&e.bb(n)}),e.a.Hb()||Rl(e.b)}(e=_l.prototype).reset=function(){this.f=!1,this.a.Ka(this.i),this.a=Tl(this.u,this.l,this.m)},e.Ya=function(){this.b.Ya()},e.subscribe=function(e){if(R(this.h,e)||this.h.push(e),!this.f){var t=this;(n=this.g,n.b.get(Cl,n.a).then(function(e){return"pending"==e})).then(function(e){e?Sl(t.g).then(function(){kl(t).s(function(e){var n=new Yi("unknown",null,null,null,new $r("operation-not-supported-in-this-environment"));Al(e)&&t.bb(n)})}):xl(t)}).s(function(){xl(t)})}var n},e.unsubscribe=function(e){F(this.h,function(t){return t==e})},e.bb=function(e){if(!e)throw new $r("invalid-auth-event");for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.vb(e.b,e.c)){(t=this.c[e.b])&&t.h(e,r),t=!0;break}}return Rl(this.b),t};var Il=new br(2e3,1e4),Ol=new br(3e4,6e4);function Pl(e,t,n,r,i,a){return e.a.Cb(t,n,r,function(){e.f||(e.f=!0,e.a.wa(e.i))},function(){e.reset()},i,a)}function Al(e){return!(!e||"auth/cordova-not-ready"!=e.code)}_l.prototype.fa=function(){return this.b.fa()},_l.prototype.Ca=function(e,t,n){var r,i,a=this;return(i=this.g,i.b.set(Cl,"pending",i.a)).then(function(){return a.a.Ca(e,t,n).s(function(e){if(Al(e))throw new $r("operation-not-supported-in-this-environment");return r=e,Sl(a.g).then(function(){throw r})}).then(function(){return a.a.Qb()?new fe(function(){}):Sl(a.g).then(function(){return a.fa()}).then(function(){}).s(function(){})})})},_l.prototype.Ea=function(e,t,n,r){return this.a.Ea(n,function(n){e.ha(t,null,n,r)},Il.get())};var Dl={};function Nl(e,t,n){var r=t+":"+n;return Dl[r]||(Dl[r]=new _l(e,t,n)),Dl[r]}function Ml(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Rl(e){e.g||(e.g=!0,Fl(e,!1,null,null))}function Ll(e,t){if(e.b=function(){return Ee(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function Fl(e,t,n,r){t?r?function(e,t){if(e.b=function(){return Ce(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}(e,r):Ll(e,n):Ll(e,{user:null}),e.f=[],e.c=[]}function Bl(){}function jl(){this.sb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.sb},set:function(e){this.sb=e},enumerable:!1})}function $l(e,t){this.a=t,xr(this,"verificationId",e)}function Vl(e,t,n,r){return new Wi(e).Ua(t,n).then(function(e){return new $l(e,r)})}function ql(e){var t=ai(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new $r("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Ir(this,{token:e,expirationTime:Er(1e3*t.exp),authTime:Er(1e3*t.auth_time),issuedAtTime:Er(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,claims:t})}function Ul(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function Hl(e){this.f=e,this.b=this.a=null,this.c=0}function zl(e,t){var n=t[ao],r=t.refreshToken;t=Wl(t.expiresIn),e.b=n,e.c=t,e.a=r}function Wl(e){return b()+1e3*parseInt(e,10)}function Kl(e,t){this.a=e||null,this.b=t||null,Ir(this,{lastSignInTime:Er(t||null),creationTime:Er(e||null)})}function Gl(e,t,n,r,i,a){Ir(this,{uid:e,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:a||null,providerId:t})}function Ql(e,t){for(var n in ot.call(this,e),t)this[n]=t[n]}function Yl(e,t,n){var i;this.G=[],this.m=e.apiKey,this.o=e.appName,this.u=e.authDomain||null,e=r.a.SDK_VERSION?ar(r.a.SDK_VERSION):null,this.b=new ro(this.m,li(oi),e),this.h=new Hl(this.b),rc(this,t[ao]),zl(this.h,t),xr(this,"refreshToken",this.h.a),oc(this,n||{}),Pt.call(this),this.I=!1,this.u&&cr()&&(this.a=Nl(this.u,this.m,this.o)),this.N=[],this.i=null,this.w=(i=this,new Ul(function(){return i.F(!0)},function(e){return!(!e||"auth/network-request-failed"!=e.code)},function(){var e=i.h.c-b()-3e5;return 0<e?e:0})),this.V=g(this.Ha,this);var a=this;this.ka=null,this.ta=function(e){a.pa(e.g)},this.X=null,this.O=[],this.sa=function(e){Jl(a,e.c)},this.W=null}function Xl(e,t){e.X&&Et(e.X,"languageCodeChanged",e.ta),(e.X=t)&&yt(t,"languageCodeChanged",e.ta)}function Jl(e,t){e.O=t,ho(e.b,r.a.SDK_VERSION?ar(r.a.SDK_VERSION,e.O):null)}function Zl(e,t){e.W&&Et(e.W,"frameworkChanged",e.sa),(e.W=t)&&yt(t,"frameworkChanged",e.sa)}function ec(e){try{return r.a.app(e.o).auth()}catch(t){throw new $r("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.o+"'!")}}function tc(e){e.D||e.w.b||(e.w.start(),Et(e,"tokenChanged",e.V),yt(e,"tokenChanged",e.V))}function nc(e){Et(e,"tokenChanged",e.V),e.w.stop()}function rc(e,t){e.ra=t,xr(e,"_lat",t)}function ic(e){for(var t=[],n=0;n<e.N.length;n++)t.push(e.N[n](e));return _e(t).then(function(){return e})}function ac(e){e.a&&!e.I&&(e.I=!0,e.a.subscribe(e))}function oc(e,t){Ir(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,metadata:new Kl(t.createdAt,t.lastLoginAt),providerData:[]})}function sc(){}function lc(e){return Ee().then(function(){if(e.D)throw new $r("app-deleted")})}function cc(e){return N(e.providerData,function(e){return e.providerId})}function uc(e,t){t&&(hc(e,t.providerId),e.providerData.push(t))}function hc(e,t){F(e.providerData,function(e){return e.providerId==t})}function dc(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&xr(e,t,n)}function pc(e,t){var n,r,i;e!=t&&(Ir(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,providerData:[]}),t.metadata?xr(e,"metadata",new Kl((i=t.metadata).a,i.b)):xr(e,"metadata",new Kl),D(t.providerData,function(t){uc(e,t)}),n=e.h,r=t.h,n.b=r.b,n.a=r.a,n.c=r.c,xr(e,"refreshToken",e.h.a))}function fc(e){return e.F().then(function(t){var n,r,i=e.isAnonymous;return(n=e,r=t,ts(n.b,Lo,{idToken:r}).then(g(n.xc,n))).then(function(){return i||dc(e,"isAnonymous",!1),t})})}function mc(e,t){t[ao]&&e.ra!=t[ao]&&(zl(e.h,t),e.dispatchEvent(new Ql("tokenChanged")),rc(e,t[ao]),dc(e,"refreshToken",e.h.a))}function vc(e,t){return fc(e).then(function(){if(R(cc(e),t))return ic(e).then(function(){throw new $r("provider-already-linked")})})}function gc(e,t,n){return Or({user:e,credential:Gi(t),additionalUserInfo:t=pi(t),operationType:n})}function yc(e,t){return mc(e,t),e.reload().then(function(){return e})}function bc(e,t,n,i,a){if(!cr())return Ce(new $r("operation-not-supported-in-this-environment"));if(e.i&&!a)return Ce(e.i);var o=di(n.providerId),s=vr(e.uid+":::"),l=null;(!dr()||Xn())&&e.u&&n.isOAuthProvider&&(l=vs(e.u,e.m,e.o,t,n,null,s,r.a.SDK_VERSION||null));var c=Wn(l,o&&o.Ba,o&&o.Aa);return i=i().then(function(){if(Ec(e),!a)return e.F().then(function(){})}).then(function(){return Pl(e.a,c,t,n,s,!!l)}).then(function(){return new fe(function(n,r){e.ha(t,null,new $r("cancelled-popup-request"),e.g||null),e.f=n,e.v=r,e.g=s,e.c=e.a.Ea(e,t,c,s)})}).then(function(e){return c&&zn(c),e?Or(e):null}).s(function(e){throw c&&zn(c),e}),Cc(e,i,a)}function wc(e,t,n,r,i){if(!cr())return Ce(new $r("operation-not-supported-in-this-environment"));if(e.i&&!i)return Ce(e.i);var a=null,o=vr(e.uid+":::");return r=r().then(function(){if(Ec(e),!i)return e.F().then(function(){})}).then(function(){return e.aa=o,ic(e)}).then(function(t){return e.ba&&(t=(t=e.ba).b.set(Tc,e.C(),t.a)),t}).then(function(){return e.a.Ca(t,n,o)}).s(function(t){if(a=t,e.ba)return kc(e.ba);throw a}).then(function(){if(a)throw a}),Cc(e,r,i)}function Ec(e){if(!e.a||!e.I){if(e.a&&!e.I)throw new $r("internal-error");throw new $r("auth-domain-config-required")}}function Cc(e,t,n){var r,i,a,o=(i=t,a=n,(r=e).i&&!a?(i.cancel(),Ce(r.i)):i.s(function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(r.i||r.dispatchEvent(new Ql("userInvalidated")),r.i=e),e}));return e.G.push(o),o.ia(function(){L(e.G,o)}),o}function Sc(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName},n={};if(!(e.stsTokenManager&&e.stsTokenManager.accessToken&&e.stsTokenManager.expirationTime))return null;n[ao]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null,n.expiresIn=(e.stsTokenManager.expirationTime-b())/1e3;var r=new Yl(t,n,e);return e.providerData&&D(e.providerData,function(e){e&&uc(r,Or(e))}),e.redirectEventId&&(r.aa=e.redirectEventId),r}function _c(e){this.a=e,this.b=Ys()}Ml.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Ml.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.b,r=e.c,i=e.a&&"auth/web-storage-unsupported"==e.a.code,a=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!i&&!a),"unknown"!=n||i||a?e.a?(Fl(this,!0,null,e.a),Ee()):t.xa(n,r)?function(e,t,n){n=n.xa(t.b,t.c);var r=t.f,i=t.g,a=t.h,o=!!t.b.match(/Redirect$/);n(r,i,a).then(function(t){Fl(e,o,t,null)}).s(function(t){Fl(e,o,null,t)})}(this,e,t):Ce(new $r("invalid-auth-event")):(Fl(this,!1,null,null),Ee())}else Ce(new $r("invalid-auth-event"))},Ml.prototype.Ya=function(){this.g&&!this.i&&Fl(this,!1,null,null)},Ml.prototype.fa=function(){var e=this;return new fe(function(t,n){var r,i;e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),r=e,i=new $r("timeout"),r.a&&r.a.cancel(),r.a=Rt(Ol.get()).then(function(){r.b||(r.g=!0,Fl(r,!0,null,i))}))})},Bl.prototype.h=function(e,t){if(e){var n=e.b,r=e.c;e.a?(t.ha(e.b,null,e.a,e.c),Ee()):t.xa(n,r)?(a=t,o=(i=e).c,s=i.b,a.xa(s,o)(i.f,i.g,i.h).then(function(e){a.ha(s,e,null,o)}).s(function(e){a.ha(s,null,e,o)})):Ce(new $r("invalid-auth-event"))}else Ce(new $r("invalid-auth-event"));var i,a,o,s},$l.prototype.confirm=function(e){return e=Ki(this.verificationId,e),this.a(e)},Ul.prototype.start=function(){this.a=this.c,function e(t,r){t.stop(),t.b=Rt(function(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}(t,r)).then(function(){return e=n.document,t=null,wr()||!e?Ee():new fe(function(n){t=function(){wr()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)}).s(function(n){throw e.removeEventListener("visibilitychange",t,!1),n});var e,t}).then(function(){return t.h()}).then(function(){e(t,!0)}).s(function(n){t.i(n)&&e(t,!1)})}(this,!0)},Ul.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},Hl.prototype.C=function(){return{apiKey:this.f.b,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}},Hl.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?Ce(new $r("user-token-expired")):e||!this.b||b()>this.c-3e4?this.a?function(e,t){return(n=e.f,r=t,new fe(function(e,t){"refresh_token"==r.grant_type&&r.refresh_token||"authorization_code"==r.grant_type&&r.code?po(n,n.i+"?key="+encodeURIComponent(n.b),function(n){n?n.error?t(rs(n)):n.access_token&&n.refresh_token?e(n):t(new $r("internal-error")):t(new $r("network-request-failed"))},"POST",sn(r).toString(),n.f,n.l.get()):t(new $r("internal-error"))})).then(function(t){return e.b=t.access_token,e.c=Wl(t.expires_in),e.a=t.refresh_token,{accessToken:e.b,expirationTime:e.c,refreshToken:e.a}}).s(function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t});var n,r}(this,{grant_type:"refresh_token",refresh_token:this.a}):Ee(null):Ee({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})},Kl.prototype.C=function(){return{lastLoginAt:this.b,createdAt:this.a}},w(Ql,ot),w(Yl,Pt),Yl.prototype.pa=function(e){this.ka=e,uo(this.b,e)},Yl.prototype.ea=function(){return this.ka},Yl.prototype.ya=function(){return j(this.O)},Yl.prototype.Ha=function(){this.w.b&&(this.w.stop(),this.w.start())},xr(Yl.prototype,"providerId","firebase"),(e=Yl.prototype).reload=function(){var e=this;return Cc(this,lc(this).then(function(){return fc(e).then(function(){return ic(e)}).then(sc)}))},e.dc=function(e){return this.F(e).then(function(e){return new ql(e)})},e.F=function(e){var t=this;return Cc(this,lc(this).then(function(){return t.h.getToken(e)}).then(function(e){if(!e)throw new $r("internal-error");return e.accessToken!=t.ra&&(rc(t,e.accessToken),t.dispatchEvent(new Ql("tokenChanged"))),dc(t,"refreshToken",e.refreshToken),e.accessToken}))},e.xc=function(e){if(!(e=e.users)||!e.length)throw new $r("internal-error");oc(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt});for(var t=(r=(r=e).providerUserInfo)&&r.length?N(r,function(e){return new Gl(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)}):[],n=0;n<t.length;n++)uc(this,t[n]);var r;dc(this,"isAnonymous",!(this.email&&e.passwordHash||this.providerData&&this.providerData.length))},e.gb=function(e){var t=this,n=null;return Cc(this,e.f(this.b,this.uid).then(function(e){return mc(t,e),n=gc(t,e,"reauthenticate"),t.i=null,t.reload()}).then(function(){return n}),!0)},e.yc=function(e){return Tr("firebase.User.prototype.reauthenticateWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential instead."),this.gb(e).then(function(){})},e.eb=function(e){var t=this,n=null;return Cc(this,vc(this,e.providerId).then(function(){return t.F()}).then(function(n){return e.b(t.b,n)}).then(function(e){return n=gc(t,e,"link"),yc(t,e)}).then(function(){return n}))},e.pc=function(e){return Tr("firebase.User.prototype.linkWithCredential is deprecated. Please use firebase.User.prototype.linkAndRetrieveDataWithCredential instead."),this.eb(e).then(function(e){return e.user})},e.qc=function(e,t){var n=this;return Cc(this,vc(this,"phone").then(function(){return Vl(ec(n),e,t,g(n.eb,n))}))},e.zc=function(e,t){var n=this;return Cc(this,Ee().then(function(){return Vl(ec(n),e,t,g(n.gb,n))}),!0)},e.pb=function(e){var t=this;return Cc(this,this.F().then(function(n){return t.b.pb(n,e)}).then(function(e){return mc(t,e),t.reload()}))},e.Rc=function(e){var t=this;return Cc(this,this.F().then(function(n){return e.b(t.b,n)}).then(function(e){return mc(t,e),t.reload()}))},e.qb=function(e){var t=this;return Cc(this,this.F().then(function(n){return t.b.qb(n,e)}).then(function(e){return mc(t,e),t.reload()}))},e.rb=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return lc(this);var t=this;return Cc(this,this.F().then(function(n){return t.b.rb(n,{displayName:e.displayName,photoUrl:e.photoURL})}).then(function(e){return mc(t,e),dc(t,"displayName",e.displayName||null),dc(t,"photoURL",e.photoUrl||null),D(t.providerData,function(e){"password"===e.providerId&&(xr(e,"displayName",t.displayName),xr(e,"photoURL",t.photoURL))}),ic(t)}).then(sc))},e.Pc=function(e){var t=this;return Cc(this,fc(this).then(function(n){return R(cc(t),e)?(r=t.b,i=n,a=[e],ts(r,No,{idToken:i,deleteProvider:a})).then(function(e){var n={};return D(e.providerUserInfo||[],function(e){n[e.providerId]=!0}),D(cc(t),function(e){n[e]||hc(t,e)}),n[Wi.PROVIDER_ID]||xr(t,"phoneNumber",null),ic(t)}):ic(t).then(function(){throw new $r("no-such-provider")});var r,i,a}))},e.delete=function(){var e=this;return Cc(this,this.F().then(function(t){return ts(e.b,Do,{idToken:t})}).then(function(){e.dispatchEvent(new Ql("userDeleted"))})).then(function(){for(var t=0;t<e.G.length;t++)e.G[t].cancel("app-deleted");Xl(e,null),Zl(e,null),e.G=[],e.D=!0,nc(e),xr(e,"refreshToken",null),e.a&&e.a.unsubscribe(e)})},e.vb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.aa||null)==t||"reauthViaRedirect"==e&&(this.aa||null)==t)},e.ha=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.g||null)||(n&&this.v?this.v(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},e.xa=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?g(this.Ab,this):"reauthViaPopup"==e&&t==(this.g||null)?g(this.Bb,this):"linkViaRedirect"==e&&(this.aa||null)==t?g(this.Ab,this):"reauthViaRedirect"==e&&(this.aa||null)==t?g(this.Bb,this):null},e.rc=function(e){var t=this;return bc(this,"linkViaPopup",e,function(){return vc(t,e.providerId).then(function(){return ic(t)})},!1)},e.Ac=function(e){return bc(this,"reauthViaPopup",e,function(){return Ee()},!0)},e.sc=function(e){var t=this;return wc(this,"linkViaRedirect",e,function(){return vc(t,e.providerId)},!1)},e.Bc=function(e){return wc(this,"reauthViaRedirect",e,function(){return Ee()},!0)},e.Ab=function(e,t,n){var r=this;this.c&&(this.c.cancel(),this.c=null);var i=null;return Cc(this,this.F().then(function(i){return To(r.b,{requestUri:e,postBody:n,sessionId:t,idToken:i})}).then(function(e){return i=gc(r,e,"link"),yc(r,e)}).then(function(){return i}))},e.Bb=function(e,t,n){var r=this;this.c&&(this.c.cancel(),this.c=null);var i=null;return Cc(this,Ee().then(function(){return _i(ko(r.b,{requestUri:e,sessionId:t,postBody:n}),r.uid)}).then(function(e){return i=gc(r,e,"reauthenticate"),mc(r,e),r.i=null,r.reload()}).then(function(){return i}),!0)},e.jb=function(e){var t=this,n=null;return Cc(this,this.F().then(function(t){return n=t,void 0===e||re(e)?{}:ei(new Hr(e))}).then(function(e){return t.b.jb(n,e)}).then(function(e){if(t.email!=e)return t.reload()}).then(function(){}))},e.toJSON=function(){return this.C()},e.C=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,providerData:[],apiKey:this.m,appName:this.o,authDomain:this.u,stsTokenManager:this.h.C(),redirectEventId:this.aa||null};return this.metadata&&le(e,this.metadata.C()),D(this.providerData,function(t){e.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t))}),e};var Tc={name:"redirectUser",A:"session"};function kc(e){return Zs(e.b,Tc,e.a)}function xc(e){var t,r,i,a,o,s,l,c,u;this.a=e,this.b=Ys(),this.c=null,this.f=(t=this,r=Pc("local"),i=Pc("session"),a=Pc("none"),(o=t.b,s=r,l=t.a,c=Js(s,l),u=Xs(o,s.A),o.get(s,l).then(function(e){var t=null;try{t=mr(n.localStorage.getItem(c))}catch(e){}if(t&&!e)return n.localStorage.removeItem(c),o.set(s,t,l);t&&e&&"localStorage"!=u.type&&n.localStorage.removeItem(c)})).then(function(){return t.b.get(i,t.a)}).then(function(e){return e?i:t.b.get(a,t.a).then(function(e){return e?a:t.b.get(r,t.a).then(function(e){return e?r:t.b.get(Oc,t.a).then(function(e){return e?Pc(e):r})})})}).then(function(e){return t.c=e,Ic(t,e.A)}).s(function(){t.c||(t.c=r)})),this.b.addListener(Pc("local"),this.a,g(this.g,this))}function Ic(e,t){var n,r,i=[];for(n in Gs)Gs[n]!==t&&i.push(Zs(e.b,Pc(Gs[n]),e.a));return i.push(Zs(e.b,Oc,e.a)),r=i,new fe(function(e,t){var n=r.length,i=[];if(n)for(var a=function(t,r){n--,i[t]=r,0==n&&e(i)},o=function(e){t(e)},s=0;s<r.length;s++)Se(r[s],y(a,s),o);else e(i)})}xc.prototype.g=function(){var e=this,t=Pc("local");Mc(this,function(){return Ee().then(function(){return e.c&&"local"!=e.c.A?e.b.get(t,e.a):null}).then(function(n){if(n)return Ic(e,"local").then(function(){e.c=t})})})};var Oc={name:"persistence",A:"session"};function Pc(e){return{name:"authUser",A:e}}function Ac(e,t){return Mc(e,function(){return e.b.set(e.c,t.C(),e.a)})}function Dc(e){return Mc(e,function(){return Zs(e.b,e.c,e.a)})}function Nc(e,t){return Mc(e,function(){return e.b.get(e.c,e.a).then(function(e){return e&&t&&(e.authDomain=t),Sc(e||{})})})}function Mc(e,t){return e.f=e.f.then(t,t),e.f}function Rc(e){if(this.m=!1,xr(this,"settings",new jl),xr(this,"app",e),!qc(this).options||!qc(this).options.apiKey)throw new $r("invalid-api-key");var t,n,i,a,o,s,l,c,u,h,d;e=r.a.SDK_VERSION?ar(r.a.SDK_VERSION):null,this.b=new ro(qc(this).options&&qc(this).options.apiKey,li(oi),e),this.N=[],this.o=[],this.I=[],this.Tb=r.a.INTERNAL.createSubscribe(g(this.mc,this)),this.O=void 0,this.Ub=r.a.INTERNAL.createSubscribe(g(this.nc,this)),$c(this,null),this.h=new xc(qc(this).options.apiKey+":"+qc(this).name),this.w=new _c(qc(this).options.apiKey+":"+qc(this).name),this.V=Wc(this,(n=qc(t=this).options.authDomain,i=(a=t,o=(s=a.w,l=qc(a).options.authDomain,s.b.get(Tc,s.a).then(function(e){return e&&l&&(e.authDomain=l),Sc(e||{})})).then(function(e){return(a.D=e)&&(e.ba=a.w),kc(a.w)}),Wc(a,o)).then(function(){return Nc(t.h,n)}).then(function(e){return e?(e.ba=t.w,t.D&&(t.D.aa||null)==(e.aa||null)?e:e.reload().then(function(){return Ac(t.h,e).then(function(){return e})}).s(function(n){return"auth/network-request-failed"==n.code?e:Dc(t.h)})):null}).then(function(e){$c(t,e||null)}),Wc(t,i))),this.i=Wc(this,(c=this).V.then(function(){return c.fa()}).s(function(){}).then(function(){if(!c.m)return c.ka()}).s(function(){}).then(function(){if(!c.m){c.X=!0;var e=c.h;e.b.addListener(Pc("local"),e.a,c.ka)}})),this.X=!1,this.ka=g(this.Mc,this),this.Ha=g(this.Z,this),this.ra=g(this.bc,this),this.sa=g(this.jc,this),this.ta=g(this.kc,this),h=qc(u=this).options.authDomain,d=qc(u).options.apiKey,h&&cr()&&(u.Sb=u.V.then(function(){if(!u.m){if(u.a=Nl(h,d,qc(u).name),u.a.subscribe(u),Uc(u)&&ac(Uc(u)),u.D){ac(u.D);var e=u.D;e.pa(u.ea()),Xl(e,u),Jl(e=u.D,u.G),Zl(e,u),u.D=null}return u.a}})),this.INTERNAL={},this.INTERNAL.delete=g(this.delete,this),this.INTERNAL.logFramework=g(this.tc,this),this.u=0,Pt.call(this),Object.defineProperty(this,"lc",{get:function(){return this.ea()},set:function(e){this.pa(e)},enumerable:!1}),this.W=null,this.G=[]}function Lc(e){ot.call(this,"languageCodeChanged"),this.g=e}function Fc(e){ot.call(this,"frameworkChanged"),this.c=e}function Bc(e){return e.Sb||Ce(new $r("auth-domain-config-required"))}function jc(e,t){var n={};return n.apiKey=qc(e).options.apiKey,n.authDomain=qc(e).options.authDomain,n.appName=qc(e).name,e.V.then(function(){return r=n,i=t,a=e.w,o=e.ya(),s=new Yl(r,i),a&&(s.ba=a),o&&Jl(s,o),s.reload().then(function(){return s});var r,i,a,o,s}).then(function(t){return Uc(e)&&t.uid==Uc(e).uid?pc(Uc(e),t):($c(e,t),ac(t)),e.Z(t)}).then(function(){zc(e)})}function $c(e,t){var n,r;Uc(e)&&(n=Uc(e),r=e.Ha,F(n.N,function(e){return e==r}),Et(Uc(e),"tokenChanged",e.ra),Et(Uc(e),"userDeleted",e.sa),Et(Uc(e),"userInvalidated",e.ta),nc(Uc(e))),t&&(t.N.push(e.Ha),yt(t,"tokenChanged",e.ra),yt(t,"userDeleted",e.sa),yt(t,"userInvalidated",e.ta),0<e.u&&tc(t)),xr(e,"currentUser",t),t&&(t.pa(e.ea()),Xl(t,e),Jl(t,e.G),Zl(t,e))}function Vc(e,t){var n=null,r=null;return Wc(e,t.then(function(t){return n=Gi(t),r=pi(t),jc(e,t)}).then(function(){return Or({user:Uc(e),credential:n,additionalUserInfo:r,operationType:"signIn"})}))}function qc(e){return e.app}function Uc(e){return e.currentUser}function Hc(e){return Uc(e)&&Uc(e)._lat||null}function zc(e){if(e.X){for(var t=0;t<e.o.length;t++)e.o[t]&&e.o[t](Hc(e));if(e.O!==e.getUid()&&e.I.length)for(e.O=e.getUid(),t=0;t<e.I.length;t++)e.I[t]&&e.I[t](Hc(e))}}function Wc(e,t){return e.N.push(t),t.ia(function(){L(e.N,t)}),t}function Kc(){}function Gc(){this.a={},this.b=1e12}xc.prototype.mb=function(e){var t=null,n=this;return function(e){var t=new $r("invalid-persistence-type"),n=new $r("unsupported-persistence-type");e:{for(r in Gs)if(Gs[r]==e){var r=!0;break e}r=!1}if(!r||"string"!=typeof e)throw t;switch(Zn()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;default:if(!lr()&&"none"!==e)throw n}}(e),Mc(this,function(){return e!=n.c.A?n.b.get(n.c,n.a).then(function(r){return t=r,Ic(n,e)}).then(function(){if(n.c=Pc(e),t)return n.b.set(n.c,t,n.a)}):Ee()})},w(Rc,Pt),w(Lc,ot),w(Fc,ot),(e=Rc.prototype).mb=function(e){return Wc(this,e=this.h.mb(e))},e.pa=function(e){this.W===e||this.m||(this.W=e,uo(this.b,this.W),this.dispatchEvent(new Lc(this.ea())))},e.ea=function(){return this.W},e.Sc=function(){var e=n.navigator;this.pa(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},e.tc=function(e){this.G.push(e),ho(this.b,r.a.SDK_VERSION?ar(r.a.SDK_VERSION,this.G):null),this.dispatchEvent(new Fc(this.G))},e.ya=function(){return j(this.G)},e.toJSON=function(){return{apiKey:qc(this).options.apiKey,authDomain:qc(this).options.authDomain,appName:qc(this).name,currentUser:Uc(this)&&Uc(this).C()}},e.vb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},e.ha=function(e,t,n,r){"signInViaPopup"==e&&this.g==r&&(n&&this.v?this.v(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},e.xa=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?g(this.ac,this):null},e.ac=function(e,t,n){var r=this;e={requestUri:e,postBody:n,sessionId:t},this.c&&(this.c.cancel(),this.c=null);var i=null,a=null,o=_o(r.b,e).then(function(e){return i=Gi(e),a=pi(e),e});return Wc(this,e=r.V.then(function(){return o}).then(function(e){return jc(r,e)}).then(function(){return Or({user:Uc(r),credential:i,additionalUserInfo:a,operationType:"signIn"})}))},e.Kc=function(e){if(!cr())return Ce(new $r("operation-not-supported-in-this-environment"));var t=this,n=di(e.providerId),i=vr(),a=null;(!dr()||Xn())&&qc(this).options.authDomain&&e.isOAuthProvider&&(a=vs(qc(this).options.authDomain,qc(this).options.apiKey,qc(this).name,"signInViaPopup",e,null,i,r.a.SDK_VERSION||null));var o=Wn(a,n&&n.Ba,n&&n.Aa);return Wc(this,n=Bc(this).then(function(t){return Pl(t,o,"signInViaPopup",e,i,!!a)}).then(function(){return new fe(function(e,n){t.ha("signInViaPopup",null,new $r("cancelled-popup-request"),t.g),t.f=e,t.v=n,t.g=i,t.c=t.a.Ea(t,"signInViaPopup",o,i)})}).then(function(e){return o&&zn(o),e?Or(e):null}).s(function(e){throw o&&zn(o),e}))},e.Lc=function(e){if(!cr())return Ce(new $r("operation-not-supported-in-this-environment"));var t=this;return Wc(this,Bc(this).then(function(){return Mc(e=t.h,function(){return e.b.set(Oc,e.c.A,e.a)});var e}).then(function(){return t.a.Ca("signInViaRedirect",e)}))},e.fa=function(){if(!cr())return Ce(new $r("operation-not-supported-in-this-environment"));var e=this;return Wc(this,Bc(this).then(function(){return e.a.fa()}).then(function(e){return e?Or(e):null}))},e.Qc=function(e){if(!e)return Ce(new $r("null-user"));var t=this,n={};n.apiKey=qc(this).options.apiKey,n.authDomain=qc(this).options.authDomain,n.appName=qc(this).name;var r=function(e,t,n,r){t=t||{apiKey:e.m,authDomain:e.u,appName:e.o};var i=e.h,a={};return a[ao]=i.b,a.refreshToken=i.a,a.expiresIn=(i.c-b())/1e3,t=new Yl(t,a),n&&(t.ba=n),r&&Jl(t,r),pc(t,e),t}(e,n,t.w,t.ya());return Wc(this,this.i.then(function(){if(qc(t).options.apiKey!=e.m)return r.reload()}).then(function(){return Uc(t)&&e.uid==Uc(t).uid?(pc(Uc(t),e),t.Z(e)):($c(t,r),ac(r),t.Z(r))}).then(function(){zc(t)}))},e.nb=function(){var e=this;return Wc(this,this.i.then(function(){return Uc(e)?($c(e,null),Dc(e.h).then(function(){zc(e)})):Ee()}))},e.Mc=function(){var e=this;return Nc(this.h,qc(this).options.authDomain).then(function(t){if(!e.m){var n;if(n=Uc(e)&&t){n=Uc(e).uid;var r=t.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return pc(Uc(e),t),Uc(e).F();(Uc(e)||t)&&($c(e,t),t&&(ac(t),t.ba=e.w),e.a&&e.a.subscribe(e),zc(e))}})},e.Z=function(e){return Ac(this.h,e)},e.bc=function(){zc(this),this.Z(Uc(this))},e.jc=function(){this.nb()},e.kc=function(){this.nb()},e.mc=function(e){var t=this;this.addAuthTokenListener(function(){e.next(Uc(t))})},e.nc=function(e){var t,n,r=this;n=function(){e.next(Uc(r))},(t=this).I.push(n),Wc(t,t.i.then(function(){!t.m&&R(t.I,n)&&t.O!==t.getUid()&&(t.O=t.getUid(),n(Hc(t)))}))},e.vc=function(e,t,n){var i=this;return this.X&&r.a.Promise.resolve().then(function(){h(e)?e(Uc(i)):h(e.next)&&e.next(Uc(i))}),this.Tb(e,t,n)},e.uc=function(e,t,n){var i=this;return this.X&&r.a.Promise.resolve().then(function(){i.O=i.getUid(),h(e)?e(Uc(i)):h(e.next)&&e.next(Uc(i))}),this.Ub(e,t,n)},e.cc=function(e){var t=this;return Wc(this,this.i.then(function(){return Uc(t)?Uc(t).F(e).then(function(e){return{accessToken:e}}):null}))},e.Nb=function(e){var t=this;return this.i.then(function(){return Vc(t,ts(t.b,Yo,{token:e}))}).then(function(e){var n=e.user;return dc(n,"isAnonymous",!1),t.Z(n),e})},e.Ec=function(e){return Tr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCustomToken is deprecated. Please use firebase.auth.Auth.prototype.signInWithCustomToken instead."),this.Nb(e)},e.Fc=function(e,t){return Tr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithEmailAndPassword is deprecated. Please use firebase.auth.Auth.prototype.signInWithEmailAndPassword instead."),this.Ob(e,t)},e.Ob=function(e,t){var n=this;return this.i.then(function(){return Vc(n,ts(n.b,Xo,{email:e,password:t}))})},e.xb=function(e,t){var n=this;return this.i.then(function(){return Vc(n,ts(n.b,Po,{email:e,password:t}))})},e.Wb=function(e,t){return Tr("firebase.auth.Auth.prototype.createUserAndRetrieveDataWithEmailAndPassword is deprecated. Please use firebase.auth.Auth.prototype.createUserWithEmailAndPassword instead."),this.xb(e,t)},e.Hc=function(e){return Tr("firebase.auth.Auth.prototype.signInWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential instead."),this.Pa(e).then(function(e){return e.user})},e.Pa=function(e){var t=this;return this.i.then(function(){return Vc(t,e.la(t.b))})},e.Qa=function(){var e=this;return this.i.then(function(){var t=Uc(e);return t&&t.isAnonymous?Or({user:t,credential:null,additionalUserInfo:Or({providerId:null,isNewUser:!1}),operationType:"signIn"}):Vc(e,e.b.Qa()).then(function(t){var n=t.user;return dc(n,"isAnonymous",!0),e.Z(n),t})})},e.Gc=function(){return Tr("firebase.auth.Auth.prototype.signInAnonymouslyAndRetrieveData is deprecated. Please use firebase.auth.Auth.prototype.signInAnonymously instead."),this.Qa()},e.getUid=function(){return Uc(this)&&Uc(this).uid||null},e.Vb=function(e){this.addAuthTokenListener(e),this.u++,0<this.u&&Uc(this)&&tc(Uc(this))},e.Cc=function(e){var t=this;D(this.o,function(n){n==e&&t.u--}),this.u<0&&(this.u=0),0==this.u&&Uc(this)&&nc(Uc(this)),this.removeAuthTokenListener(e)},e.addAuthTokenListener=function(e){var t=this;this.o.push(e),Wc(this,this.i.then(function(){t.m||R(t.o,e)&&e(Hc(t))}))},e.removeAuthTokenListener=function(e){F(this.o,function(t){return t==e})},e.delete=function(){this.m=!0;for(var e=0;e<this.N.length;e++)this.N[e].cancel("app-deleted");return this.N=[],this.h&&(e=this.h).b.removeListener(Pc("local"),e.a,this.ka),this.a&&(this.a.unsubscribe(this),this.a.Ya()),r.a.Promise.resolve()},e.Zb=function(e){return Tr("firebase.auth.Auth.prototype.fetchProvidersForEmail is deprecated. Please use firebase.auth.Auth.prototype.fetchSignInMethodsForEmail instead."),Wc(this,ts(this.b,Ao,{identifier:e,continueUri:ur()?qn():"http://localhost"}).then(function(e){return e.allProviders||[]}))},e.$b=function(e){return Wc(this,ts(this.b,Ao,{identifier:e,continueUri:ur()?qn():"http://localhost"}).then(function(e){return e.signinMethods||[]}))},e.oc=function(e){return!!Ui(e)},e.lb=function(e,t){var n=this;return Wc(this,Ee().then(function(){var e=new Hr(t);if(!e.c)throw new $r("argument-error",Kr+" must be true when sending sign in link to email");return ei(e)}).then(function(t){return n.b.lb(e,t)}).then(function(){}))},e.Tc=function(e){return this.Ja(e).then(function(e){return e.data.email})},e.Za=function(e,t){return Wc(this,this.b.Za(e,t).then(function(){}))},e.Ja=function(e){return Wc(this,this.b.Ja(e).then(function(e){return new Ar(e)}))},e.Wa=function(e){return Wc(this,this.b.Wa(e).then(function(){}))},e.kb=function(e,t){var n=this;return Wc(this,Ee().then(function(){return void 0===t||re(t)?{}:ei(new Hr(t))}).then(function(t){return n.b.kb(e,t)}).then(function(){}))},e.Jc=function(e,t){return Wc(this,Vl(this,e,t,g(this.Pa,this)))},e.Ic=function(e,t){var n=this;return Wc(this,Ee().then(function(){var r=qi(e,t||qn());return n.Pa(r)}))},Kc.prototype.render=function(){},Kc.prototype.reset=function(){},Kc.prototype.getResponse=function(){},Kc.prototype.execute=function(){};var Qc=null;function Yc(e,t){return(t=Xc(t))&&e.a[t]||null}function Xc(e){return(e=void 0===e?1e12:e)?e.toString():null}function Jc(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=Dn(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():yt(this.f,"click",this.i)}function Zc(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function eu(){}Gc.prototype.render=function(e,t){return this.a[this.b.toString()]=new Jc(e,t),this.b++},Gc.prototype.reset=function(e){var t=Yc(this,e);e=Xc(e),t&&e&&(t.delete(),delete this.a[e])},Gc.prototype.getResponse=function(e){return(e=Yc(this,e))?e.getResponse():null},Gc.prototype.execute=function(e){(e=Yc(this,e))&&e.execute()},Jc.prototype.getResponse=function(){return Zc(this),this.b},Jc.prototype.execute=function(){Zc(this);var e=this;this.a||(this.a=setTimeout(function(){e.b=function(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(t){}e.a=setTimeout(function(){if(e.a=null,e.b=null,n)try{n()}catch(e){}e.h&&e.execute()},6e4)},500))},Jc.prototype.delete=function(){Zc(this),this.g=!0,clearTimeout(this.a),this.a=null,Et(this.f,"click",this.i)},eu.prototype.g=function(){return Qc||(Qc=new Gc),Ee(Qc)},eu.prototype.c=function(){};var tu=null;function nu(){this.b=n.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var ru=vn("https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),iu=new br(3e4,6e4);nu.prototype.g=function(e){var t=this;return new fe(function(r,i){var a=setTimeout(function(){i(new $r("network-request-failed"))},iu.get());!n.grecaptcha||e!==t.f&&!t.b?(n[t.a]=function(){if(n.grecaptcha){t.f=e;var o=n.grecaptcha.render;n.grecaptcha.render=function(e,n){return e=o(e,n),t.b++,e},clearTimeout(a),r(n.grecaptcha)}else clearTimeout(a),i(new $r("internal-error"));delete n[t.a]},Ee(Ya(bn(ru,{onload:t.a,hl:e||""}))).s(function(){clearTimeout(a),i(new $r("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(a),r(n.grecaptcha))})},nu.prototype.c=function(){this.b--};var au=null;function ou(e,t,r,i,a,o,s){if(xr(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.m=t,this.g=null,s=s?(tu||(tu=new eu),tu):(au||(au=new nu),au),this.o=s,this.a=r||{theme:"light",type:"image"},this.h=[],this.a[cu])throw new $r("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[uu],!n.document)throw new $r("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Dn(t)||!this.i&&Dn(t).hasChildNodes())throw new $r("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.u=new ro(e,o||null,a||null),this.v=i||function(){return null};var l=this;this.l=[];var c=this.a[su];this.a[su]=function(e){if(hu(l,e),"function"==typeof c)c(e);else if("string"==typeof c){var t=sr(c,n);"function"==typeof t&&t(e)}};var u=this.a[lu];this.a[lu]=function(){if(hu(l,null),"function"==typeof u)u();else if("string"==typeof u){var e=sr(u,n);"function"==typeof e&&e()}}}var su="callback",lu="expired-callback",cu="sitekey",uu="size";function hu(e,t){for(var n=0;n<e.l.length;n++)try{e.l[n](t)}catch(e){}}function du(e,t){return e.h.push(t),t.ia(function(){L(e.h,t)}),t}function pu(e){if(e.D)throw new $r("internal-error","RecaptchaVerifier instance has been destroyed.")}function fu(e,t,n){var i=!1;try{this.b=n||r.a.app()}catch(e){throw new $r("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new $r("invalid-api-key");n=this.b.options.apiKey;var a=this,o=null;try{o=this.b.auth().ya()}catch(e){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(e){}o=r.a.SDK_VERSION?ar(r.a.SDK_VERSION,o):null,ou.call(this,n,e,t,function(){try{var e=a.b.auth().ea()}catch(t){e=null}return e},o,li(oi),i)}function mu(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var i=0,a=!1,o=0;o<t.length;o++)if(t[o].optional)a=!0;else{if(a)throw new $r("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(a=t.length,n.length<i||a<n.length)r="Expected "+(i==a?1==i?"1 argument":i+" arguments":i+"-"+a+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(a=t[i].optional&&void 0===n[i],!t[i].M(n[i])&&!a){if(t=t[i],i<0||i>=vu.length)throw new $r("internal-error","Argument validator received an unsupported number of arguments.");n=vu[i],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.K+".";break e}r=null}}if(r)throw new $r("argument-error",e+" failed: "+r)}(e=ou.prototype).za=function(){var e=this;return this.f?this.f:this.f=du(this,Ee().then(function(){if(ur()&&!Jn())return Qn();throw new $r("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return e.o.g(e.v())}).then(function(t){return e.g=t,ts(e.u,Vo,{})}).then(function(t){e.a[cu]=t.recaptchaSiteKey}).s(function(t){throw e.f=null,t}))},e.render=function(){pu(this);var e=this;return du(this,this.za().then(function(){if(null===e.c){var t=e.m;if(!e.i){var n=Dn(t);t=function(e,t,n){var r=arguments,a=document,o=String(r[0]),s=r[1];if(!dn&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',q(s.name),'"'),s.type){o.push(' type="',q(s.type),'"');var l={};le(l,s),delete l.type,s=l}o.push(">"),o=o.join("")}return o=a.createElement(o),s&&(i(s)?o.className=s:c(s)?o.className=s.join(" "):Nn(o,s)),2<r.length&&function(e,t,n){function r(n){n&&t.appendChild(i(n)?e.createTextNode(n):n)}for(var a=2;a<n.length;a++){var o=n[a];!u(o)||d(o)&&0<o.nodeType?r(o):D(Rn(o)?j(o):o,r)}}(a,o,r),o}("DIV"),n.appendChild(t)}e.c=e.g.render(t,e.a)}return e.c}))},e.verify=function(){pu(this);var e=this;return du(this,this.render().then(function(t){return new fe(function(n){var r=e.g.getResponse(t);if(r)n(r);else{var i=function(t){var r;t&&(r=i,F(e.l,function(e){return e==r}),n(t))};e.l.push(i),e.i&&e.g.execute(e.c)}})}))},e.reset=function(){pu(this),null!==this.c&&this.g.reset(this.c)},e.clear=function(){pu(this),this.D=!0,this.o.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=Dn(this.m);for(var t;t=e.firstChild;)e.removeChild(t)}},w(fu,ou);var vu="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function gu(e,t){return{name:e||"",K:"a valid string",optional:!!t,M:i}}function yu(e,t){return{name:e||"",K:"a boolean",optional:!!t,M:a}}function bu(e,t){return{name:e||"",K:"a valid object",optional:!!t,M:d}}function wu(e,t){return{name:e||"",K:"a function",optional:!!t,M:h}}function Eu(e,t){return{name:e||"",K:"null",optional:!!t,M:l}}function Cu(e){return{name:e?e+"Credential":"credential",K:e?"a valid "+e+" credential":"a valid credential",optional:!1,M:function(t){if(!t)return!1;var n=!e||t.providerId===e;return!(!t.la||!n)}}}function Su(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!!(e&&i(e.type)&&h(e.verify))}}}function _u(e,t,n,r){return{name:n||"",K:e.K+" or "+t.K,optional:!!r,M:function(n){return e.M(n)||t.M(n)}}}function Tu(e,t){for(var n in t){var r=t[n].name;e[r]=Iu(r,e[n],t[n].j)}}function ku(e,t){for(var n in t){var r=t[n].name;r!==n&&Object.defineProperty(e,r,{get:y(function(e){return this[e]},n),set:y(function(e,t,n,r){mu(e,[n],[r],!0),this[t]=r},r,n,t[n].tb),enumerable:!0})}}function xu(e,t,n,r){e[t]=Iu(t,n,r)}function Iu(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return mu(o,n,e),t.apply(this,e)}if(!n)return t;var i,a,o=(a=(a=e).split("."))[a.length-1];for(i in t)r[i]=t[i];for(i in t.prototype)r.prototype[i]=t.prototype[i];return r}Tu(Rc.prototype,{Wa:{name:"applyActionCode",j:[gu("code")]},Ja:{name:"checkActionCode",j:[gu("code")]},Za:{name:"confirmPasswordReset",j:[gu("code"),gu("newPassword")]},xb:{name:"createUserWithEmailAndPassword",j:[gu("email"),gu("password")]},Wb:{name:"createUserAndRetrieveDataWithEmailAndPassword",j:[gu("email"),gu("password")]},Zb:{name:"fetchProvidersForEmail",j:[gu("email")]},$b:{name:"fetchSignInMethodsForEmail",j:[gu("email")]},fa:{name:"getRedirectResult",j:[]},oc:{name:"isSignInWithEmailLink",j:[gu("emailLink")]},uc:{name:"onAuthStateChanged",j:[_u(bu(),wu(),"nextOrObserver"),wu("opt_error",!0),wu("opt_completed",!0)]},vc:{name:"onIdTokenChanged",j:[_u(bu(),wu(),"nextOrObserver"),wu("opt_error",!0),wu("opt_completed",!0)]},kb:{name:"sendPasswordResetEmail",j:[gu("email"),_u(bu("opt_actionCodeSettings",!0),Eu(null,!0),"opt_actionCodeSettings",!0)]},lb:{name:"sendSignInLinkToEmail",j:[gu("email"),bu("actionCodeSettings")]},mb:{name:"setPersistence",j:[gu("persistence")]},Pa:{name:"signInAndRetrieveDataWithCredential",j:[Cu()]},Qa:{name:"signInAnonymously",j:[]},Gc:{name:"signInAnonymouslyAndRetrieveData",j:[]},Hc:{name:"signInWithCredential",j:[Cu()]},Nb:{name:"signInWithCustomToken",j:[gu("token")]},Ec:{name:"signInAndRetrieveDataWithCustomToken",j:[gu("token")]},Ob:{name:"signInWithEmailAndPassword",j:[gu("email"),gu("password")]},Ic:{name:"signInWithEmailLink",j:[gu("email"),gu("emailLink",!0)]},Fc:{name:"signInAndRetrieveDataWithEmailAndPassword",j:[gu("email"),gu("password")]},Jc:{name:"signInWithPhoneNumber",j:[gu("phoneNumber"),Su()]},Kc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Qc:{name:"updateCurrentUser",j:[_u({name:"user",K:"an instance of Firebase User",optional:!1,M:function(e){return!!(e&&e instanceof Yl)}},Eu(),"user")]},nb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[gu(null,!0)]},Sc:{name:"useDeviceLanguage",j:[]},Tc:{name:"verifyPasswordResetCode",j:[gu("code")]}}),ku(Rc.prototype,{lc:{name:"languageCode",tb:_u(gu(),Eu(),"languageCode")}}),(Rc.Persistence=Gs).LOCAL="local",Rc.Persistence.SESSION="session",Rc.Persistence.NONE="none",Tu(Yl.prototype,{delete:{name:"delete",j:[]},dc:{name:"getIdTokenResult",j:[yu("opt_forceRefresh",!0)]},F:{name:"getIdToken",j:[yu("opt_forceRefresh",!0)]},eb:{name:"linkAndRetrieveDataWithCredential",j:[Cu()]},pc:{name:"linkWithCredential",j:[Cu()]},qc:{name:"linkWithPhoneNumber",j:[gu("phoneNumber"),Su()]},rc:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},sc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},gb:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Cu()]},yc:{name:"reauthenticateWithCredential",j:[Cu()]},zc:{name:"reauthenticateWithPhoneNumber",j:[gu("phoneNumber"),Su()]},Ac:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Bc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},jb:{name:"sendEmailVerification",j:[_u(bu("opt_actionCodeSettings",!0),Eu(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[gu(null,!0)]},Pc:{name:"unlink",j:[gu("provider")]},pb:{name:"updateEmail",j:[gu("email")]},qb:{name:"updatePassword",j:[gu("password")]},Rc:{name:"updatePhoneNumber",j:[Cu("phone")]},rb:{name:"updateProfile",j:[bu("profile")]}}),Tu(Gc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Tu(Kc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Tu(fe.prototype,{ia:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),ku(jl.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",tb:yu("appVerificationDisabledForTesting")}}),Tu($l.prototype,{confirm:{name:"confirm",j:[gu("verificationCode")]}}),xu(Vi,"credential",function(e,t){return new $i(e,t)},[gu("email"),gu("password")]),Tu(Di.prototype,{ua:{name:"addScope",j:[gu("scope")]},Da:{name:"setCustomParameters",j:[bu("customOAuthParameters")]}}),xu(Di,"credential",Ni,[_u(gu(),bu(),"token")]),xu(Vi,"credentialWithLink",qi,[gu("email"),gu("emailLink")]),Tu(Mi.prototype,{ua:{name:"addScope",j:[gu("scope")]},Da:{name:"setCustomParameters",j:[bu("customOAuthParameters")]}}),xu(Mi,"credential",Ri,[_u(gu(),bu(),"token")]),Tu(Li.prototype,{ua:{name:"addScope",j:[gu("scope")]},Da:{name:"setCustomParameters",j:[bu("customOAuthParameters")]}}),xu(Li,"credential",Fi,[_u(gu(),_u(bu(),Eu()),"idToken"),_u(gu(),Eu(),"accessToken",!0)]),Tu(Bi.prototype,{Da:{name:"setCustomParameters",j:[bu("customOAuthParameters")]}}),xu(Bi,"credential",ji,[_u(gu(),bu(),"token"),gu("secret",!0)]),Tu(Ai.prototype,{ua:{name:"addScope",j:[gu("scope")]},credential:{name:"credential",j:[_u(gu(),Eu(),"idToken",!0),_u(gu(),Eu(),"accessToken",!0),_u(gu(),Eu(),"nonce",!0)]},Da:{name:"setCustomParameters",j:[bu("customOAuthParameters")]}}),xu(Wi,"credential",Ki,[gu("verificationId"),gu("verificationCode")]),Tu(Wi.prototype,{Ua:{name:"verifyPhoneNumber",j:[gu("phoneNumber"),Su()]}}),Tu($r.prototype,{toJSON:{name:"toJSON",j:[gu(null,!0)]}}),Tu(na.prototype,{toJSON:{name:"toJSON",j:[gu(null,!0)]}}),Tu(ta.prototype,{toJSON:{name:"toJSON",j:[gu(null,!0)]}}),Tu(fu.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),function(){if(void 0===r.a||!r.a.INTERNAL||!r.a.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={Auth:Rc,Error:$r};xu(e,"EmailAuthProvider",Vi,[]),xu(e,"FacebookAuthProvider",Di,[]),xu(e,"GithubAuthProvider",Mi,[]),xu(e,"GoogleAuthProvider",Li,[]),xu(e,"TwitterAuthProvider",Bi,[]),xu(e,"OAuthProvider",Ai,[gu("providerId")]),xu(e,"SAMLAuthProvider",Pi,[gu("providerId")]),xu(e,"PhoneAuthProvider",Wi,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(e){return!!(e&&e instanceof Rc)}}]),xu(e,"RecaptchaVerifier",fu,[_u(gu(),{name:"",K:"an HTML element",optional:!1,M:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),bu("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(e){return!!(e&&e instanceof r.a.app.App)}}]),r.a.INTERNAL.registerService("auth",function(e,t){return t({INTERNAL:{getUid:g((e=new Rc(e)).getUid,e),getToken:g(e.cc,e),addAuthTokenListener:g(e.Vb,e),removeAuthTokenListener:g(e.Cc,e)}}),e},e,function(e,t){if("create"===e)try{t.auth()}catch(e){}}),r.a.INTERNAL.extendNamespace({User:Yl})}()}).apply(void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}).call(this,n(5))},function(e,t,n){var r;!function(){var i=window.CustomEvent;function a(e){for(;e;){if("dialog"===e.localName)return e;e=e.parentElement}return null}function o(e){e&&e.blur&&e!==document.body&&e.blur()}function s(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1}function l(e){return!(!e||!e.hasAttribute("method"))&&"dialog"===e.getAttribute("method").toLowerCase()}function c(e){if(this.dialog_=e,this.replacedStyleTop_=!1,this.openAsModal_=!1,e.hasAttribute("role")||e.setAttribute("role","dialog"),e.show=this.show.bind(this),e.showModal=this.showModal.bind(this),e.close=this.close.bind(this),"returnValue"in e||(e.returnValue=""),"MutationObserver"in window)new MutationObserver(this.maybeHideModal.bind(this)).observe(e,{attributes:!0,attributeFilter:["open"]});else{var t,n=!1,r=function(){n?this.downgradeModal():this.maybeHideModal(),n=!1}.bind(this),i=function(i){if(i.target===e){var a="DOMNodeRemoved";n|=i.type.substr(0,a.length)===a,window.clearTimeout(t),t=window.setTimeout(r,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach(function(t){e.addEventListener(t,i)})}Object.defineProperty(e,"open",{set:this.setOpen.bind(this),get:e.hasAttribute.bind(e,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("click",this.backdropClick_.bind(this))}i&&"object"!=typeof i||((i=function(e,t){t=t||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!!t.bubbles,!!t.cancelable,t.detail||null),n}).prototype=window.Event.prototype),c.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&document.body.contains(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),u.dm.removeDialog(this))},setOpen:function(e){e?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropClick_:function(e){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var t=document.createElement("div");this.dialog_.insertBefore(t,this.dialog_.firstChild),t.tabIndex=-1,t.focus(),this.dialog_.removeChild(t)}var n=document.createEvent("MouseEvents");n.initMouseEvent(e.type,e.bubbles,e.cancelable,window,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget),this.dialog_.dispatchEvent(n),e.stopPropagation()},focus_:function(){var e=this.dialog_.querySelector("[autofocus]:not([disabled])");if(!e&&0<=this.dialog_.tabIndex&&(e=this.dialog_),!e){var t=["button","input","keygen","select","textarea"].map(function(e){return e+":not([disabled])"});t.push('[tabindex]:not([disabled]):not([tabindex=""])'),e=this.dialog_.querySelector(t.join(", "))}o(document.activeElement),e&&e.focus()},updateZIndex:function(e,t){if(e<t)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=e,this.backdrop_.style.zIndex=t},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!document.body.contains(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!u.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");(function(e){for(;e&&e!==document.body;){var t=window.getComputedStyle(e),n=function(e,n){return!(void 0===t[e]||t[e]===n)};if(t.opacity<1||n("zIndex","auto")||n("transform","none")||n("mixBlendMode","normal")||n("filter","none")||n("perspective","none")||"isolate"===t.isolation||"fixed"===t.position||"touch"===t.webkitOverflowScrolling)return!0;e=e.parentElement}return!1})(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,u.needsCentering(this.dialog_)?(u.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(e){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),void 0!==e&&(this.dialog_.returnValue=e);var t=new i("close",{bubbles:!1,cancelable:!1});this.dialog_.dispatchEvent(t)}};var u={reposition:function(e){var t=document.body.scrollTop||document.documentElement.scrollTop,n=t+(window.innerHeight-e.offsetHeight)/2;e.style.top=Math.max(t,n)+"px"},isInlinePositionSetByStylesheet:function(e){for(var t=0;t<document.styleSheets.length;++t){var n=document.styleSheets[t],r=null;try{r=n.cssRules}catch(e){}if(r)for(var i=0;i<r.length;++i){var a=r[i],o=null;try{o=document.querySelectorAll(a.selectorText)}catch(e){}if(o&&s(o,e)){var l=a.style.getPropertyValue("top"),c=a.style.getPropertyValue("bottom");if(l&&"auto"!==l||c&&"auto"!==c)return!0}}}return!1},needsCentering:function(e){return!("absolute"!==window.getComputedStyle(e).position||"auto"!==e.style.top&&""!==e.style.top||"auto"!==e.style.bottom&&""!==e.style.bottom||u.isInlinePositionSetByStylesheet(e))},forceRegisterDialog:function(e){if((window.HTMLDialogElement||e.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",e),"dialog"!==e.localName)throw new Error("Failed to register dialog: The element is not a dialog.");new c(e)},registerDialog:function(e){e.showModal||u.forceRegisterDialog(e)},DialogManager:function(){this.pendingDialogStack=[];var e=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",function(t){this.forwardTab_=void 0,t.stopPropagation(),e([])}.bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=100150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver(function(t){var n=[];t.forEach(function(e){for(var t,r=0;t=e.removedNodes[r];++r)t instanceof Element&&("dialog"===t.localName&&n.push(t),n=n.concat(t.querySelectorAll("dialog")))}),n.length&&e(n)}))}};if(u.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},u.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},u.DialogManager.prototype.updateStacking=function(){for(var e,t=this.zIndexHigh_,n=0;e=this.pendingDialogStack[n];++n)e.updateZIndex(--t,--t),0===n&&(this.overlay.style.zIndex=--t);var r=this.pendingDialogStack[0];r?(r.dialog.parentNode||document.body).appendChild(this.overlay):this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},u.DialogManager.prototype.containedByTopDialog_=function(e){for(;e=a(e);){for(var t,n=0;t=this.pendingDialogStack[n];++n)if(t.dialog===e)return 0===n;e=e.parentElement}return!1},u.DialogManager.prototype.handleFocus_=function(e){if(!this.containedByTopDialog_(e.target)&&(e.preventDefault(),e.stopPropagation(),o(e.target),void 0!==this.forwardTab_)){var t=this.pendingDialogStack[0];return t.dialog.compareDocumentPosition(e.target)&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?t.focus_():document.documentElement.focus()),!1}},u.DialogManager.prototype.handleKey_=function(e){if(this.forwardTab_=void 0,27===e.keyCode){e.preventDefault(),e.stopPropagation();var t=new i("cancel",{bubbles:!1,cancelable:!0}),n=this.pendingDialogStack[0];n&&n.dialog.dispatchEvent(t)&&n.dialog.close()}else 9===e.keyCode&&(this.forwardTab_=!e.shiftKey)},u.DialogManager.prototype.checkDOM_=function(e){this.pendingDialogStack.slice().forEach(function(t){-1!==e.indexOf(t.dialog)?t.downgradeModal():t.maybeHideModal()})},u.DialogManager.prototype.pushDialog=function(e){var t=(this.zIndexHigh_-this.zIndexLow_)/2-1;return!(this.pendingDialogStack.length>=t||(1===this.pendingDialogStack.unshift(e)&&this.blockDocument(),this.updateStacking(),0))},u.DialogManager.prototype.removeDialog=function(e){var t=this.pendingDialogStack.indexOf(e);-1!==t&&(this.pendingDialogStack.splice(t,1),0===this.pendingDialogStack.length&&this.unblockDocument(),this.updateStacking())},u.dm=new u.DialogManager,u.formSubmitter=null,u.useValue=null,void 0===window.HTMLDialogElement){var h=document.createElement("form");if(h.setAttribute("method","dialog"),"dialog"!==h.method){var d=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(d){var p=d.get;d.get=function(){return l(this)?"dialog":p.call(this)};var f=d.set;d.set=function(e){return"string"==typeof e&&"dialog"===e.toLowerCase()?this.setAttribute("method",e):f.call(this,e)},Object.defineProperty(HTMLFormElement.prototype,"method",d)}}document.addEventListener("click",function(e){if(u.formSubmitter=null,u.useValue=null,!e.defaultPrevented){var t=e.target;if(t&&l(t.form)){if(!("submit"===t.type&&-1<["button","input"].indexOf(t.localName))){if("input"!==t.localName||"image"!==t.type)return;u.useValue=e.offsetX+","+e.offsetY}a(t)&&(u.formSubmitter=t)}}},!1);var m=HTMLFormElement.prototype.submit;HTMLFormElement.prototype.submit=function(){if(!l(this))return m.call(this);var e=a(this);e&&e.close()},document.addEventListener("submit",function(e){var t=e.target;if(l(t)){e.preventDefault();var n=a(t);if(n){var r=u.formSubmitter;r&&r.form===t?n.close(u.useValue||r.value):n.close(),u.formSubmitter=null}}},!0)}u.forceRegisterDialog=u.forceRegisterDialog,u.registerDialog=u.registerDialog,"amd"in n(51)?void 0===(r=function(){return u}.call(t,n,t,e))||(e.exports=r):"object"==typeof e.exports?e.exports=u:window.dialogPolyfill=u}()},function(e,t,n){"use strict";n.r(t),n(104)},function(e,t,n){"use strict";(function(r){Object.defineProperty(t,"__esModule",{value:!0});var i,a,o,s,l,c,u,h,d,p,f,m,v=n(38),g=n(52),y=n(105),b=(i=n(0))&&"object"==typeof i&&"default"in i?i.default:i,w=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),v.stringify(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:v.jsonEval(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),E=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return v.contains(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),C=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new w(t)}}catch(e){}return new E},S=C("localStorage"),_=C("sessionStorage"),T=new g.Logger("@firebase/database"),k=(a=1,function(){return a++}),x=function(e){var t=v.stringToByteArray(e),n=new v.Sha1;n.update(t);var r=n.digest();return v.base64.encodeByteArray(r)},I=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=0;r<e.length;r++)Array.isArray(e[r])||e[r]&&"object"==typeof e[r]&&"number"==typeof e[r].length?n+=I.apply(null,e[r]):"object"==typeof e[r]?n+=v.stringify(e[r]):n+=e[r],n+=" ";return n},O=null,P=!0,A=function(e,t){v.assert(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(T.logLevel=g.LogLevel.VERBOSE,O=T.log.bind(T),t&&_.set("logging_enabled",!0)):"function"==typeof e?O=e:(O=null,_.remove("logging_enabled"))},D=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===P&&(P=!1,null===O&&!0===_.get("logging_enabled")&&A(!0)),O){var n=I.apply(null,e);O(n)}},N=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];D.apply(void 0,[e].concat(t))}},M=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+I.apply(void 0,e);T.error(n)},R=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+I.apply(void 0,e);throw T.error(n),new Error(n)},L=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+I.apply(void 0,e);T.warn(n)},F=function(e){return"number"==typeof e&&(e!=e||e==Number.POSITIVE_INFINITY||e==Number.NEGATIVE_INFINITY)},B="[MIN_NAME]",j="[MAX_NAME]",$=function(e,t){if(e===t)return 0;if(e===B||t===j)return-1;if(t===B||e===j)return 1;var n=G(e),r=G(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},V=function(e,t){return e===t?0:e<t?-1:1},q=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+v.stringify(t))},U=function(e){if("object"!=typeof e||null===e)return v.stringify(e);var t=[];for(var n in e)t.push(n);t.sort();for(var r="{",i=0;i<t.length;i++)0!==i&&(r+=","),r+=v.stringify(t[i]),r+=":",r+=U(e[t[i]]);return r+"}"},H=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)n<i+t?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r},z=function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;++n)t(n,e[n]);else v.forEach(e,function(e,n){return t(n,e)})},W=function(e){var t,n,r,i,a,o,s;for(v.assert(!F(e),"Invalid JSON number"),0===e?t=1/e==-1/(r=n=0)?1:0:(t=e<0,r=(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),1023))+1023,Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,Math.round(e/Math.pow(2,-1074)))),o=[],a=52;a;a-=1)o.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)o.push(n%2?1:0),n=Math.floor(n/2);o.push(t?1:0),o.reverse(),s=o.join("");var l="";for(a=0;a<64;a+=8){var c=parseInt(s.substr(a,8),2).toString(16);1===c.length&&(c="0"+c),l+=c}return l.toLowerCase()},K=new RegExp("^-?\\d{1,10}$"),G=function(e){if(K.test(e)){var t=Number(e);if(-2147483648<=t&&t<=2147483647)return t}return null},Q=function(e){try{e()}catch(e){setTimeout(function(){var t=e.stack||"";throw L("Exception was thrown by user callback.",t),e},Math.floor(0))}},Y=function(e,t){var n=setTimeout(e,t);return"object"==typeof n&&n.unref&&n.unref(),n},X=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)0<this.pieces_[r].length&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return Object.defineProperty(e,"Empty",{get:function(){return new e("")},enumerable:!0,configurable:!0}),e.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},e.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},e.prototype.popFront=function(){var t=this.pieceNum_;return t<this.pieces_.length&&t++,new e(this.pieces_,t)},e.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e.prototype.toUrlEncodedString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+encodeURIComponent(String(this.pieces_[t])));return e||"/"},e.prototype.slice=function(e){return void 0===e&&(e=0),this.pieces_.slice(this.pieceNum_+e)},e.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var t=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)t.push(this.pieces_[n]);return new e(t,0)},e.prototype.child=function(t){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(t instanceof e)for(r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{var i=t.split("/");for(r=0;r<i.length;r++)0<i[r].length&&n.push(i[r])}return new e(n,0)},e.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},e.relativePath=function(t,n){var r=t.getFront(),i=n.getFront();if(null===r)return n;if(r===i)return e.relativePath(t.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+t+")")},e.comparePaths=function(e,t){for(var n=e.slice(),r=t.slice(),i=0;i<n.length&&i<r.length;i++){var a=$(n[i],r[i]);if(0!==a)return a}return n.length===r.length?0:n.length<r.length?-1:1},e.prototype.equals=function(e){if(this.getLength()!==e.getLength())return!1;for(var t=this.pieceNum_,n=e.pieceNum_;t<=this.pieces_.length;t++,n++)if(this.pieces_[t]!==e.pieces_[n])return!1;return!0},e.prototype.contains=function(e){var t=this.pieceNum_,n=e.pieceNum_;if(this.getLength()>e.getLength())return!1;for(;t<this.pieces_.length;){if(this.pieces_[t]!==e.pieces_[n])return!1;++t,++n}return!0},e}(),J=function(){function e(e,t){this.errorPrefix_=t,this.parts_=e.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=v.stringLength(this.parts_[n]);this.checkValid_()}return Object.defineProperty(e,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!0,configurable:!0}),Object.defineProperty(e,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!0,configurable:!0}),e.prototype.push=function(e){0<this.parts_.length&&(this.byteLength_+=1),this.parts_.push(e),this.byteLength_+=v.stringLength(e),this.checkValid_()},e.prototype.pop=function(){var e=this.parts_.pop();this.byteLength_-=v.stringLength(e),0<this.parts_.length&&(this.byteLength_-=1)},e.prototype.checkValid_=function(){if(this.byteLength_>e.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+e.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>e.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+e.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},e.prototype.toErrorString=function(){return 0==this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},e}(),Z="firebaseio.com",ee="long_polling",te=function(){function e(e,t,n,r,i){void 0===i&&(i=""),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.persistenceKey=i,this.host=e.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=S.get("host:"+e)||this.host}return e.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()},e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},e.prototype.updateHost=function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&S.set("host:"+this.host,this.internalHost))},e.prototype.connectionURL=function(e,t){var n;if(v.assert("string"==typeof e,"typeof type must == string"),v.assert("object"==typeof t,"typeof params must == object"),"websocket"===e)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(e!==ee)throw new Error("Unknown connection type: "+e);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(t.ns=this.namespace);var r=[];return v.forEach(t,function(e,t){r.push(e+"="+t)}),n+r.join("&")},e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},e}(),ne=function(e){var t=re(e),n=t.subdomain;"firebase"===t.domain&&R(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!=n||"localhost"===t.domain||R("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&L("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var r="ws"===t.scheme||"wss"===t.scheme;return{repoInfo:new te(t.host,t.secure,n,r),path:new X(t.pathString)}},re=function(e){var t="",n="",r="",i="",a=!0,o="https",s=443;if("string"==typeof e){var l=e.indexOf("//");0<=l&&(o=e.substring(0,l-1),e=e.substring(l+2));var c=e.indexOf("/");-1===c&&(c=e.length);var u=e.indexOf("?");-1===u&&(u=e.length),t=e.substring(0,Math.min(c,u)),c<u&&(i=
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(0<n[r].length){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(e){}t+="/"+i}return t}(e.substring(c,u)));var h=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));for(var n=0,r=e.split("&");n<r.length;n++){var i=r[n];if(0!==i.length){var a=i.split("=");2===a.length?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):L("Invalid query segment '"+i+"' in query '"+e+"'")}}return t}(e.substring(Math.min(e.length,u)));0<=(l=t.indexOf(":"))?(a="https"===o||"wss"===o,s=parseInt(t.substring(l+1),10)):l=e.length;var d=t.split(".");3===d.length?(n=d[1],r=d[0].toLowerCase()):2===d.length?n=d[0]:"localhost"===d[0].slice(0,l).toLowerCase()&&(n="localhost"),""===r&&"ns"in h&&(r=h.ns)}return{host:t,port:s,domain:n,subdomain:r,secure:a,scheme:o,pathString:i}},ie=/[\[\].#$\/\u0000-\u001F\u007F]/,ae=/[\[\].#$\u0000-\u001F\u007F]/,oe=10485760,se=function(e){return"string"==typeof e&&0!==e.length&&!ie.test(e)},le=function(e){return"string"==typeof e&&0!==e.length&&!ae.test(e)},ce=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!F(e)||e&&"object"==typeof e&&v.contains(e,".sv")},ue=function(e,t,n,r,i){i&&void 0===n||he(v.errorPrefix(e,t,i),n,r)},he=function(e,t,n){var r=n instanceof X?new J(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+r.toErrorString());if("function"==typeof t)throw new Error(e+"contains a function "+r.toErrorString()+" with contents = "+t.toString());if(F(t))throw new Error(e+"contains "+t.toString()+" "+r.toErrorString());if("string"==typeof t&&t.length>oe/3&&v.stringLength(t)>oe)throw new Error(e+"contains a string greater than "+oe+" utf8 bytes "+r.toErrorString()+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){var i=!1,a=!1;if(v.forEach(t,function(t,n){if(".value"===t)i=!0;else if(".priority"!==t&&".sv"!==t&&(a=!0,!se(t)))throw new Error(e+" contains an invalid key ("+t+") "+r.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');r.push(t),he(e,n,r),r.pop()}),i&&a)throw new Error(e+' contains ".value" child '+r.toErrorString()+" in addition to actual children.")}},de=function(e,t,n,r,i){if(!i||void 0!==n){var a=v.errorPrefix(e,t,i);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(a+" must be an object containing the children to replace.");var o=[];v.forEach(n,function(e,t){var n=new X(e);if(he(a,t,r.child(n)),".priority"===n.getBack()&&!ce(t))throw new Error(a+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(n)}),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=(r=t[n]).slice(),a=0;a<i.length;a++)if(".priority"===i[a]&&a===i.length-1);else if(!se(i[a]))throw new Error(e+"contains an invalid key ("+i[a]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(X.comparePaths);var o=null;for(n=0;n<t.length;n++){if(r=t[n],null!==o&&o.contains(r))throw new Error(e+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}}(a,o)}},pe=function(e,t,n,r){if(!r||void 0!==n){if(F(n))throw new Error(v.errorPrefix(e,t,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ce(n))throw new Error(v.errorPrefix(e,t,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},fe=function(e,t,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(v.errorPrefix(e,t,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},me=function(e,t,n,r){if(!(r&&void 0===n||se(n)))throw new Error(v.errorPrefix(e,t,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},ve=function(e,t,n,r){if(!(r&&void 0===n||le(n)))throw new Error(v.errorPrefix(e,t,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ge=function(e,t){if(".info"===t.getFront())throw new Error(e+" failed = Can't modify data under /.info/")},ye=function(e,t,n){var r,i=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!se(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==i.length&&((r=i)&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),!le(r)))throw new Error(v.errorPrefix(e,t,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},be=function(){function e(e,t){this.repo_=e,this.path_=t}return e.prototype.cancel=function(e){v.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),v.validateCallback("OnDisconnect.cancel",1,e,!0);var t=new v.Deferred;return this.repo_.onDisconnectCancel(this.path_,t.wrapCallback(e)),t.promise},e.prototype.remove=function(e){v.validateArgCount("OnDisconnect.remove",0,1,arguments.length),ge("OnDisconnect.remove",this.path_),v.validateCallback("OnDisconnect.remove",1,e,!0);var t=new v.Deferred;return this.repo_.onDisconnectSet(this.path_,null,t.wrapCallback(e)),t.promise},e.prototype.set=function(e,t){v.validateArgCount("OnDisconnect.set",1,2,arguments.length),ge("OnDisconnect.set",this.path_),ue("OnDisconnect.set",1,e,this.path_,!1),v.validateCallback("OnDisconnect.set",2,t,!0);var n=new v.Deferred;return this.repo_.onDisconnectSet(this.path_,e,n.wrapCallback(t)),n.promise},e.prototype.setWithPriority=function(e,t,n){v.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),ge("OnDisconnect.setWithPriority",this.path_),ue("OnDisconnect.setWithPriority",1,e,this.path_,!1),pe("OnDisconnect.setWithPriority",2,t,!1),v.validateCallback("OnDisconnect.setWithPriority",3,n,!0);var r=new v.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,e,t,r.wrapCallback(n)),r.promise},e.prototype.update=function(e,t){if(v.validateArgCount("OnDisconnect.update",1,2,arguments.length),ge("OnDisconnect.update",this.path_),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,L("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}de("OnDisconnect.update",1,e,this.path_,!1),v.validateCallback("OnDisconnect.update",2,t,!0);var i=new v.Deferred;return this.repo_.onDisconnectUpdate(this.path_,e,i.wrapCallback(t)),i.promise},e}(),we=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return v.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),Ee=(o="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",s=0,l=[],function(e){var t,n=e===s;s=e;var r=new Array(8);for(t=7;0<=t;t--)r[t]=o.charAt(e%64),e=Math.floor(e/64);v.assert(0===e,"Cannot push at time == 0");var i=r.join("");if(n){for(t=11;0<=t&&63===l[t];t--)l[t]=0;l[t]++}else for(t=0;t<12;t++)l[t]=Math.floor(64*Math.random());for(t=0;t<12;t++)i+=o.charAt(l[t]);return v.assert(20===i.length,"nextPushId: Length should be 20."),i}),Ce=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}(),Se=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new Ce(B,e),r=new Ce(B,t);return 0!==this.compare(n,r)},e.prototype.minPost=function(){return Ce.MIN},e}(),_e=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return y.__extends(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return c},set:function(e){c=e},enumerable:!0,configurable:!0}),t.prototype.compare=function(e,t){return $(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw v.assertionError("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return Ce.MIN},t.prototype.maxPost=function(){return new Ce(j,c)},t.prototype.makePost=function(e,t){return v.assert("string"==typeof e,"KeyIndex indexValue must always be a string."),new Ce(e,c)},t.prototype.toString=function(){return".key"},t}(Se),Te=new _e,ke=function(e){return"number"==typeof e?"number:"+W(e):"string:"+e},xe=function(e){if(e.isLeafNode()){var t=e.val();v.assert("string"==typeof t||"number"==typeof t||"object"==typeof t&&v.contains(t,".sv"),"Priority must be a string or number.")}else v.assert(e===u||e.isEmpty(),"priority of unexpected type.");v.assert(e===u||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Ie=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,v.assert(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),xe(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return h},set:function(e){h=e},enumerable:!0,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return t.isEmpty()?this:".priority"===t.getFront()?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=t.getFront();return null===r?n:n.isEmpty()&&".priority"!==r?this:(v.assert(".priority"!==r||1===t.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(t.popFront(),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+ke(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?W(this.value_):this.value_,this.lazyHash_=x(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(v.assert(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return v.assert(0<=i,"Unknown leaf type: "+n),v.assert(0<=a,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}(),Oe=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return y.__extends(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?$(e.name,t.name):i},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return Ce.MIN},t.prototype.maxPost=function(){return new Ce(j,new Ie("[PRIORITY-POST]",p))},t.prototype.makePost=function(e,t){var n=d(e);return new Ce(t,new Ie("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(Se)),Pe=function(){function e(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var a=1;!e.isEmpty();)if(e=e,a=t?n(e.key,t):1,r&&(a*=-1),a<0)e=this.isReverse_?e.left:e.right;else{if(0===a){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},e.prototype.hasNext=function(){return 0<this.nodeStack_.length},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),Ae=function(){function e(t,n,r,i,a){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:Ne.EMPTY_NODE,this.right=null!=a?a:Ne.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r,i;return(i=(r=n(e,(i=this).key))<0?i.copy(null,null,null,i.left.insert(e,t,n),null):0===r?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n))).fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return Ne.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},e.prototype.remove=function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Ne.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},e.prototype.check_=function(){var e;if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");if((e=this.left.check_())!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),De=function(){function e(){}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new Ae(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),Ne=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Ae.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Ae.BLACK,null,null))},e.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:0<t&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:0<t&&(n=(r=n).right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new Pe(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new Pe(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new Pe(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new Pe(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new De,e}(),Me=Math.log(2),Re=function(){function e(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/Me,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=e+1&r}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),Le=function(e,t,n,r){e.sort(t);var i=function(t,r){var a,o,s=r-t;if(0==s)return null;if(1==s)return a=e[t],o=n?n(a):a,new Ae(o,a.node,Ae.BLACK,null,null);var l=parseInt(s/2,10)+t,c=i(t,l),u=i(l+1,r);return a=e[l],o=n?n(a):a,new Ae(o,a.node,Ae.BLACK,c,u)},a=function(t){for(var r=null,a=null,o=e.length,s=function(t,r){var a=o-t,s=o;o-=t;var c=i(a+1,s),u=e[a],h=n?n(u):u;l(new Ae(h,u.node,r,null,c))},l=function(e){r=r?r.left=e:a=e},c=0;c<t.count;++c){var u=t.nextBitIsOne(),h=Math.pow(2,t.count-(c+1));u?s(h,Ae.BLACK):(s(h,Ae.BLACK),s(h,Ae.RED))}return a}(new Re(e.length));return new Ne(r||t,a)},Fe={},Be=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return v.assert(Oe,"ChildrenNode.ts has not been loaded"),f=f||new e({".priority":Fe},{".priority":Oe})},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var t=v.safeGet(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t===Fe?null:t},e.prototype.hasIndex=function(e){return v.contains(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){v.assert(t!==Te,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,o=n.getIterator(Ce.Wrap),s=o.getNext();s;)a=a||t.isDefinedOn(s.node),i.push(s),s=o.getNext();r=a?Le(i,t.getCompare()):Fe;var l=t.toString(),c=v.clone(this.indexSet_);c[l]=t;var u=v.clone(this.indexes_);return u[l]=r,new e(u,c)},e.prototype.addToIndexes=function(t,n){var r=this;return new e(v.map(this.indexes_,function(e,i){var a=v.safeGet(r.indexSet_,i);if(v.assert(a,"Missing index implementation for "+i),e===Fe){if(a.isDefinedOn(t.node)){for(var o=[],s=n.getIterator(Ce.Wrap),l=s.getNext();l;)l.name!=t.name&&o.push(l),l=s.getNext();return o.push(t),Le(o,a.getCompare())}return Fe}var c=n.get(t.name),u=e;return c&&(u=u.remove(new Ce(t.name,c))),u.insert(t,t.node)}),this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){return new e(v.map(this.indexes_,function(e){if(e===Fe)return e;var r=n.get(t.name);return r?e.remove(new Ce(t.name,r)):e}),this.indexSet_)},e}();
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function je(e,t){return $(e.name,t.name)}function $e(e,t){return $(e,t)}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&xe(this.priorityNode_),this.children_.isEmpty()&&v.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return m||(m=new e(new Ne($e),null,Be.Default))},enumerable:!0,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||m},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?m:t},e.prototype.getChild=function(e){var t=e.getFront();return null===t?this:this.getImmediateChild(t).getChild(e.popFront())},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if(v.assert(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i=new Ce(t,n),a=void 0;return r=n.isEmpty()?(a=this.children_.remove(t),this.indexMap_.removeFromIndexes(i,this.children_)):(a=this.children_.insert(t,n),this.indexMap_.addToIndexes(i,this.children_)),new e(a,a.isEmpty()?m:this.priorityNode_,r)},e.prototype.updateChild=function(e,t){var n=e.getFront();if(null===n)return t;v.assert(".priority"!==e.getFront()||1===e.getLength(),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(e.popFront(),t);return this.updateImmediateChild(n,r)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,a=!0;if(this.forEachChild(Oe,function(o,s){n[o]=s.val(t),r++,a&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1}),!t&&a&&i<2*r){var o=[];for(var s in n)o[s]=n[s];return o}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+ke(this.getPriority().val())+":"),this.forEachChild(Oe,function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)}),this.lazyHash_=""===e?"":x(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Ce(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new Ce(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new Ce(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal(function(e){return t(e.name,e.node)}):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,function(e){return e});for(var r=this.children_.getIteratorFrom(e.name,Ce.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,function(e){return e});for(var r=this.children_.getReverseIteratorFrom(e.name,Ce.Wrap),i=r.peek();null!=i&&0<t.compare(i,e);)r.getNext(),i=r.peek();return r},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===qe?-1:0},e.prototype.withIndex=function(t){if(t===Te||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===Te||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()!==t.children_.count())return!1;for(var n=this.getIterator(Oe),r=t.getIterator(Oe),i=n.getNext(),a=r.getNext();i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1},e.prototype.resolveIndex_=function(e){return e===Te?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),qe=new(function(e){function t(){return e.call(this,new Ne($e),Ve.EMPTY_NODE,Be.Default)||this}return y.__extends(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return Ve.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(Ve));Object.defineProperties(Ce,{MIN:{value:new Ce(B,Ve.EMPTY_NODE)},MAX:{value:new Ce(j,qe)}}),_e.__EMPTY_NODE=Ve.EMPTY_NODE,Ie.__childrenNodeConstructor=Ve,u=qe,p=qe;
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ue=!0;function He(e,t){if(void 0===t&&(t=null),null===e)return Ve.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),v.assert(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new Ie(e,He(t));if(e instanceof Array||!Ue){var n=Ve.EMPTY_NODE,r=e;return v.forEach(r,function(e,t){if(v.contains(r,e)&&"."!==e.substring(0,1)){var i=He(t);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(e,i))}}),n.updatePriority(He(t))}var i=[],a=!1,o=e;if(v.forEach(o,function(e,t){if("string"!=typeof e||"."!==e.substring(0,1)){var n=He(o[e]);n.isEmpty()||(a=a||!n.getPriority().isEmpty(),i.push(new Ce(e,n)))}}),0==i.length)return Ve.EMPTY_NODE;var s=Le(i,je,function(e){return e.name},$e);if(a){var l=Le(i,Oe.getCompare());return new Ve(s,He(t),new Be({".priority":l},{".priority":Oe}))}return new Ve(s,He(t),Be.Default)}d=He;
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ze,We,Ke,Ge=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return y.__extends(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?$(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return Ce.MIN},t.prototype.maxPost=function(){return Ce.MAX},t.prototype.makePost=function(e,t){var n=He(e);return new Ce(t,n)},t.prototype.toString=function(){return".value"},t}(Se)),Qe=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,v.assert(!t.isEmpty()&&".priority"!==t.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return y.__extends(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?$(e.name,t.name):i},t.prototype.makePost=function(e,t){var n=He(e),r=Ve.EMPTY_NODE.updateChild(this.indexPath_,n);return new Ce(t,r)},t.prototype.maxPost=function(){var e=Ve.EMPTY_NODE.updateChild(this.indexPath_,qe);return new Ce(j,e)},t.prototype.toString=function(){return this.indexPath_.slice().join("/")},t}(Se),Ye=function(){function e(e,t,n){this.node_=e,this.ref_=t,this.index_=n}return e.prototype.val=function(){return v.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},e.prototype.exportVal=function(){return v.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},e.prototype.toJSON=function(){return v.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},e.prototype.exists=function(){return v.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},e.prototype.child=function(t){v.validateArgCount("DataSnapshot.child",0,1,arguments.length),t=String(t),ve("DataSnapshot.child",1,t,!1);var n=new X(t),r=this.ref_.child(n);return new e(this.node_.getChild(n),r,Oe)},e.prototype.hasChild=function(e){v.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),ve("DataSnapshot.hasChild",1,e,!1);var t=new X(e);return!this.node_.getChild(t).isEmpty()},e.prototype.getPriority=function(){return v.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},e.prototype.forEach=function(t){var n=this;return v.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),v.validateCallback("DataSnapshot.forEach",1,t,!1),!this.node_.isLeafNode()&&!!this.node_.forEachChild(this.index_,function(r,i){return t(new e(i,n.ref_.child(r),Oe))})},e.prototype.hasChildren=function(){return v.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(e.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!0,configurable:!0}),e.prototype.numChildren=function(){return v.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},e.prototype.getRef=function(){return v.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),e}(),Xe=function(){function e(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}return e.prototype.getPath=function(){var e=this.snapshot.getRef();return"value"===this.eventType?e.path:e.getParent().path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+v.stringify(this.snapshot.exportVal())},e}(),Je=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),Ze=function(){function e(e,t,n){this.callback_=e,this.cancelCallback_=t,this.context_=n}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t.getQueryParams().getIndex();return new Xe("value",this,new Ye(e.snapshotNode,t.getRef(),n))},e.prototype.getEventRunner=function(e){var t=this.context_;if("cancel"===e.getEventType()){v.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(t,e.error)}}var r=this.callback_;return function(){r.call(t,e.snapshot)}},e.prototype.createCancelEvent=function(e,t){return this.cancelCallback_?new Je(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callback_||!this.callback_||t.callback_===this.callback_&&t.context_===this.context_)},e.prototype.hasAnyCallback=function(){return null!==this.callback_},e}(),et=function(){function e(e,t,n){this.callbacks_=e,this.cancelCallback_=t,this.context_=n}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,v.contains(this.callbacks_,t)},e.prototype.createCancelEvent=function(e,t){return this.cancelCallback_?new Je(this,e,t):null},e.prototype.createEvent=function(e,t){v.assert(null!=e.childName,"Child events should have a childName.");var n=t.getRef().child(e.childName),r=t.getQueryParams().getIndex();return new Xe(e.type,this,new Ye(e.snapshotNode,n,r),e.prevName)},e.prototype.getEventRunner=function(e){var t=this.context_;if("cancel"===e.getEventType()){v.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(t,e.error)}}var r=this.callbacks_[e.eventType];return function(){r.call(t,e.snapshot,e.prevName)}},e.prototype.matches=function(t){if(t instanceof e){if(!this.callbacks_||!t.callbacks_)return!0;if(this.context_===t.context_){var n=v.getCount(t.callbacks_);if(n===v.getCount(this.callbacks_)){if(1!==n)return v.every(this.callbacks_,function(e,n){return t.callbacks_[e]===n});var r=v.getAnyKey(t.callbacks_),i=v.getAnyKey(this.callbacks_);return!(i!==r||t.callbacks_[r]&&this.callbacks_[i]&&t.callbacks_[r]!==this.callbacks_[i])}}}return!1},e.prototype.hasAnyCallback=function(){return null!==this.callbacks_},e}(),tt=function(){function e(e,t,n,r){this.repo=e,this.path=t,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(e,"__referenceConstructor",{get:function(){return v.assert(ze,"Reference.ts has not been loaded"),ze},set:function(e){ze=e},enumerable:!0,configurable:!0}),e.validateQueryEndpoints_=function(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Te){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!=B)throw new Error(r);if("string"!=typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!=j)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(e.getIndex()===Oe){if(null!=t&&!ce(t)||null!=n&&!ce(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(v.assert(e.getIndex()instanceof Qe||e.getIndex()===Ge,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},e.validateLimit_=function(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},e.prototype.validateNoPreviousOrderByCall_=function(e){if(!0===this.orderByCalled_)throw new Error(e+": You can't combine multiple orderBy calls.")},e.prototype.getQueryParams=function(){return this.queryParams_},e.prototype.getRef=function(){return v.validateArgCount("Query.ref",0,0,arguments.length),new e.__referenceConstructor(this.repo,this.path)},e.prototype.on=function(t,n,r,i){v.validateArgCount("Query.on",2,4,arguments.length),fe("Query.on",1,t,!1),v.validateCallback("Query.on",2,n,!1);var a=e.getCancelAndContextArgs_("Query.on",r,i);if("value"===t)this.onValueEvent(n,a.cancel,a.context);else{var o={};o[t]=n,this.onChildEvent(o,a.cancel,a.context)}return n},e.prototype.onValueEvent=function(e,t,n){var r=new Ze(e,t||null,n||null);this.repo.addEventCallbackForQuery(this,r)},e.prototype.onChildEvent=function(e,t,n){var r=new et(e,t,n);this.repo.addEventCallbackForQuery(this,r)},e.prototype.off=function(e,t,n){v.validateArgCount("Query.off",0,3,arguments.length),fe("Query.off",1,e,!0),v.validateCallback("Query.off",2,t,!0),v.validateContextObject("Query.off",3,n,!0);var r=null,i=null;"value"===e?r=new Ze(t||null,null,n||null):e&&(t&&((i={})[e]=t),r=new et(i,null,n||null)),this.repo.removeEventCallbackForQuery(this,r)},e.prototype.once=function(t,n,r,i){var a=this;v.validateArgCount("Query.once",1,4,arguments.length),fe("Query.once",1,t,!1),v.validateCallback("Query.once",2,n,!0);var o=e.getCancelAndContextArgs_("Query.once",r,i),s=!0,l=new v.Deferred;l.promise.catch(function(){});var c=function(e){s&&(s=!1,a.off(t,c),n&&n.bind(o.context)(e),l.resolve(e))};return this.on(t,c,function(e){a.off(t,c),o.cancel&&o.cancel.bind(o.context)(e),l.reject(e)}),l.promise},e.prototype.limitToFirst=function(t){if(v.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new e(this.repo,this.path,this.queryParams_.limitToFirst(t),this.orderByCalled_)},e.prototype.limitToLast=function(t){if(v.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new e(this.repo,this.path,this.queryParams_.limitToLast(t),this.orderByCalled_)},e.prototype.orderByChild=function(t){if(v.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===t)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===t)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===t)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');ve("Query.orderByChild",1,t,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new X(t);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new Qe(n),i=this.queryParams_.orderBy(r);return e.validateQueryEndpoints_(i),new e(this.repo,this.path,i,!0)},e.prototype.orderByKey=function(){v.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var t=this.queryParams_.orderBy(Te);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.orderByPriority=function(){v.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var t=this.queryParams_.orderBy(Oe);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.orderByValue=function(){v.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var t=this.queryParams_.orderBy(Ge);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.startAt=function(t,n){void 0===t&&(t=null),v.validateArgCount("Query.startAt",0,2,arguments.length),ue("Query.startAt",1,t,this.path,!0),me("Query.startAt",2,n,!0);var r=this.queryParams_.startAt(t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===t&&(n=t=null),new e(this.repo,this.path,r,this.orderByCalled_)},e.prototype.endAt=function(t,n){void 0===t&&(t=null),v.validateArgCount("Query.endAt",0,2,arguments.length),ue("Query.endAt",1,t,this.path,!0),me("Query.endAt",2,n,!0);var r=this.queryParams_.endAt(t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new e(this.repo,this.path,r,this.orderByCalled_)},e.prototype.equalTo=function(e,t){if(v.validateArgCount("Query.equalTo",1,2,arguments.length),ue("Query.equalTo",1,e,this.path,!1),me("Query.equalTo",2,t,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(e,t).endAt(e,t)},e.prototype.toString=function(){return v.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},e.prototype.toJSON=function(){return v.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},e.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},e.prototype.queryIdentifier=function(){var e=this.queryObject(),t=U(e);return"{}"===t?"default":t},e.prototype.isEqual=function(t){if(v.validateArgCount("Query.isEqual",1,1,arguments.length),!(t instanceof e))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");var n=this.repo===t.repo,r=this.path.equals(t.path),i=this.queryIdentifier()===t.queryIdentifier();return n&&r&&i},e.getCancelAndContextArgs_=function(e,t,n){var r={cancel:null,context:null};if(t&&n)r.cancel=t,v.validateCallback(e,3,r.cancel,!0),r.context=n,v.validateContextObject(e,4,r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error(v.errorPrefix(e,3,!0)+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),e}(),nt=function(){function e(){this.set={}}return e.prototype.add=function(e,t){this.set[e]=null===t||t},e.prototype.contains=function(e){return v.contains(this.set,e)},e.prototype.get=function(e){return this.contains(e)?this.set[e]:void 0},e.prototype.remove=function(e){delete this.set[e]},e.prototype.clear=function(){this.set={}},e.prototype.isEmpty=function(){return v.isEmpty(this.set)},e.prototype.count=function(){return v.getCount(this.set)},e.prototype.each=function(e){v.forEach(this.set,function(t,n){return e(t,n)})},e.prototype.keys=function(){var e=[];return v.forEach(this.set,function(t){e.push(t)}),e},e}(),rt=function(){function e(){this.value_=null,this.children_=null}return e.prototype.find=function(e){if(null!=this.value_)return this.value_.getChild(e);if(e.isEmpty()||null==this.children_)return null;var t=e.getFront();return e=e.popFront(),this.children_.contains(t)?this.children_.get(t).find(e):null},e.prototype.remember=function(t,n){if(t.isEmpty())this.value_=n,this.children_=null;else if(null!==this.value_)this.value_=this.value_.updateChild(t,n);else{null==this.children_&&(this.children_=new nt);var r=t.getFront();this.children_.contains(r)||this.children_.add(r,new e);var i=this.children_.get(r);t=t.popFront(),i.remember(t,n)}},e.prototype.forget=function(e){if(e.isEmpty())return this.value_=null,!(this.children_=null);if(null!==this.value_){if(this.value_.isLeafNode())return!1;var t=this.value_;this.value_=null;var n=this;return t.forEachChild(Oe,function(e,t){n.remember(new X(e),t)}),this.forget(e)}if(null===this.children_)return!0;var r=e.getFront();return e=e.popFront(),this.children_.contains(r)&&this.children_.get(r).forget(e)&&this.children_.remove(r),!!this.children_.isEmpty()&&!(this.children_=null)},e.prototype.forEachTree=function(e,t){null!==this.value_?t(e,this.value_):this.forEachChild(function(n,r){var i=new X(e.toString()+"/"+n);r.forEachTree(i,t)})},e.prototype.forEachChild=function(e){null!==this.children_&&this.children_.each(function(t,n){e(t,n)})},e}(),it=function(e,t){return e&&"object"==typeof e?(v.assert(".sv"in e,"Unexpected leaf node or priority contents"),t[e[".sv"]]):e},at=function(e,t){var n,r=e.getPriority().val(),i=it(r,t);if(e.isLeafNode()){var a=e,o=it(a.getValue(),t);return o!==a.getValue()||i!==a.getPriority().val()?new Ie(o,He(i)):e}var s=e;return i!==(n=s).getPriority().val()&&(n=n.updatePriority(new Ie(i))),s.forEachChild(Oe,function(e,r){var i=at(r,t);i!==r&&(n=n.updateImmediateChild(e,i))}),n};(Ke=We||(We={}))[Ke.OVERWRITE=0]="OVERWRITE",Ke[Ke.MERGE=1]="MERGE",Ke[Ke.ACK_USER_WRITE=2]="ACK_USER_WRITE",Ke[Ke.LISTEN_COMPLETE=3]="LISTEN_COMPLETE";var ot,st,lt=function(){function e(e,t,n,r){this.fromUser=e,this.fromServer=t,this.queryId=n,this.tagged=r,v.assert(!r||t,"Tagged queries must be from server.")}return e.User=new e(!0,!1,null,!1),e.Server=new e(!1,!0,null,!1),e.forServerTaggedQuery=function(t){return new e(!1,!0,t,!0)},e}(),ct=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=We.ACK_USER_WRITE,this.source=lt.User}return e.prototype.operationForChild=function(t){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return v.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new X(t));return new e(X.Empty,n,this.revert)}return v.assert(this.path.getFront()===t,"operationForChild called for unrelated child."),new e(this.path.popFront(),this.affectedTree,this.revert)},e}(),ut=function(){function e(e,t){void 0===t&&(ot||(ot=new Ne(V)),t=ot),this.value=e,this.children=t}return e.fromObject=function(t){var n=e.Empty;return v.forEach(t,function(e,t){n=n.set(new X(e),t)}),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:X.Empty,value:this.value};if(e.isEmpty())return null;var n=e.getFront(),r=this.children.get(n);if(null===r)return null;var i=r.findRootMostMatchingPathAndValue(e.popFront(),t);return null==i?null:{path:new X(n).child(i.path),value:i.value}},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,function(){return!0})},e.prototype.subtree=function(t){if(t.isEmpty())return this;var n=t.getFront(),r=this.children.get(n);return null!==r?r.subtree(t.popFront()):e.Empty},e.prototype.set=function(t,n){if(t.isEmpty())return new e(n,this.children);var r=t.getFront(),i=(this.children.get(r)||e.Empty).set(t.popFront(),n),a=this.children.insert(r,i);return new e(this.value,a)},e.prototype.remove=function(t){if(t.isEmpty())return this.children.isEmpty()?e.Empty:new e(null,this.children);var n=t.getFront(),r=this.children.get(n);if(r){var i=r.remove(t.popFront()),a=void 0;return a=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&a.isEmpty()?e.Empty:new e(this.value,a)}return this},e.prototype.get=function(e){if(e.isEmpty())return this.value;var t=e.getFront(),n=this.children.get(t);return n?n.get(e.popFront()):null},e.prototype.setTree=function(t,n){if(t.isEmpty())return n;var r,i=t.getFront(),a=(this.children.get(i)||e.Empty).setTree(t.popFront(),n);return r=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new e(this.value,r)},e.prototype.fold=function(e){return this.fold_(X.Empty,e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal(function(r,i){n[r]=i.fold_(e.child(r),t)}),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,X.Empty,t)},e.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(e.isEmpty())return null;var i=e.getFront(),a=this.children.get(i);return a?a.findOnPath_(e.popFront(),t.child(i),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,X.Empty,t)},e.prototype.foreachOnPath_=function(t,n,r){if(t.isEmpty())return this;this.value&&r(n,this.value);var i=t.getFront(),a=this.children.get(i);return a?a.foreachOnPath_(t.popFront(),n.child(i),r):e.Empty},e.prototype.foreach=function(e){this.foreach_(X.Empty,e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal(function(n,r){r.foreach_(e.child(n),t)}),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal(function(t,n){n.value&&e(t,n.value)})},e.Empty=new e(null),e}(),ht=function(){function e(e,t){this.source=e,this.path=t,this.type=We.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return this.path.isEmpty()?new e(this.source,X.Empty):new e(this.source,this.path.popFront())},e}(),dt=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=We.OVERWRITE}return e.prototype.operationForChild=function(t){return this.path.isEmpty()?new e(this.source,X.Empty,this.snap.getImmediateChild(t)):new e(this.source,this.path.popFront(),this.snap)},e}(),pt=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=We.MERGE}return e.prototype.operationForChild=function(t){if(this.path.isEmpty()){var n=this.children.subtree(new X(t));return n.isEmpty()?null:n.value?new dt(this.source,X.Empty,n.value):new e(this.source,X.Empty,n)}return v.assert(this.path.getFront()===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,this.path.popFront(),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),ft=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(e.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var t=e.getFront();return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}(),mt=function(){function e(e,t){this.eventCache_=e,this.serverCache_=t}return e.prototype.updateEventSnap=function(t,n,r){return new e(new ft(t,n,r),this.serverCache_)},e.prototype.updateServerSnap=function(t,n,r){return new e(this.eventCache_,new ft(t,n,r))},e.prototype.getEventCache=function(){return this.eventCache_},e.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},e.prototype.getServerCache=function(){return this.serverCache_},e.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},e.Empty=new e(new ft(Ve.EMPTY_NODE,!1,!1),new ft(Ve.EMPTY_NODE,!1,!1)),e}(),vt=function(){function e(e,t,n,r,i){this.type=e,this.snapshotNode=t,this.childName=n,this.oldSnap=r,this.prevName=i}return e.valueChange=function(t){return new e(e.VALUE,t)},e.childAddedChange=function(t,n){return new e(e.CHILD_ADDED,n,t)},e.childRemovedChange=function(t,n){return new e(e.CHILD_REMOVED,n,t)},e.childChangedChange=function(t,n,r){return new e(e.CHILD_CHANGED,n,t,r)},e.childMovedChange=function(t,n){return new e(e.CHILD_MOVED,n,t)},e.CHILD_ADDED="child_added",e.CHILD_REMOVED="child_removed",e.CHILD_CHANGED="child_changed",e.CHILD_MOVED="child_moved",e.VALUE="value",e}(),gt=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,r,i,a){v.assert(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var o=e.getImmediateChild(t);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()==n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(vt.childRemovedChange(t,o)):v.assert(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?a.trackChildChange(vt.childAddedChange(t,n)):a.trackChildChange(vt.childChangedChange(t,n,o))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Oe,function(e,r){t.hasChild(e)||n.trackChildChange(vt.childRemovedChange(e,r))}),t.isLeafNode()||t.forEachChild(Oe,function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(vt.childChangedChange(t,r,i))}else n.trackChildChange(vt.childAddedChange(t,r))})),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?Ve.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),yt=function(){function e(){this.changeMap_={}}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;v.assert(t==vt.CHILD_ADDED||t==vt.CHILD_CHANGED||t==vt.CHILD_REMOVED,"Only child changes supported for tracking"),v.assert(".priority"!==n,"Only non-priority child changes can be tracked.");var r=v.safeGet(this.changeMap_,n);if(r){var i=r.type;if(t==vt.CHILD_ADDED&&i==vt.CHILD_REMOVED)this.changeMap_[n]=vt.childChangedChange(n,e.snapshotNode,r.snapshotNode);else if(t==vt.CHILD_REMOVED&&i==vt.CHILD_ADDED)delete this.changeMap_[n];else if(t==vt.CHILD_REMOVED&&i==vt.CHILD_CHANGED)this.changeMap_[n]=vt.childRemovedChange(n,r.oldSnap);else if(t==vt.CHILD_CHANGED&&i==vt.CHILD_ADDED)this.changeMap_[n]=vt.childAddedChange(n,e.snapshotNode);else{if(t!=vt.CHILD_CHANGED||i!=vt.CHILD_CHANGED)throw v.assertionError("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap_[n]=vt.childChangedChange(n,e.snapshotNode,r.oldSnap)}}else this.changeMap_[n]=e},e.prototype.getChanges=function(){return v.getValues(this.changeMap_)},e}(),bt=new(function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}()),wt=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.getEventCache();if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new ft(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(e,n)},e.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),i=this.writes_.calcIndexedSlice(r,t,1,n,e);return 0===i.length?null:i[0]},e}(),Et=function(e,t){this.viewCache=e,this.changes=t},Ct=function(){function e(e){this.filter_=e}return e.prototype.assertIndexed=function(e){v.assert(e.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),v.assert(e.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},e.prototype.applyOperation=function(t,n,r,i){var a,o,s=new yt;if(n.type===We.OVERWRITE){var l=n;a=l.source.fromUser?this.applyUserOverwrite_(t,l.path,l.snap,r,i,s):(v.assert(l.source.fromServer,"Unknown source."),o=l.source.tagged||t.getServerCache().isFiltered()&&!l.path.isEmpty(),this.applyServerOverwrite_(t,l.path,l.snap,r,i,o,s))}else if(n.type===We.MERGE){var c=n;a=c.source.fromUser?this.applyUserMerge_(t,c.path,c.children,r,i,s):(v.assert(c.source.fromServer,"Unknown source."),o=c.source.tagged||t.getServerCache().isFiltered(),this.applyServerMerge_(t,c.path,c.children,r,i,o,s))}else if(n.type===We.ACK_USER_WRITE){var u=n;a=u.revert?this.revertUserWrite_(t,u.path,r,i,s):this.ackUserWrite_(t,u.path,u.affectedTree,r,i,s)}else{if(n.type!==We.LISTEN_COMPLETE)throw v.assertionError("Unknown operation type: "+n.type);a=this.listenComplete_(t,n.path,r,s)}var h=s.getChanges();return e.maybeAddValueEvent_(t,a,h),new Et(a,h)},e.maybeAddValueEvent_=function(e,t,n){var r=t.getEventCache();if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=e.getCompleteEventSnap();(0<n.length||!e.getEventCache().isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(vt.valueChange(t.getCompleteEventSnap()))}},e.prototype.generateEventCacheAfterServerEvent_=function(e,t,n,r,i){var a=e.getEventCache();if(null!=n.shadowingWrite(t))return e;var o=void 0,s=void 0;if(t.isEmpty())if(v.assert(e.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),e.getServerCache().isFiltered()){var l=e.getCompleteServerSnap(),c=l instanceof Ve?l:Ve.EMPTY_NODE,u=n.calcCompleteEventChildren(c);o=this.filter_.updateFullNode(e.getEventCache().getNode(),u,i)}else{var h=n.calcCompleteEventCache(e.getCompleteServerSnap());o=this.filter_.updateFullNode(e.getEventCache().getNode(),h,i)}else{var d=t.getFront();if(".priority"==d){v.assert(1==t.getLength(),"Can't have a priority with additional path components");var p=a.getNode();s=e.getServerCache().getNode();var f=n.calcEventCacheAfterServerOverwrite(t,p,s);o=null!=f?this.filter_.updatePriority(p,f):a.getNode()}else{var m=t.popFront(),g=void 0;if(a.isCompleteForChild(d)){s=e.getServerCache().getNode();var y=n.calcEventCacheAfterServerOverwrite(t,a.getNode(),s);g=null!=y?a.getNode().getImmediateChild(d).updateChild(m,y):a.getNode().getImmediateChild(d)}else g=n.calcCompleteChild(d,e.getServerCache());o=null!=g?this.filter_.updateChild(a.getNode(),d,g,m,r,i):a.getNode()}}return e.updateEventSnap(o,a.isFullyInitialized()||t.isEmpty(),this.filter_.filtersNodes())},e.prototype.applyServerOverwrite_=function(e,t,n,r,i,a,o){var s,l=e.getServerCache(),c=a?this.filter_:this.filter_.getIndexedFilter();if(t.isEmpty())s=c.updateFullNode(l.getNode(),n,null);else if(c.filtersNodes()&&!l.isFiltered()){var u=l.getNode().updateChild(t,n);s=c.updateFullNode(l.getNode(),u,null)}else{var h=t.getFront();if(!l.isCompleteForPath(t)&&1<t.getLength())return e;var d=t.popFront(),p=l.getNode().getImmediateChild(h).updateChild(d,n);s=".priority"==h?c.updatePriority(l.getNode(),p):c.updateChild(l.getNode(),h,p,d,bt,null)}var f=e.updateServerSnap(s,l.isFullyInitialized()||t.isEmpty(),c.filtersNodes()),m=new wt(r,f,i);return this.generateEventCacheAfterServerEvent_(f,t,r,m,o)},e.prototype.applyUserOverwrite_=function(e,t,n,r,i,a){var o,s,l=e.getEventCache(),c=new wt(r,e,i);if(t.isEmpty())s=this.filter_.updateFullNode(e.getEventCache().getNode(),n,a),o=e.updateEventSnap(s,!0,this.filter_.filtersNodes());else{var u=t.getFront();if(".priority"===u)s=this.filter_.updatePriority(e.getEventCache().getNode(),n),o=e.updateEventSnap(s,l.isFullyInitialized(),l.isFiltered());else{var h=t.popFront(),d=l.getNode().getImmediateChild(u),p=void 0;if(h.isEmpty())p=n;else{var f=c.getCompleteChild(u);p=null!=f?".priority"===h.getBack()&&f.getChild(h.parent()).isEmpty()?f:f.updateChild(h,n):Ve.EMPTY_NODE}if(d.equals(p))o=e;else{var m=this.filter_.updateChild(l.getNode(),u,p,h,c,a);o=e.updateEventSnap(m,l.isFullyInitialized(),this.filter_.filtersNodes())}}}return o},e.cacheHasChild_=function(e,t){return e.getEventCache().isCompleteForChild(t)},e.prototype.applyUserMerge_=function(t,n,r,i,a,o){var s=this,l=t;return r.foreach(function(r,c){var u=n.child(r);e.cacheHasChild_(t,u.getFront())&&(l=s.applyUserOverwrite_(l,u,c,i,a,o))}),r.foreach(function(r,c){var u=n.child(r);e.cacheHasChild_(t,u.getFront())||(l=s.applyUserOverwrite_(l,u,c,i,a,o))}),l},e.prototype.applyMerge_=function(e,t){return t.foreach(function(t,n){e=e.updateChild(t,n)}),e},e.prototype.applyServerMerge_=function(e,t,n,r,i,a,o){var s=this;if(e.getServerCache().getNode().isEmpty()&&!e.getServerCache().isFullyInitialized())return e;var l,c=e;l=t.isEmpty()?n:ut.Empty.setTree(t,n);var u=e.getServerCache().getNode();return l.children.inorderTraversal(function(t,n){if(u.hasChild(t)){var l=e.getServerCache().getNode().getImmediateChild(t),h=s.applyMerge_(l,n);c=s.applyServerOverwrite_(c,new X(t),h,r,i,a,o)}}),l.children.inorderTraversal(function(t,n){var l=!e.getServerCache().isCompleteForChild(t)&&null==n.value;if(!u.hasChild(t)&&!l){var h=e.getServerCache().getNode().getImmediateChild(t),d=s.applyMerge_(h,n);c=s.applyServerOverwrite_(c,new X(t),d,r,i,a,o)}}),c},e.prototype.ackUserWrite_=function(e,t,n,r,i,a){if(null!=r.shadowingWrite(t))return e;var o=e.getServerCache().isFiltered(),s=e.getServerCache();if(null!=n.value){if(t.isEmpty()&&s.isFullyInitialized()||s.isCompleteForPath(t))return this.applyServerOverwrite_(e,t,s.getNode().getChild(t),r,i,o,a);if(t.isEmpty()){var l=ut.Empty;return s.getNode().forEachChild(Te,function(e,t){l=l.set(new X(e),t)}),this.applyServerMerge_(e,t,l,r,i,o,a)}return e}var c=ut.Empty;return n.foreach(function(e,n){var r=t.child(e);s.isCompleteForPath(r)&&(c=c.set(e,s.getNode().getChild(r)))}),this.applyServerMerge_(e,t,c,r,i,o,a)},e.prototype.listenComplete_=function(e,t,n,r){var i=e.getServerCache(),a=e.updateServerSnap(i.getNode(),i.isFullyInitialized()||t.isEmpty(),i.isFiltered());return this.generateEventCacheAfterServerEvent_(a,t,n,bt,r)},e.prototype.revertUserWrite_=function(e,t,n,r,i){var a;if(null!=n.shadowingWrite(t))return e;var o=new wt(n,e,r),s=e.getEventCache().getNode(),l=void 0;if(t.isEmpty()||".priority"===t.getFront()){var c=void 0;if(e.getServerCache().isFullyInitialized())c=n.calcCompleteEventCache(e.getCompleteServerSnap());else{var u=e.getServerCache().getNode();v.assert(u instanceof Ve,"serverChildren would be complete if leaf node"),c=n.calcCompleteEventChildren(u)}c=c,l=this.filter_.updateFullNode(s,c,i)}else{var h=t.getFront(),d=n.calcCompleteChild(h,e.getServerCache());null==d&&e.getServerCache().isCompleteForChild(h)&&(d=s.getImmediateChild(h)),(l=null!=d?this.filter_.updateChild(s,h,d,t.popFront(),o,i):e.getEventCache().getNode().hasChild(h)?this.filter_.updateChild(s,h,Ve.EMPTY_NODE,t.popFront(),o,i):s).isEmpty()&&e.getServerCache().isFullyInitialized()&&(a=n.calcCompleteEventCache(e.getCompleteServerSnap())).isLeafNode()&&(l=this.filter_.updateFullNode(l,a,i))}return a=e.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(X.Empty),e.updateEventSnap(l,a,this.filter_.filtersNodes())},e}(),St=function(){function e(e){this.query_=e,this.index_=this.query_.getQueryParams().getIndex()}return e.prototype.generateEventsForChanges=function(e,t,n){var r=this,i=[],a=[];return e.forEach(function(e){e.type===vt.CHILD_CHANGED&&r.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&a.push(vt.childMovedChange(e.childName,e.snapshotNode))}),this.generateEventsForType_(i,vt.CHILD_REMOVED,e,n,t),this.generateEventsForType_(i,vt.CHILD_ADDED,e,n,t),this.generateEventsForType_(i,vt.CHILD_MOVED,a,n,t),this.generateEventsForType_(i,vt.CHILD_CHANGED,e,n,t),this.generateEventsForType_(i,vt.VALUE,e,n,t),i},e.prototype.generateEventsForType_=function(e,t,n,r,i){var a=this,o=n.filter(function(e){return e.type===t});o.sort(this.compareChanges_.bind(this)),o.forEach(function(t){var n=a.materializeSingleChange_(t,i);r.forEach(function(r){r.respondsTo(t.type)&&e.push(r.createEvent(n,a.query_))})})},e.prototype.materializeSingleChange_=function(e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,this.index_)),e},e.prototype.compareChanges_=function(e,t){if(null==e.childName||null==t.childName)throw v.assertionError("Should only compare child_ events.");var n=new Ce(e.childName,e.snapshotNode),r=new Ce(t.childName,t.snapshotNode);return this.index_.compare(n,r)},e}(),_t=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new gt(n.getIndex()),i=n.getNodeFilter();this.processor_=new Ct(i);var a=t.getServerCache(),o=t.getEventCache(),s=r.updateFullNode(Ve.EMPTY_NODE,a.getNode(),null),l=i.updateFullNode(Ve.EMPTY_NODE,o.getNode(),null),c=new ft(s,a.isFullyInitialized(),r.filtersNodes()),u=new ft(l,o.isFullyInitialized(),i.filtersNodes());this.viewCache_=new mt(u,c),this.eventGenerator_=new St(this.query_)}return e.prototype.getQuery=function(){return this.query_},e.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},e.prototype.getCompleteServerCache=function(e){var t=this.viewCache_.getCompleteServerSnap();return t&&(this.query_.getQueryParams().loadsAllData()||!e.isEmpty()&&!t.getImmediateChild(e.getFront()).isEmpty())?t.getChild(e):null},e.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},e.prototype.addEventRegistration=function(e){this.eventRegistrations_.push(e)},e.prototype.removeEventRegistration=function(e,t){var n=[];if(t){v.assert(null==e,"A cancel should cancel all event registrations.");var r=this.query_.path;this.eventRegistrations_.forEach(function(e){t=t;var i=e.createCancelEvent(t,r);i&&n.push(i)})}if(e){for(var i=[],a=0;a<this.eventRegistrations_.length;++a){var o=this.eventRegistrations_[a];if(o.matches(e)){if(e.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(a+1));break}}else i.push(o)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return n},e.prototype.applyOperation=function(e,t,n){e.type===We.MERGE&&null!==e.source.queryId&&(v.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),v.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,i=this.processor_.applyOperation(r,e,t,n);return this.processor_.assertIndexed(i.viewCache),v.assert(i.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=i.viewCache,this.generateEventsForChanges_(i.changes,i.viewCache.getEventCache().getNode(),null)},e.prototype.getInitialEvents=function(e){var t=this.viewCache_.getEventCache(),n=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(Oe,function(e,t){n.push(vt.childAddedChange(e,t))}),t.isFullyInitialized()&&n.push(vt.valueChange(t.getNode())),this.generateEventsForChanges_(n,t.getNode(),e)},e.prototype.generateEventsForChanges_=function(e,t,n){var r=n?[n]:this.eventRegistrations_;return this.eventGenerator_.generateEventsForChanges(e,t,r)},e}(),Tt=function(){function e(){this.views_={}}return Object.defineProperty(e,"__referenceConstructor",{get:function(){return v.assert(st,"Reference.ts has not been loaded"),st},set:function(e){v.assert(!st,"__referenceConstructor has already been defined"),st=e},enumerable:!0,configurable:!0}),e.prototype.isEmpty=function(){return v.isEmpty(this.views_)},e.prototype.applyOperation=function(e,t,n){var r=e.source.queryId;if(null!==r){var i=v.safeGet(this.views_,r);return v.assert(null!=i,"SyncTree gave us an op for an invalid query."),i.applyOperation(e,t,n)}var a=[];return v.forEach(this.views_,function(r,i){a=a.concat(i.applyOperation(e,t,n))}),a},e.prototype.addEventRegistration=function(e,t,n,r,i){var a=e.queryIdentifier(),o=v.safeGet(this.views_,a);if(!o){var s,l=n.calcCompleteEventCache(i?r:null);s=!!l||(l=r instanceof Ve?n.calcCompleteEventChildren(r):Ve.EMPTY_NODE,!1);var c=new mt(new ft(l,s,!1),new ft(r,i,!1));o=new _t(e,c),this.views_[a]=o}return o.addEventRegistration(t),o.getInitialEvents(t)},e.prototype.removeEventRegistration=function(t,n,r){var i=t.queryIdentifier(),a=[],o=[],s=this.hasCompleteView();if("default"===i){var l=this;v.forEach(this.views_,function(e,t){o=o.concat(t.removeEventRegistration(n,r)),t.isEmpty()&&(delete l.views_[e],t.getQuery().getQueryParams().loadsAllData()||a.push(t.getQuery()))})}else{var c=v.safeGet(this.views_,i);c&&(o=o.concat(c.removeEventRegistration(n,r)),c.isEmpty()&&(delete this.views_[i],c.getQuery().getQueryParams().loadsAllData()||a.push(c.getQuery())))}return s&&!this.hasCompleteView()&&a.push(new e.__referenceConstructor(t.repo,t.path)),{removed:a,events:o}},e.prototype.getQueryViews=function(){var e=this;return Object.keys(this.views_).map(function(t){return e.views_[t]}).filter(function(e){return!e.getQuery().getQueryParams().loadsAllData()})},e.prototype.getCompleteServerCache=function(e){var t=null;return v.forEach(this.views_,function(n,r){t=t||r.getCompleteServerCache(e)}),t},e.prototype.viewForQuery=function(e){if(e.getQueryParams().loadsAllData())return this.getCompleteView();var t=e.queryIdentifier();return v.safeGet(this.views_,t)},e.prototype.viewExistsForQuery=function(e){return null!=this.viewForQuery(e)},e.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},e.prototype.getCompleteView=function(){return v.findValue(this.views_,function(e){return e.getQuery().getQueryParams().loadsAllData()})||null},e}(),kt=function(){function e(e){this.writeTree_=e}return e.prototype.addWrite=function(t,n){if(t.isEmpty())return new e(new ut(n));var r=this.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,a=r.value,o=X.relativePath(i,t);return a=a.updateChild(o,n),new e(this.writeTree_.set(i,a))}var s=new ut(n);return new e(this.writeTree_.setTree(t,s))},e.prototype.addWrites=function(e,t){var n=this;return v.forEach(t,function(t,r){n=n.addWrite(e.child(t),r)}),n},e.prototype.removeWrite=function(t){return t.isEmpty()?e.Empty:new e(this.writeTree_.setTree(t,ut.Empty))},e.prototype.hasCompleteWrite=function(e){return null!=this.getCompleteNode(e)},e.prototype.getCompleteNode=function(e){var t=this.writeTree_.findRootMostValueAndPath(e);return null!=t?this.writeTree_.get(t.path).getChild(X.relativePath(t.path,e)):null},e.prototype.getCompleteChildren=function(){var e=[],t=this.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(Oe,function(t,n){e.push(new Ce(t,n))}):this.writeTree_.children.inorderTraversal(function(t,n){null!=n.value&&e.push(new Ce(t,n.value))}),e},e.prototype.childCompoundWrite=function(t){if(t.isEmpty())return this;var n=this.getCompleteNode(t);return new e(null!=n?new ut(n):this.writeTree_.subtree(t))},e.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},e.prototype.apply=function(t){return e.applySubtreeWrite_(X.Empty,this.writeTree_,t)},e.Empty=new e(new ut(null)),e.applySubtreeWrite_=function(t,n,r){if(null!=n.value)return r.updateChild(t,n.value);var i=null;return n.children.inorderTraversal(function(n,a){".priority"===n?(v.assert(null!==a.value,"Priority writes must always be leaf nodes"),i=a.value):r=e.applySubtreeWrite_(t.child(n),a,r)}),r.getChild(t).isEmpty()||null===i||(r=r.updateChild(t.child(".priority"),i)),r},e}(),xt=function(){function e(){this.visibleWrites_=kt.Empty,this.allWrites_=[],this.lastWriteId_=-1}return e.prototype.childWrites=function(e){return new It(e,this)},e.prototype.addOverwrite=function(e,t,n,r){v.assert(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:e,snap:t,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(e,t)),this.lastWriteId_=n},e.prototype.addMerge=function(e,t,n){v.assert(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:e,children:t,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(e,t),this.lastWriteId_=n},e.prototype.getWrite=function(e){for(var t=0;t<this.allWrites_.length;t++){var n=this.allWrites_[t];if(n.writeId===e)return n}return null},e.prototype.removeWrite=function(e){var t=this,n=this.allWrites_.findIndex(function(t){return t.writeId===e});v.assert(0<=n,"removeWrite called with nonexistent writeId.");var r=this.allWrites_[n];this.allWrites_.splice(n,1);for(var i=r.visible,a=!1,o=this.allWrites_.length-1;i&&0<=o;){var s=this.allWrites_[o];s.visible&&(n<=o&&this.recordContainsPath_(s,r.path)?i=!1:r.path.contains(s.path)&&(a=!0)),o--}if(i){if(a)return this.resetTree_(),!0;if(r.snap)this.visibleWrites_=this.visibleWrites_.removeWrite(r.path);else{var l=r.children;v.forEach(l,function(e){t.visibleWrites_=t.visibleWrites_.removeWrite(r.path.child(e))})}return!0}return!1},e.prototype.getCompleteWriteData=function(e){return this.visibleWrites_.getCompleteNode(e)},e.prototype.calcCompleteEventCache=function(t,n,r,i){if(r||i){var a=this.visibleWrites_.childCompoundWrite(t);if(!i&&a.isEmpty())return n;if(i||null!=n||a.hasCompleteWrite(X.Empty)){var o=e.layerTree_(this.allWrites_,function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(e.path.contains(t)||t.contains(e.path))},t);return c=n||Ve.EMPTY_NODE,o.apply(c)}return null}var s=this.visibleWrites_.getCompleteNode(t);if(null!=s)return s;var l=this.visibleWrites_.childCompoundWrite(t);if(l.isEmpty())return n;if(null!=n||l.hasCompleteWrite(X.Empty)){var c=n||Ve.EMPTY_NODE;return l.apply(c)}return null},e.prototype.calcCompleteEventChildren=function(e,t){var n=Ve.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(e);if(r)return r.isLeafNode()||r.forEachChild(Oe,function(e,t){n=n.updateImmediateChild(e,t)}),n;if(t){var i=this.visibleWrites_.childCompoundWrite(e);return t.forEachChild(Oe,function(e,t){var r=i.childCompoundWrite(new X(e)).apply(t);n=n.updateImmediateChild(e,r)}),i.getCompleteChildren().forEach(function(e){n=n.updateImmediateChild(e.name,e.node)}),n}return this.visibleWrites_.childCompoundWrite(e).getCompleteChildren().forEach(function(e){n=n.updateImmediateChild(e.name,e.node)}),n},e.prototype.calcEventCacheAfterServerOverwrite=function(e,t,n,r){v.assert(n||r,"Either existingEventSnap or existingServerSnap must exist");var i=e.child(t);if(this.visibleWrites_.hasCompleteWrite(i))return null;var a=this.visibleWrites_.childCompoundWrite(i);return a.isEmpty()?r.getChild(t):a.apply(r.getChild(t))},e.prototype.calcCompleteChild=function(e,t,n){var r=e.child(t),i=this.visibleWrites_.getCompleteNode(r);return null!=i?i:n.isCompleteForChild(t)?this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(t)):null},e.prototype.shadowingWrite=function(e){return this.visibleWrites_.getCompleteNode(e)},e.prototype.calcIndexedSlice=function(e,t,n,r,i,a){var o,s=this.visibleWrites_.childCompoundWrite(e),l=s.getCompleteNode(X.Empty);if(null!=l)o=l;else{if(null==t)return[];o=s.apply(t)}if((o=o.withIndex(a)).isEmpty()||o.isLeafNode())return[];for(var c=[],u=a.getCompare(),h=i?o.getReverseIteratorFrom(n,a):o.getIteratorFrom(n,a),d=h.getNext();d&&c.length<r;)0!==u(d,n)&&c.push(d),d=h.getNext();return c},e.prototype.recordContainsPath_=function(e,t){return e.snap?e.path.contains(t):!!v.findKey(e.children,function(n,r){return e.path.child(r).contains(t)})},e.prototype.resetTree_=function(){this.visibleWrites_=e.layerTree_(this.allWrites_,e.DefaultFilter_,X.Empty),0<this.allWrites_.length?this.lastWriteId_=this.allWrites_[this.allWrites_.length-1].writeId:this.lastWriteId_=-1},e.DefaultFilter_=function(e){return e.visible},e.layerTree_=function(e,t,n){for(var r=kt.Empty,i=0;i<e.length;++i){var a=e[i];if(t(a)){var o=a.path,s=void 0;if(a.snap)n.contains(o)?(s=X.relativePath(n,o),r=r.addWrite(s,a.snap)):o.contains(n)&&(s=X.relativePath(o,n),r=r.addWrite(X.Empty,a.snap.getChild(s)));else{if(!a.children)throw v.assertionError("WriteRecord should have .snap or .children");if(n.contains(o))s=X.relativePath(n,o),r=r.addWrites(s,a.children);else if(o.contains(n))if((s=X.relativePath(o,n)).isEmpty())r=r.addWrites(X.Empty,a.children);else{var l=v.safeGet(a.children,s.getFront());if(l){var c=l.getChild(s.popFront());r=r.addWrite(X.Empty,c)}}}}}return r},e}(),It=function(){function e(e,t){this.treePath_=e,this.writeTree_=t}return e.prototype.calcCompleteEventCache=function(e,t,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,e,t,n)},e.prototype.calcCompleteEventChildren=function(e){return this.writeTree_.calcCompleteEventChildren(this.treePath_,e)},e.prototype.calcEventCacheAfterServerOverwrite=function(e,t,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,e,t,n)},e.prototype.shadowingWrite=function(e){return this.writeTree_.shadowingWrite(this.treePath_.child(e))},e.prototype.calcIndexedSlice=function(e,t,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,e,t,n,r,i)},e.prototype.calcCompleteChild=function(e,t){return this.writeTree_.calcCompleteChild(this.treePath_,e,t)},e.prototype.child=function(t){return new e(this.treePath_.child(t),this.writeTree_)},e}(),Ot=function(){function e(e){this.listenProvider_=e,this.syncPointTree_=ut.Empty,this.pendingWriteTree_=new xt,this.tagToQueryMap_={},this.queryToTagMap_={}}return e.prototype.applyUserOverwrite=function(e,t,n,r){return this.pendingWriteTree_.addOverwrite(e,t,n,r),r?this.applyOperationToSyncPoints_(new dt(lt.User,e,t)):[]},e.prototype.applyUserMerge=function(e,t,n){this.pendingWriteTree_.addMerge(e,t,n);var r=ut.fromObject(t);return this.applyOperationToSyncPoints_(new pt(lt.User,e,r))},e.prototype.ackUserWrite=function(e,t){void 0===t&&(t=!1);var n=this.pendingWriteTree_.getWrite(e);if(this.pendingWriteTree_.removeWrite(e)){var r=ut.Empty;return null!=n.snap?r=r.set(X.Empty,!0):v.forEach(n.children,function(e,t){r=r.set(new X(e),t)}),this.applyOperationToSyncPoints_(new ct(n.path,r,t))}return[]},e.prototype.applyServerOverwrite=function(e,t){return this.applyOperationToSyncPoints_(new dt(lt.Server,e,t))},e.prototype.applyServerMerge=function(e,t){var n=ut.fromObject(t);return this.applyOperationToSyncPoints_(new pt(lt.Server,e,n))},e.prototype.applyListenComplete=function(e){return this.applyOperationToSyncPoints_(new ht(lt.Server,e))},e.prototype.applyTaggedQueryOverwrite=function(t,n,r){var i=this.queryKeyForTag_(r);if(null==i)return[];var a=e.parseQueryKey_(i),o=a.path,s=a.queryId,l=X.relativePath(o,t),c=new dt(lt.forServerTaggedQuery(s),l,n);return this.applyTaggedOperation_(o,c)},e.prototype.applyTaggedQueryMerge=function(t,n,r){var i=this.queryKeyForTag_(r);if(i){var a=e.parseQueryKey_(i),o=a.path,s=a.queryId,l=X.relativePath(o,t),c=ut.fromObject(n),u=new pt(lt.forServerTaggedQuery(s),l,c);return this.applyTaggedOperation_(o,u)}return[]},e.prototype.applyTaggedListenComplete=function(t,n){var r=this.queryKeyForTag_(n);if(r){var i=e.parseQueryKey_(r),a=i.path,o=i.queryId,s=X.relativePath(a,t),l=new ht(lt.forServerTaggedQuery(o),s);return this.applyTaggedOperation_(a,l)}return[]},e.prototype.addEventRegistration=function(t,n){var r=t.path,i=null,a=!1;this.syncPointTree_.foreachOnPath(r,function(e,t){var n=X.relativePath(e,r);i=i||t.getCompleteServerCache(n),a=a||t.hasCompleteView()});var o,s=this.syncPointTree_.get(r);s?(a=a||s.hasCompleteView(),i=i||s.getCompleteServerCache(X.Empty)):(s=new Tt,this.syncPointTree_=this.syncPointTree_.set(r,s)),null!=i?o=!0:(o=!1,i=Ve.EMPTY_NODE,this.syncPointTree_.subtree(r).foreachChild(function(e,t){var n=t.getCompleteServerCache(X.Empty);n&&(i=i.updateImmediateChild(e,n))}));var l=s.viewExistsForQuery(t);if(!l&&!t.getQueryParams().loadsAllData()){var c=e.makeQueryKey_(t);v.assert(!(c in this.queryToTagMap_),"View does not exist, but we have a tag");var u=e.getNextQueryTag_();this.queryToTagMap_[c]=u,this.tagToQueryMap_["_"+u]=c}var h=this.pendingWriteTree_.childWrites(r),d=s.addEventRegistration(t,n,h,i,o);if(!l&&!a){var p=s.viewForQuery(t);d=d.concat(this.setupListener_(t,p))}return d},e.prototype.removeEventRegistration=function(t,n,r){var i=this,a=t.path,o=this.syncPointTree_.get(a),s=[];if(o&&("default"===t.queryIdentifier()||o.viewExistsForQuery(t))){var l=o.removeEventRegistration(t,n,r);o.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(a));var c=l.removed;s=l.events;var u=-1!==c.findIndex(function(e){return e.getQueryParams().loadsAllData()}),h=this.syncPointTree_.findOnPath(a,function(e,t){return t.hasCompleteView()});if(u&&!h){var d=this.syncPointTree_.subtree(a);if(!d.isEmpty())for(var p=this.collectDistinctViewsForSubTree_(d),f=0;f<p.length;++f){var m=p[f],v=m.getQuery(),g=this.createListenerForView_(m);this.listenProvider_.startListening(e.queryForListening_(v),this.tagForQuery_(v),g.hashFn,g.onComplete)}}!h&&0<c.length&&!r&&(u?this.listenProvider_.stopListening(e.queryForListening_(t),null):c.forEach(function(t){var n=i.queryToTagMap_[e.makeQueryKey_(t)];i.listenProvider_.stopListening(e.queryForListening_(t),n)})),this.removeTags_(c)}return s},e.prototype.calcCompleteEventCache=function(e,t){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(e,function(t,n){var r=X.relativePath(t,e),i=n.getCompleteServerCache(r);if(i)return i});return n.calcCompleteEventCache(e,r,t,!0)},e.prototype.collectDistinctViewsForSubTree_=function(e){return e.fold(function(e,t,n){if(t&&t.hasCompleteView())return[t.getCompleteView()];var r=[];return t&&(r=t.getQueryViews()),v.forEach(n,function(e,t){r=r.concat(t)}),r})},e.prototype.removeTags_=function(t){for(var n=0;n<t.length;++n){var r=t[n];if(!r.getQueryParams().loadsAllData()){var i=e.makeQueryKey_(r),a=this.queryToTagMap_[i];delete this.queryToTagMap_[i],delete this.tagToQueryMap_["_"+a]}}},e.queryForListening_=function(e){return e.getQueryParams().loadsAllData()&&!e.getQueryParams().isDefault()?e.getRef():e},e.prototype.setupListener_=function(t,n){var r=t.path,i=this.tagForQuery_(t),a=this.createListenerForView_(n),o=this.listenProvider_.startListening(e.queryForListening_(t),i,a.hashFn,a.onComplete),s=this.syncPointTree_.subtree(r);if(i)v.assert(!s.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var l=s.fold(function(e,t,n){if(!e.isEmpty()&&t&&t.hasCompleteView())return[t.getCompleteView().getQuery()];var r=[];return t&&(r=r.concat(t.getQueryViews().map(function(e){return e.getQuery()}))),v.forEach(n,function(e,t){r=r.concat(t)}),r}),c=0;c<l.length;++c){var u=l[c];this.listenProvider_.stopListening(e.queryForListening_(u),this.tagForQuery_(u))}return o},e.prototype.createListenerForView_=function(e){var t=this,n=e.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(e.getServerCache()||Ve.EMPTY_NODE).hash()},onComplete:function(e){if("ok"===e)return r?t.applyTaggedListenComplete(n.path,r):t.applyListenComplete(n.path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==e?n="Client doesn't have permission to access the desired data.":"unavailable"==e&&(n="The service is unavailable");var r=new Error(e+" at "+t.path.toString()+": "+n);return r.code=e.toUpperCase(),r}(e,n);return t.removeEventRegistration(n,null,i)}}},e.makeQueryKey_=function(e){return e.path.toString()+"$"+e.queryIdentifier()},e.parseQueryKey_=function(e){var t=e.indexOf("$");return v.assert(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new X(e.substr(0,t))}},e.prototype.queryKeyForTag_=function(e){return this.tagToQueryMap_["_"+e]},e.prototype.tagForQuery_=function(t){var n=e.makeQueryKey_(t);return v.safeGet(this.queryToTagMap_,n)},e.getNextQueryTag_=function(){return e.nextQueryTag_++},e.prototype.applyTaggedOperation_=function(e,t){var n=this.syncPointTree_.get(e);v.assert(n,"Missing sync point for query tag that we're tracking");var r=this.pendingWriteTree_.childWrites(e);return n.applyOperation(t,r,null)},e.prototype.applyOperationToSyncPoints_=function(e){return this.applyOperationHelper_(e,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(X.Empty))},e.prototype.applyOperationHelper_=function(e,t,n,r){if(e.path.isEmpty())return this.applyOperationDescendantsHelper_(e,t,n,r);var i=t.get(X.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(X.Empty));var a=[],o=e.path.getFront(),s=e.operationForChild(o),l=t.children.get(o);if(l&&s){var c=n?n.getImmediateChild(o):null,u=r.child(o);a=a.concat(this.applyOperationHelper_(s,l,c,u))}return i&&(a=a.concat(i.applyOperation(e,r,n))),a},e.prototype.applyOperationDescendantsHelper_=function(e,t,n,r){var i=this,a=t.get(X.Empty);null==n&&null!=a&&(n=a.getCompleteServerCache(X.Empty));var o=[];return t.children.inorderTraversal(function(t,a){var s=n?n.getImmediateChild(t):null,l=r.child(t),c=e.operationForChild(t);c&&(o=o.concat(i.applyOperationDescendantsHelper_(c,a,s,l)))}),a&&(o=o.concat(a.applyOperation(e,r,n))),o},e.nextQueryTag_=1,e}(),Pt=function(){function e(){this.rootNode_=Ve.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}(),At=function(){function e(e){this.app_=e}return e.prototype.getToken=function(e){return this.app_.INTERNAL.getToken(e).then(null,function(e){return e&&"auth/token-not-initialized"===e.code?(D("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})},e.prototype.addTokenChangeListener=function(e){this.app_.INTERNAL.addAuthTokenListener(e)},e.prototype.removeTokenChangeListener=function(e){this.app_.INTERNAL.removeAuthTokenListener(e)},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.app_.options?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',L(e)},e}(),Dt=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),v.contains(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return v.deepCopy(this.counters_)},e}(),Nt=function(){function e(){}return e.getCollection=function(e){var t=e.toString();return this.collections_[t]||(this.collections_[t]=new Dt),this.collections_[t]},e.getOrCreateReporter=function(e,t){var n=e.toString();return this.reporters_[n]||(this.reporters_[n]=t()),this.reporters_[n]},e.collections_={},e.reporters_={},e}(),Mt=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=v.clone(e);return this.last_&&v.forEach(this.last_,function(e,n){t[e]=t[e]-n}),this.last_=e,t},e}(),Rt=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Mt(e);var n=1e4+2e4*Math.random();Y(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.includeStat=function(e){this.statsToReport_[e]=!0},e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;v.forEach(t,function(t,i){0<i&&v.contains(e.statsToReport_,t)&&(n[t]=i,r=!0)}),r&&this.server_.reportStats(n),Y(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},e}(),Lt=function(){function e(){this.eventLists_=[],this.recursionDepth_=0}return e.prototype.queueEvents=function(e){for(var t=null,n=0;n<e.length;n++){var r=e[n],i=r.getPath();null===t||i.equals(t.getPath())||(this.eventLists_.push(t),t=null),null===t&&(t=new Ft(i)),t.add(r)}t&&this.eventLists_.push(t)},e.prototype.raiseEventsAtPath=function(e,t){this.queueEvents(t),this.raiseQueuedEventsMatchingPredicate_(function(t){return t.equals(e)})},e.prototype.raiseEventsForChangedPath=function(e,t){this.queueEvents(t),this.raiseQueuedEventsMatchingPredicate_(function(t){return t.contains(e)||e.contains(t)})},e.prototype.raiseQueuedEventsMatchingPredicate_=function(e){this.recursionDepth_++;for(var t=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];r&&(e(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):t=!1)}t&&(this.eventLists_=[]),this.recursionDepth_--},e}(),Ft=function(){function e(e){this.path_=e,this.events_=[]}return e.prototype.add=function(e){this.events_.push(e)},e.prototype.raise=function(){for(var e=0;e<this.events_.length;e++){var t=this.events_[e];if(null!==t){this.events_[e]=null;var n=t.getEventRunner();O&&D("event: "+t.toString()),Q(n)}}},e.prototype.getPath=function(){return this.path_},e}(),Bt=function(){function e(e){this.allowedEvents_=e,this.listeners_={},v.assert(Array.isArray(e)&&0<e.length,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=this.listeners_[e].slice(),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},e.prototype.validateEventType_=function(e){v.assert(this.allowedEvents_.find(function(t){return t===e}),"Unknown event: "+e)},e}(),jt=function(e){function t(){var t,n,r=e.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",t="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",t="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,function(){var e=!document[t];e!==r.visible_&&(r.visible_=e,r.trigger("visible",e))},!1),r}return y.__extends(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return v.assert("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(Bt),$t=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||v.isMobileCordova()||(window.addEventListener("online",function(){t.online_||(t.online_=!0,t.trigger("online",!0))},!1),window.addEventListener("offline",function(){t.online_&&(t.online_=!1,t.trigger("online",!1))},!1)),t}return y.__extends(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return v.assert("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(Bt),Vt=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var t=function(t){e[t]&&Q(function(){n.onMessage_(e[t])})},r=0;r<e.length;++r)t(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},e}(),qt=function(){function e(e,t,n,r){this.connId=e,this.repoInfo=t,this.transportSessionId=n,this.lastSessionId=r,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=N(e),this.stats_=Nt.getCollection(t),this.urlFn=function(e){return t.connectionURL(ee,e)}}return e.prototype.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Vt(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null},Math.floor(3e4)),function(e){if(v.isNodeSdk()||"complete"===document.readyState)e();else{var t=!1,n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(function(){if(!n.isClosed_){n.scriptTagHolder=new Ut(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[0],i=e[1],a=e[2];if(n.incrementIncomingBytes_(e),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"==r)n.id=i,n.password=a;else{if("close"!==r)throw new Error("Unrecognized command received: "+r);i?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(i,function(){n.onClosed_()})):n.onClosed_()}},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[0],i=e[1];n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(r,i)},function(){n.onClosed_()},n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),!v.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf(Z)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,function(){})}})},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return e.forceAllow_||!e.forceDisallow_&&"undefined"!=typeof document&&null!=document.createElement&&!("object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"==typeof Windows&&"object"==typeof Windows.UI)&&!v.isNodeSdk()},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=v.stringify(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=v.base64Encode(t),r=H(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){if(!v.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},e.prototype.incrementIncomingBytes_=function(e){var t=v.stringify(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),Ut=function(){function e(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new nt,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,v.isNodeSdk())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=k(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(a='<script>document.domain="'+document.domain+'";<\/script>');var o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(t){D("frame writing exception"),t.stack&&D(t.stack),D(t)}}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||D("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var t=this;if(this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)},Math.floor(0))),v.isNodeSdk()&&this.myID){var n={disconn:"t"};n.id=this.myID,n.pw=this.myPW;var r=this.urlFn(n);e.nodeRestRequest(r)}var i=this.onDisconnect;i&&(this.onDisconnect=null,i())},e.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.count()<(0<this.pendingSegs.length?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;0<this.pendingSegs.length&&this.pendingSegs[0].d.length+30+n.length<=1870;){var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t,1);var r=function(){n.outstandingRequests.remove(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,function(){clearTimeout(i),r()})},e.prototype.addTag=function(e,t){var n=this;v.isNodeSdk()?this.doNodeLongPoll(e,t):setTimeout(function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){D("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(e){}},Math.floor(1))},e}(),Ht=null;
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */"undefined"!=typeof MozWebSocket?Ht=MozWebSocket:"undefined"!=typeof WebSocket&&(Ht=WebSocket);var zt=function(){function e(t,n,r,i){this.connId=t,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=N(this.connId),this.stats_=Nt.getCollection(n),this.connURL=e.connectionURL_(n,r,i)}return e.connectionURL_=function(e,t,n){var r={v:"5"};return!v.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf(Z)&&(r.r="f"),t&&(r.s=t),n&&(r.ls=n),e.connectionURL("websocket",r)},e.prototype.open=function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,S.set("previous_websocket_failure",!0);try{if(v.isNodeSdk()){var i=v.CONSTANTS.NODE_ADMIN?"AdminNode":"Node",a={headers:{"User-Agent":"Firebase/5/"+b.SDK_VERSION+"/"+r.platform+"/"+i}},o=r.env,s=0==this.connURL.indexOf("wss://")?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;s&&(a.proxy={origin:s}),this.mySock=new Ht(this.connURL,[],a)}else this.mySock=new Ht(this.connURL)}catch(e){this.log_("Error instantiating WebSocket.");var l=e.message||e.data;return l&&this.log_(l),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&1<n.length&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==Ht&&!e.forceDisallow_},e.previouslyFailed=function(){return S.isInMemoryStorage||!0===S.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){S.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length==this.totalFrames){var t=this.frames.join("");this.frames=null;var n=v.jsonEval(t);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},e.prototype.extractFrameCount_=function(e){if(v.assert(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},e.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(e){this.resetKeepAlive();var t=v.stringify(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=H(t,16384);1<n.length&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()},Math.floor(45e3))},e.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),Wt=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[qt,zt]},enumerable:!0,configurable:!0}),e.prototype.initTransports_=function(t){var n=zt&&zt.isAvailable(),r=n&&!zt.previouslyFailed();if(t.webSocketOnly&&(n||L("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[zt];else{var i=this.transports_=[];z(e.ALL_TRANSPORTS,function(e,t){t&&t.isAvailable()&&i.push(t)})}},e.prototype.initialTransport=function(){if(0<this.transports_.length)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return 1<this.transports_.length?this.transports_[1]:null},e}(),Kt=function(){function e(e,t,n,r,i,a,o){this.id=e,this.repoInfo_=t,this.onMessage_=n,this.onReady_=r,this.onDisconnect_=i,this.onKill_=a,this.lastSessionId=o,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=N("c:"+this.id+":"),this.transportManager_=new Wt(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,void 0,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){e.conn_&&e.conn_.open(n,r)},Math.floor(0));var i=t.healthyTimeout||0;0<i&&(this.healthyTimeout_=Y(function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&102400<e.conn_.bytesReceived?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&10240<e.conn_.bytesSent?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))},Math.floor(i)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!=t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){var t={t:"d",d:e};this.sendData_(t)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=q("t",e),n=q("d",e);if("c"==t)this.onSecondaryControl_(n);else{if("d"!=t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=q("t",e),n=q("d",e);"c"==t?this.onControl_(n):"d"==t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(e){var t=q("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?M("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):M("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.updateHost(r),0==this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&L("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Y(function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())},Math.floor(6e4))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.updateHost(e),1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Y(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(S.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),Gt=function(){function e(){}return e.prototype.put=function(e,t,n,r){},e.prototype.merge=function(e,t,n,r){},e.prototype.refreshAuthToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}(),Qt=function(e){function t(n,r,i,a,o,s){var l=e.call(this)||this;if(l.repoInfo_=n,l.onDataUpdate_=r,l.onConnectStatus_=i,l.onServerInfoUpdate_=a,l.authTokenProvider_=o,l.authOverride_=s,l.id=t.nextPersistentConnectionId_++,l.log_=N("p:"+l.id+":"),l.interruptReasons_={},l.listens_={},l.outstandingPuts_=[],l.outstandingPutCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=1e3,l.maxReconnectDelay_=3e5,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,s&&!v.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return l.scheduleConnect_(0),jt.getInstance().on("visible",l.onVisible_,l),-1===n.host.indexOf("fblocal")&&$t.getInstance().on("online",l.onOnline_,l),l}return y.__extends(t,e),t.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(v.stringify(i)),v.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},t.prototype.listen=function(e,t,n,r){var i=e.queryIdentifier(),a=e.path.toString();this.log_("Listen called for "+a+" "+i),this.listens_[a]=this.listens_[a]||{},v.assert(e.getQueryParams().isDefault()||!e.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),v.assert(!this.listens_[a][i],"listen() called twice for same path/queryId.");var o={onComplete:r,hashFn:t,query:e,tag:n};this.listens_[a][i]=o,this.connected_&&this.sendListen_(o)},t.prototype.sendListen_=function(e){var n=this,r=e.query,i=r.path.toString(),a=r.queryIdentifier();this.log_("Listen on "+i+" for "+a);var o={p:i};e.tag&&(o.q=r.queryObject(),o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,function(o){var s=o.d,l=o.s;t.warnOnListenWarnings_(s,r),(n.listens_[i]&&n.listens_[i][a])===e&&(n.log_("listen response",o),"ok"!==l&&n.removeListen_(i,a),e.onComplete&&e.onComplete(l,s))})},t.warnOnListenWarnings_=function(e,t){if(e&&"object"==typeof e&&v.contains(e,"w")){var n=v.safeGet(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t.getQueryParams().getIndex().toString()+'"',i=t.path.toString();L("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){(e&&40===e.length||v.isAdmin(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},t.prototype.tryAuth=function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=v.isValidFormat(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))})}},t.prototype.unlisten=function(e,t){var n=e.path.toString(),r=e.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),v.assert(e.getQueryParams().isDefault()||!e.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e.queryObject(),t)},t.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},t.prototype.onDisconnectPut=function(e,t,n){this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,function(e){r&&setTimeout(function(){r(e.s,e.d)},Math.floor(0))})},t.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},t.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},t.prototype.putInternal=function(e,t,n,r,i){var a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)})},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}})}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+v.stringify(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):M("Unrecognized action received from server: "+v.stringify(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;v.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){t.establishConnectionTimer_=null,t.establishConnection_()},Math.floor(e))},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(3e4<(new Date).getTime()-this.lastConnectionEstablishedTime_&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+t.nextConnectionId_++,a=this,o=this.lastSessionId,s=!1,l=null,c=function(){l?l.close():(s=!0,r())};this.realtime_={close:c,sendRequest:function(e){v.assert(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(e)}};var u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(u).then(function(t){s?D("getToken() completed but was canceled"):(D("getToken() completed. Creating connection."),a.authToken_=t&&t.accessToken,l=new Kt(i,a.repoInfo_,e,n,r,function(e){L(e+" ("+a.repoInfo_.toString()+")"),a.interrupt("server_kill")},o))}).then(null,function(e){a.log_("Failed to get token: "+e),s||(v.CONSTANTS.NODE_ADMIN&&L(e),c())})}},t.prototype.interrupt=function(e){D("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){D("Resuming connection for reason: "+e),delete this.interruptReasons_[e],v.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map(function(e){return U(e)}).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,r=new X(e).toString();return void 0!==this.listens_[r]?(n=this.listens_[r][t],delete this.listens_[r][t],0===v.getCount(this.listens_[r])&&delete this.listens_[r]):n=void 0,n},t.prototype.onAuthRevoked_=function(e,t){D("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,3<=this.invalidAuthTokenCount_&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e=this;this.tryAuth(),v.forEach(this.listens_,function(t,n){v.forEach(n,function(t,n){e.sendListen_(n)})});for(var t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){var n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}},t.prototype.sendConnectStats_=function(){var e={},t="js";v.CONSTANTS.NODE_ADMIN?t="admin_node":v.CONSTANTS.NODE_CLIENT&&(t="node"),e["sdk."+t+"."+b.SDK_VERSION.replace(/\./g,"-")]=1,v.isMobileCordova()?e["framework.cordova"]=1:v.isReactNative()&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=$t.getInstance().currentlyOnline();return v.isEmpty(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(Gt),Yt=function(e){function t(t,n,r){var i=e.call(this)||this;return i.repoInfo_=t,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=N("p:rest:"),i.listens_={},i}return y.__extends(t,e),t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:(v.assert(e.getQueryParams().isDefault(),"should have a tag if it's not a default query."),e.path.toString())},t.prototype.listen=function(e,n,r,i){var a=this,o=e.path.toString();this.log_("Listen called for "+o+" "+e.queryIdentifier());var s=t.getListenId_(e,r),l={};this.listens_[s]=l;var c=e.getQueryParams().toRestQueryStringParameters();this.restRequest_(o+".json",c,function(e,t){var n=t;404===e&&(e=n=null),null===e&&a.onDataUpdate_(o,n,!1,r),v.safeGet(a.listens_,s)===l&&i(e?401==e?"permission_denied":"rest_error:"+e:"ok",null)})},t.prototype.unlisten=function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var r=this;void 0===t&&(t={}),t.format="export",this.authTokenProvider_.getToken(!1).then(function(i){var a=i&&i.accessToken;a&&(t.auth=a);var o=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?ns="+r.repoInfo_.namespace+v.querystring(t);r.log_("Sending REST request for "+o);var s=new XMLHttpRequest;s.onreadystatechange=function(){if(n&&4===s.readyState){r.log_("REST Response for "+o+" received. status:",s.status,"response:",s.responseText);var e=null;if(200<=s.status&&s.status<300){try{e=v.jsonEval(s.responseText)}catch(e){L("Failed to parse JSON response for "+o+": "+s.responseText)}n(null,e)}else 401!==s.status&&404!==s.status&&L("Got unsuccessful REST response for "+o+" Status: "+s.status),n(s.status);n=null}},s.open("GET",o,!0),s.send()})},t}(Gt),Xt="repo_interrupt",Jt=function(){function e(e,t,n){var r=this;this.repoInfo_=e,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Lt,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new rt,this.persistentConnection_=null;var i=new At(n);if(this.stats_=Nt.getCollection(e),t||0<=("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i))this.server_=new Yt(this.repoInfo_,this.onDataUpdate_.bind(this),i),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var a=n.options.databaseAuthVariableOverride;if(null!=a){if("object"!=typeof a)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{v.stringify(a)}catch(e){throw new Error("Invalid authOverride provided: "+e)}}this.persistentConnection_=new Qt(this.repoInfo_,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),i,a),this.server_=this.persistentConnection_}i.addTokenChangeListener(function(e){r.server_.refreshAuthToken(e)}),this.statsReporter_=Nt.getOrCreateReporter(e,function(){return new Rt(r.stats_,r.server_)}),this.transactions_init_(),this.infoData_=new Pt,this.infoSyncTree_=new Ot({startListening:function(e,t,n,i){var a=[],o=r.infoData_.getNode(e.path);return o.isEmpty()||(a=r.infoSyncTree_.applyServerOverwrite(e.path,o),setTimeout(function(){i("ok")},0)),a},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new Ot({startListening:function(e,t,n,i){return r.server_.listen(e,n,t,function(t,n){var a=i(t,n);r.eventQueue_.raiseEventsForChangedPath(e.path,a)}),[]},stopListening:function(e,t){r.server_.unlisten(e,t)}})}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e.prototype.name=function(){return this.repoInfo_.namespace},e.prototype.serverTime=function(){var e=this.infoData_.getNode(new X(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e},e.prototype.generateServerValues=function(){return(e=(e={timestamp:this.serverTime()})||{}).timestamp=e.timestamp||(new Date).getTime(),e;var e},e.prototype.onDataUpdate_=function(e,t,n,r){this.dataUpdateCount++;var i=new X(e);t=this.interceptServerDataCallback_?this.interceptServerDataCallback_(e,t):t;var a=[];if(r)if(n){var o=v.map(t,function(e){return He(e)});a=this.serverSyncTree_.applyTaggedQueryMerge(i,o,r)}else{var s=He(t);a=this.serverSyncTree_.applyTaggedQueryOverwrite(i,s,r)}else if(n){var l=v.map(t,function(e){return He(e)});a=this.serverSyncTree_.applyServerMerge(i,l)}else{var c=He(t);a=this.serverSyncTree_.applyServerOverwrite(i,c)}var u=i;0<a.length&&(u=this.rerunTransactions_(i)),this.eventQueue_.raiseEventsForChangedPath(u,a)},e.prototype.interceptServerData_=function(e){this.interceptServerDataCallback_=e},e.prototype.onConnectStatus_=function(e){this.updateInfo_("connected",e),!1===e&&this.runOnDisconnectEvents_()},e.prototype.onServerInfoUpdate_=function(e){var t=this;z(e,function(e,n){t.updateInfo_(n,e)})},e.prototype.updateInfo_=function(e,t){var n=new X("/.info/"+e),r=He(t);this.infoData_.updateSnapshot(n,r);var i=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,i)},e.prototype.getNextWriteId_=function(){return this.nextWriteId_++},e.prototype.setWithPriority=function(e,t,n,r){var i=this;this.log_("set",{path:e.toString(),value:t,priority:n});var a=this.generateServerValues(),o=He(t,n),s=at(o,a),l=this.getNextWriteId_(),c=this.serverSyncTree_.applyUserOverwrite(e,s,l,!0);this.eventQueue_.queueEvents(c),this.server_.put(e.toString(),o.val(!0),function(t,n){var a="ok"===t;a||L("set at "+e+" failed: "+t);var o=i.serverSyncTree_.ackUserWrite(l,!a);i.eventQueue_.raiseEventsForChangedPath(e,o),i.callOnCompleteCallback(r,t,n)});var u=this.abortTransactions_(e);this.rerunTransactions_(u),this.eventQueue_.raiseEventsForChangedPath(u,[])},e.prototype.update=function(e,t,n){var r=this;this.log_("update",{path:e.toString(),value:t});var i=!0,a=this.generateServerValues(),o={};if(v.forEach(t,function(e,t){i=!1;var n=He(t);o[e]=at(n,a)}),i)D("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var s=this.getNextWriteId_(),l=this.serverSyncTree_.applyUserMerge(e,o,s);this.eventQueue_.queueEvents(l),this.server_.merge(e.toString(),t,function(t,i){var a="ok"===t;a||L("update at "+e+" failed: "+t);var o=r.serverSyncTree_.ackUserWrite(s,!a),l=0<o.length?r.rerunTransactions_(e):e;r.eventQueue_.raiseEventsForChangedPath(l,o),r.callOnCompleteCallback(n,t,i)}),v.forEach(t,function(t){var n=r.abortTransactions_(e.child(t));r.rerunTransactions_(n)}),this.eventQueue_.raiseEventsForChangedPath(e,[])}},e.prototype.runOnDisconnectEvents_=function(){var e=this;this.log_("onDisconnectEvents");var t,n,r,i=this.generateServerValues(),a=(t=this.onDisconnect_,n=i,r=new rt,t.forEachTree(new X(""),function(e,t){r.remember(e,at(t,n))}),r),o=[];a.forEachTree(X.Empty,function(t,n){o=o.concat(e.serverSyncTree_.applyServerOverwrite(t,n));var r=e.abortTransactions_(t);e.rerunTransactions_(r)}),this.onDisconnect_=new rt,this.eventQueue_.raiseEventsForChangedPath(X.Empty,o)},e.prototype.onDisconnectCancel=function(e,t){var n=this;this.server_.onDisconnectCancel(e.toString(),function(r,i){"ok"===r&&n.onDisconnect_.forget(e),n.callOnCompleteCallback(t,r,i)})},e.prototype.onDisconnectSet=function(e,t,n){var r=this,i=He(t);this.server_.onDisconnectPut(e.toString(),i.val(!0),function(t,a){"ok"===t&&r.onDisconnect_.remember(e,i),r.callOnCompleteCallback(n,t,a)})},e.prototype.onDisconnectSetWithPriority=function(e,t,n,r){var i=this,a=He(t,n);this.server_.onDisconnectPut(e.toString(),a.val(!0),function(t,n){"ok"===t&&i.onDisconnect_.remember(e,a),i.callOnCompleteCallback(r,t,n)})},e.prototype.onDisconnectUpdate=function(e,t,n){var r=this;if(v.isEmpty(t))return D("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(e.toString(),t,function(i,a){"ok"===i&&v.forEach(t,function(t,n){var i=He(n);r.onDisconnect_.remember(e.child(t),i)}),r.callOnCompleteCallback(n,i,a)})},e.prototype.addEventCallbackForQuery=function(e,t){var n;n=".info"===e.path.getFront()?this.infoSyncTree_.addEventRegistration(e,t):this.serverSyncTree_.addEventRegistration(e,t),this.eventQueue_.raiseEventsAtPath(e.path,n)},e.prototype.removeEventCallbackForQuery=function(e,t){var n;n=".info"===e.path.getFront()?this.infoSyncTree_.removeEventRegistration(e,t):this.serverSyncTree_.removeEventRegistration(e,t),this.eventQueue_.raiseEventsAtPath(e.path,n)},e.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt(Xt)},e.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume(Xt)},e.prototype.stats=function(e){if(void 0===e&&(e=!1),"undefined"!=typeof console){var t;t=e?(this.statsListener_||(this.statsListener_=new Mt(this.stats_)),this.statsListener_.get()):this.stats_.get();var n=Object.keys(t).reduce(function(e,t){return Math.max(t.length,e)},0);v.forEach(t,function(e,t){for(var r=e.length;r<n+2;r++)e+=" ";console.log(e+t)})}},e.prototype.statsIncrementCounter=function(e){this.stats_.incrementCounter(e),this.statsReporter_.includeStat(e)},e.prototype.log_=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),D.apply(void 0,[n].concat(e))},e.prototype.callOnCompleteCallback=function(e,t,n){e&&Q(function(){if("ok"==t)e(null);else{var r=(t||"error").toUpperCase(),i=r;n&&(i+=": "+n);var a=new Error(i);a.code=r,e(a)}})},Object.defineProperty(e.prototype,"database",{get:function(){return this.__database||(this.__database=new hn(this))},enumerable:!0,configurable:!0}),e}(),Zt=function(){function e(t){this.indexedFilter_=new gt(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,n,r,i,a){return this.matches(new Ce(t,n))||(n=Ve.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,a)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=Ve.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(Ve.EMPTY_NODE);var i=this;return t.forEachChild(Oe,function(e,t){i.matches(new Ce(e,t))||(r=r.updateImmediateChild(e,Ve.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}(),en=function(){function e(e){this.rangedFilter_=new Zt(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,r,i,a){return this.rangedFilter_.matches(new Ce(t,n))||(n=Ve.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,a):this.fullLimitUpdateChild_(e,t,n,i,a)},e.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=Ve.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=Ve.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;i.hasNext()&&a<this.limit_;){var o=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),o)<=0:this.index_.compare(o,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(o.name,o.node),a++}}else{r=(r=t.withIndex(this.index_)).updatePriority(Ve.EMPTY_NODE);var s=void 0,l=void 0,c=void 0;if(i=void 0,this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),l=this.rangedFilter_.getStartPost();var u=this.index_.getCompare();c=function(e,t){return u(t,e)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),l=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();a=0;for(var h=!1;i.hasNext();)o=i.getNext(),!h&&c(s,o)<=0&&(h=!0),h&&a<this.limit_&&c(o,l)<=0?a++:r=r.updateImmediateChild(o.name,Ve.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,r,i){var a;if(this.reverse_){var o=this.index_.getCompare();a=function(e,t){return o(t,e)}}else a=this.index_.getCompare();var s=e;v.assert(s.numChildren()==this.limit_,"");var l=new Ce(t,n),c=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(s.hasChild(t)){for(var h=s.getImmediateChild(t),d=r.getChildAfterChild(this.index_,c,this.reverse_);null!=d&&(d.name==t||s.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);var p=null==d?1:a(d,l);if(u&&!n.isEmpty()&&0<=p)return null!=i&&i.trackChildChange(vt.childChangedChange(t,n,h)),s.updateImmediateChild(t,n);null!=i&&i.trackChildChange(vt.childRemovedChange(t,h));var f=s.updateImmediateChild(t,Ve.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=i&&i.trackChildChange(vt.childAddedChange(d.name,d.node)),f.updateImmediateChild(d.name,d.node)):f}return n.isEmpty()?e:u&&0<=a(c,l)?(null!=i&&(i.trackChildChange(vt.childRemovedChange(c.name,c.node)),i.trackChildChange(vt.childAddedChange(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(c.name,Ve.EMPTY_NODE)):e},e}(),tn=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Oe}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},e.prototype.getIndexStartValue=function(){return v.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return v.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:B},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return v.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return v.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:j},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return v.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.copy_=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e.prototype.limit=function(e){var t=this.copy_();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="",t},e.prototype.limitToFirst=function(t){var n=this.copy_();return n.limitSet_=!0,n.limit_=t,n.viewFrom_=e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},e.prototype.limitToLast=function(t){var n=this.copy_();return n.limitSet_=!0,n.limit_=t,n.viewFrom_=e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},e.prototype.startAt=function(e,t){var n=this.copy_();return n.startSet_=!0,void 0===e&&(e=null),n.indexStartValue_=e,n.indexStartName_=null!=t?(n.startNameSet_=!0,t):(n.startNameSet_=!1,""),n},e.prototype.endAt=function(e,t){var n=this.copy_();return n.endSet_=!0,void 0===e&&(e=null),n.indexEndValue_=e,n.indexEndName_=void 0!==t?(n.endNameSet_=!0,t):(n.endNameSet_=!1,""),n},e.prototype.orderBy=function(e){var t=this.copy_();return t.index_=e,t},e.prototype.getQueryObject=function(){var t=e.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[t.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[t.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[t.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[t.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[t.LIMIT]=this.limit_;var r=this.viewFrom_;""===r&&(r=this.isViewFromLeft()?t.VIEW_FROM_LEFT:t.VIEW_FROM_RIGHT),n[t.VIEW_FROM]=r}return this.index_!==Oe&&(n[t.INDEX]=this.index_.toString()),n},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_==Oe},e.prototype.getNodeFilter=function(){return this.loadsAllData()?new gt(this.getIndex()):this.hasLimit()?new en(this):new Zt(this)},e.prototype.toRestQueryStringParameters=function(){var t,n=e.REST_QUERY_CONSTANTS_,r={};return this.isDefault()||(t=this.index_===Oe?n.PRIORITY_INDEX:this.index_===Ge?n.VALUE_INDEX:this.index_===Te?n.KEY_INDEX:(v.assert(this.index_ instanceof Qe,"Unrecognized index type!"),this.index_.toString()),r[n.ORDER_BY]=v.stringify(t),this.startSet_&&(r[n.START_AT]=v.stringify(this.indexStartValue_),this.startNameSet_&&(r[n.START_AT]+=","+v.stringify(this.indexStartName_))),this.endSet_&&(r[n.END_AT]=v.stringify(this.indexEndValue_),this.endNameSet_&&(r[n.END_AT]+=","+v.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?r[n.LIMIT_TO_FIRST]=this.limit_:r[n.LIMIT_TO_LAST]=this.limit_)),r},e.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},e.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},e.DEFAULT=new e,e}(),nn=function(e){function t(t,n){if(!(t instanceof Jt))throw new Error("new Reference() no longer supported - use app.database().");return e.call(this,t,n,tn.DEFAULT,!1)||this}return y.__extends(t,e),t.prototype.getKey=function(){return v.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},t.prototype.child=function(e){var n,r;return v.validateArgCount("Reference.child",1,1,arguments.length),"number"==typeof e?e=String(e):e instanceof X||(null===this.path.getFront()?("Reference.child",r=!1,(n=e)&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),ve("Reference.child",1,n,r)):ve("Reference.child",1,e,!1)),new t(this.repo,this.path.child(e))},t.prototype.getParent=function(){v.validateArgCount("Reference.parent",0,0,arguments.length);var e=this.path.parent();return null===e?null:new t(this.repo,e)},t.prototype.getRoot=function(){v.validateArgCount("Reference.root",0,0,arguments.length);for(var e=this;null!==e.getParent();)e=e.getParent();return e},t.prototype.databaseProp=function(){return this.repo.database},t.prototype.set=function(e,t){v.validateArgCount("Reference.set",1,2,arguments.length),ge("Reference.set",this.path),ue("Reference.set",1,e,this.path,!1),v.validateCallback("Reference.set",2,t,!0);var n=new v.Deferred;return this.repo.setWithPriority(this.path,e,null,n.wrapCallback(t)),n.promise},t.prototype.update=function(e,t){if(v.validateArgCount("Reference.update",1,2,arguments.length),ge("Reference.update",this.path),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,L("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}de("Reference.update",1,e,this.path,!1),v.validateCallback("Reference.update",2,t,!0);var i=new v.Deferred;return this.repo.update(this.path,e,i.wrapCallback(t)),i.promise},t.prototype.setWithPriority=function(e,t,n){if(v.validateArgCount("Reference.setWithPriority",2,3,arguments.length),ge("Reference.setWithPriority",this.path),ue("Reference.setWithPriority",1,e,this.path,!1),pe("Reference.setWithPriority",2,t,!1),v.validateCallback("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new v.Deferred;return this.repo.setWithPriority(this.path,e,t,r.wrapCallback(n)),r.promise},t.prototype.remove=function(e){return v.validateArgCount("Reference.remove",0,1,arguments.length),ge("Reference.remove",this.path),v.validateCallback("Reference.remove",1,e,!0),this.set(null,e)},t.prototype.transaction=function(e,t,n){if(v.validateArgCount("Reference.transaction",1,3,arguments.length),ge("Reference.transaction",this.path),v.validateCallback("Reference.transaction",1,e,!1),v.validateCallback("Reference.transaction",2,t,!0),function(e,t,n,r){if(void 0!==n&&"boolean"!=typeof n)throw new Error(v.errorPrefix("Reference.transaction",3,!0)+"must be a boolean.")}(0,0,n),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new v.Deferred;return"function"==typeof t&&r.promise.catch(function(){}),this.repo.startTransaction(this.path,e,function(e,n,i){e?r.reject(e):r.resolve(new we(n,i)),"function"==typeof t&&t(e,n,i)},n),r.promise},t.prototype.setPriority=function(e,t){v.validateArgCount("Reference.setPriority",1,2,arguments.length),ge("Reference.setPriority",this.path),pe("Reference.setPriority",1,e,!1),v.validateCallback("Reference.setPriority",2,t,!0);var n=new v.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),e,null,n.wrapCallback(t)),n.promise},t.prototype.push=function(e,t){v.validateArgCount("Reference.push",0,2,arguments.length),ge("Reference.push",this.path),ue("Reference.push",1,e,this.path,!0),v.validateCallback("Reference.push",2,t,!0);var n,r=this.repo.serverTime(),i=Ee(r),a=this.child(i),o=this.child(i);return n=null!=e?a.set(e,t).then(function(){return o}):Promise.resolve(o),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),"function"==typeof t&&n.catch(function(){}),a},t.prototype.onDisconnect=function(){return ge("Reference.onDisconnect",this.path),new be(this.repo,this.path)},Object.defineProperty(t.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!0,configurable:!0}),t}(tt);
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tt.__referenceConstructor=nn,Tt.__referenceConstructor=nn;
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var rn,an,on=function(){this.children={},this.childCount=0,this.value=null},sn=function(){function e(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n=new on),this.name_=e,this.parent_=t,this.node_=n}return e.prototype.subTree=function(t){for(var n,r=t instanceof X?t:new X(t),i=this;null!==(n=r.getFront());)i=new e(n,i,v.safeGet(i.node_.children,n)||new on),r=r.popFront();return i},e.prototype.getValue=function(){return this.node_.value},e.prototype.setValue=function(e){v.assert(void 0!==e,"Cannot set value to undefined"),this.node_.value=e,this.updateParents_()},e.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},e.prototype.hasChildren=function(){return 0<this.node_.childCount},e.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},e.prototype.forEachChild=function(t){var n=this;v.forEach(this.node_.children,function(r,i){t(new e(r,n,i))})},e.prototype.forEachDescendant=function(e,t,n){t&&!n&&e(this),this.forEachChild(function(t){t.forEachDescendant(e,!0,n)}),t&&n&&e(this)},e.prototype.forEachAncestor=function(e,t){for(var n=t?this:this.parent();null!==n;){if(e(n))return!0;n=n.parent()}return!1},e.prototype.forEachImmediateDescendantWithValue=function(e){this.forEachChild(function(t){null!==t.getValue()?e(t):t.forEachImmediateDescendantWithValue(e)})},e.prototype.path=function(){return new X(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},e.prototype.name=function(){return this.name_},e.prototype.parent=function(){return this.parent_},e.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},e.prototype.updateChild_=function(e,t){var n=t.isEmpty(),r=v.contains(this.node_.children,e);n&&r?(delete this.node_.children[e],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[e]=t.node_,this.node_.childCount++,this.updateParents_())},e}();(an=rn||(rn={}))[an.RUN=0]="RUN",an[an.SENT=1]="SENT",an[an.COMPLETED=2]="COMPLETED",an[an.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",an[an.NEEDS_ABORT=4]="NEEDS_ABORT",Jt.MAX_TRANSACTION_RETRIES_=25,Jt.prototype.transactions_init_=function(){this.transactionQueueTree_=new sn},Jt.prototype.startTransaction=function(e,t,n,r){this.log_("transaction on "+e);var i=function(){},a=new nn(this,e);a.on("value",i);var o={path:e,update:t,onComplete:n,status:null,order:k(),applyLocally:r,retryCount:0,unwatcher:function(){a.off("value",i)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},s=this.getLatestState_(e);o.currentInputSnapshot=s;var l=o.update(s.val());if(void 0===l){if(o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete){var c=new Ye(o.currentInputSnapshot,new nn(this,o.path),Oe);o.onComplete(null,!1,c)}}else{he("transaction failed: Data returned ",l,o.path),o.status=rn.RUN;var u=this.transactionQueueTree_.subTree(e),h=u.getValue()||[];h.push(o),u.setValue(h);var d=void 0;"object"==typeof l&&null!==l&&v.contains(l,".priority")?(d=v.safeGet(l,".priority"),v.assert(ce(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):d=(this.serverSyncTree_.calcCompleteEventCache(e)||Ve.EMPTY_NODE).getPriority().val(),d=d;var p=this.generateServerValues(),f=He(l,d),m=at(f,p);o.currentOutputSnapshotRaw=f,o.currentOutputSnapshotResolved=m,o.currentWriteId=this.getNextWriteId_();var g=this.serverSyncTree_.applyUserOverwrite(e,m,o.currentWriteId,o.applyLocally);this.eventQueue_.raiseEventsForChangedPath(e,g),this.sendReadyTransactions_()}},Jt.prototype.getLatestState_=function(e,t){return this.serverSyncTree_.calcCompleteEventCache(e,t)||Ve.EMPTY_NODE},Jt.prototype.sendReadyTransactions_=function(e){var t=this;if(void 0===e&&(e=this.transactionQueueTree_),e||this.pruneCompletedTransactionsBelowNode_(e),null!==e.getValue()){var n=this.buildTransactionQueue_(e);v.assert(0<n.length,"Sending zero length transaction queue"),n.every(function(e){return e.status===rn.RUN})&&this.sendTransactionQueue_(e.path(),n)}else e.hasChildren()&&e.forEachChild(function(e){t.sendReadyTransactions_(e)})},Jt.prototype.sendTransactionQueue_=function(e,t){for(var n=this,r=t.map(function(e){return e.currentWriteId}),i=this.getLatestState_(e,r),a=i,o=i.hash(),s=0;s<t.length;s++){var l=t[s];v.assert(l.status===rn.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),l.status=rn.SENT,l.retryCount++;var c=X.relativePath(e,l.path);a=a.updateChild(c,l.currentOutputSnapshotRaw)}var u=a.val(!0),h=e;this.server_.put(h.toString(),u,function(r){n.log_("transaction put response",{path:h.toString(),status:r});var i=[];if("ok"===r){for(var a=[],o=0;o<t.length;o++){if(t[o].status=rn.COMPLETED,i=i.concat(n.serverSyncTree_.ackUserWrite(t[o].currentWriteId)),t[o].onComplete){var s=t[o].currentOutputSnapshotResolved,l=new nn(n,t[o].path),c=new Ye(s,l,Oe);a.push(t[o].onComplete.bind(null,null,!0,c))}t[o].unwatcher()}for(n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(e)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(e,i),o=0;o<a.length;o++)Q(a[o])}else{if("datastale"===r)for(o=0;o<t.length;o++)t[o].status===rn.SENT_NEEDS_ABORT?t[o].status=rn.NEEDS_ABORT:t[o].status=rn.RUN;else for(L("transaction at "+h.toString()+" failed: "+r),o=0;o<t.length;o++)t[o].status=rn.NEEDS_ABORT,t[o].abortReason=r;n.rerunTransactions_(e)}},o)},Jt.prototype.rerunTransactions_=function(e){var t=this.getAncestorTransactionNode_(e),n=t.path(),r=this.buildTransactionQueue_(t);return this.rerunTransactionQueue_(r,n),n},Jt.prototype.rerunTransactionQueue_=function(e,t){if(0!==e.length){for(var n,r=[],i=[],a=e.filter(function(e){return e.status===rn.RUN}).map(function(e){return e.currentWriteId}),o=0;o<e.length;o++){var s=e[o],l=X.relativePath(t,s.path),c=!1,u=void 0;if(v.assert(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),s.status===rn.NEEDS_ABORT)c=!0,u=s.abortReason,i=i.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0));else if(s.status===rn.RUN)if(s.retryCount>=Jt.MAX_TRANSACTION_RETRIES_)c=!0,u="maxretry",i=i.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0));else{var h=this.getLatestState_(s.path,a);s.currentInputSnapshot=h;var d=e[o].update(h.val());if(void 0!==d){he("transaction failed: Data returned ",d,s.path);var p=He(d);"object"==typeof d&&null!=d&&v.contains(d,".priority")||(p=p.updatePriority(h.getPriority()));var f=s.currentWriteId,m=this.generateServerValues(),g=at(p,m);s.currentOutputSnapshotRaw=p,s.currentOutputSnapshotResolved=g,s.currentWriteId=this.getNextWriteId_(),a.splice(a.indexOf(f),1),i=(i=i.concat(this.serverSyncTree_.applyUserOverwrite(s.path,g,s.currentWriteId,s.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(f,!0))}else c=!0,u="nodata",i=i.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(t,i),i=[],c&&(e[o].status=rn.COMPLETED,n=e[o].unwatcher,setTimeout(n,Math.floor(0)),e[o].onComplete))if("nodata"===u){var y=new nn(this,e[o].path),b=e[o].currentInputSnapshot,w=new Ye(b,y,Oe);r.push(e[o].onComplete.bind(null,null,!1,w))}else r.push(e[o].onComplete.bind(null,new Error(u),!1,null))}for(this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_),o=0;o<r.length;o++)Q(r[o]);this.sendReadyTransactions_()}},Jt.prototype.getAncestorTransactionNode_=function(e){for(var t,n=this.transactionQueueTree_;null!==(t=e.getFront())&&null===n.getValue();)n=n.subTree(t),e=e.popFront();return n},Jt.prototype.buildTransactionQueue_=function(e){var t=[];return this.aggregateTransactionQueuesForNode_(e,t),t.sort(function(e,t){return e.order-t.order}),t},Jt.prototype.aggregateTransactionQueuesForNode_=function(e,t){var n=this,r=e.getValue();if(null!==r)for(var i=0;i<r.length;i++)t.push(r[i]);e.forEachChild(function(e){n.aggregateTransactionQueuesForNode_(e,t)})},Jt.prototype.pruneCompletedTransactionsBelowNode_=function(e){var t=this,n=e.getValue();if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==rn.COMPLETED&&(n[r]=n[i],r++);n.length=r,e.setValue(0<n.length?n:null)}e.forEachChild(function(e){t.pruneCompletedTransactionsBelowNode_(e)})},Jt.prototype.abortTransactions_=function(e){var t=this,n=this.getAncestorTransactionNode_(e).path(),r=this.transactionQueueTree_.subTree(e);return r.forEachAncestor(function(e){t.abortTransactionsOnNode_(e)}),this.abortTransactionsOnNode_(r),r.forEachDescendant(function(e){t.abortTransactionsOnNode_(e)}),n},Jt.prototype.abortTransactionsOnNode_=function(e){var t=e.getValue();if(null!==t){for(var n=[],r=[],i=-1,a=0;a<t.length;a++)t[a].status===rn.SENT_NEEDS_ABORT||(t[a].status===rn.SENT?(v.assert(i===a-1,"All SENT items should be at beginning of queue."),t[i=a].status=rn.SENT_NEEDS_ABORT,t[a].abortReason="set"):(v.assert(t[a].status===rn.RUN,"Unexpected transaction status in abort"),t[a].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(t[a].currentWriteId,!0)),t[a].onComplete&&n.push(t[a].onComplete.bind(null,new Error("set"),!1,null))));for(-1===i?e.setValue(null):t.length=i+1,this.eventQueue_.raiseEventsForChangedPath(e.path(),r),a=0;a<n.length;a++)Q(n[a])}};
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ln,cn="databaseURL",un=function(){function e(){this.repos_={},this.useRestClient_=!1}return e.getInstance=function(){return ln||(ln=new e),ln},e.prototype.interrupt=function(){for(var e in this.repos_)for(var t in this.repos_[e])this.repos_[e][t].interrupt()},e.prototype.resume=function(){for(var e in this.repos_)for(var t in this.repos_[e])this.repos_[e][t].resume()},e.prototype.databaseFromApp=function(e,t){var n=t||e.options[cn];void 0===n&&R("Can't determine Firebase Database URL.  Be sure to include "+cn+" option when calling firebase.initializeApp().");var r=ne(n),i=r.repoInfo;return ye("Invalid Firebase Database URL",1,r),r.path.isEmpty()||R("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(i,e).database},e.prototype.deleteRepo=function(e){var t=v.safeGet(this.repos_,e.app.name);t&&v.safeGet(t,e.repoInfo_.toURLString())===e||R("Database "+e.app.name+"("+e.repoInfo_+") has already been deleted."),e.interrupt(),delete t[e.repoInfo_.toURLString()]},e.prototype.createRepo=function(e,t){var n=v.safeGet(this.repos_,t.name);n||(n={},this.repos_[t.name]=n);var r=v.safeGet(n,e.toURLString());return r&&R("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new Jt(e,this.useRestClient_,t),n[e.toURLString()]=r},e.prototype.forceRestClient=function(e){this.useRestClient_=e},e}(),hn=function(){function e(e){(this.repo_=e)instanceof Jt||R("Don't call new Database() directly - please use firebase.database()."),this.root_=new nn(e,X.Empty),this.INTERNAL=new dn(this)}return Object.defineProperty(e.prototype,"app",{get:function(){return this.repo_.app},enumerable:!0,configurable:!0}),e.prototype.ref=function(e){return this.checkDeleted_("ref"),v.validateArgCount("database.ref",0,1,arguments.length),e instanceof nn?this.refFromURL(e.toString()):void 0!==e?this.root_.child(e):this.root_},e.prototype.refFromURL=function(e){var t="database.refFromURL";this.checkDeleted_(t),v.validateArgCount(t,1,1,arguments.length);var n=ne(e);ye(t,1,n);var r=n.repoInfo;return r.host!==this.repo_.repoInfo_.host&&R(t+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},e.prototype.checkDeleted_=function(e){null===this.repo_&&R("Cannot call "+e+" on a deleted database.")},e.prototype.goOffline=function(){v.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},e.prototype.goOnline=function(){v.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},e.ServerValue={TIMESTAMP:{".sv":"timestamp"}},e}(),dn=function(){function e(e){this.database=e}return e.prototype.delete=function(){return y.__awaiter(this,void 0,void 0,function(){return y.__generator(this,function(e){return this.database.checkDeleted_("delete"),un.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]})})},e}(),pn=Object.freeze({forceLongPolling:function(){zt.forceDisallow(),qt.forceAllow()},forceWebSockets:function(){qt.forceDisallow()},isWebSocketsAvailable:function(){return zt.isAvailable()},setSecurityDebugCallback:function(e,t){e.repo.persistentConnection_.securityDebugCallback_=t},stats:function(e,t){e.repo.stats(t)},statsIncrementCounter:function(e,t){e.repo.statsIncrementCounter(t)},dataUpdateCount:function(e){return e.repo.dataUpdateCount},interceptServerData:function(e,t){return e.repo.interceptServerData_(t)}}),fn=Qt;Qt.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Qt.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var mn=Kt,vn=te,gn=Object.freeze({DataConnection:fn,RealTimeConnection:mn,hijackHash:function(e){var t=Qt.prototype.put;return Qt.prototype.put=function(n,r,i,a){void 0!==a&&(a=e()),t.call(this,n,r,i,a)},function(){Qt.prototype.put=t}},ConnectionTarget:vn,queryIdentifier:function(e){return e.queryIdentifier()},listens:function(e){return e.repo.persistentConnection_.listens_},forceRestClient:function(e){un.getInstance().forceRestClient(e)}}),yn=hn.ServerValue;function bn(t){var n=t.INTERNAL.registerService("database",function(e,t,n){return un.getInstance().databaseFromApp(e,n)},{Reference:nn,Query:tt,Database:hn,enableLogging:A,INTERNAL:pn,ServerValue:yn,TEST_ACCESS:gn},null,!0);v.isNodeSdk()&&(e.exports=n)}bn(b),t.registerDatabase=bn,t.Database=hn,t.Query=tt,t.Reference=nn,t.enableLogging=A,t.ServerValue=yn,t.DataSnapshot=Ye,t.OnDisconnect=be}).call(this,n(23))},function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",function(){return i}),n.d(t,"__assign",function(){return a}),n.d(t,"__rest",function(){return o}),n.d(t,"__decorate",function(){return s}),n.d(t,"__param",function(){return l}),n.d(t,"__metadata",function(){return c}),n.d(t,"__awaiter",function(){return u}),n.d(t,"__generator",function(){return h}),n.d(t,"__exportStar",function(){return d}),n.d(t,"__values",function(){return p}),n.d(t,"__read",function(){return f}),n.d(t,"__spread",function(){return m}),n.d(t,"__await",function(){return v}),n.d(t,"__asyncGenerator",function(){return g}),n.d(t,"__asyncDelegator",function(){return y}),n.d(t,"__asyncValues",function(){return b}),n.d(t,"__makeTemplateObject",function(){return w}),n.d(t,"__importStar",function(){return E}),n.d(t,"__importDefault",function(){return C});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;0<=s;s--)(i=e[s])&&(o=(a<3?i(o):3<a?i(t,n,o):i(t,n))||o);return 3<a&&o&&Object.defineProperty(t,n,o),o}function l(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,n,r){return new(n||(n=Promise))(function(i,a){function o(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(o,s)}l((r=r.apply(e,t||[])).next())})}function h(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=r[2&a[0]?"return":a[0]?"throw":"next"])&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[0,i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=0<(i=o.trys).length&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function d(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function f(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||0<t--)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(f(arguments[t]));return e}function v(e){return this instanceof v?(this.v=e,this):new v(e)}function g(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),a=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(e){i[e]&&(r[e]=function(t){return new Promise(function(n,r){1<a.push([e,t,n,r])||s(e,t)})})}function s(e,t){try{(n=i[e](t)).value instanceof v?Promise.resolve(n.value.v).then(l,c):u(a[0][2],n)}catch(e){u(a[0][3],e)}var n}function l(e){s("next",e)}function c(e){s("throw",e)}function u(e,t){e(t),a.shift(),a.length&&s(a[0][0],a[0][1])}}function y(e){var t,n;return t={},r("next"),r("throw",function(e){throw e}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){e[r]&&(t[r]=function(t){return(n=!n)?{value:v(e[r](t)),done:"return"===r}:i?i(t):t})}}function b(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator];return t?t.call(e):p(e)}function w(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function C(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";n.r(t),n(107)},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,i,a,o=(r=n(0))&&"object"==typeof r&&"default"in r?r.default:r,s=n(52),l=n(108),c=n(109),u=n(38),h=o.SDK_VERSION,d=new s.Logger("@firebase/firestore");function p(){return d.logLevel===s.LogLevel.DEBUG?i.DEBUG:d.logLevel===s.LogLevel.SILENT?i.SILENT:i.ERROR}function f(e){switch(e){case i.DEBUG:d.logLevel=s.LogLevel.DEBUG;break;case i.ERROR:d.logLevel=s.LogLevel.ERROR;break;case i.SILENT:d.logLevel=s.LogLevel.SILENT;break;default:d.error("Firestore ("+h+"): Invalid value passed to `setLogLevel`")}}function m(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(d.logLevel<=s.LogLevel.DEBUG){var i=n.map(g);d.debug.apply(d,["Firestore ("+h+") ["+e+"]: "+t].concat(i))}}function v(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(d.logLevel<=s.LogLevel.ERROR){var r=t.map(g);d.error.apply(d,["Firestore ("+h+"): "+e].concat(r))}}function g(e){if("string"==typeof e)return e;var t=w.getPlatform();try{return t.formatJSON(e)}catch(t){return e}}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y(e){var t="FIRESTORE ("+h+") INTERNAL ASSERTION FAILED: "+e;throw v(t),new Error(t)}function b(e,t){e||y(t)}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
(a=i||(i={}))[a.DEBUG=0]="DEBUG",a[a.ERROR=1]="ERROR",a[a.SILENT=2]="SILENT";var w=function(){function e(){}return e.setPlatform=function(t){e.platform&&y("Platform already defined"),e.platform=t},e.getPlatform=function(){return e.platform||y("Platform not set"),e.platform},e}();function E(){return w.getPlatform().emptyByteString}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var C={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},S=function(e){function t(t,n){var r=e.call(this,n)||this;return r.code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return l.__extends(t,e),t}(Error);
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _(e,t){function n(){var e="This constructor is private.";throw t&&(e+=" ",e+=t),new S(C.INVALID_ARGUMENT,e)}for(var r in n.prototype=e.prototype,e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function k(e,t){return void 0!==e?e:t}function x(e,t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Number(n);isNaN(r)||t(r,e[n])}}function I(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function O(e){for(var t in b(null!=e&&"object"==typeof e,"isEmpty() expects object parameter."),e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P(e,t,n){if(t.length!==n)throw new S(C.INVALID_ARGUMENT,"Function "+e+"() requires "+z(n,"argument")+", but was called with "+z(t.length,"argument")+".")}function A(e,t,n){if(t.length<n)throw new S(C.INVALID_ARGUMENT,"Function "+e+"() requires at least "+z(n,"argument")+", but was called with "+z(t.length,"argument")+".")}function D(e,t,n,r){if(t.length<n||t.length>r)throw new S(C.INVALID_ARGUMENT,"Function "+e+"() requires between "+n+" and "+r+" arguments, but was called with "+z(t.length,"argument")+".")}function N(e,t,n,r){B(e,t,H(n)+" argument",r)}function M(e,t,n,r){void 0!==r&&N(e,t,n,r)}function R(e,t,n,r){B(e,t,n+" option",r)}function L(e,t,n,r){void 0!==r&&R(e,t,n,r)}function F(e,t,n,r,i){void 0!==r&&function(e,t,n,r,i){for(var a=[],o=0,s=i;o<s.length;o++){var l=s[o];if(l===r)return;a.push($(l))}var c=$(r);throw new S(C.INVALID_ARGUMENT,"Invalid value "+c+" provided to function "+e+'() for option "'+n+'". Acceptable values: '+a.join(", "))}(e,0,n,r,i)}function B(e,t,n,r){if(!("object"===t?j(r):"non-empty string"===t?"string"==typeof r&&""!==r:typeof r===t)){var i=$(r);throw new S(C.INVALID_ARGUMENT,"Function "+e+"() requires its "+n+" to be of type "+t+", but it was: "+i)}}function j(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function $(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return 20<e.length&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"!=typeof e)return"function"==typeof e?"a function":y("Unknown wrong type: "+typeof e);if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&1<t.length)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}function V(e,t,n){if(void 0===n)throw new S(C.INVALID_ARGUMENT,"Function "+e+"() requires a valid "+H(t)+" argument, but it was undefined.")}function q(e,t,n){I(t,function(t,r){if(n.indexOf(t)<0)throw new S(C.INVALID_ARGUMENT,"Unknown option '"+t+"' passed to function "+e+"(). Available options: "+n.join(", "))})}function U(e,t,n,r){var i=$(r);return new S(C.INVALID_ARGUMENT,"Function "+e+"() requires its "+H(n)+" argument to be a "+t+", but it was: "+i)}function H(e){switch(e){case 1:return"first";case 2:return"second";case 3:return"third";default:return e+"th"}}function z(e,t){return e+" "+t+(1===e?"":"s")}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var W=function(){function e(){}return e.newId=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t="",n=0;n<20;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return b(20===t.length,"Invalid auto ID: "+t),t},e}();function K(e,t){return e<t?-1:t<e?1:0}function G(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].isEqual(t[n]))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q(){if("undefined"==typeof Uint8Array)throw new S(C.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Y(){if(!w.getPlatform().base64Available)throw new S(C.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var X,J,Z,ee,te=function(){function e(e){Y(),this._binaryString=e}return e.fromBase64String=function(t){P("Blob.fromBase64String",arguments,1),N("Blob.fromBase64String","string",1,t),Y();try{return new e(w.getPlatform().atob(t))}catch(t){throw new S(C.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},e.fromUint8Array=function(t){if(P("Blob.fromUint8Array",arguments,1),Q(),!(t instanceof Uint8Array))throw U("Blob.fromUint8Array","Uint8Array",1,t);return new e(Array.prototype.map.call(t,function(e){return String.fromCharCode(e)}).join(""))},e.prototype.toBase64=function(){return P("Blob.toBase64",arguments,0),Y(),w.getPlatform().btoa(this._binaryString)},e.prototype.toUint8Array=function(){P("Blob.toUint8Array",arguments,0),Q();for(var e=new Uint8Array(this._binaryString.length),t=0;t<this._binaryString.length;t++)e[t]=this._binaryString.charCodeAt(t);return e},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._binaryString===e._binaryString},e.prototype._compareTo=function(e){return K(this._binaryString,e._binaryString)},e}(),ne=_(te,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),re=function(){function e(e,t){if(P("GeoPoint",arguments,2),N("GeoPoint","number",1,e),N("GeoPoint","number",2,t),!isFinite(e)||e<-90||90<e)throw new S(C.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||180<t)throw new S(C.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype._compareTo=function(e){return K(this._lat,e._lat)||K(this._long,e._long)},e}(),ie=function(){function e(e,t){if(this.seconds=e,(this.nanoseconds=t)<0)throw new S(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(1e9<=t)throw new S(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new S(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(253402300800<=e)throw new S(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,1e6*(t-1e3*n))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?K(this.nanoseconds,e.nanoseconds):K(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e}(),ae=function(e,t,n,r){this.databaseId=e,this.persistenceKey=t,this.host=n,this.ssl=r},oe=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e.prototype.compareTo=function(e){return K(this.projectId,e.projectId)||K(this.database,e.database)},e}(),se=function(){function e(e,t,n){this.init(e,t,n)}return e.prototype.init=function(e,t,n){void 0===t?t=0:t>e.length&&y("offset "+t+" out of range "+e.length),void 0===n?n=e.length-t:n>e.length-t&&y("length "+n+" out of range "+(e.length-t)),this.segments=e,this.offset=t,this.len=n},e.prototype.construct=function(e,t,n){var r=Object.create(Object.getPrototypeOf(this));return r.init(e,t,n),r},Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(e){n.push(e)}):"string"==typeof t?n.push(t):y("Unknown parameter type for Path.child(): "+t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,b(this.length>=e,"Can't call popFirst() with less segments"),this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return b(!this.isEmpty(),"Can't call popLast() on empty path"),this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return b(!this.isEmpty(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},e.prototype.lastSegment=function(){return b(!this.isEmpty(),"Can't call lastSegment() on empty path"),this.segments[this.limit()-1]},e.prototype.get=function(e){return b(e<this.length,"Index out of range"),this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(a<i)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),le=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l.__extends(t,e),t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(e){if(0<=e.indexOf("//"))throw new S(C.INVALID_ARGUMENT,"Invalid path ("+e+"). Paths must not contain // in them.");return new t(e.split("/").filter(function(e){return 0<e.length}))},t.EMPTY_PATH=new t([]),t}(se),ce=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ue=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l.__extends(t,e),t.isValidIdentifier=function(e){return ce.test(e)},t.prototype.canonicalString=function(){return this.toArray().map(function(e){return e=e.replace("\\","\\\\").replace("`","\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,a=function(){if(0===r.length)throw new S(C.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new S(C.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var l=e[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new S(C.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else"`"===s?o=!o:"."!==s||o?r+=s:a(),i++}if(a(),o)throw new S(C.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.EMPTY_PATH=new t([]),t}(se),he=function(){function e(t){this.path=t,b(e.isDocumentKey(t),"Invalid DocumentKey with an odd number of segments: "+t.toArray().join("/"))}return e.prototype.isEqual=function(e){return null!==e&&0===le.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return le.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new le(t.slice()))},e.fromPathString=function(t){return new e(le.fromString(t))},e.EMPTY=new e(new le([])),e}(),de=function(){function e(e,t){this.key=e,this.version=t}return e.compareByKey=function(e,t){return he.comparator(e.key,t.key)},e}(),pe=function(e){function t(t,n,r,i,a){var o=e.call(this,t,n)||this;return o.data=r,o.proto=a,o.hasLocalMutations=!!i.hasLocalMutations,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return l.__extends(t,e),t.prototype.field=function(e){return this.data.field(e)},t.prototype.fieldValue=function(e){var t=this.field(e);return t?t.value():void 0},t.prototype.value=function(){return this.data.value()},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.data.isEqual(e.data)&&this.hasLocalMutations===e.hasLocalMutations&&this.hasCommittedMutations===e.hasCommittedMutations},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data.toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!0,configurable:!0}),t.compareByField=function(e,t,n){var r=t.field(e),i=n.field(e);return void 0!==r&&void 0!==i?r.compareTo(i):y("Trying to compare documents on fields that don't exist")},t}(de),fe=function(e){function t(t,n,r){var i=e.call(this,t,n)||this;return i.hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return l.__extends(t,e),t.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.hasCommittedMutations===this.hasCommittedMutations&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},t}(de),me=function(e){function t(t,n){return e.call(this,t,n)||this}return l.__extends(t,e),t.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},t}(de),ve=function(){function e(e,t){this.comparator=e,this.root=t||ye.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ye.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ye.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:0<n&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;n=r<0?n.left:(t+=n.left.size+1,n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal(function(t,n){return e(t,n),!1})},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new ge(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new ge(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new ge(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new ge(this.root,e,this.comparator,!0)},e}(),ge=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){b(0<this.nodeStack.length,"getNext() called on iterator when hasNext() is false.");var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return 0<this.nodeStack.length},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),ye=function(){function e(t,n,r,i,a){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw y("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed())throw y("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check();if(e!==this.right.check())throw y("Black depths differ");return e+(this.isRed()?0:1)},e.EMPTY=null,e.RED=!0,e.BLACK=!1,e}(),be=function(){function e(){this.size=0}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new ye(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}();ye.EMPTY=new be,(J=X||(X={}))[J.NullValue=0]="NullValue",J[J.BooleanValue=1]="BooleanValue",J[J.NumberValue=2]="NumberValue",J[J.TimestampValue=3]="TimestampValue",J[J.StringValue=4]="StringValue",J[J.BlobValue=5]="BlobValue",J[J.RefValue=6]="RefValue",J[J.GeoPointValue=7]="GeoPointValue",J[J.ArrayValue=8]="ArrayValue",J[J.ObjectValue=9]="ObjectValue",(ee=Z||(Z={}))[ee.Default=0]="Default",ee[ee.Estimate=1]="Estimate",ee[ee.Previous=2]="Previous";var we=function(){function e(e,t){this.serverTimestampBehavior=e,this.timestampsInSnapshots=t}return e.fromSnapshotOptions=function(t,n){switch(t.serverTimestamps){case"estimate":return new e(Z.Estimate,n);case"previous":return new e(Z.Previous,n);case"none":case void 0:return new e(Z.Default,n);default:return y("fromSnapshotOptions() called with invalid options.")}},e}(),Ee=function(){function e(){}return e.prototype.toString=function(){var e=this.value();return null===e?"null":e.toString()},e.prototype.defaultCompareTo=function(e){return b(this.typeOrder!==e.typeOrder,"Default compareTo should not be used for values of same type."),K(this.typeOrder,e.typeOrder)},e}(),Ce=function(e){function t(){var t=e.call(this)||this;return t.typeOrder=X.NullValue,t.internalValue=null,t}return l.__extends(t,e),t.prototype.value=function(e){return null},t.prototype.isEqual=function(e){return e instanceof t},t.prototype.compareTo=function(e){return e instanceof t?0:this.defaultCompareTo(e)},t.INSTANCE=new t,t}(Ee),Se=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=X.BooleanValue,n}return l.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue===e.internalValue},t.prototype.compareTo=function(e){return e instanceof t?K(this,e):this.defaultCompareTo(e)},t.of=function(e){return e?t.TRUE:t.FALSE},t.TRUE=new t(!0),t.FALSE=new t(!1),t}(Ee),_e=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=X.NumberValue,n}return l.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.compareTo=function(e){return e instanceof t?(n=this.internalValue)<(r=e.internalValue)?-1:r<n?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1:this.defaultCompareTo(e);var n,r},t}(Ee);function Te(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}var ke=function(e){function t(t){return e.call(this,t)||this}return l.__extends(t,e),t.prototype.isEqual=function(e){return e instanceof t&&Te(this.internalValue,e.internalValue)},t}(_e),xe=function(e){function t(t){var n=e.call(this,t)||this;return n.internalValue=t,n}return l.__extends(t,e),t.prototype.isEqual=function(e){return e instanceof t&&Te(this.internalValue,e.internalValue)},t.NAN=new t(NaN),t.POSITIVE_INFINITY=new t(1/0),t.NEGATIVE_INFINITY=new t(-1/0),t}(_e),Ie=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=X.StringValue,n}return l.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue===e.internalValue},t.prototype.compareTo=function(e){return e instanceof t?K(this.internalValue,e.internalValue):this.defaultCompareTo(e)},t}(Ee),Oe=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=X.TimestampValue,n}return l.__extends(t,e),t.prototype.value=function(e){return!e||e.timestampsInSnapshots?this.internalValue:this.internalValue.toDate()},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue.isEqual(e.internalValue)},t.prototype.compareTo=function(e){return e instanceof t?this.internalValue._compareTo(e.internalValue):e instanceof Pe?-1:this.defaultCompareTo(e)},t}(Ee),Pe=function(e){function t(t,n){var r=e.call(this)||this;return r.localWriteTime=t,r.previousValue=n,r.typeOrder=X.TimestampValue,r}return l.__extends(t,e),t.prototype.value=function(e){return e&&e.serverTimestampBehavior===Z.Estimate?new Oe(this.localWriteTime).value(e):e&&e.serverTimestampBehavior===Z.Previous&&this.previousValue?this.previousValue.value(e):null},t.prototype.isEqual=function(e){return e instanceof t&&this.localWriteTime.isEqual(e.localWriteTime)},t.prototype.compareTo=function(e){return e instanceof t?this.localWriteTime._compareTo(e.localWriteTime):e instanceof Oe?1:this.defaultCompareTo(e)},t.prototype.toString=function(){return"<ServerTimestamp localTime="+this.localWriteTime.toString()+">"},t}(Ee),Ae=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=X.BlobValue,n}return l.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue.isEqual(e.internalValue)},t.prototype.compareTo=function(e){return e instanceof t?this.internalValue._compareTo(e.internalValue):this.defaultCompareTo(e)},t}(Ee),De=function(e){function t(t,n){var r=e.call(this)||this;return r.databaseId=t,r.key=n,r.typeOrder=X.RefValue,r}return l.__extends(t,e),t.prototype.value=function(e){return this.key},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.databaseId.isEqual(e.databaseId)},t.prototype.compareTo=function(e){if(e instanceof t){var n=this.databaseId.compareTo(e.databaseId);return 0!==n?n:he.comparator(this.key,e.key)}return this.defaultCompareTo(e)},t}(Ee),Ne=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=X.GeoPointValue,n}return l.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue.isEqual(e.internalValue)},t.prototype.compareTo=function(e){return e instanceof t?this.internalValue._compareTo(e.internalValue):this.defaultCompareTo(e)},t}(Ee),Me=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=X.ObjectValue,n}return l.__extends(t,e),t.prototype.value=function(e){var t={};return this.internalValue.inorderTraversal(function(n,r){t[n]=r.value(e)}),t},t.prototype.forEach=function(e){this.internalValue.inorderTraversal(e)},t.prototype.isEqual=function(e){if(e instanceof t){for(var n=this.internalValue.getIterator(),r=e.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),a=r.getNext();if(i.key!==a.key||!i.value.isEqual(a.value))return!1}return!n.hasNext()&&!r.hasNext()}return!1},t.prototype.compareTo=function(e){if(e instanceof t){for(var n=this.internalValue.getIterator(),r=e.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),a=r.getNext(),o=K(i.key,a.key)||i.value.compareTo(a.value);if(o)return o}return K(n.hasNext(),r.hasNext())}return this.defaultCompareTo(e)},t.prototype.set=function(e,n){if(b(!e.isEmpty(),"Cannot set field for empty path on ObjectValue"),1===e.length)return this.setChild(e.firstSegment(),n);var r=this.child(e.firstSegment());r instanceof t||(r=t.EMPTY);var i=r.set(e.popFirst(),n);return this.setChild(e.firstSegment(),i)},t.prototype.delete=function(e){if(b(!e.isEmpty(),"Cannot delete field for empty path on ObjectValue"),1===e.length)return new t(this.internalValue.remove(e.firstSegment()));var n=this.child(e.firstSegment());if(n instanceof t){var r=n.delete(e.popFirst());return new t(this.internalValue.insert(e.firstSegment(),r))}return this},t.prototype.contains=function(e){return void 0!==this.field(e)},t.prototype.field=function(e){b(!e.isEmpty(),"Can't get field of empty path");var n=this;return e.forEach(function(e){n=n instanceof t&&n.internalValue.get(e)||void 0}),n},t.prototype.toString=function(){return JSON.stringify(this.value())},t.prototype.child=function(e){return this.internalValue.get(e)||void 0},t.prototype.setChild=function(e,n){return new t(this.internalValue.insert(e,n))},t.EMPTY=new t(new ve(K)),t}(Ee),Re=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=X.ArrayValue,n}return l.__extends(t,e),t.prototype.value=function(e){return this.internalValue.map(function(t){return t.value(e)})},t.prototype.forEach=function(e){this.internalValue.forEach(e)},t.prototype.isEqual=function(e){if(e instanceof t){if(this.internalValue.length!==e.internalValue.length)return!1;for(var n=0;n<this.internalValue.length;n++)if(!this.internalValue[n].isEqual(e.internalValue[n]))return!1;return!0}return!1},t.prototype.compareTo=function(e){if(e instanceof t){for(var n=Math.min(this.internalValue.length,e.internalValue.length),r=0;r<n;r++){var i=this.internalValue[r].compareTo(e.internalValue[r]);if(i)return i}return K(this.internalValue.length,e.internalValue.length)}return this.defaultCompareTo(e)},t.prototype.toString=function(){return JSON.stringify(this.value())},t}(Ee),Le=Number,Fe=Le.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),Be=Le.MAX_SAFE_INTEGER||Math.pow(2,53)-1,je=Le.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e};function $e(e){return null==e}function Ve(e){return je(e)&&e<=Be&&Fe<=e}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe,Ue,He=function(){function e(e,t,n,r,i,a){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=null),void 0===i&&(i=null),void 0===a&&(a=null),this.path=e,this.explicitOrderBy=t,this.filters=n,this.limit=r,this.startAt=i,this.endAt=a,this.memoizedCanonicalId=null,this.memoizedOrderBy=null,this.startAt&&this.assertValidBound(this.startAt),this.endAt&&this.assertValidBound(this.endAt)}return e.atPath=function(t){return new e(t)},Object.defineProperty(e.prototype,"orderBy",{get:function(){if(null===this.memoizedOrderBy){var e=this.getInequalityFilterField(),t=this.getFirstOrderByField();if(null!==e&&null===t)e.isKeyField()?this.memoizedOrderBy=[Ze]:this.memoizedOrderBy=[new Je(e),Ze];else{b(null===e||null!==t&&e.isEqual(t),"First orderBy should match inequality field.");for(var n=!(this.memoizedOrderBy=[]),r=0,i=this.explicitOrderBy;r<i.length;r++){var a=i[r];this.memoizedOrderBy.push(a),a.field.isKeyField()&&(n=!0)}if(!n){var o=0<this.explicitOrderBy.length?this.explicitOrderBy[this.explicitOrderBy.length-1].dir:Ye.ASCENDING;this.memoizedOrderBy.push(o===Ye.ASCENDING?Ze:et)}}}return this.memoizedOrderBy},enumerable:!0,configurable:!0}),e.prototype.addFilter=function(t){b(null==this.getInequalityFilterField()||!(t instanceof Ke)||!t.isInequality()||t.field.isEqual(this.getInequalityFilterField()),"Query must only have one inequality field."),b(!he.isDocumentKey(this.path),"No filtering allowed for document query");var n=this.filters.concat([t]);return new e(this.path,this.explicitOrderBy.slice(),n,this.limit,this.startAt,this.endAt)},e.prototype.addOrderBy=function(t){b(!he.isDocumentKey(this.path),"No ordering allowed for document query"),b(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var n=this.explicitOrderBy.concat([t]);return new e(this.path,n,this.filters.slice(),this.limit,this.startAt,this.endAt)},e.prototype.withLimit=function(t){return new e(this.path,this.explicitOrderBy.slice(),this.filters.slice(),t,this.startAt,this.endAt)},e.prototype.withStartAt=function(t){return new e(this.path,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,t,this.endAt)},e.prototype.withEndAt=function(t){return new e(this.path,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,t)},e.prototype.canonicalId=function(){if(null===this.memoizedCanonicalId){var e=this.path.canonicalString();e+="|f:";for(var t=0,n=this.filters;t<n.length;t++)e+=n[t].canonicalId(),e+=",";e+="|ob:";for(var r=0,i=this.orderBy;r<i.length;r++)e+=i[r].canonicalId(),e+=",";$e(this.limit)||(e+="|l:",e+=this.limit),this.startAt&&(e+="|lb:",e+=this.startAt.canonicalId()),this.endAt&&(e+="|ub:",e+=this.endAt.canonicalId()),this.memoizedCanonicalId=e}return this.memoizedCanonicalId},e.prototype.toString=function(){var e="Query("+this.path.canonicalString();return 0<this.filters.length&&(e+=", filters: ["+this.filters.join(", ")+"]"),$e(this.limit)||(e+=", limit: "+this.limit),0<this.explicitOrderBy.length&&(e+=", orderBy: ["+this.explicitOrderBy.join(", ")+"]"),this.startAt&&(e+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(e+=", endAt: "+this.endAt.canonicalId()),e+")"},e.prototype.isEqual=function(e){if(this.limit!==e.limit)return!1;if(this.orderBy.length!==e.orderBy.length)return!1;for(var t=0;t<this.orderBy.length;t++)if(!this.orderBy[t].isEqual(e.orderBy[t]))return!1;if(this.filters.length!==e.filters.length)return!1;for(t=0;t<this.filters.length;t++)if(!this.filters[t].isEqual(e.filters[t]))return!1;return!!this.path.isEqual(e.path)&&!(null!==this.startAt?!this.startAt.isEqual(e.startAt):null!==e.startAt)&&(null!==this.endAt?this.endAt.isEqual(e.endAt):null===e.endAt)},e.prototype.docComparator=function(e,t){for(var n=!1,r=0,i=this.orderBy;r<i.length;r++){var a=i[r],o=a.compare(e,t);if(0!==o)return o;n=n||a.field.isKeyField()}return b(n,"orderBy used that doesn't compare on key field"),0},e.prototype.matches=function(e){return this.matchesAncestor(e)&&this.matchesOrderBy(e)&&this.matchesFilters(e)&&this.matchesBounds(e)},e.prototype.hasLimit=function(){return!$e(this.limit)},e.prototype.getFirstOrderByField=function(){return 0<this.explicitOrderBy.length?this.explicitOrderBy[0].field:null},e.prototype.getInequalityFilterField=function(){for(var e=0,t=this.filters;e<t.length;e++){var n=t[e];if(n instanceof Ke&&n.isInequality())return n.field}return null},e.prototype.hasArrayContainsFilter=function(){return void 0!==this.filters.find(function(e){return e instanceof Ke&&e.op===We.ARRAY_CONTAINS})},e.prototype.isDocumentQuery=function(){return he.isDocumentKey(this.path)&&0===this.filters.length},e.prototype.matchesAncestor=function(e){var t=e.key.path;return he.isDocumentKey(this.path)?this.path.isEqual(t):this.path.isPrefixOf(t)&&this.path.length===t.length-1},e.prototype.matchesOrderBy=function(e){for(var t=0,n=this.explicitOrderBy;t<n.length;t++){var r=n[t];if(!r.field.isKeyField()&&void 0===e.field(r.field))return!1}return!0},e.prototype.matchesFilters=function(e){for(var t=0,n=this.filters;t<n.length;t++)if(!n[t].matches(e))return!1;return!0},e.prototype.matchesBounds=function(e){return!(this.startAt&&!this.startAt.sortsBeforeDocument(this.orderBy,e)||this.endAt&&this.endAt.sortsBeforeDocument(this.orderBy,e))},e.prototype.assertValidBound=function(e){b(e.position.length<=this.orderBy.length,"Bound is longer than orderBy")},e}(),ze=function(){function e(){}return e.create=function(e,t,n){if(n.isEqual(Ce.INSTANCE)){if(t!==We.EQUAL)throw new S(C.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on null.");return new Ge(e)}if(n.isEqual(xe.NAN)){if(t!==We.EQUAL)throw new S(C.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on NaN.");return new Qe(e)}return new Ke(e,t,n)},e}(),We=function(){function e(e){this.name=e}return e.fromString=function(t){switch(t){case"<":return e.LESS_THAN;case"<=":return e.LESS_THAN_OR_EQUAL;case"==":return e.EQUAL;case">=":return e.GREATER_THAN_OR_EQUAL;case">":return e.GREATER_THAN;case"array-contains":return e.ARRAY_CONTAINS;default:return y("Unknown relation: "+t)}},e.prototype.toString=function(){return this.name},e.prototype.isEqual=function(e){return this.name===e.name},e.LESS_THAN=new e("<"),e.LESS_THAN_OR_EQUAL=new e("<="),e.EQUAL=new e("=="),e.GREATER_THAN=new e(">"),e.GREATER_THAN_OR_EQUAL=new e(">="),e.ARRAY_CONTAINS=new e("array-contains"),e}(),Ke=function(e){function t(t,n,r){var i=e.call(this)||this;return i.field=t,i.op=n,i.value=r,i}return l.__extends(t,e),t.prototype.matches=function(e){if(this.field.isKeyField()){b(this.value instanceof De,"Comparing on key, but filter value not a RefValue"),b(this.op!==We.ARRAY_CONTAINS,"array-contains queries don't make sense on document keys.");var t=this.value,n=he.comparator(e.key,t.key);return this.matchesComparison(n)}var r=e.field(this.field);return void 0!==r&&this.matchesValue(r)},t.prototype.matchesValue=function(e){var t=this;return this.op===We.ARRAY_CONTAINS?e instanceof Re&&void 0!==e.internalValue.find(function(e){return e.isEqual(t.value)}):this.value.typeOrder===e.typeOrder&&this.matchesComparison(e.compareTo(this.value))},t.prototype.matchesComparison=function(e){switch(this.op){case We.LESS_THAN:return e<0;case We.LESS_THAN_OR_EQUAL:return e<=0;case We.EQUAL:return 0===e;case We.GREATER_THAN:return 0<e;case We.GREATER_THAN_OR_EQUAL:return 0<=e;default:return y("Unknown relation op"+this.op)}},t.prototype.isInequality=function(){return this.op!==We.EQUAL&&this.op!==We.ARRAY_CONTAINS},t.prototype.canonicalId=function(){return this.field.canonicalString()+this.op.toString()+this.value.toString()},t.prototype.isEqual=function(e){return e instanceof t&&this.op.isEqual(e.op)&&this.field.isEqual(e.field)&&this.value.isEqual(e.value)},t.prototype.toString=function(){return this.field.canonicalString()+" "+this.op+" "+this.value.value()},t}(ze),Ge=function(e){function t(t){var n=e.call(this)||this;return n.field=t,n}return l.__extends(t,e),t.prototype.matches=function(e){var t=e.field(this.field);return void 0!==t&&null===t.value()},t.prototype.canonicalId=function(){return this.field.canonicalString()+" IS null"},t.prototype.toString=function(){return this.field.canonicalString()+" IS null"},t.prototype.isEqual=function(e){return e instanceof t&&this.field.isEqual(e.field)},t}(ze),Qe=function(e){function t(t){var n=e.call(this)||this;return n.field=t,n}return l.__extends(t,e),t.prototype.matches=function(e){var t=e.field(this.field),n=t&&t.value();return"number"==typeof n&&isNaN(n)},t.prototype.canonicalId=function(){return this.field.canonicalString()+" IS NaN"},t.prototype.toString=function(){return this.field.canonicalString()+" IS NaN"},t.prototype.isEqual=function(e){return e instanceof t&&this.field.isEqual(e.field)},t}(ze),Ye=function(){function e(e){this.name=e}return e.prototype.toString=function(){return this.name},e.ASCENDING=new e("asc"),e.DESCENDING=new e("desc"),e}(),Xe=function(){function e(e,t){this.position=e,this.before=t}return e.prototype.canonicalId=function(){for(var e=this.before?"b:":"a:",t=0,n=this.position;t<n.length;t++)e+=n[t].toString();return e},e.prototype.sortsBeforeDocument=function(e,t){b(this.position.length<=e.length,"Bound has more components than query's orderBy");for(var n=0,r=0;r<this.position.length;r++){var i=e[r],a=this.position[r];if(i.field.isKeyField())b(a instanceof De,"Bound has a non-key value where the key path is being used."),n=he.comparator(a.key,t.key);else{var o=t.field(i.field);b(void 0!==o,"Field should exist since document matched the orderBy already."),n=a.compareTo(o)}if(i.dir===Ye.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},e.prototype.isEqual=function(e){if(null===e)return!1;if(this.before!==e.before||this.position.length!==e.position.length)return!1;for(var t=0;t<this.position.length;t++){var n=this.position[t],r=e.position[t];return n.isEqual(r)}return!0},e}(),Je=function(){function e(e,t){this.field=e,void 0===t&&(t=Ye.ASCENDING),this.dir=t,this.isKeyOrderBy=e.isKeyField()}return e.prototype.compare=function(e,t){var n=this.isKeyOrderBy?pe.compareByKey(e,t):pe.compareByField(this.field,e,t);switch(this.dir){case Ye.ASCENDING:return n;case Ye.DESCENDING:return-1*n;default:return y("Unknown direction: "+this.dir)}},e.prototype.canonicalId=function(){return this.field.canonicalString()+this.dir.toString()},e.prototype.toString=function(){return this.field.canonicalString()+" ("+this.dir+")"},e.prototype.isEqual=function(e){return this.dir===e.dir&&this.field.isEqual(e.field)},e}(),Ze=new Je(ue.keyField(),Ye.ASCENDING),et=new Je(ue.keyField(),Ye.DESCENDING),tt=function(){function e(e){this.timestamp=e}return e.fromMicroseconds=function(t){var n=Math.floor(t/1e6);return new e(new ie(n,t%1e6*1e3))},e.fromTimestamp=function(t){return new e(t)},e.forDeletedDoc=function(){return e.MIN},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e.MIN=new e(new ie(0,0)),e}();(Ue=qe||(qe={}))[Ue.Listen=0]="Listen",Ue[Ue.ExistenceFilterMismatch=1]="ExistenceFilterMismatch",Ue[Ue.LimboResolution=2]="LimboResolution";var nt,rt,it=function(){function e(e,t,n,r,i,a){void 0===i&&(i=tt.MIN),void 0===a&&(a=E()),this.query=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.resumeToken=a}return e.prototype.copy=function(t){return new e(this.query,this.targetId,this.purpose,void 0===t.sequenceNumber?this.sequenceNumber:t.sequenceNumber,void 0===t.snapshotVersion?this.snapshotVersion:t.snapshotVersion,void 0===t.resumeToken?this.resumeToken:t.resumeToken)},e.prototype.isEqual=function(e){return this.targetId===e.targetId&&this.purpose===e.purpose&&this.sequenceNumber===e.sequenceNumber&&this.snapshotVersion.isEqual(e.snapshotVersion)&&this.resumeToken===e.resumeToken&&this.query.isEqual(e.query)},e}(),at=function(){function e(e){this.comparator=e,this.data=new ve(this.comparator)}return e.fromMapKeys=function(t){var n=new e(t.comparator);return t.forEach(function(e){n=n.add(e)}),n},e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal(function(t,n){return e(t),!1})},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(0<=this.comparator(r.key,e[1]))return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new ot(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new ot(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return e.forEach(function(e){t=t.add(e)}),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach(function(t){e.push(t)}),e},e.prototype.toString=function(){var e=[];return this.forEach(function(t){return e.push(t)}),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),ot=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),st=function(){function e(e){this.fields=e}return e.fromSet=function(t){return new e(t)},e.fromArray=function(t){var n=new at(ue.comparator);return t.forEach(function(e){return n=n.add(e)}),new e(n)},e.prototype.covers=function(e){var t=!1;return this.fields.forEach(function(n){n.isPrefixOf(e)&&(t=!0)}),t},e.prototype.isEqual=function(e){return this.fields.isEqual(e.fields)},e}(),lt=function(){function e(e,t){this.field=e,this.transform=t}return e.prototype.isEqual=function(e){return this.field.isEqual(e.field)&&this.transform.isEqual(e.transform)},e}(),ct=function(e,t){this.version=e,this.transformResults=t
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */};
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
(rt=nt||(nt={}))[rt.Set=0]="Set",rt[rt.Patch=1]="Patch",rt[rt.Transform=2]="Transform",rt[rt.Delete=3]="Delete";var ut=function(){function e(e,t){this.updateTime=e,this.exists=t,b(void 0===e||void 0===t,'Precondition can specify "exists" or "updateTime" but not both')}return e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),e.prototype.isValidFor=function(e){return void 0!==this.updateTime?e instanceof pe&&e.version.isEqual(this.updateTime):void 0!==this.exists?this.exists===e instanceof pe:(b(this.isNone,"Precondition should be empty"),!0)},e.prototype.isEqual=function(e){return t=this.updateTime,n=e.updateTime,(null!=t?!(!n||!t.isEqual(n)):t===n)&&this.exists===e.exists;var t,n},e.NONE=new e,e}(),ht=function(){function e(){}return e.prototype.verifyKeyMatches=function(e){null!=e&&b(e.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")},e.getPostMutationVersion=function(e){return e instanceof pe?e.version:tt.MIN},e}(),dt=function(e){function t(t,n,r){var i=e.call(this)||this;return i.key=t,i.value=n,i.precondition=r,i.type=nt.Set,i}return l.__extends(t,e),t.prototype.applyToRemoteDocument=function(e,t){this.verifyKeyMatches(e),b(null==t.transformResults,"Transform results received by SetMutation.");var n=t.version;return new pe(this.key,n,this.value,{hasCommittedMutations:!0})},t.prototype.applyToLocalView=function(e,t,n){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var r=ht.getPostMutationVersion(e);return new pe(this.key,r,this.value,{hasLocalMutations:!0})},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.value.isEqual(e.value)&&this.precondition.isEqual(e.precondition)},t}(ht),pt=function(e){function t(t,n,r,i){var a=e.call(this)||this;return a.key=t,a.data=n,a.fieldMask=r,a.precondition=i,a.type=nt.Patch,a}return l.__extends(t,e),t.prototype.applyToRemoteDocument=function(e,t){if(this.verifyKeyMatches(e),b(null==t.transformResults,"Transform results received by PatchMutation."),!this.precondition.isValidFor(e))return new me(this.key,t.version);var n=this.patchDocument(e);return new pe(this.key,t.version,n,{hasCommittedMutations:!0})},t.prototype.applyToLocalView=function(e,t,n){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var r=ht.getPostMutationVersion(e),i=this.patchDocument(e);return new pe(this.key,r,i,{hasLocalMutations:!0})},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.fieldMask.isEqual(e.fieldMask)&&this.precondition.isEqual(e.precondition)},t.prototype.patchDocument=function(e){var t;return t=e instanceof pe?e.data:Me.EMPTY,this.patchObject(t)},t.prototype.patchObject=function(e){var t=this;return this.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e=void 0!==r?e.set(n,r):e.delete(n)}}),e},t}(ht),ft=function(e){function t(t,n){var r=e.call(this)||this;return r.key=t,r.fieldTransforms=n,r.type=nt.Transform,r.precondition=ut.exists(!0),r}return l.__extends(t,e),t.prototype.applyToRemoteDocument=function(e,t){if(this.verifyKeyMatches(e),b(null!=t.transformResults,"Transform results missing for TransformMutation."),!this.precondition.isValidFor(e))return new me(this.key,t.version);var n=this.requireDocument(e),r=this.serverTransformResults(e,t.transformResults),i=t.version,a=this.transformObject(n.data,r);return new pe(this.key,i,a,{hasCommittedMutations:!0})},t.prototype.applyToLocalView=function(e,t,n){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var r=this.requireDocument(e),i=this.localTransformResults(n,t),a=this.transformObject(r.data,i);return new pe(this.key,r.version,a,{hasLocalMutations:!0})},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&G(this.fieldTransforms,e.fieldTransforms)&&this.precondition.isEqual(e.precondition)},t.prototype.requireDocument=function(e){b(e instanceof pe,"Unknown MaybeDocument type "+e);var t=e;return b(t.key.isEqual(this.key),"Can only transform a document with the same key"),t},t.prototype.serverTransformResults=function(e,t){var n=[];b(this.fieldTransforms.length===t.length,"server transform result count ("+t.length+") should match field transform count ("+this.fieldTransforms.length+")");for(var r=0;r<t.length;r++){var i=this.fieldTransforms[r],a=i.transform,o=null;e instanceof pe&&(o=e.field(i.field)||null),n.push(a.applyToRemoteDocument(o,t[r]))}return n},t.prototype.localTransformResults=function(e,t){for(var n=[],r=0,i=this.fieldTransforms;r<i.length;r++){var a=i[r],o=a.transform,s=null;t instanceof pe&&(s=t.field(a.field)||null),n.push(o.applyToLocalView(s,e))}return n},t.prototype.transformObject=function(e,t){b(t.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var n=0;n<this.fieldTransforms.length;n++){var r=this.fieldTransforms[n].field;e=e.set(r,t[n])}return e},t}(ht),mt=function(e){function t(t,n){var r=e.call(this)||this;return r.key=t,r.precondition=n,r.type=nt.Delete,r}return l.__extends(t,e),t.prototype.applyToRemoteDocument=function(e,t){return this.verifyKeyMatches(e),b(null==t.transformResults,"Transform results received by DeleteMutation."),new fe(this.key,t.version,{hasCommittedMutations:!0})},t.prototype.applyToLocalView=function(e,t,n){return this.verifyKeyMatches(e),this.precondition.isValidFor(e)?(e&&b(e.key.isEqual(this.key),"Can only apply mutation to document with same key"),new fe(this.key,tt.forDeletedDoc())):e},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.precondition.isEqual(e.precondition)},t}(ht),vt=function(){function e(){}return e.prototype.applyToLocalView=function(e,t){return new Pe(t,e)},e.prototype.applyToRemoteDocument=function(e,t){return t},e.prototype.isEqual=function(t){return t instanceof e},e.instance=new e,e}(),gt=function(){function e(e){this.elements=e}return e.prototype.applyToLocalView=function(e,t){return this.apply(e)},e.prototype.applyToRemoteDocument=function(e,t){return this.apply(e)},e.prototype.apply=function(e){for(var t=bt(e),n=function(e){t.find(function(t){return t.isEqual(e)})||t.push(e)},r=0,i=this.elements;r<i.length;r++)n(i[r]);return new Re(t)},e.prototype.isEqual=function(t){return t instanceof e&&G(t.elements,this.elements)},e}(),yt=function(){function e(e){this.elements=e}return e.prototype.applyToLocalView=function(e,t){return this.apply(e)},e.prototype.applyToRemoteDocument=function(e,t){return this.apply(e)},e.prototype.apply=function(e){for(var t=bt(e),n=function(e){t=t.filter(function(t){return!t.isEqual(e)})},r=0,i=this.elements;r<i.length;r++)n(i[r]);return new Re(t)},e.prototype.isEqual=function(t){return t instanceof e&&G(t.elements,this.elements)},e}();function bt(e){return e instanceof Re?e.internalValue.slice():[]}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt,Et,Ct=function(){function e(e){this.count=e}return e.prototype.isEqual=function(e){return e&&e.count===this.count},e}();
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(e){switch(e){case C.OK:return y("Treated status OK as error");case C.CANCELLED:case C.UNKNOWN:case C.DEADLINE_EXCEEDED:case C.RESOURCE_EXHAUSTED:case C.INTERNAL:case C.UNAVAILABLE:case C.UNAUTHENTICATED:return!1;case C.INVALID_ARGUMENT:case C.NOT_FOUND:case C.ALREADY_EXISTS:case C.PERMISSION_DENIED:case C.FAILED_PRECONDITION:case C.ABORTED:case C.OUT_OF_RANGE:case C.UNIMPLEMENTED:case C.DATA_LOSS:return!0;default:return y("Unknown status code: "+e)}}function _t(e){if(void 0===e)return v("GRPC error has no .code"),C.UNKNOWN;switch(e){case wt.OK:return C.OK;case wt.CANCELLED:return C.CANCELLED;case wt.UNKNOWN:return C.UNKNOWN;case wt.DEADLINE_EXCEEDED:return C.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return C.RESOURCE_EXHAUSTED;case wt.INTERNAL:return C.INTERNAL;case wt.UNAVAILABLE:return C.UNAVAILABLE;case wt.UNAUTHENTICATED:return C.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return C.INVALID_ARGUMENT;case wt.NOT_FOUND:return C.NOT_FOUND;case wt.ALREADY_EXISTS:return C.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return C.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return C.FAILED_PRECONDITION;case wt.ABORTED:return C.ABORTED;case wt.OUT_OF_RANGE:return C.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return C.UNIMPLEMENTED;case wt.DATA_LOSS:return C.DATA_LOSS;default:return y("Unknown status code: "+e)}}(Et=wt||(wt={}))[Et.OK=0]="OK",Et[Et.CANCELLED=1]="CANCELLED",Et[Et.UNKNOWN=2]="UNKNOWN",Et[Et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Et[Et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Et[Et.NOT_FOUND=5]="NOT_FOUND",Et[Et.ALREADY_EXISTS=6]="ALREADY_EXISTS",Et[Et.PERMISSION_DENIED=7]="PERMISSION_DENIED",Et[Et.UNAUTHENTICATED=16]="UNAUTHENTICATED",Et[Et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Et[Et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Et[Et.ABORTED=10]="ABORTED",Et[Et.OUT_OF_RANGE=11]="OUT_OF_RANGE",Et[Et.UNIMPLEMENTED=12]="UNIMPLEMENTED",Et[Et.INTERNAL=13]="INTERNAL",Et[Et.UNAVAILABLE=14]="UNAVAILABLE",Et[Et.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Tt=new ve(he.comparator);function kt(){return Tt}function xt(){return kt()}var It=new ve(he.comparator);function Ot(){return It}var Pt=new ve(he.comparator);function At(){return Pt}var Dt=new at(he.comparator);function Nt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=Dt,r=0,i=e;r<i.length;r++){var a=i[r];n=n.add(a)}return n}var Mt=new at(K);function Rt(){return Mt}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt,Ft,Bt,jt,$t=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||he.comparator(t.key,n.key)}:function(e,t){return he.comparator(e.key,t.key)},this.keyedMap=Ot(),this.sortedSet=new ve(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!0,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal(function(t,n){return e(t),!1})},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach(function(t){e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}();
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
(Ft=Lt||(Lt={}))[Ft.Added=0]="Added",Ft[Ft.Removed=1]="Removed",Ft[Ft.Modified=2]="Modified",Ft[Ft.Metadata=3]="Metadata",(jt=Bt||(Bt={}))[jt.Local=0]="Local",jt[jt.Synced=1]="Synced";var Vt,qt,Ut=function(){function e(){this.changeMap=new ve(he.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.changeMap.get(t);n?e.type!==Lt.Added&&n.type===Lt.Metadata?this.changeMap=this.changeMap.insert(t,e):e.type===Lt.Metadata&&n.type!==Lt.Removed?this.changeMap=this.changeMap.insert(t,{type:n.type,doc:e.doc}):e.type===Lt.Modified&&n.type===Lt.Modified?this.changeMap=this.changeMap.insert(t,{type:Lt.Modified,doc:e.doc}):e.type===Lt.Modified&&n.type===Lt.Added?this.changeMap=this.changeMap.insert(t,{type:Lt.Added,doc:e.doc}):e.type===Lt.Removed&&n.type===Lt.Added?this.changeMap=this.changeMap.remove(t):e.type===Lt.Removed&&n.type===Lt.Modified?this.changeMap=this.changeMap.insert(t,{type:Lt.Removed,doc:n.doc}):e.type===Lt.Added&&n.type===Lt.Removed?this.changeMap=this.changeMap.insert(t,{type:Lt.Modified,doc:e.doc}):y("unsupported combination of changes: "+JSON.stringify(e)+" after "+JSON.stringify(n)):this.changeMap=this.changeMap.insert(t,e)},e.prototype.getChanges=function(){var e=[];return this.changeMap.inorderTraversal(function(t,n){e.push(n)}),e},e}(),Ht=function(){function e(e,t,n,r,i,a,o,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=s}return e.fromInitialDocuments=function(t,n,r,i){var a=[];return n.forEach(function(e){a.push({type:Lt.Added,doc:e})}),new e(t,n,$t.emptySet(n),a,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&this.query.isEqual(e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),zt=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r,i=((r={})[t]=Wt.createSynthesizedTargetChangeForCurrentChange(t,n),r);return new e(tt.MIN,i,Rt(),kt(),Nt())},e}(),Wt=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(E(),n,Nt(),Nt(),Nt())},e}(),Kt=function(e,t,n,r){this.updatedTargetIds=e,this.removedTargetIds=t,this.key=n,this.newDoc=r},Gt=function(e,t){this.targetId=e,this.existenceFilter=t};(qt=Vt||(Vt={}))[qt.NoChange=0]="NoChange",qt[qt.Added=1]="Added",qt[qt.Removed=2]="Removed",qt[qt.Current=3]="Current",qt[qt.Reset=4]="Reset";var Qt=function(e,t,n,r){void 0===n&&(n=E()),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},Yt=function(){function e(){this.pendingResponses=0,this.documentChanges=Zt(),this._resumeToken=E(),this._current=!1,this._hasPendingChanges=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this._current},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this._resumeToken},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPending",{get:function(){return 0!==this.pendingResponses},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingChanges",{get:function(){return this._hasPendingChanges},enumerable:!0,configurable:!0}),e.prototype.updateResumeToken=function(e){0<e.length&&(this._hasPendingChanges=!0,this._resumeToken=e)},e.prototype.toTargetChange=function(){var e=Nt(),t=Nt(),n=Nt();return this.documentChanges.forEach(function(r,i){switch(i){case Lt.Added:e=e.add(r);break;case Lt.Modified:t=t.add(r);break;case Lt.Removed:n=n.add(r);break;default:y("Encountered invalid change type: "+i)}}),new Wt(this._resumeToken,this._current,e,t,n)},e.prototype.clearPendingChanges=function(){this._hasPendingChanges=!1,this.documentChanges=Zt()},e.prototype.addDocumentChange=function(e,t){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert(e,t)},e.prototype.removeDocumentChange=function(e){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove(e)},e.prototype.recordPendingTargetRequest=function(){this.pendingResponses+=1},e.prototype.recordTargetResponse=function(){this.pendingResponses-=1},e.prototype.markCurrent=function(){this._hasPendingChanges=!0,this._current=!0},e}(),Xt=function(){function e(e){this.metadataProvider=e,this.targetStates={},this.pendingDocumentUpdates=kt(),this.pendingDocumentTargetMapping=Jt(),this.pendingTargetResets=new at(K)}return e.prototype.handleDocumentChange=function(e){for(var t=0,n=e.updatedTargetIds;t<n.length;t++){var r=n[t];e.newDoc instanceof pe?this.addDocumentToTarget(r,e.newDoc):e.newDoc instanceof fe&&this.removeDocumentFromTarget(r,e.key,e.newDoc)}for(var i=0,a=e.removedTargetIds;i<a.length;i++)r=a[i],this.removeDocumentFromTarget(r,e.key,e.newDoc)},e.prototype.handleTargetChange=function(e){var t=this;this.forEachTarget(e,function(n){var r=t.ensureTargetState(n);switch(e.state){case Vt.NoChange:t.isActiveTarget(n)&&r.updateResumeToken(e.resumeToken);break;case Vt.Added:r.recordTargetResponse(),r.isPending||r.clearPendingChanges(),r.updateResumeToken(e.resumeToken);break;case Vt.Removed:r.recordTargetResponse(),r.isPending||t.removeTarget(n),b(!e.cause,"WatchChangeAggregator does not handle errored targets");break;case Vt.Current:t.isActiveTarget(n)&&(r.markCurrent(),r.updateResumeToken(e.resumeToken));break;case Vt.Reset:t.isActiveTarget(n)&&(t.resetTarget(n),r.updateResumeToken(e.resumeToken));break;default:y("Unknown target watch change state: "+e.state)}})},e.prototype.forEachTarget=function(e,t){0<e.targetIds.length?e.targetIds.forEach(t):x(this.targetStates,t)},e.prototype.handleExistenceFilter=function(e){var t=e.targetId,n=e.existenceFilter.count,r=this.queryDataForActiveTarget(t);if(r){var i=r.query;if(i.isDocumentQuery())if(0===n){var a=new he(i.path);this.removeDocumentFromTarget(t,a,new fe(a,tt.forDeletedDoc()))}else b(1===n,"Single document existence filter with count: "+n);else this.getCurrentDocumentCountForTarget(t)!==n&&(this.resetTarget(t),this.pendingTargetResets=this.pendingTargetResets.add(t))}},e.prototype.createRemoteEvent=function(e){var t=this,n={};x(this.targetStates,function(r,i){var a=t.queryDataForActiveTarget(r);if(a){if(i.current&&a.query.isDocumentQuery()){var o=new he(a.query.path);null!==t.pendingDocumentUpdates.get(o)||t.targetContainsDocument(r,o)||t.removeDocumentFromTarget(r,o,new fe(o,e))}i.hasPendingChanges&&(n[r]=i.toTargetChange(),i.clearPendingChanges())}});var r=Nt();this.pendingDocumentTargetMapping.forEach(function(e,n){var i=!0;n.forEachWhile(function(e){var n=t.queryDataForActiveTarget(e);return!n||n.purpose===qe.LimboResolution||(i=!1)}),i&&(r=r.add(e))});var i=new zt(e,n,this.pendingTargetResets,this.pendingDocumentUpdates,r);return this.pendingDocumentUpdates=kt(),this.pendingDocumentTargetMapping=Jt(),this.pendingTargetResets=new at(K),i},e.prototype.addDocumentToTarget=function(e,t){if(this.isActiveTarget(e)){var n=this.targetContainsDocument(e,t.key)?Lt.Modified:Lt.Added;this.ensureTargetState(e).addDocumentChange(t.key,n),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(t.key,t),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t.key,this.ensureDocumentTargetMapping(t.key).add(e))}},e.prototype.removeDocumentFromTarget=function(e,t,n){if(this.isActiveTarget(e)){var r=this.ensureTargetState(e);this.targetContainsDocument(e,t)?r.addDocumentChange(t,Lt.Removed):r.removeDocumentChange(t),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t,this.ensureDocumentTargetMapping(t).delete(e)),n&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(t,n))}},e.prototype.removeTarget=function(e){delete this.targetStates[e]},e.prototype.getCurrentDocumentCountForTarget=function(e){var t=this.ensureTargetState(e).toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.recordPendingTargetRequest=function(e){this.ensureTargetState(e).recordPendingTargetRequest()},e.prototype.ensureTargetState=function(e){return this.targetStates[e]||(this.targetStates[e]=new Yt),this.targetStates[e]},e.prototype.ensureDocumentTargetMapping=function(e){var t=this.pendingDocumentTargetMapping.get(e);return t||(t=new at(K),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e,t)),t},e.prototype.isActiveTarget=function(e){return null!==this.queryDataForActiveTarget(e)},e.prototype.queryDataForActiveTarget=function(e){var t=this.targetStates[e];return t&&t.isPending?null:this.metadataProvider.getQueryDataForTarget(e)},e.prototype.resetTarget=function(e){var t=this;b(!this.targetStates[e].isPending,"Should only reset active targets"),this.targetStates[e]=new Yt,this.metadataProvider.getRemoteKeysForTarget(e).forEach(function(n){t.removeDocumentFromTarget(e,n,null)})},e.prototype.targetContainsDocument=function(e,t){return this.metadataProvider.getRemoteKeysForTarget(e).has(t)},e}();function Jt(){return new ve(he.comparator)}function Zt(){return new ve(he.comparator)}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var en,tn,nn=((en={})[Ye.ASCENDING.name]="ASCENDING",en[Ye.DESCENDING.name]="DESCENDING",en),rn=((tn={})[We.LESS_THAN.name]="LESS_THAN",tn[We.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",tn[We.GREATER_THAN.name]="GREATER_THAN",tn[We.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",tn[We.EQUAL.name]="EQUAL",tn[We.ARRAY_CONTAINS.name]="ARRAY_CONTAINS",tn),an=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function on(e,t){b(!$e(e),t+" is missing")}function sn(e){return"number"==typeof e?e:"string"==typeof e?Number(e):y("can't parse "+e)}var ln=function(){function e(e,t){this.databaseId=e,this.options=t}return e.prototype.emptyByteString=function(){return this.options.useProto3Json?"":new Uint8Array(0)},e.prototype.unsafeCastProtoByteString=function(e){return e},e.prototype.fromRpcStatus=function(e){var t=void 0===e.code?C.UNKNOWN:_t(e.code);return new S(t,e.message||"")},e.prototype.toInt32Value=function(e){return $e(e)?void 0:{value:e}},e.prototype.fromInt32Value=function(e){var t;return $e(t="object"==typeof e?e.value:e)?null:t},e.prototype.toTimestamp=function(e){return{seconds:e.seconds,nanos:e.nanoseconds}},e.prototype.fromTimestamp=function(e){if("string"==typeof e)return this.fromIso8601String(e);b(!!e,"Cannot deserialize null or undefined timestamp.");var t=sn(e.seconds||"0"),n=e.nanos||0;return new ie(t,n)},e.prototype.fromIso8601String=function(e){var t=0,n=an.exec(e);if(b(!!n,"invalid timestamp: "+e),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e),a=Math.floor(i.getTime()/1e3);return new ie(a,t)},e.prototype.toBytes=function(e){return this.options.useProto3Json?e.toBase64():this.unsafeCastProtoByteString(e.toUint8Array())},e.prototype.fromBlob=function(e){return"string"==typeof e?(b(this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),te.fromBase64String(e)):(b(!this.options.useProto3Json,"Expected bytes to be passed in as string, but got something else instead."),te.fromUint8Array(e))},e.prototype.toVersion=function(e){return this.toTimestamp(e.toTimestamp())},e.prototype.fromVersion=function(e){return b(!!e,"Trying to deserialize version that isn't set"),tt.fromTimestamp(this.fromTimestamp(e))},e.prototype.toResourceName=function(e,t){return this.fullyQualifiedPrefixPath(e).child("documents").child(t).canonicalString()},e.prototype.fromResourceName=function(e){var t=le.fromString(e);return b(this.isValidResourceName(t),"Tried to deserialize invalid key "+t.toString()),t},e.prototype.toName=function(e){return this.toResourceName(this.databaseId,e.path)},e.prototype.fromName=function(e){var t=this.fromResourceName(e);return b(t.get(1)===this.databaseId.projectId,"Tried to deserialize key from different project: "+t.get(1)+" vs "+this.databaseId.projectId),b(!t.get(3)&&!this.databaseId.database||t.get(3)===this.databaseId.database,"Tried to deserialize key from different database: "+t.get(3)+" vs "+this.databaseId.database),new he(this.extractLocalPathFromResourceName(t))},e.prototype.toQueryPath=function(e){return this.toResourceName(this.databaseId,e)},e.prototype.fromQueryPath=function(e){var t=this.fromResourceName(e);return 4===t.length?le.EMPTY_PATH:this.extractLocalPathFromResourceName(t)},Object.defineProperty(e.prototype,"encodedDatabaseId",{get:function(){return new le(["projects",this.databaseId.projectId,"databases",this.databaseId.database]).canonicalString()},enumerable:!0,configurable:!0}),e.prototype.fullyQualifiedPrefixPath=function(e){return new le(["projects",e.projectId,"databases",e.database])},e.prototype.extractLocalPathFromResourceName=function(e){return b(4<e.length&&"documents"===e.get(4),"tried to deserialize invalid key "+e.toString()),e.popFirst(5)},e.prototype.isValidResourceName=function(e){return 4<=e.length&&"projects"===e.get(0)&&"databases"===e.get(2)},e.prototype.toValue=function(e){if(e instanceof Ce)return{nullValue:"NULL_VALUE"};if(e instanceof Se)return{booleanValue:e.value()};if(e instanceof ke)return{integerValue:""+e.value()};if(e instanceof xe){var t=e.value();if(this.options.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:e.value()}}return e instanceof Ie?{stringValue:e.value()}:e instanceof Me?{mapValue:this.toMapValue(e)}:e instanceof Re?{arrayValue:this.toArrayValue(e)}:e instanceof Oe?{timestampValue:this.toTimestamp(e.internalValue)}:e instanceof Ne?{geoPointValue:{latitude:e.value().latitude,longitude:e.value().longitude}}:e instanceof Ae?{bytesValue:this.toBytes(e.value())}:e instanceof De?{referenceValue:this.toResourceName(e.databaseId,e.key.path)}:y("Unknown FieldValue "+JSON.stringify(e))},e.prototype.fromValue=function(e){var t=this,n=e.value_type;if(cn(e,n,"nullValue"))return Ce.INSTANCE;if(cn(e,n,"booleanValue"))return Se.of(e.booleanValue);if(cn(e,n,"integerValue"))return new ke(sn(e.integerValue));if(cn(e,n,"doubleValue")){if(this.options.useProto3Json){if("NaN"===e.doubleValue)return xe.NAN;if("Infinity"===e.doubleValue)return xe.POSITIVE_INFINITY;if("-Infinity"===e.doubleValue)return xe.NEGATIVE_INFINITY}return new xe(e.doubleValue)}if(cn(e,n,"stringValue"))return new Ie(e.stringValue);if(cn(e,n,"mapValue"))return this.fromFields(e.mapValue.fields||{});if(cn(e,n,"arrayValue")){on(e.arrayValue,"arrayValue");var r=e.arrayValue.values||[];return new Re(r.map(function(e){return t.fromValue(e)}))}if(cn(e,n,"timestampValue"))return on(e.timestampValue,"timestampValue"),new Oe(this.fromTimestamp(e.timestampValue));if(cn(e,n,"geoPointValue")){on(e.geoPointValue,"geoPointValue");var i=e.geoPointValue.latitude||0,a=e.geoPointValue.longitude||0;return new Ne(new re(i,a))}if(cn(e,n,"bytesValue")){on(e.bytesValue,"bytesValue");var o=this.fromBlob(e.bytesValue);return new Ae(o)}if(cn(e,n,"referenceValue")){on(e.referenceValue,"referenceValue");var s=this.fromResourceName(e.referenceValue),l=new oe(s.get(1),s.get(3)),c=new he(this.extractLocalPathFromResourceName(s));return new De(l,c)}return y("Unknown Value proto "+JSON.stringify(e))},e.prototype.toMutationDocument=function(e,t){return{name:this.toName(e),fields:this.toFields(t)}},e.prototype.toDocument=function(e){return b(!e.hasLocalMutations,"Can't serialize documents with mutations."),{name:this.toName(e.key),fields:this.toFields(e.data),updateTime:this.toTimestamp(e.version.toTimestamp())}},e.prototype.fromDocument=function(e,t){return new pe(this.fromName(e.name),this.fromVersion(e.updateTime),this.fromFields(e.fields||{}),{hasCommittedMutations:!!t})},e.prototype.toFields=function(e){var t=this,n={};return e.forEach(function(e,r){n[e]=t.toValue(r)}),n},e.prototype.fromFields=function(e){var t=this,n=e,r=Me.EMPTY;return I(n,function(e,n){r=r.set(new ue([e]),t.fromValue(n))}),r},e.prototype.toMapValue=function(e){return{fields:this.toFields(e)}},e.prototype.toArrayValue=function(e){var t=this,n=[];return e.forEach(function(e){n.push(t.toValue(e))}),{values:n}},e.prototype.fromFound=function(e){b(!!e.found,"Tried to deserialize a found document from a missing document."),on(e.found.name,"doc.found.name"),on(e.found.updateTime,"doc.found.updateTime");var t=this.fromName(e.found.name),n=this.fromVersion(e.found.updateTime),r=this.fromFields(e.found.fields||{});return new pe(t,n,r,{},e.found)},e.prototype.fromMissing=function(e){b(!!e.missing,"Tried to deserialize a missing document from a found document."),b(!!e.readTime,"Tried to deserialize a missing document without a read time.");var t=this.fromName(e.missing),n=this.fromVersion(e.readTime);return new fe(t,n)},e.prototype.fromMaybeDocument=function(e){var t=e.result;return cn(e,t,"found")?this.fromFound(e):cn(e,t,"missing")?this.fromMissing(e):y("invalid batch get response: "+JSON.stringify(e))},e.prototype.toWatchTargetChangeState=function(e){switch(e){case Vt.Added:return"ADD";case Vt.Current:return"CURRENT";case Vt.NoChange:return"NO_CHANGE";case Vt.Removed:return"REMOVE";case Vt.Reset:return"RESET";default:return y("Unknown WatchTargetChangeState: "+e)}},e.prototype.toTestWatchChange=function(e){if(e instanceof Gt)return{filter:{count:e.existenceFilter.count,targetId:e.targetId}};if(e instanceof Kt){if(e.newDoc instanceof pe){var t=e.newDoc;return{documentChange:{document:{name:this.toName(t.key),fields:this.toFields(t.data),updateTime:this.toVersion(t.version)},targetIds:e.updatedTargetIds,removedTargetIds:e.removedTargetIds}}}if(e.newDoc instanceof fe)return t=e.newDoc,{documentDelete:{document:this.toName(t.key),readTime:this.toVersion(t.version),removedTargetIds:e.removedTargetIds}};if(null===e.newDoc)return{documentRemove:{document:this.toName(e.key),removedTargetIds:e.removedTargetIds}}}if(e instanceof Qt){var n=void 0;return e.cause&&(n={code:function(e){if(void 0===e)return wt.OK;switch(e){case C.OK:return wt.OK;case C.CANCELLED:return wt.CANCELLED;case C.UNKNOWN:return wt.UNKNOWN;case C.DEADLINE_EXCEEDED:return wt.DEADLINE_EXCEEDED;case C.RESOURCE_EXHAUSTED:return wt.RESOURCE_EXHAUSTED;case C.INTERNAL:return wt.INTERNAL;case C.UNAVAILABLE:return wt.UNAVAILABLE;case C.UNAUTHENTICATED:return wt.UNAUTHENTICATED;case C.INVALID_ARGUMENT:return wt.INVALID_ARGUMENT;case C.NOT_FOUND:return wt.NOT_FOUND;case C.ALREADY_EXISTS:return wt.ALREADY_EXISTS;case C.PERMISSION_DENIED:return wt.PERMISSION_DENIED;case C.FAILED_PRECONDITION:return wt.FAILED_PRECONDITION;case C.ABORTED:return wt.ABORTED;case C.OUT_OF_RANGE:return wt.OUT_OF_RANGE;case C.UNIMPLEMENTED:return wt.UNIMPLEMENTED;case C.DATA_LOSS:return wt.DATA_LOSS;default:return y("Unknown status code: "+e)}}(e.cause.code),message:e.cause.message}),{targetChange:{targetChangeType:this.toWatchTargetChangeState(e.state),targetIds:e.targetIds,resumeToken:this.unsafeCastProtoByteString(e.resumeToken),cause:n}}}return y("Unrecognized watch change: "+JSON.stringify(e))},e.prototype.fromWatchChange=function(e){var t,n=e.response_type;if(cn(e,n,"targetChange")){on(e.targetChange,"targetChange");var r=this.fromWatchTargetChangeState(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=e.targetChange.resumeToken||this.emptyByteString(),o=e.targetChange.cause,s=o&&this.fromRpcStatus(o);t=new Qt(r,i,a,s||null)}else if(cn(e,n,"documentChange")){on(e.documentChange,"documentChange"),on(e.documentChange.document,"documentChange.name"),on(e.documentChange.document.name,"documentChange.document.name"),on(e.documentChange.document.updateTime,"documentChange.document.updateTime");var l=e.documentChange,c=this.fromName(l.document.name),u=this.fromVersion(l.document.updateTime),h=this.fromFields(l.document.fields||{}),d=new pe(c,u,h,{},l.document),p=l.targetIds||[],f=l.removedTargetIds||[];t=new Kt(p,f,d.key,d)}else if(cn(e,n,"documentDelete")){on(e.documentDelete,"documentDelete"),on(e.documentDelete.document,"documentDelete.document");var m=e.documentDelete;c=this.fromName(m.document),u=m.readTime?this.fromVersion(m.readTime):tt.forDeletedDoc(),d=new fe(c,u),f=m.removedTargetIds||[],t=new Kt([],f,d.key,d)}else if(cn(e,n,"documentRemove")){on(e.documentRemove,"documentRemove"),on(e.documentRemove.document,"documentRemove");var v=e.documentRemove;c=this.fromName(v.document),f=v.removedTargetIds||[],t=new Kt([],f,c,null)}else{if(!cn(e,n,"filter"))return y("Unknown change type "+JSON.stringify(e));on(e.filter,"filter"),on(e.filter.targetId,"filter.targetId");var g=e.filter,b=g.count||0,w=new Ct(b),E=g.targetId;t=new Gt(E,w)}return t},e.prototype.fromWatchTargetChangeState=function(e){return"NO_CHANGE"===e?Vt.NoChange:"ADD"===e?Vt.Added:"REMOVE"===e?Vt.Removed:"CURRENT"===e?Vt.Current:"RESET"===e?Vt.Reset:y("Got unexpected TargetChange.state: "+e)},e.prototype.versionFromListenResponse=function(e){if(!cn(e,e.response_type,"targetChange"))return tt.MIN;var t=e.targetChange;return t.targetIds&&t.targetIds.length?tt.MIN:t.readTime?this.fromVersion(t.readTime):tt.MIN},e.prototype.toMutation=function(e){var t,n=this;if(e instanceof dt)t={update:this.toMutationDocument(e.key,e.value)};else if(e instanceof mt)t={delete:this.toName(e.key)};else if(e instanceof pt)t={update:this.toMutationDocument(e.key,e.data),updateMask:this.toDocumentMask(e.fieldMask)};else{if(!(e instanceof ft))return y("Unknown mutation type "+e.type);t={transform:{document:this.toName(e.key),fieldTransforms:e.fieldTransforms.map(function(e){return n.toFieldTransform(e)})}}}return e.precondition.isNone||(t.currentDocument=this.toPrecondition(e.precondition)),t},e.prototype.fromMutation=function(e){var t=this,n=e.currentDocument?this.fromPrecondition(e.currentDocument):ut.NONE;if(e.update){on(e.update.name,"name");var r=this.fromName(e.update.name),i=this.fromFields(e.update.fields||{});if(e.updateMask){var a=this.fromDocumentMask(e.updateMask);return new pt(r,i,a,n)}return new dt(r,i,n)}if(e.delete)return r=this.fromName(e.delete),new mt(r,n);if(e.transform){r=this.fromName(e.transform.document);var o=e.transform.fieldTransforms.map(function(e){return t.fromFieldTransform(e)});return b(!0===n.exists,'Transforms only support precondition "exists == true"'),new ft(r,o)}return y("unknown mutation proto: "+JSON.stringify(e))},e.prototype.toPrecondition=function(e){return b(!e.isNone,"Can't serialize an empty precondition"),void 0!==e.updateTime?{updateTime:this.toVersion(e.updateTime)}:void 0!==e.exists?{exists:e.exists}:y("Unknown precondition")},e.prototype.fromPrecondition=function(e){return void 0!==e.updateTime?ut.updateTime(this.fromVersion(e.updateTime)):void 0!==e.exists?ut.exists(e.exists):ut.NONE},e.prototype.fromWriteResult=function(e,t){var n=this,r=e.updateTime?this.fromVersion(e.updateTime):this.fromVersion(t),i=null;return e.transformResults&&0<e.transformResults.length&&(i=e.transformResults.map(function(e){return n.fromValue(e)})),new ct(r,i)},e.prototype.fromWriteResults=function(e,t){var n=this;return e&&0<e.length?(b(void 0!==t,"Received a write result without a commit time"),e.map(function(e){return n.fromWriteResult(e,t)})):[]},e.prototype.toFieldTransform=function(e){var t=this,n=e.transform;if(n instanceof vt)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof gt)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements.map(function(e){return t.toValue(e)})}};if(n instanceof yt)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements.map(function(e){return t.toValue(e)})}};throw y("Unknown transform: "+e.transform)},e.prototype.fromFieldTransform=function(e){var t=this,n=e.transform_type,r=null;if(cn(e,n,"setToServerValue"))b("REQUEST_TIME"===e.setToServerValue,"Unknown server value transform proto: "+JSON.stringify(e)),r=vt.instance;else if(cn(e,n,"appendMissingElements")){var i=e.appendMissingElements.values||[];r=new gt(i.map(function(e){return t.fromValue(e)}))}else cn(e,n,"removeAllFromArray")?(i=e.removeAllFromArray.values||[],r=new yt(i.map(function(e){return t.fromValue(e)}))):y("Unknown transform proto: "+JSON.stringify(e));var a=ue.fromServerFormat(e.fieldPath);return new lt(a,r)},e.prototype.toDocumentsTarget=function(e){return{documents:[this.toQueryPath(e.path)]}},e.prototype.fromDocumentsTarget=function(e){var t=e.documents.length;b(1===t,"DocumentsTarget contained other than 1 document: "+t);var n=e.documents[0];return He.atPath(this.fromQueryPath(n))},e.prototype.toQueryTarget=function(e){var t={structuredQuery:{}};if(e.path.isEmpty())t.parent=this.toQueryPath(le.EMPTY_PATH);else{var n=e.path;b(n.length%2!=0,"Document queries with filters are not supported."),t.parent=this.toQueryPath(n.popLast()),t.structuredQuery.from=[{collectionId:n.lastSegment()}]}var r=this.toFilter(e.filters);r&&(t.structuredQuery.where=r);var i=this.toOrder(e.orderBy);i&&(t.structuredQuery.orderBy=i);var a=this.toInt32Value(e.limit);return void 0!==a&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=this.toCursor(e.startAt)),e.endAt&&(t.structuredQuery.endAt=this.toCursor(e.endAt)),t},e.prototype.fromQueryTarget=function(e){var t=this.fromQueryPath(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0;if(0<r){b(1===r,"StructuredQuery.from with more than one collection is not supported.");var i=n.from[0];t=t.child(i.collectionId)}var a=[];n.where&&(a=this.fromFilter(n.where));var o=[];n.orderBy&&(o=this.fromOrder(n.orderBy));var s=null;n.limit&&(s=this.fromInt32Value(n.limit));var l=null;n.startAt&&(l=this.fromCursor(n.startAt));var c=null;return n.endAt&&(c=this.fromCursor(n.endAt)),new He(t,o,a,s,l,c)},e.prototype.toListenRequestLabels=function(e){var t=this.toLabel(e.purpose);return null==t?null:{"goog-listen-tags":t}},e.prototype.toLabel=function(e){switch(e){case qe.Listen:return null;case qe.ExistenceFilterMismatch:return"existence-filter-mismatch";case qe.LimboResolution:return"limbo-document";default:return y("Unrecognized query purpose: "+e)}},e.prototype.toTarget=function(e){var t,n=e.query;return(t=n.isDocumentQuery()?{documents:this.toDocumentsTarget(n)}:{query:this.toQueryTarget(n)}).targetId=e.targetId,0<e.resumeToken.length&&(t.resumeToken=this.unsafeCastProtoByteString(e.resumeToken)),t},e.prototype.toFilter=function(e){var t=this;if(0!==e.length){var n=e.map(function(e){return e instanceof Ke?t.toRelationFilter(e):t.toUnaryFilter(e)});return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},e.prototype.fromFilter=function(e){var t=this;return e?void 0!==e.unaryFilter?[this.fromUnaryFilter(e)]:void 0!==e.fieldFilter?[this.fromRelationFilter(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map(function(e){return t.fromFilter(e)}).reduce(function(e,t){return e.concat(t)}):y("Unknown filter: "+JSON.stringify(e)):[]},e.prototype.toOrder=function(e){var t=this;if(0!==e.length)return e.map(function(e){return t.toPropertyOrder(e)})},e.prototype.fromOrder=function(e){var t=this;return e.map(function(e){return t.fromPropertyOrder(e)})},e.prototype.toCursor=function(e){var t=this;return{before:e.before,values:e.position.map(function(e){return t.toValue(e)})}},e.prototype.fromCursor=function(e){var t=this,n=!!e.before,r=e.values.map(function(e){return t.fromValue(e)});return new Xe(r,n)},e.prototype.toDirection=function(e){return nn[e.name]},e.prototype.fromDirection=function(e){switch(e){case"ASCENDING":return Ye.ASCENDING;case"DESCENDING":return Ye.DESCENDING;default:return}},e.prototype.toOperatorName=function(e){return rn[e.name]},e.prototype.fromOperatorName=function(e){switch(e){case"EQUAL":return We.EQUAL;case"GREATER_THAN":return We.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return We.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return We.LESS_THAN;case"LESS_THAN_OR_EQUAL":return We.LESS_THAN_OR_EQUAL;case"ARRAY_CONTAINS":return We.ARRAY_CONTAINS;case"OPERATOR_UNSPECIFIED":return y("Unspecified relation");default:return y("Unknown relation")}},e.prototype.toFieldPathReference=function(e){return{fieldPath:e.canonicalString()}},e.prototype.fromFieldPathReference=function(e){return ue.fromServerFormat(e.fieldPath)},e.prototype.toPropertyOrder=function(e){return{field:this.toFieldPathReference(e.field),direction:this.toDirection(e.dir)}},e.prototype.fromPropertyOrder=function(e){return new Je(this.fromFieldPathReference(e.field),this.fromDirection(e.direction))},e.prototype.toRelationFilter=function(e){return e instanceof Ke?{fieldFilter:{field:this.toFieldPathReference(e.field),op:this.toOperatorName(e.op),value:this.toValue(e.value)}}:y("Unrecognized filter: "+JSON.stringify(e))},e.prototype.fromRelationFilter=function(e){return new Ke(this.fromFieldPathReference(e.fieldFilter.field),this.fromOperatorName(e.fieldFilter.op),this.fromValue(e.fieldFilter.value))},e.prototype.toUnaryFilter=function(e){return e instanceof Qe?{unaryFilter:{field:this.toFieldPathReference(e.field),op:"IS_NAN"}}:e instanceof Ge?{unaryFilter:{field:this.toFieldPathReference(e.field),op:"IS_NULL"}}:y("Unrecognized filter: "+JSON.stringify(e))},e.prototype.fromUnaryFilter=function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=this.fromFieldPathReference(e.unaryFilter.field);return new Qe(t);case"IS_NULL":var n=this.fromFieldPathReference(e.unaryFilter.field);return new Ge(n);case"OPERATOR_UNSPECIFIED":return y("Unspecified filter");default:return y("Unknown filter")}},e.prototype.toDocumentMask=function(e){var t=[];return e.fields.forEach(function(e){return t.push(e.canonicalString())}),{fieldPaths:t}},e.prototype.fromDocumentMask=function(e){var t=(e.fieldPaths||[]).map(function(e){return ue.fromServerFormat(e)});return st.fromArray(t)},e}();function cn(e,t,n){return t===n||!t&&n in e}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var un=function(){function e(e){this.sendFn=e.sendFn,this.closeFn=e.closeFn}return e.prototype.onOpen=function(e){b(!this.wrappedOnOpen,"Called onOpen on stream twice!"),this.wrappedOnOpen=e},e.prototype.onClose=function(e){b(!this.wrappedOnClose,"Called onClose on stream twice!"),this.wrappedOnClose=e},e.prototype.onMessage=function(e){b(!this.wrappedOnMessage,"Called onMessage on stream twice!"),this.wrappedOnMessage=e},e.prototype.close=function(){this.closeFn()},e.prototype.send=function(e){this.sendFn(e)},e.prototype.callOnOpen=function(){b(void 0!==this.wrappedOnOpen,"Cannot call onOpen because no callback was set"),this.wrappedOnOpen()},e.prototype.callOnClose=function(e){b(void 0!==this.wrappedOnClose,"Cannot call onClose because no callback was set"),this.wrappedOnClose(e)},e.prototype.callOnMessage=function(e){b(void 0!==this.wrappedOnMessage,"Cannot call onMessage because no callback was set"),this.wrappedOnMessage(e)},e}(),hn="Connection",dn={BatchGetDocuments:"batchGet",Commit:"commit"},pn="gl-js/ fire/"+h,fn=function(){function e(e){this.databaseId=e.databaseId,this.pool=new c.XhrIoPool;var t=e.ssl?"https":"http";this.baseUrl=t+"://"+e.host}return e.prototype.modifyHeadersForRequest=function(e,t){if(t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n]);e["X-Goog-Api-Client"]=pn},e.prototype.invokeRPC=function(e,t,n){var r=this,i=this.makeUrl(e);return new Promise(function(a,o){r.pool.getObject(function(s){s.listenOnce(c.EventType.COMPLETE,function(){try{switch(s.getLastErrorCode()){case c.ErrorCode.NO_ERROR:var t=s.getResponseJson();m(hn,"XHR received:",JSON.stringify(t)),a(t);break;case c.ErrorCode.TIMEOUT:m(hn,'RPC "'+e+'" timed out'),o(new S(C.DEADLINE_EXCEEDED,"Request time out"));break;case c.ErrorCode.HTTP_ERROR:var n=s.getStatus();m(hn,'RPC "'+e+'" failed with status:',n,"response text:",s.getResponseText()),0<n?o(new S(function(e){switch(e){case 200:return C.OK;case 400:return C.INVALID_ARGUMENT;case 401:return C.UNAUTHENTICATED;case 403:return C.PERMISSION_DENIED;case 404:return C.NOT_FOUND;case 409:return C.ABORTED;case 416:return C.OUT_OF_RANGE;case 429:return C.RESOURCE_EXHAUSTED;case 499:return C.CANCELLED;case 500:return C.UNKNOWN;case 501:return C.UNIMPLEMENTED;case 503:return C.UNAVAILABLE;case 504:return C.DEADLINE_EXCEEDED;default:return 200<=e&&e<300?C.OK:400<=e&&e<500?C.FAILED_PRECONDITION:500<=e&&e<600?C.INTERNAL:C.UNKNOWN}}(n),"Server responded with status "+s.getStatusText())):(m(hn,'RPC "'+e+'" failed'),o(new S(C.UNAVAILABLE,"Connection failed.")));break;default:y('RPC "'+e+'" failed with unanticipated webchannel error '+s.getLastErrorCode()+": "+s.getLastError()+", giving up.")}}finally{m(hn,'RPC "'+e+'" completed.'),r.pool.releaseObject(s)}});var l=JSON.stringify(t);m(hn,"XHR sending: ",i+" "+l);var u={"Content-Type":"text/plain"};r.modifyHeadersForRequest(u,n),s.send(i,"POST",l,u,15)})})},e.prototype.invokeStreamingRPC=function(e,t,n){return this.invokeRPC(e,t,n)},e.prototype.openStream=function(e,t){var n=[this.baseUrl,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=c.createWebChannelTransport(),i={backgroundChannelTest:!0,httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0};this.modifyHeadersForRequest(i.initMessageHeaders,t),u.isReactNative()||(i.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");m(hn,"Creating WebChannel: "+a+" "+i);var o=r.createWebChannel(a,i),s=!1,l=!1,h=new un({sendFn:function(e){l?m(hn,"Not sending because WebChannel is closed:",e):(s||(m(hn,"Opening WebChannel transport."),o.open(),s=!0),m(hn,"WebChannel sending:",e),o.send(e))},closeFn:function(){return o.close()}}),d=function(e,t){o.listen(e,function(e){try{t(e)}catch(e){setTimeout(function(){throw e},0)}})};return d(c.WebChannel.EventType.OPEN,function(){l||m(hn,"WebChannel transport opened.")}),d(c.WebChannel.EventType.CLOSE,function(){l||(l=!0,m(hn,"WebChannel transport closed"),h.callOnClose())}),d(c.WebChannel.EventType.ERROR,function(e){l||(l=!0,m(hn,"WebChannel transport errored:",e),h.callOnClose(new S(C.UNAVAILABLE,"The operation could not be completed")))}),d(c.WebChannel.EventType.MESSAGE,function(e){if(!l){var t=e.data[0];b(!!t,"Got a webchannel message without data.");var n=t.error||t[0]&&t[0].error;if(n){m(hn,"WebChannel received error:",n);var r=n.status,i=function(e){var t=wt[r];if(void 0!==t)return _t(t)}(),a=n.message;void 0===i&&(i=C.INTERNAL,a="Unknown error status: "+r+" with message "+n.message),l=!0,h.callOnClose(new S(i,a)),o.close()}else m(hn,"WebChannel received:",t),h.callOnMessage(t)}}),setTimeout(function(){h.callOnOpen()},0),h},e.prototype.makeUrl=function(e){var t=dn[e];b(void 0!==t,"Unknown REST mapping for: "+e);var n=[this.baseUrl,"/","v1"];return n.push("/projects/"),n.push(this.databaseId.projectId),n.push("/databases/"),n.push(this.databaseId.database),n.push("/documents"),n.push(":"),n.push(t),n.join("")},e}(),mn=function(){function e(){this.emptyByteString="",this.base64Available="undefined"!=typeof atob}return Object.defineProperty(e.prototype,"document",{get:function(){return"undefined"!=typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"window",{get:function(){return"undefined"!=typeof window?window:null},enumerable:!0,configurable:!0}),e.prototype.loadConnection=function(e){return Promise.resolve(new fn(e))},e.prototype.newSerializer=function(e){return new ln(e,{useProto3Json:!0})},e.prototype.formatJSON=function(e){return JSON.stringify(e)},e.prototype.atob=function(e){return atob(e)},e.prototype.btoa=function(e){return btoa(e)},e}();
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */w.setPlatform(new mn);
/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var vn,gn,yn=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.setPreviousValue(e)},this.writeNewSequenceNumber=function(e){return t.writeSequenceNumber(e)})}return e.prototype.setPreviousValue=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.writeNewSequenceNumber&&this.writeNewSequenceNumber(e),e},e.INVALID=-1,e}(),bn=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})};
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
(gn=vn||(vn={})).All="all",gn.ListenStreamIdle="listen_stream_idle",gn.ListenStreamConnectionBackoff="listen_stream_connection_backoff",gn.WriteStreamIdle="write_stream_idle",gn.WriteStreamConnectionBackoff="write_stream_connection_backoff",gn.OnlineStateTimeout="online_state_timeout",gn.ClientMetadataRefresh="client_metadata_refresh",gn.LruGarbageCollection="lru_garbage_collection";var wn=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new bn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.catch=this.deferred.promise.catch.bind(this.deferred.promise),this.deferred.promise.catch(function(e){})}return e.createAndSchedule=function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout(function(){return t.handleDelayElapsed()},e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new S(C.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget(function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then(function(t){return e.deferred.resolve(t)})):Promise.resolve()})},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}(),En=function(){function e(){this.tail=Promise.resolve(),this.delayedOperations=[],this.operationInProgress=!1}return e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueue=function(e){var t=this;this.verifyNotFailed();var n=this.tail.then(function(){return t.operationInProgress=!0,e().catch(function(e){t.failure=e,t.operationInProgress=!1;var n=e.stack||e.message||"";throw v("INTERNAL UNHANDLED ERROR: ",n),n.indexOf("Firestore Test Simulated Error")<0&&setTimeout(function(){throw e},0),e}).then(function(e){return t.operationInProgress=!1,e})});return this.tail=n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.verifyNotFailed(),b(0<=t,"Attempted to schedule an operation with a negative delay of "+t),b(!this.containsDelayedOperation(e),"Attempted to schedule multiple operations with timer id "+e+".");var i=wn.createAndSchedule(this,e,t,n,function(e){return r.removeDelayedOperation(e)});return this.delayedOperations.push(i),i},e.prototype.verifyNotFailed=function(){this.failure&&y("AsyncQueue is already failed: "+(this.failure.stack||this.failure.message))},e.prototype.verifyOperationInProgress=function(){b(this.operationInProgress,"verifyOpInProgress() called when no op in progress on this queue.")},e.prototype.drain=function(){return this.enqueue(function(){return Promise.resolve()})},e.prototype.containsDelayedOperation=function(e){for(var t=0,n=this.delayedOperations;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},e.prototype.runDelayedOperationsEarly=function(e){var t=this;return this.drain().then(function(){b(e===vn.All||t.containsDelayedOperation(e),"Attempted to drain to missing operation "+e),t.delayedOperations.sort(function(e,t){return e.targetTimeMs-t.targetTimeMs});for(var n=0,r=t.delayedOperations;n<r.length;n++){var i=r[n];if(i.skipDelay(),e!==vn.All&&i.timerId===e)break}return t.drain()})},e.prototype.removeDelayedOperation=function(e){var t=this.delayedOperations.indexOf(e);b(0<=t,"Delayed operation not found."),this.delayedOperations.splice(t,1)},e}(),Cn="",Sn="",_n="",Tn="";function kn(e){for(var t="",n=0;n<e.length;n++)0<t.length&&(t=In(t)),t=xn(e.get(n),t);return In(t)}function xn(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+=Cn+_n;break;case Cn:n+=Cn+Tn;break;default:n+=a}}return n}function In(e){return e+Cn+Sn}function On(e){var t=e.length;if(b(2<=t,"Invalid path "+e),2===t)return b(e.charAt(0)===Cn&&e.charAt(1)===Sn,"Non-empty path "+e+" had length 2"),le.EMPTY_PATH;for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf(Cn,a);switch((o<0||n<o)&&y('Invalid encoded resource path: "'+e+'"'),e.charAt(o+1)){case Sn:var s=e.substring(a,o),l=void 0;0===i.length?l=s:(l=i+=s,i=""),r.push(l);break;case _n:i+=e.substring(a,o),i+="\0";break;case Tn:i+=e.substring(a,o+1);break;default:y('Invalid encoded resource path: "'+e+'"')}a=o+2}return new le(r)}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pn,An,Dn=function(){function e(e,t,n){this.batchId=e,this.localWriteTime=t,b(0<(this.mutations=n).length,"Cannot create an empty mutation batch")}return e.prototype.applyToRemoteDocument=function(e,t,n){t&&b(t.key.isEqual(e),"applyToRemoteDocument: key "+e+" should match maybeDoc key\n        "+t.key);var r=n.mutationResults;b(r.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+r.length+").");for(var i=0;i<this.mutations.length;i++){var a=this.mutations[i];if(a.key.isEqual(e)){var o=r[i];t=a.applyToRemoteDocument(t,o)}}return t},e.prototype.applyToLocalView=function(e,t){t&&b(t.key.isEqual(e),"applyToLocalDocument: key "+e+" should match maybeDoc key\n        "+t.key);for(var n=t,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e)&&(t=i.applyToLocalView(t,n,this.localWriteTime))}return t},e.prototype.keys=function(){for(var e=Nt(),t=0,n=this.mutations;t<n.length;t++){var r=n[t];e=e.add(r.key)}return e},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&G(this.mutations,e.mutations)},e}(),Nn=function(){function e(e,t,n,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.streamToken=r,this.docVersions=i}return e.from=function(t,n,r,i){b(t.mutations.length===r.length,"Mutations sent "+t.mutations.length+" must equal results received "+r.length);for(var a=At(),o=t.mutations,s=0;s<o.length;s++)a=a.insert(o[s].key,r[s].version);return new e(t,n,r,i,a)},e}();(An=Pn||(Pn={}))[An.QueryCache=0]="QueryCache",An[An.SyncEngine=1]="SyncEngine";var Mn=function(){function e(e,t){b((1&(this.generatorId=e))===e,"Generator ID "+e+" contains more than 1 reserved bits"),this.seek(void 0!==t?t:this.generatorId)}return e.prototype.next=function(){var e=this.nextId;return this.nextId+=2,e},e.prototype.after=function(e){return this.seek(e+2),this.next()},e.prototype.seek=function(e){b((1&e)===this.generatorId,"Cannot supply target ID from different generator ID"),this.nextId=e},e.forQueryCache=function(){return new e(Pn.QueryCache,2)},e.forSyncEngine=function(){return new e(Pn.SyncEngine)},e}(),Rn=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)},function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)})}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&y("Called next() or catch() twice for PersistencePromise"),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}})},e.prototype.toPromise=function(){var e=this;return new Promise(function(t,n){e.next(t,n)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(e,n){e(t)})},e.reject=function(t){return new e(function(e,n){n(t)})},e.waitFor=function(t){return new e(function(e,n){var r=0,i=0,a=!1;t.forEach(function(t){++r,t.next(function(){++i,a&&i===r&&e()},function(e){return n(e)})}),a=!0,i===r&&e()})},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next(function(n){return n?e.resolve(n):t()})},i=0,a=t;i<a.length;i++)r(a[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach(function(e,i){r.push(t.call(n,e,i))}),this.waitFor(r)},e}(),Ln="SimpleDb",Fn=function(){function t(e){this.db=e}return t.openOrCreate=function(e,n,r){return b(t.isAvailable(),"IndexedDB not supported in current environment."),m(Ln,"Opening database:",e),new Rn(function(i,a){var o=window.indexedDB.open(e,n);o.onsuccess=function(e){var n=e.target.result;i(new t(n))},o.onblocked=function(){a(new S(C.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=function(e){var t=e.target.error;"VersionError"===t.name?a(new S(C.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a(t)},o.onupgradeneeded=function(t){m(Ln,'Database "'+e+'" requires upgrade from version:',t.oldVersion);var n=t.target.result,i=new jn(o.transaction);r.createOrUpgrade(n,i,t.oldVersion,rr).next(function(){m(Ln,"Database upgrade to version "+rr+" complete")})}}).toPromise()},t.delete=function(e){return m(Ln,"Removing database:",e),Vn(window.indexedDB.deleteDatabase(e)).toPromise()},t.isAvailable=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;if(void 0===window.navigator)return"YES"===e.env.USE_MOCK_PERSISTENCE;var t=window.navigator.userAgent;return!(0<t.indexOf("MSIE ")||0<t.indexOf("Trident/")||0<t.indexOf("Edge/"))},t.getStore=function(e,t){return e.store(t)},t.prototype.runTransaction=function(e,t,n){var r=jn.open(this.db,e,t),i=n(r).catch(function(e){return r.abort(e),Rn.reject(e)}).toPromise();return i.catch(function(){}),r.completionPromise.then(function(){return i})},t.prototype.close=function(){this.db.close()},t}(),Bn=function(){function e(e){this.dbCursor=e,this.shouldStop=!1,this.nextKey=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.shouldStop},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"skipToKey",{get:function(){return this.nextKey},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.dbCursor=e},enumerable:!0,configurable:!0}),e.prototype.done=function(){this.shouldStop=!0},e.prototype.skip=function(e){this.nextKey=e},e.prototype.delete=function(){return Vn(this.dbCursor.delete())},e}(),jn=function(){function e(e){var t=this;this.transaction=e,this.aborted=!1,this.completionDeferred=new bn,this.transaction.oncomplete=function(){t.completionDeferred.resolve()},this.transaction.onabort=function(){e.error?t.completionDeferred.reject(e.error):t.completionDeferred.resolve()},this.transaction.onerror=function(e){t.completionDeferred.reject(e.target.error)}}return e.open=function(t,n,r){return new e(t.transaction(r,n))},Object.defineProperty(e.prototype,"completionPromise",{get:function(){return this.completionDeferred.promise},enumerable:!0,configurable:!0}),e.prototype.abort=function(e){e&&this.completionDeferred.reject(e),this.aborted||(m(Ln,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return b(!!t,"Object store not part of transaction: "+e),new $n(t)},e}(),$n=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){return Vn(void 0!==t?(m(Ln,"PUT",this.store.name,e,t),this.store.put(t,e)):(m(Ln,"PUT",this.store.name,"<auto-key>",e),this.store.put(e)))},e.prototype.add=function(e){return m(Ln,"ADD",this.store.name,e,e),Vn(this.store.add(e))},e.prototype.get=function(e){var t=this;return Vn(this.store.get(e)).next(function(n){return void 0===n&&(n=null),m(Ln,"GET",t.store.name,e,n),n})},e.prototype.delete=function(e){return m(Ln,"DELETE",this.store.name,e),Vn(this.store.delete(e))},e.prototype.count=function(){return m(Ln,"COUNT",this.store.name),Vn(this.store.count())},e.prototype.loadAll=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.iterateCursor(n,function(e,t){r.push(t)}).next(function(){return r})},e.prototype.deleteAll=function(e,t){m(Ln,"DELETE ALL",this.store.name);var n=this.options(e,t);n.keysOnly=!1;var r=this.cursor(n);return this.iterateCursor(r,function(e,t,n){return n.delete()})},e.prototype.iterate=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.iterateCursor(r,t)},e.prototype.iterateSerial=function(e){var t=this.cursor({});return new Rn(function(n,r){t.onerror=function(e){r(e.target.error)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next(function(e){e?r.continue():n()}):n()}})},e.prototype.iterateCursor=function(e,t){var n=[];return new Rn(function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Bn(i),o=t(i.primaryKey,i.value,a);if(o instanceof Rn){var s=o.catch(function(e){return a.done(),Rn.reject(e)});n.push(s)}a.isDone?r():null===a.skipToKey?i.continue():i.continue(a.skipToKey)}else r()}}).next(function(){return Rn.waitFor(n)})},e.prototype.options=function(e,t){var n=void 0;return void 0!==e&&("string"==typeof e?n=e:(b(void 0===t,"3rd argument must not be defined if 2nd is a range."),t=e)),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.keysOnly?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(e){return new Rn(function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){n(e.target.error)}})}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qn=function(){function e(e,t){this.referenceDelegate=e,this.serializer=t,this.targetIdGenerator=Mn.forQueryCache()}return e.prototype.allocateTargetId=function(e){var t=this;return this.retrieveMetadata(e).next(function(n){return n.highestTargetId=t.targetIdGenerator.after(n.highestTargetId),t.saveMetadata(e,n).next(function(){return n.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.retrieveMetadata(e).next(function(e){return tt.fromTimestamp(new ie(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(e){return zn(e.simpleDbTransaction)},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.retrieveMetadata(e).next(function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.saveMetadata(e,i)})},e.prototype.addQueryData=function(e,t){var n=this;return this.saveQueryData(e,t).next(function(){return n.retrieveMetadata(e).next(function(r){return r.targetCount+=1,n.updateMetadataFromQueryData(t,r),n.saveMetadata(e,r)})})},e.prototype.updateQueryData=function(e,t){return this.saveQueryData(e,t)},e.prototype.removeQueryData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next(function(){return Un(e).delete(t.targetId)}).next(function(){return n.retrieveMetadata(e)}).next(function(t){return b(0<t.targetCount,"Removing from an empty query cache"),t.targetCount-=1,n.saveMetadata(e,t)})},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,a=[];return Un(e).iterate(function(o,s){var l=r.serializer.fromDbTarget(s);l.sequenceNumber<=t&&void 0===n[l.targetId]&&(i++,a.push(r.removeQueryData(e,l)))}).next(function(){return Rn.waitFor(a)}).next(function(){return i})},e.prototype.forEachTarget=function(e,t){var n=this;return Un(e).iterate(function(e,r){var i=n.serializer.fromDbTarget(r);t(i)})},e.prototype.retrieveMetadata=function(e){return Hn(e.simpleDbTransaction)},e.prototype.saveMetadata=function(e,t){return(n=e,jr.getStore(n,vr.store)).put(vr.key,t);var n},e.prototype.saveQueryData=function(e,t){return Un(e).put(this.serializer.toDbTarget(t))},e.prototype.updateMetadataFromQueryData=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getQueryCount=function(e){return this.retrieveMetadata(e).next(function(e){return e.targetCount})},e.prototype.getQueryData=function(e,t){var n=this,r=t.canonicalId(),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),a=null;return Un(e).iterate({range:i,index:fr.queryTargetsIndexName},function(e,r,i){var o=n.serializer.fromDbTarget(r);t.isEqual(o.query)&&(a=o,i.done())}).next(function(){return a})},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],a=Wn(e);return t.forEach(function(t){var o=kn(t.path);i.push(a.put(new mr(n,o))),i.push(r.referenceDelegate.addReference(e,t))}),Rn.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=Wn(e);return Rn.forEach(t,function(t){var a=kn(t.path);return Rn.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,t)])})},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=Wn(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Wn(e),i=Nt();return r.iterate({range:n,keysOnly:!0},function(e,t,n){var r=On(e[1]),a=new he(r);i=i.add(a)}).next(function(){return i})},e.prototype.containsKey=function(e,t){var n,r=kn(t.path),i=IDBKeyRange.bound([r],[(n=r,n+"\0")],!1,!0),a=0;return Wn(e).iterate({index:mr.documentTargetsIndex,keysOnly:!0,range:i},function(e,t,n){var r=e[0];e[1],0!==r&&(a++,n.done())}).next(function(){return 0<a})},e.prototype.getQueryDataForTarget=function(e,t){var n=this;return Un(e).get(t).next(function(e){return e?n.serializer.fromDbTarget(e):null})},e}();function Un(e){return jr.getStore(e,fr.store)}function Hn(e){return Fn.getStore(e,vr.store).get(vr.key).next(function(e){return b(null!==e,"Missing metadata row."),e})}function zn(e){return Hn(e).next(function(e){return e.highestListenSequenceNumber})}function Wn(e){return jr.getStore(e,mr.store)}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kn=function(){function e(e){this.mapKeyFn=e,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var a=i[r],o=a[0],s=a[1];if(o.isEqual(e))return s}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(r[i][0].isEqual(e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].isEqual(e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){I(this.inner,function(t,n){for(var r=0,i=n;r<i.length;r++){var a=i[r],o=a[0],s=a[1];e(o,s)}})},e.prototype.isEmpty=function(){return O(this.inner)},e}(),Gn=function(){function e(){this.changes=kt(),this.documentSizes=new Kn(function(e){return e.toString()})}return e.prototype.addEntry=function(e){var t=this.assertChanges();this.changes=t.insert(e.key,e)},e.prototype.getEntry=function(e,t){var n=this,r=this.assertChanges().get(t);return r?Rn.resolve(r):this.getFromCache(e,t).next(function(e){return null===e?(n.documentSizes.set(t,0),null):(n.documentSizes.set(t,e.size),e.maybeDocument)})},e.prototype.getEntries=function(e,t){var n=this;return this.getAllFromCache(e,t).next(function(e){var t=e.maybeDocuments;return e.sizeMap.forEach(function(e,t){n.documentSizes.set(e,t)}),t})},e.prototype.apply=function(e){var t=this.applyChanges(e);return this.changes=null,t},e.prototype.assertChanges=function(){return b(null!==this.changes,"Changes have already been applied."),this.changes},e}(),Qn="The remote document changelog no longer contains all changes for all local query views. It may be necessary to rebuild these views.",Yn=function(){function e(e,t){this.serializer=e,this.keepDocumentChangeLog=t,this._lastProcessedDocumentChangeId=0}return Object.defineProperty(e.prototype,"lastProcessedDocumentChangeId",{get:function(){return this._lastProcessedDocumentChangeId},enumerable:!0,configurable:!0}),e.prototype.start=function(e){var t=Fn.getStore(e,yr.store);return this.synchronizeLastDocumentChangeId(t)},e.prototype.addEntries=function(e,t,n){var r=[];if(0<t.length){for(var i=Zn(e),a=Nt(),o=0,s=t;o<s.length;o++){var l=s[o],c=l.key,u=l.doc;r.push(i.put(tr(c),u)),a=a.add(c)}this.keepDocumentChangeLog&&r.push(er(e).put({changes:this.serializer.toDbResourcePaths(a)})),r.push(this.updateSize(e,n))}return Rn.waitFor(r)},e.prototype.removeEntry=function(e,t){var n=Zn(e),r=tr(t);return n.get(r).next(function(e){return e?n.delete(r).next(function(){return nr(e)}):Rn.resolve(0)})},e.prototype.getEntry=function(e,t){var n=this;return Zn(e).get(tr(t)).next(function(e){return e?n.serializer.fromDbRemoteDocument(e):null})},e.prototype.getSizedEntry=function(e,t){var n=this;return Zn(e).get(tr(t)).next(function(e){return e?{maybeDocument:n.serializer.fromDbRemoteDocument(e),size:nr(e)}:null})},e.prototype.getEntries=function(e,t){var n=this,r=xt();return this.forEachDbEntry(e,t,function(e,t){r=t?r.insert(e,n.serializer.fromDbRemoteDocument(t)):r.insert(e,null)}).next(function(){return r})},e.prototype.getSizedEntries=function(e,t){var n=this,r=xt(),i=new ve(he.comparator);return this.forEachDbEntry(e,t,function(e,t){i=t?(r=r.insert(e,n.serializer.fromDbRemoteDocument(t)),i.insert(e,nr(t))):(r=r.insert(e,null),i.insert(e,0))}).next(function(){return{maybeDocuments:r,sizeMap:i}})},e.prototype.forEachDbEntry=function(e,t,n){if(t.isEmpty())return Rn.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),a=i.getNext();return Zn(e).iterate({range:r},function(e,t,r){for(var o=he.fromSegments(e);a&&he.comparator(a,o)<0;)n(a,null),a=i.getNext();a&&a.isEqual(o)&&(n(a,t),a=i.hasNext()?i.getNext():null),a?r.skip(a.path.toArray()):r.done()}).next(function(){for(;a;)n(a,null),a=i.hasNext()?i.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(e,t){var n=this,r=Ot(),i=t.path.toArray(),a=IDBKeyRange.lowerBound(i);return Zn(e).iterate({range:a},function(e,i,a){var o=n.serializer.fromDbRemoteDocument(i);t.path.isPrefixOf(o.key.path)?o instanceof pe&&t.matches(o)&&(r=r.insert(o.key,o)):a.done()}).next(function(){return r})},e.prototype.getNewDocumentChanges=function(e){var t=this;b(this.keepDocumentChangeLog,"Can only call getNewDocumentChanges() when document change log is enabled");var n=Nt(),r=kt(),i=IDBKeyRange.lowerBound(this._lastProcessedDocumentChangeId+1),a=!0,o=er(e);return o.iterate({range:i},function(e,r){if(a&&(a=!1,t._lastProcessedDocumentChangeId+1!==r.id))return t.synchronizeLastDocumentChangeId(o).next(function(){return Rn.reject(new S(C.DATA_LOSS,Qn))});n=n.unionWith(t.serializer.fromDbResourcePaths(r.changes)),t._lastProcessedDocumentChangeId=r.id}).next(function(){var i=[];return n.forEach(function(n){i.push(t.getEntry(e,n).next(function(e){var t=e||new fe(n,tt.forDeletedDoc());r=r.insert(n,t)}))}),Rn.waitFor(i)}).next(function(){return r})},e.prototype.removeDocumentChangesThroughChangeId=function(e,t){var n=IDBKeyRange.upperBound(t);return er(e).delete(n)},e.prototype.synchronizeLastDocumentChangeId=function(e){var t=this;return this._lastProcessedDocumentChangeId=0,e.iterate({keysOnly:!0,reverse:!0},function(e,n,r){t._lastProcessedDocumentChangeId=e,r.done()})},e.prototype.newChangeBuffer=function(){return new Jn(this)},e.prototype.getSize=function(e){return this.getMetadata(e).next(function(e){return e.byteSize})},e.prototype.getMetadata=function(e){return Xn(e).get(pr.key).next(function(e){return b(!!e,"Missing document cache metadata"),e})},e.prototype.setMetadata=function(e,t){return Xn(e).put(pr.key,t)},e.prototype.updateSize=function(e,t){var n=this;return this.getMetadata(e).next(function(r){return r.byteSize+=t,n.setMetadata(e,r)})},e}();
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(e){return jr.getStore(e,pr.store)}var Jn=function(e){function t(t){var n=e.call(this)||this;return n.documentCache=t,n}return l.__extends(t,e),t.prototype.applyChanges=function(e){var t=this,n=this.assertChanges(),r=0,i=[];return n.forEach(function(e,n){var a=t.documentCache.serializer.toDbRemoteDocument(n),o=t.documentSizes.get(e);b(void 0!==o,"Attempting to change document "+e.toString()+" without having read it first");var s=nr(a);r+=s-o,i.push({key:e,doc:a})}),this.documentCache.addEntries(e,i,r)},t.prototype.getFromCache=function(e,t){return this.documentCache.getSizedEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.documentCache.getSizedEntries(e,t)},t}(Gn);function Zn(e){return jr.getStore(e,dr.store)}function er(e){return jr.getStore(e,yr.store)}function tr(e){return e.path.toArray()}function nr(e){var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw y("Unknown remote document type");t=e.noDocument}return JSON.stringify(t).length}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rr=7,ir=function(){function e(e){this.serializer=e}return e.prototype.createOrUpgrade=function(e,t,n,r){var i,a=this;b(n<r&&0<=n&&r<=rr,"Unexpected schema upgrade from v"+n+" to v{toVersion}."),n<1&&1<=r&&(e.createObjectStore(or.store),(i=e).createObjectStore(sr.store,{keyPath:sr.keyPath}),i.createObjectStore(lr.store,{keyPath:lr.keyPath,autoIncrement:!0}).createIndex(lr.userMutationsIndex,lr.userMutationsKeyPath,{unique:!0}),i.createObjectStore(cr.store),gr(e),e.createObjectStore(dr.store));var o,s=Rn.resolve();return n<3&&3<=r&&(0!==n&&((o=e).deleteObjectStore(mr.store),o.deleteObjectStore(fr.store),o.deleteObjectStore(vr.store),gr(e)),s=s.next(function(){return e=t.store(vr.store),n=new vr(0,0,tt.MIN.toTimestamp(),0),e.put(vr.key,n);var e,n})),n<4&&4<=r&&(0!==n&&(s=s.next(function(){return n=e,(r=t).store(lr.store).loadAll().next(function(e){n.deleteObjectStore(lr.store),n.createObjectStore(lr.store,{keyPath:lr.keyPath,autoIncrement:!0}).createIndex(lr.userMutationsIndex,lr.userMutationsKeyPath,{unique:!0});var t=r.store(lr.store),i=e.map(function(e){return t.put(e)});return Rn.waitFor(i)});var n,r})),s=s.next(function(){e.createObjectStore(br.store,{keyPath:br.keyPath}),e.createObjectStore(yr.store,{keyPath:"id",autoIncrement:!0})})),n<5&&5<=r&&(s=s.next(function(){return a.removeAcknowledgedMutations(t)})),n<6&&6<=r&&(s=s.next(function(){return e.createObjectStore(pr.store),a.addDocumentGlobal(t)})),n<7&&7<=r&&(s=s.next(function(){return a.ensureSequenceNumbers(t)})),s},e.prototype.addDocumentGlobal=function(e){var t=0;return e.store(dr.store).iterate(function(e,n){t+=nr(n)}).next(function(){var n=new pr(t);return e.store(pr.store).put(pr.key,n)})},e.prototype.removeAcknowledgedMutations=function(e){var t=this,n=e.store(sr.store),r=e.store(lr.store);return n.loadAll().next(function(n){return Rn.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.loadAll(lr.userMutationsIndex,i).next(function(r){return Rn.forEach(r,function(r){b(r.userId===n.userId,"Cannot process batch "+r.batchId+" from unexpected user");var i=t.serializer.fromDbMutationBatch(r);return Sr(e,n.userId,i).next(function(){})})})})})},e.prototype.ensureSequenceNumbers=function(e){var t=e.store(mr.store),n=e.store(dr.store);return zn(e).next(function(e){var r=[];return n.iterate(function(n,i){var a=new le(n),o=[0,kn(a)];r.push(t.get(o).next(function(n){return n?Rn.resolve():(r=a,t.put(new mr(0,kn(r),e)));var r}))}).next(function(){return Rn.waitFor(r)})})},e}(),ar=function(e,t){this.seconds=e,this.nanoseconds=t},or=function(){function e(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n}return e.store="owner",e.key="owner",e}(),sr=function(){function e(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}return e.store="mutationQueues",e.keyPath="userId",e}(),lr=function(){function e(e,t,n,r){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.mutations=r}return e.store="mutations",e.keyPath="batchId",e.userMutationsIndex="userMutationsIndex",e.userMutationsKeyPath=["userId","batchId"],e}(),cr=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,kn(t)]},e.key=function(e,t,n){return[e,kn(t),n]},e.store="documentMutations",e.PLACEHOLDER=new e,e}(),ur=function(e,t){this.path=e,this.readTime=t},hr=function(e,t){this.path=e,this.version=t},dr=function(){function e(e,t,n,r){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r}return e.store="remoteDocuments",e}(),pr=function(){function e(e){this.byteSize=e}return e.store="remoteDocumentGlobal",e.key="remoteDocumentGlobalKey",e}(),fr=function(){function e(e,t,n,r,i,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.query=a}return e.store="targets",e.keyPath="targetId",e.queryTargetsIndexName="queryTargetsIndex",e.queryTargetsKeyPath=["canonicalId","targetId"],e}(),mr=function(){function e(e,t,n){this.targetId=e,this.path=t,b(0===e==(void 0!==(this.sequenceNumber=n)),"A target-document row must either have targetId == 0 and a defined sequence number, or a non-zero targetId and no sequence number")}return e.store="targetDocuments",e.keyPath=["targetId","path"],e.documentTargetsIndex="documentTargetsIndex",e.documentTargetsKeyPath=["path","targetId"],e}(),vr=function(){function e(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r}return e.key="targetGlobalKey",e.store="targetGlobal",e}();function gr(e){e.createObjectStore(mr.store,{keyPath:mr.keyPath}).createIndex(mr.documentTargetsIndex,mr.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(fr.store,{keyPath:fr.keyPath}).createIndex(fr.queryTargetsIndexName,fr.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(vr.store)}var yr=function(){function e(e){this.changes=e}return e.store="remoteDocumentChanges",e.keyPath="id",e}(),br=function(){function e(e,t,n,r,i){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r,this.lastProcessedDocumentChangeId=i}return e.store="clientMetadata",e.keyPath="clientId",e}(),wr=[sr.store,lr.store,cr.store,dr.store,fr.store,or.store,vr.store,mr.store].concat([br.store,yr.store]).concat([pr.store]),Er=function(){function e(e,t,n){this.userId=e,this.serializer=t,this.referenceDelegate=n,this.documentKeysByBatchId={}}return e.forUser=function(t,n,r){return b(""!==t.uid,"UserID must not be an empty string."),new e(t.isAuthenticated()?t.uid:"",n,r)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Tr(e).iterate({index:lr.userMutationsIndex,range:n},function(e,n,r){t=!1,r.done()}).next(function(){return t})},e.prototype.acknowledgeBatch=function(e,t,n){return this.getMutationQueueMetadata(e).next(function(t){return t.lastStreamToken=_r(n),xr(e).put(t)})},e.prototype.getLastStreamToken=function(e){return this.getMutationQueueMetadata(e).next(function(e){return e.lastStreamToken})},e.prototype.setLastStreamToken=function(e,t){return this.getMutationQueueMetadata(e).next(function(n){return n.lastStreamToken=_r(t),xr(e).put(n)})},e.prototype.addMutationBatch=function(e,t,n){var r=this,i=kr(e),a=Tr(e);return a.add({}).next(function(e){b("number"==typeof e,"Auto-generated key is not a number");var o=new Dn(e,t,n),s=r.serializer.toDbMutationBatch(r.userId,o);r.documentKeysByBatchId[e]=o.keys();for(var l=[],c=0,u=n;c<u.length;c++){var h=u[c],d=cr.key(r.userId,h.key.path,e);l.push(a.put(s)),l.push(i.put(d,cr.PLACEHOLDER))}return Rn.waitFor(l).next(function(){return o})})},e.prototype.lookupMutationBatch=function(e,t){var n=this;return Tr(e).get(t).next(function(e){return e?(b(e.userId===n.userId,"Unexpected user '"+e.userId+"' for mutation batch "+t),n.serializer.fromDbMutationBatch(e)):null})},e.prototype.lookupMutationKeys=function(e,t){var n=this;return this.documentKeysByBatchId[t]?Rn.resolve(this.documentKeysByBatchId[t]):this.lookupMutationBatch(e,t).next(function(e){if(e){var r=e.keys();return n.documentKeysByBatchId[t]=r}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this;return this.getMutationQueueMetadata(e).next(function(r){var i=t+1,a=IDBKeyRange.lowerBound([n.userId,i]),o=null;return Tr(e).iterate({index:lr.userMutationsIndex,range:a},function(e,t,r){t.userId===n.userId&&(b(t.batchId>=i,"Should have found mutation after "+i),o=n.serializer.fromDbMutationBatch(t)),r.done()}).next(function(){return o})})},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Tr(e).loadAll(lr.userMutationsIndex,n).next(function(e){return e.map(function(e){return t.serializer.fromDbMutationBatch(e)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=cr.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return kr(e).iterate({range:i},function(r,i,o){var s=r[0],l=r[1],c=r[2],u=On(l);if(s===n.userId&&t.path.isEqual(u))return Tr(e).get(c).next(function(e){if(!e)throw y("Dangling document-mutation reference found: "+r+" which points to "+c);b(e.userId===n.userId,"Unexpected user '"+e.userId+"' for mutation batch "+c),a.push(n.serializer.fromDbMutationBatch(e))});o.done()}).next(function(){return a})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new at(K),i=[];return t.forEach(function(t){var a=cr.prefixForPath(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=kr(e).iterate({range:o},function(e,i,a){var o=e[0],s=e[1],l=e[2],c=On(s);o===n.userId&&t.path.isEqual(c)?r=r.add(l):a.done()});i.push(s)}),Rn.waitFor(i).next(function(){return n.lookupMutationBatches(e,r)})},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this;b(!t.isDocumentQuery(),"Document queries shouldn't go down this path");var r=t.path,i=r.length+1,a=cr.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new at(K);return kr(e).iterate({range:o},function(e,t,a){var o=e[0],l=e[1],c=e[2],u=On(l);o===n.userId&&r.isPrefixOf(u)?u.length===i&&(s=s.add(c)):a.done()}).next(function(){return n.lookupMutationBatches(e,s)})},e.prototype.lookupMutationBatches=function(e,t){var n=this,r=[],i=[];return t.forEach(function(t){i.push(Tr(e).get(t).next(function(e){if(null===e)throw y("Dangling document-mutation reference found, which points to "+t);b(e.userId===n.userId,"Unexpected user '"+e.userId+"' for mutation batch "+t),r.push(n.serializer.fromDbMutationBatch(e))}))}),Rn.waitFor(i).next(function(){return r})},e.prototype.removeMutationBatch=function(e,t){var n=this;return Sr(e.simpleDbTransaction,this.userId,t).next(function(r){return n.removeCachedMutationKeys(t.batchId),Rn.forEach(r,function(t){return n.referenceDelegate.removeMutationReference(e,t)})})},e.prototype.removeCachedMutationKeys=function(e){delete this.documentKeysByBatchId[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next(function(n){if(!n)return Rn.resolve();var r=IDBKeyRange.lowerBound(cr.prefixForUser(t.userId)),i=[];return kr(e).iterate({range:r},function(e,n,r){if(e[0]===t.userId){var a=On(e[1]);i.push(a)}else r.done()}).next(function(){b(0===i.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+i.map(function(e){return e.canonicalString()}))})})},e.prototype.containsKey=function(e,t){return Cr(e,this.userId,t)},e.prototype.getMutationQueueMetadata=function(e){var t=this;return xr(e).get(this.userId).next(function(e){return e||new sr(t.userId,-1,"")})},e}();function Cr(e,t,n){var r=cr.prefixForPath(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return kr(e).iterate({range:a,keysOnly:!0},function(e,n,r){var a=e[0],s=e[1];e[2],a===t&&s===i&&(o=!0),r.done()}).next(function(){return o})}function Sr(e,t,n){var r=e.store(lr.store),i=e.store(cr.store),a=[],o=IDBKeyRange.only(n.batchId),s=0,l=r.iterate({range:o},function(e,t,n){return s++,n.delete()});a.push(l.next(function(){b(1===s,"Dangling document-mutation reference found: Missing batch "+n.batchId)}));for(var c=[],u=0,h=n.mutations;u<h.length;u++){var d=h[u],p=cr.key(t,d.key.path,n.batchId);a.push(i.delete(p)),c.push(d.key)}return Rn.waitFor(a).next(function(){return c})}function _r(t){return t instanceof Uint8Array?(b("YES"===e.env.USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence."),t.toString()):t}function Tr(e){return jr.getStore(e,lr.store)}function kr(e){return jr.getStore(e,cr.store)}function xr(e){return jr.getStore(e,sr.store)}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ir=function(){function t(e){this.remoteSerializer=e}return t.prototype.fromDbRemoteDocument=function(e){if(e.document)return this.remoteSerializer.fromDocument(e.document,!!e.hasCommittedMutations);if(e.noDocument){var t=he.fromSegments(e.noDocument.path),n=this.fromDbTimestamp(e.noDocument.readTime);return new fe(t,n,{hasCommittedMutations:!!e.hasCommittedMutations})}return e.unknownDocument?(t=he.fromSegments(e.unknownDocument.path),n=this.fromDbTimestamp(e.unknownDocument.version),new me(t,n)):y("Unexpected DbRemoteDocument")},t.prototype.toDbRemoteDocument=function(e){if(e instanceof pe){var t=e.proto?e.proto:this.remoteSerializer.toDocument(e),n=e.hasCommittedMutations;return new dr(null,null,t,n)}if(e instanceof fe){var r=e.key.path.toArray(),i=this.toDbTimestamp(e.version);return n=e.hasCommittedMutations,new dr(null,new ur(r,i),null,n)}return e instanceof me?(r=e.key.path.toArray(),i=this.toDbTimestamp(e.version),new dr(new hr(r,i),null,null,!0)):y("Unexpected MaybeDocumment")},t.prototype.toDbTimestamp=function(e){var t=e.toTimestamp();return new ar(t.seconds,t.nanoseconds)},t.prototype.fromDbTimestamp=function(e){var t=new ie(e.seconds,e.nanoseconds);return tt.fromTimestamp(t)},t.prototype.toDbMutationBatch=function(e,t){var n=this,r=t.mutations.map(function(e){return n.remoteSerializer.toMutation(e)});return new lr(e,t.batchId,t.localWriteTime.toMillis(),r)},t.prototype.fromDbMutationBatch=function(e){var t=this,n=e.mutations.map(function(e){return t.remoteSerializer.fromMutation(e)}),r=ie.fromMillis(e.localWriteTimeMs);return new Dn(e.batchId,r,n)},t.prototype.toDbResourcePaths=function(e){var t=[];return e.forEach(function(e){t.push(kn(e.path))}),t},t.prototype.fromDbResourcePaths=function(e){for(var t=Nt(),n=0,r=e;n<r.length;n++){var i=r[n];t=t.add(new he(On(i)))}return t},t.prototype.fromDbTarget=function(e){var t,n=this.fromDbTimestamp(e.readTime);return t=void 0!==e.query.documents?this.remoteSerializer.fromDocumentsTarget(e.query):this.remoteSerializer.fromQueryTarget(e.query),new it(t,e.targetId,qe.Listen,e.lastListenSequenceNumber,n,e.resumeToken)},t.prototype.toDbTarget=function(t){b(qe.Listen===t.purpose,"Only queries with purpose "+qe.Listen+" may be stored, got "+t.purpose);var n,r,i=this.toDbTimestamp(t.snapshotVersion);return n=t.query.isDocumentQuery()?this.remoteSerializer.toDocumentsTarget(t.query):this.remoteSerializer.toQueryTarget(t.query),r=t.resumeToken instanceof Uint8Array?(b("YES"===e.env.USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence ."),t.resumeToken.toString()):t.resumeToken,new fr(t.targetId,t.query.canonicalId(),i,r,t.sequenceNumber,n)},t}();
/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(e,t){var n=e[0],r=e[1],i=t[0],a=t[1],o=K(n,i);return 0===o?K(r,a):o}var Pr=function(){function e(e){this.maxElements=e,this.buffer=new at(Or),this.previousIndex=0}return e.prototype.nextIndex=function(){return++this.previousIndex},e.prototype.addElement=function(e){var t=[e,this.nextIndex()];if(this.buffer.size<this.maxElements)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Or(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),e}(),Ar={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Dr=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e.COLLECTION_DISABLED=-1,e.MINIMUM_CACHE_SIZE_BYTES=1048576,e.DEFAULT=new e(e.DEFAULT_CACHE_SIZE_BYTES=41943040,e.DEFAULT_COLLECTION_PERCENTILE=10,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3),e.DISABLED=new e(e.COLLECTION_DISABLED,0,0),e}(),Nr=function(){function e(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.gcTask=null}return e.prototype.start=function(){b(null===this.gcTask,"Cannot start an already started LruScheduler"),this.garbageCollector.params.cacheSizeCollectionThreshold!==Dr.COLLECTION_DISABLED&&this.scheduleGC()},e.prototype.stop=function(){this.gcTask&&(this.gcTask.cancel(),this.gcTask=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.gcTask},enumerable:!0,configurable:!0}),e.prototype.scheduleGC=function(){var e=this;b(null===this.gcTask,"Cannot schedule GC while a task is pending");var t=this.hasRun?3e5:6e4;m("LruGarbageCollector","Garbage collection scheduled in "+t+"ms"),this.gcTask=this.asyncQueue.enqueueAfterDelay(vn.LruGarbageCollection,t,function(){return e.gcTask=null,e.hasRun=!0,e.localStore.collectGarbage(e.garbageCollector).then(function(){return e.scheduleGC()}).catch($r)})},e}(),Mr=function(){function e(e,t){this.delegate=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.delegate.getSequenceNumberCount(e).next(function(e){return Math.floor(t/100*e)})},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return Rn.resolve(yn.INVALID);var r=new Pr(t);return this.delegate.forEachTarget(e,function(e){return r.addElement(e.sequenceNumber)}).next(function(){return n.delegate.forEachOrphanedDocumentSequenceNumber(e,function(e){return r.addElement(e)})}).next(function(){return r.maxValue})},e.prototype.removeTargets=function(e,t,n){return this.delegate.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.delegate.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return this.params.cacheSizeCollectionThreshold===Dr.COLLECTION_DISABLED?(m("LruGarbageCollector","Garbage collection skipped; disabled"),Rn.resolve(Ar)):this.getCacheSize(e).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(m("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Ar):n.runGarbageCollection(e,t)})},e.prototype.getCacheSize=function(e){return this.delegate.getCacheSize(e)},e.prototype.runGarbageCollection=function(e,t){var n,r,a,o,s,l,c,u,h=this;return o=Date.now(),this.calculateTargetCount(e,this.params.percentileToCollect).next(function(t){return r=t>h.params.maximumSequenceNumbersToCollect?(m("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+h.params.maximumSequenceNumbersToCollect+" from "+t),h.params.maximumSequenceNumbersToCollect):t,s=Date.now(),h.nthSequenceNumber(e,r)}).next(function(r){return n=r,l=Date.now(),h.removeTargets(e,n,t)}).next(function(t){return a=t,c=Date.now(),h.removeOrphanedDocuments(e,n)}).next(function(e){return u=Date.now(),p()<=i.DEBUG&&m("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-o)+"ms\n\tDetermined least recently used "+r+" in "+(l-s)+"ms\n\tRemoved "+a+" targets in "+(c-l)+"ms\n\tRemoved "+e+" documents in "+(u-c)+"ms\nTotal Duration: "+(u-o)+"ms"),Rn.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:e})})},e}(),Rr="IndexedDbPersistence",Lr="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Fr="Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `experimentalTabSynchronization:true` in all tabs.",Br=function(e){function t(t,n){var r=e.call(this)||this;return r.simpleDbTransaction=t,r.currentSequenceNumber=n,r}return l.__extends(t,e),t}(function(){}),jr=function(){function e(t,n,r,i,a,o,s){if(this.persistenceKey=t,this.clientId=n,this.queue=i,this.multiClientParams=s,this._started=!1,this.isPrimary=!1,this.networkEnabled=!0,this.inForeground=!1,this.lastGarbageCollectionTime=Number.NEGATIVE_INFINITY,this.primaryStateListener=function(e){return Promise.resolve()},!e.isAvailable())throw new S(C.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");if(this.referenceDelegate=new Ur(this,o),this.dbName=t+e.MAIN_DATABASE,this.serializer=new Ir(a),this.document=r.document,this.allowTabSynchronization=void 0!==s,this.queryCache=new qn(this.referenceDelegate,this.serializer),this.remoteDocumentCache=new Yn(this.serializer,this.allowTabSynchronization),!r.window||!r.window.localStorage)throw new S(C.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=r.window,this.webStorage=this.window.localStorage}return e.getStore=function(e,t){if(e instanceof Br)return Fn.getStore(e.simpleDbTransaction,t);throw y("IndexedDbPersistence must use instances of IndexedDbTransaction")},e.createIndexedDbPersistence=function(t,n,r,i,a,o){return l.__awaiter(this,void 0,void 0,function(){var s;return l.__generator(this,function(l){switch(l.label){case 0:return[4,(s=new e(t,n,r,i,a,o)).start()];case 1:return l.sent(),[2,s]}})})},e.createMultiClientIndexedDbPersistence=function(t,n,r,i,a,o,s){return l.__awaiter(this,void 0,void 0,function(){var c;return l.__generator(this,function(l){switch(l.label){case 0:return[4,(c=new e(t,n,r,i,a,o,s)).start()];case 1:return l.sent(),[2,c]}})})},e.prototype.start=function(){var e=this;return b(!this.started,"IndexedDbPersistence double-started!"),b(null!==this.window,"Expected 'window' to be defined"),Fn.openOrCreate(this.dbName,rr,new ir(this.serializer)).then(function(t){return e.simpleDb=t,e.updateClientMetadataAndTryBecomePrimary()}).then(function(){return e.attachVisibilityHandler(),e.attachWindowUnloadHook(),e.scheduleClientMetadataAndPrimaryLeaseRefreshes(),e.startRemoteDocumentCache()}).then(function(){return e.simpleDb.runTransaction("readonly",[vr.store],function(t){return zn(t).next(function(t){var n=e.multiClientParams?e.multiClientParams.sequenceNumberSyncer:void 0;e.listenSequence=new yn(t,n)})})}).then(function(){e._started=!0}).catch(function(t){return e.simpleDb&&e.simpleDb.close(),Promise.reject(t)})},e.prototype.startRemoteDocumentCache=function(){var e=this;return this.simpleDb.runTransaction("readonly",wr,function(t){return e.remoteDocumentCache.start(t)})},e.prototype.setPrimaryStateListener=function(e){var t=this;return this.primaryStateListener=function(n){return l.__awaiter(t,void 0,void 0,function(){return l.__generator(this,function(t){return this.started?[2,e(n)]:[2]})})},e(this.isPrimary)},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.queue.enqueueAndForget(function(){return l.__awaiter(t,void 0,void 0,function(){return l.__generator(this,function(e){switch(e.label){case 0:return this.started?[4,this.updateClientMetadataAndTryBecomePrimary()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})}))},e.prototype.updateClientMetadataAndTryBecomePrimary=function(){var e=this;return this.simpleDb.runTransaction("readwrite",wr,function(t){return qr(t).put(new br(e.clientId,Date.now(),e.networkEnabled,e.inForeground,e.remoteDocumentCache.lastProcessedDocumentChangeId)).next(function(){if(e.isPrimary)return e.verifyPrimaryLease(t).next(function(t){t||(e.isPrimary=!1,e.queue.enqueueAndForget(function(){return e.primaryStateListener(!1)}))})}).next(function(){return e.canActAsPrimary(t)}).next(function(n){var r=e.isPrimary;return e.isPrimary=n,r!==e.isPrimary&&e.queue.enqueueAndForget(function(){return e.primaryStateListener(e.isPrimary)}),r&&!e.isPrimary?e.releasePrimaryLeaseIfHeld(t):e.isPrimary?e.acquireOrExtendPrimaryLease(t):void 0})})},e.prototype.verifyPrimaryLease=function(e){var t=this;return Vr(e).get(or.key).next(function(e){return Rn.resolve(t.isLocalClient(e))})},e.prototype.removeClientMetadata=function(e){return qr(e).delete(this.clientId)},e.prototype.maybeGarbageCollectMultiClientState=function(){return l.__awaiter(this,void 0,void 0,function(){var t,n,r=this;return l.__generator(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.isWithinAge(this.lastGarbageCollectionTime,18e5)?[3,2]:(this.lastGarbageCollectionTime=Date.now(),n=[],[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(i){var a=e.getStore(i,br.store);return a.loadAll().next(function(e){t=r.filterActiveClients(e,18e5),n=e.filter(function(e){return-1===t.indexOf(e)})}).next(function(){return Rn.forEach(n,function(e){return a.delete(e.clientId)})}).next(function(){if(0<(t=t.filter(function(e){return e.clientId!==r.clientId})).length){var e=t.map(function(e){return e.lastProcessedDocumentChangeId||0}),n=Math.min.apply(Math,e);return r.remoteDocumentCache.removeDocumentChangesThroughChangeId(i,n)}})})]);case 1:i.sent(),n.forEach(function(e){r.window.localStorage.removeItem(r.zombiedClientLocalStorageKey(e.clientId))}),i.label=2;case 2:return[2]}})})},e.prototype.scheduleClientMetadataAndPrimaryLeaseRefreshes=function(){var e=this;this.clientMetadataRefresher=this.queue.enqueueAfterDelay(vn.ClientMetadataRefresh,4e3,function(){return e.updateClientMetadataAndTryBecomePrimary().then(function(){return e.maybeGarbageCollectMultiClientState()}).then(function(){return e.scheduleClientMetadataAndPrimaryLeaseRefreshes()})})},e.prototype.isLocalClient=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.canActAsPrimary=function(e){var t=this;return Vr(e).get(or.key).next(function(n){if(null!==n&&t.isWithinAge(n.leaseTimestampMs,5e3)&&!t.isClientZombied(n.ownerId)){if(t.isLocalClient(n)&&t.networkEnabled)return!0;if(!t.isLocalClient(n)){if(!n.allowTabSynchronization)throw new S(C.FAILED_PRECONDITION,Fr);return!1}}return!(!t.networkEnabled||!t.inForeground)||qr(e).loadAll().next(function(e){return void 0===t.filterActiveClients(e,5e3).find(function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1})})}).next(function(e){return t.isPrimary!==e&&m(Rr,"Client "+(e?"is":"is not")+" eligible for a primary lease."),e})},e.prototype.shutdown=function(e){return l.__awaiter(this,void 0,void 0,function(){var t=this;return l.__generator(this,function(n){switch(n.label){case 0:return this._started=!1,this.markClientZombied(),this.clientMetadataRefresher&&this.clientMetadataRefresher.cancel(),this.detachVisibilityHandler(),this.detachWindowUnloadHook(),[4,this.simpleDb.runTransaction("readwrite",[or.store,br.store],function(e){return t.releasePrimaryLeaseIfHeld(e).next(function(){return t.removeClientMetadata(e)})})];case 1:return n.sent(),this.simpleDb.close(),this.removeClientZombiedEntry(),e?[4,Fn.delete(this.dbName)]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.filterActiveClients=function(e,t){var n=this;return e.filter(function(e){return n.isWithinAge(e.updateTimeMs,t)&&!n.isClientZombied(e.clientId)})},e.prototype.getActiveClients=function(){var e=this;return this.simpleDb.runTransaction("readonly",[br.store],function(t){return qr(t).loadAll().next(function(t){return e.filterActiveClients(t,18e5).map(function(e){return e.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),e.prototype.getMutationQueue=function(e){return b(this.started,"Cannot initialize MutationQueue before persistence is started."),Er.forUser(e,this.serializer,this.referenceDelegate)},e.prototype.getQueryCache=function(){return b(this.started,"Cannot initialize QueryCache before persistence is started."),this.queryCache},e.prototype.getRemoteDocumentCache=function(){return b(this.started,"Cannot initialize RemoteDocumentCache before persistence is started."),this.remoteDocumentCache},e.prototype.runTransaction=function(e,t,n){var r=this;return m(Rr,"Starting transaction:",e),this.simpleDb.runTransaction("readonly"===t?"readonly":"readwrite",wr,function(i){return"readwrite-primary"===t?r.verifyPrimaryLease(i).next(function(t){if(!t)throw v("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.queue.enqueueAndForget(function(){return r.primaryStateListener(!1)}),new S(C.FAILED_PRECONDITION,Lr);return n(new Br(i,r.listenSequence.next()))}).next(function(e){return r.acquireOrExtendPrimaryLease(i).next(function(){return e})}):r.verifyAllowTabSynchronization(i).next(function(){return n(new Br(i,r.listenSequence.next()))})})},e.prototype.verifyAllowTabSynchronization=function(e){var t=this;return Vr(e).get(or.key).next(function(e){if(null!==e&&t.isWithinAge(e.leaseTimestampMs,5e3)&&!t.isClientZombied(e.ownerId)&&!t.isLocalClient(e)&&!e.allowTabSynchronization)throw new S(C.FAILED_PRECONDITION,Fr)})},e.prototype.acquireOrExtendPrimaryLease=function(e){var t=new or(this.clientId,this.allowTabSynchronization,Date.now());return Vr(e).put(or.key,t)},e.isAvailable=function(){return Fn.isAvailable()},e.buildStoragePrefix=function(e){var t=e.databaseId.projectId;return e.databaseId.isDefaultDatabase||(t+="."+e.databaseId.database),"firestore/"+e.persistenceKey+"/"+t+"/"},e.prototype.releasePrimaryLeaseIfHeld=function(e){var t=this,n=Vr(e);return n.get(or.key).next(function(e){return t.isLocalClient(e)?(m(Rr,"Releasing primary lease."),n.delete(or.key)):Rn.resolve()})},e.prototype.isWithinAge=function(e,t){var n=Date.now();return!(e<n-t||n<e&&(v("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.attachVisibilityHandler=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.documentVisibilityHandler=function(){e.queue.enqueueAndForget(function(){return e.inForeground="visible"===e.document.visibilityState,e.updateClientMetadataAndTryBecomePrimary()})},this.document.addEventListener("visibilitychange",this.documentVisibilityHandler),this.inForeground="visible"===this.document.visibilityState)},e.prototype.detachVisibilityHandler=function(){this.documentVisibilityHandler&&(b(null!==this.document&&"function"==typeof this.document.addEventListener,"Expected 'document.addEventListener' to be a function"),this.document.removeEventListener("visibilitychange",this.documentVisibilityHandler),this.documentVisibilityHandler=null)},e.prototype.attachWindowUnloadHook=function(){var e=this;"function"==typeof this.window.addEventListener&&(this.windowUnloadHandler=function(){e.markClientZombied(),e.queue.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("unload",this.windowUnloadHandler))},e.prototype.detachWindowUnloadHook=function(){this.windowUnloadHandler&&(b("function"==typeof this.window.removeEventListener,"Expected 'window.removeEventListener' to be a function"),this.window.removeEventListener("unload",this.windowUnloadHandler),this.windowUnloadHandler=null)},e.prototype.isClientZombied=function(e){try{var t=null!==this.webStorage.getItem(this.zombiedClientLocalStorageKey(e));return m(Rr,"Client '"+e+"' "+(t?"is":"is not")+" zombied in LocalStorage"),t}catch(e){return v(Rr,"Failed to get zombied client id.",e),!1}},e.prototype.markClientZombied=function(){try{this.webStorage.setItem(this.zombiedClientLocalStorageKey(this.clientId),String(Date.now()))}catch(e){v("Failed to set zombie client id.",e)}},e.prototype.removeClientZombiedEntry=function(){try{this.webStorage.removeItem(this.zombiedClientLocalStorageKey(this.clientId))}catch(e){}},e.prototype.zombiedClientLocalStorageKey=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e.MAIN_DATABASE="main",e}();function $r(e){return l.__awaiter(this,void 0,void 0,function(){return l.__generator(this,function(t){if((n=e).code!==C.FAILED_PRECONDITION||n.message!==Lr)throw e;var n;return m(Rr,"Unexpectedly lost primary lease"),[2]})})}function Vr(e){return e.store(or.store)}function qr(e){return e.store(br.store)}var Ur=function(){function e(e,t){this.db=e,this.garbageCollector=new Mr(this,t)}return e.prototype.getSequenceNumberCount=function(e){var t=this.orphanedDocmentCount(e);return this.db.getQueryCache().getQueryCount(e).next(function(e){return t.next(function(t){return e+t})})},e.prototype.orphanedDocmentCount=function(e){var t=0;return this.forEachOrphanedDocumentSequenceNumber(e,function(e){t++}).next(function(){return t})},e.prototype.forEachTarget=function(e,t){return this.db.getQueryCache().forEachTarget(e,t)},e.prototype.forEachOrphanedDocumentSequenceNumber=function(e,t){return this.forEachOrphanedDocument(e,function(e,n){return t(n)})},e.prototype.setInMemoryPins=function(e){this.inMemoryPins=e},e.prototype.addReference=function(e,t){return Hr(e,t)},e.prototype.removeReference=function(e,t){return Hr(e,t)},e.prototype.removeTargets=function(e,t,n){return this.db.getQueryCache().removeTargets(e,t,n)},e.prototype.removeMutationReference=function(e,t){return Hr(e,t)},e.prototype.isPinned=function(e,t){return this.inMemoryPins.containsKey(t)?Rn.resolve(!0):(r=t,i=!1,xr(n=e).iterateSerial(function(e){return Cr(n,e,r).next(function(e){return e&&(i=!0),Rn.resolve(!e)})}).next(function(){return i}));var n,r,i},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=0,i=0,a=[];return this.forEachOrphanedDocument(e,function(o,s){if(s<=t){var l=n.isPinned(e,o).next(function(t){if(!t)return r++,n.removeOrphanedDocument(e,o).next(function(e){i+=e})});a.push(l)}}).next(function(){return Rn.waitFor(a)}).next(function(){return n.db.getRemoteDocumentCache().updateSize(e,-i)}).next(function(){return r})},e.prototype.removeOrphanedDocument=function(e,t){var n,r=0,i=this.db.getRemoteDocumentCache();return Rn.waitFor([Wn(e).delete((n=t,[0,kn(n.path)])),i.removeEntry(e,t).next(function(e){r+=e})]).next(function(){return r})},e.prototype.removeTarget=function(e,t){var n=t.copy({sequenceNumber:e.currentSequenceNumber});return this.db.getQueryCache().updateQueryData(e,n)},e.prototype.updateLimboDocument=function(e,t){return Hr(e,t)},e.prototype.forEachOrphanedDocument=function(e,t){var n,r=Wn(e),i=yn.INVALID;return r.iterate({index:mr.documentTargetsIndex},function(e,r){var a=e[0],o=(e[1],r.path),s=r.sequenceNumber;0===a?(i!==yn.INVALID&&t(new he(On(n)),i),i=s,n=o):i=yn.INVALID}).next(function(){i!==yn.INVALID&&t(new he(On(n)),i)})},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function Hr(e,t){return Wn(e).put((n=t,r=e.currentSequenceNumber,new mr(0,kn(n.path),r)));var n,r}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zr,Wr,Kr=function(){function e(e,t){this.remoteDocumentCache=e,this.mutationQueue=t}return e.prototype.getDocument=function(e,t){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKey(e,t).next(function(r){return n.getDocumentInternal(e,t,r)})},e.prototype.getDocumentInternal=function(e,t,n){return this.remoteDocumentCache.getEntry(e,t).next(function(e){for(var r=0,i=n;r<i.length;r++)e=i[r].applyToLocalView(t,e);return e})},e.prototype.applyLocalMutationsToDocuments=function(e,t,n){var r=xt();return t.forEach(function(e,t){for(var i=0,a=n;i<a.length;i++)t=a[i].applyToLocalView(e,t);r=r.insert(e,t)}),r},e.prototype.getDocuments=function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next(function(t){return n.getLocalViewOfDocuments(e,t)})},e.prototype.getLocalViewOfDocuments=function(e,t){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(function(r){var i=n.applyLocalMutationsToDocuments(e,t,r),a=kt();return i.forEach(function(e,t){t||(t=new fe(e,tt.forDeletedDoc())),a=a.insert(e,t)}),a})},e.prototype.getDocumentsMatchingQuery=function(e,t){return he.isDocumentKey(t.path)?this.getDocumentsMatchingDocumentQuery(e,t.path):this.getDocumentsMatchingCollectionQuery(e,t)},e.prototype.getDocumentsMatchingDocumentQuery=function(e,t){return this.getDocument(e,new he(t)).next(function(e){var t=Ot();return e instanceof pe&&(t=t.insert(e.key,e)),t})},e.prototype.getDocumentsMatchingCollectionQuery=function(e,t){var n,r=this;return this.remoteDocumentCache.getDocumentsMatchingQuery(e,t).next(function(i){return n=i,r.mutationQueue.getAllMutationBatchesAffectingQuery(e,t)}).next(function(e){for(var r=0,i=e;r<i.length;r++)for(var a=i[r],o=0,s=a.mutations;o<s.length;o++){var l=s[o],c=l.key;if(t.path.isImmediateParentOf(c.path)){var u=n.get(c),h=l.applyToLocalView(u,u,a.localWriteTime);n=h instanceof pe?n.insert(c,h):n.remove(c)}}}).next(function(){return n.forEach(function(e,r){t.matches(r)||(n=n.remove(e))}),n})},e}(),Gr=function(){function e(){this.refsByKey=new at(Qr.compareByKey),this.refsByTarget=new at(Qr.compareByTargetId)}return e.prototype.isEmpty=function(){return this.refsByKey.isEmpty()},e.prototype.addReference=function(e,t){var n=new Qr(e,t);this.refsByKey=this.refsByKey.add(n),this.refsByTarget=this.refsByTarget.add(n)},e.prototype.addReferences=function(e,t){var n=this;e.forEach(function(e){return n.addReference(e,t)})},e.prototype.removeReference=function(e,t){this.removeRef(new Qr(e,t))},e.prototype.removeReferences=function(e,t){var n=this;e.forEach(function(e){return n.removeReference(e,t)})},e.prototype.removeReferencesForId=function(e){var t=this,n=he.EMPTY,r=new Qr(n,e),i=new Qr(n,e+1),a=[];return this.refsByTarget.forEachInRange([r,i],function(e){t.removeRef(e),a.push(e.key)}),a},e.prototype.removeAllReferences=function(){var e=this;this.refsByKey.forEach(function(t){return e.removeRef(t)})},e.prototype.removeRef=function(e){this.refsByKey=this.refsByKey.delete(e),this.refsByTarget=this.refsByTarget.delete(e)},e.prototype.referencesForId=function(e){var t=he.EMPTY,n=new Qr(t,e),r=new Qr(t,e+1),i=Nt();return this.refsByTarget.forEachInRange([n,r],function(e){i=i.add(e.key)}),i},e.prototype.containsKey=function(e){var t=new Qr(e,0),n=this.refsByKey.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),Qr=function(){function e(e,t){this.key=e,this.targetOrBatchId=t}return e.compareByKey=function(e,t){return he.comparator(e.key,t.key)||K(e.targetOrBatchId,t.targetOrBatchId)},e.compareByTargetId=function(e,t){return K(e.targetOrBatchId,t.targetOrBatchId)||he.comparator(e.key,t.key)},e}(),Yr=function(){function e(e,t){this.persistence=e,this.localViewReferences=new Gr,this.queryDataByTarget={},b(e.started,"LocalStore was passed an unstarted persistence implementation"),this.persistence.referenceDelegate.setInMemoryPins(this.localViewReferences),this.mutationQueue=e.getMutationQueue(t),this.remoteDocuments=e.getRemoteDocumentCache(),this.queryCache=e.getQueryCache(),this.localDocuments=new Kr(this.remoteDocuments,this.mutationQueue)}return e.prototype.handleUserChange=function(e){var t=this;return this.persistence.runTransaction("Handle user change","readonly",function(n){var r;return t.mutationQueue.getAllMutationBatches(n).next(function(i){return r=i,t.mutationQueue=t.persistence.getMutationQueue(e),t.localDocuments=new Kr(t.remoteDocuments,t.mutationQueue),t.mutationQueue.getAllMutationBatches(n)}).next(function(e){for(var i=[],a=[],o=Nt(),s=0,l=r;s<l.length;s++){var c=l[s];i.push(c.batchId);for(var u=0,h=c.mutations;u<h.length;u++){var d=h[u];o=o.add(d.key)}}for(var p=0,f=e;p<f.length;p++){c=f[p],a.push(c.batchId);for(var m=0,v=c.mutations;m<v.length;m++)d=v[m],o=o.add(d.key)}return t.localDocuments.getDocuments(n,o).next(function(e){return{affectedDocuments:e,removedBatchIds:i,addedBatchIds:a}})})})},e.prototype.localWrite=function(e){var t=this;return this.persistence.runTransaction("Locally write mutations","readwrite",function(n){var r,i=ie.now();return t.mutationQueue.addMutationBatch(n,i,e).next(function(e){var i=(r=e).keys();return t.localDocuments.getDocuments(n,i)}).next(function(e){return{batchId:r.batchId,changes:e}})})},e.prototype.lookupMutationDocuments=function(e){var t=this;return this.persistence.runTransaction("Lookup mutation documents","readonly",function(n){return t.mutationQueue.lookupMutationKeys(n,e).next(function(e){return e?t.localDocuments.getDocuments(n,e):Rn.resolve(null)})})},e.prototype.acknowledgeBatch=function(e){var t=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(n){var r=e.batch.keys(),i=t.remoteDocuments.newChangeBuffer();return t.mutationQueue.acknowledgeBatch(n,e.batch,e.streamToken).next(function(){return t.applyWriteToRemoteDocuments(n,e,i)}).next(function(){return i.apply(n)}).next(function(){return t.mutationQueue.performConsistencyCheck(n)}).next(function(){return t.localDocuments.getDocuments(n,r)})})},e.prototype.rejectBatch=function(e){var t=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",function(n){var r;return t.mutationQueue.lookupMutationBatch(n,e).next(function(e){return b(null!==e,"Attempt to reject nonexistent batch!"),r=e.keys(),t.mutationQueue.removeMutationBatch(n,e)}).next(function(){return t.mutationQueue.performConsistencyCheck(n)}).next(function(){return t.localDocuments.getDocuments(n,r)})})},e.prototype.getLastStreamToken=function(){var e=this;return this.persistence.runTransaction("Get last stream token","readonly",function(t){return e.mutationQueue.getLastStreamToken(t)})},e.prototype.setLastStreamToken=function(e){var t=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary",function(n){return t.mutationQueue.setLastStreamToken(n,e)})},e.prototype.getLastRemoteSnapshotVersion=function(){var e=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.queryCache.getLastRemoteSnapshotVersion(t)})},e.prototype.applyRemoteEvent=function(t){var n=this,r=this.remoteDocuments.newChangeBuffer();return this.persistence.runTransaction("Apply remote event","readwrite-primary",function(i){var a=[],o=Nt();x(t.targetChanges,function(r,s){var l=n.queryDataByTarget[r];if(l){s.addedDocuments.forEach(function(e){o=o.add(e)}),s.modifiedDocuments.forEach(function(e){o=o.add(e)}),a.push(n.queryCache.removeMatchingKeys(i,s.removedDocuments,r).next(function(){return n.queryCache.addMatchingKeys(i,s.addedDocuments,r)}));var c=s.resumeToken;if(0<c.length){var u=l;l=l.copy({resumeToken:c,snapshotVersion:t.snapshotVersion}),n.queryDataByTarget[r]=l,e.shouldPersistQueryData(u,l,s)&&a.push(n.queryCache.updateQueryData(i,l))}}});var s=kt(),l=Nt();t.documentUpdates.forEach(function(e,t){l=l.add(e)}),a.push(r.getEntries(i,l).next(function(e){t.documentUpdates.forEach(function(l,c){var u=e.get(l);null==u||c.version.isEqual(tt.MIN)||o.has(c.key)&&!u.hasPendingWrites||0<=c.version.compareTo(u.version)?(r.addEntry(c),s=s.insert(l,c)):m("LocalStore","Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version),t.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,l))})}));var c=t.snapshotVersion;if(!c.isEqual(tt.MIN)){var u=n.queryCache.getLastRemoteSnapshotVersion(i).next(function(e){return b(0<=c.compareTo(e),"Watch stream reverted to previous snapshot?? "+c+" < "+e),n.queryCache.setTargetsMetadata(i,i.currentSequenceNumber,c)});a.push(u)}return Rn.waitFor(a).next(function(){return r.apply(i)}).next(function(){return n.localDocuments.getLocalViewOfDocuments(i,s)})})},e.shouldPersistQueryData=function(e,t,n){return 0!==t.resumeToken.length&&(0===e.resumeToken.length||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=this.RESUME_TOKEN_MAX_AGE_MICROS||0<n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size)},e.prototype.notifyLocalViewChanges=function(e){var t=this;return this.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(n){return Rn.forEach(e,function(e){return t.localViewReferences.addReferences(e.addedKeys,e.targetId),t.localViewReferences.removeReferences(e.removedKeys,e.targetId),Rn.forEach(e.removedKeys,function(e){return t.persistence.referenceDelegate.removeReference(n,e)})})})},e.prototype.nextMutationBatch=function(e){var t=this;return this.persistence.runTransaction("Get next mutation batch","readonly",function(n){return void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)})},e.prototype.readDocument=function(e){var t=this;return this.persistence.runTransaction("read document","readonly",function(n){return t.localDocuments.getDocument(n,e)})},e.prototype.allocateQuery=function(e){var t=this;return this.persistence.runTransaction("Allocate query","readwrite",function(n){var r;return t.queryCache.getQueryData(n,e).next(function(i){return i?(r=i,Rn.resolve()):t.queryCache.allocateTargetId(n).next(function(i){return r=new it(e,i,qe.Listen,n.currentSequenceNumber),t.queryCache.addQueryData(n,r)})}).next(function(){return b(!t.queryDataByTarget[r.targetId],"Tried to allocate an already allocated query: "+e),t.queryDataByTarget[r.targetId]=r})})},e.prototype.releaseQuery=function(e,t){var n=this,r=t?"readwrite":"readwrite-primary";return this.persistence.runTransaction("Release query",r,function(r){return n.queryCache.getQueryData(r,e).next(function(i){b(null!=i,"Tried to release nonexistent query: "+e);var a=i.targetId,o=n.queryDataByTarget[a],s=n.localViewReferences.removeReferencesForId(a);return delete n.queryDataByTarget[a],t?Rn.resolve():Rn.forEach(s,function(e){return n.persistence.referenceDelegate.removeReference(r,e)}).next(function(){return n.persistence.referenceDelegate.removeTarget(r,o)})})})},e.prototype.executeQuery=function(e){var t=this;return this.persistence.runTransaction("Execute query","readonly",function(n){return t.localDocuments.getDocumentsMatchingQuery(n,e)})},e.prototype.remoteDocumentKeys=function(e){var t=this;return this.persistence.runTransaction("Remote document keys","readonly",function(n){return t.queryCache.getMatchingKeysForTargetId(n,e)})},e.prototype.getActiveClients=function(){return this.persistence.getActiveClients()},e.prototype.removeCachedMutationBatchMetadata=function(e){this.mutationQueue.removeCachedMutationKeys(e)},e.prototype.setNetworkEnabled=function(e){this.persistence.setNetworkEnabled(e)},e.prototype.applyWriteToRemoteDocuments=function(e,t,n){var r=this,i=t.batch,a=i.keys(),o=Rn.resolve();return a.forEach(function(r){o=o.next(function(){return n.getEntry(e,r)}).next(function(e){var a=e,o=t.docVersions.get(r);b(null!==o,"ackVersions should contain every doc in the write."),(!a||a.version.compareTo(o)<0)&&((a=i.applyToRemoteDocument(r,a,t))?n.addEntry(a):b(!e,"Mutation batch "+i+" applied to document "+e+" resulted in null"))})}),o.next(function(){return r.mutationQueue.removeMutationBatch(e,i)})},e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return e.collect(n,t.queryDataByTarget)})},e.prototype.getQueryForTarget=function(e){var t=this;return this.queryDataByTarget[e]?Promise.resolve(this.queryDataByTarget[e].query):this.persistence.runTransaction("Get query data","readonly",function(n){return t.queryCache.getQueryDataForTarget(n,e).next(function(e){return e?e.query:null})})},e.prototype.getNewDocumentChanges=function(){var e=this;return this.persistence.runTransaction("Get new document changes","readonly",function(t){return e.remoteDocuments.getNewDocumentChanges(t)})},e.RESUME_TOKEN_MAX_AGE_MICROS=3e8,e}(),Xr=function(){function e(e){this.referenceDelegate=e,this.mutationQueue=[],this.nextBatchId=1,this.lastStreamToken=E(),this.batchesByDocumentKey=new at(Qr.compareByKey)}return e.prototype.checkEmpty=function(e){return Rn.resolve(0===this.mutationQueue.length)},e.prototype.acknowledgeBatch=function(e,t,n){var r=t.batchId,i=this.indexOfExistingBatchId(r,"acknowledged");b(0===i,"Can only acknowledge the first batch in the mutation queue");var a=this.mutationQueue[i];return b(r===a.batchId,"Queue ordering failure: expected batch "+r+", got batch "+a.batchId),this.lastStreamToken=n,Rn.resolve()},e.prototype.getLastStreamToken=function(e){return Rn.resolve(this.lastStreamToken)},e.prototype.setLastStreamToken=function(e,t){return this.lastStreamToken=t,Rn.resolve()},e.prototype.addMutationBatch=function(e,t,n){b(0!==n.length,"Mutation batches should not be empty");var r=this.nextBatchId;this.nextBatchId++,0<this.mutationQueue.length&&b(this.mutationQueue[this.mutationQueue.length-1].batchId<r,"Mutation batchIDs must be monotonically increasing order");var i=new Dn(r,t,n);this.mutationQueue.push(i);for(var a=0,o=n;a<o.length;a++){var s=o[a];this.batchesByDocumentKey=this.batchesByDocumentKey.add(new Qr(s.key,r))}return Rn.resolve(i)},e.prototype.lookupMutationBatch=function(e,t){return Rn.resolve(this.findMutationBatch(t))},e.prototype.lookupMutationKeys=function(e,t){var n=this.findMutationBatch(t);return b(null!=n,"Failed to find local mutation batch."),Rn.resolve(n.keys())},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=t+1,r=this.indexOfBatchId(n),i=r<0?0:r;return Rn.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)},e.prototype.getAllMutationBatches=function(e){return Rn.resolve(this.mutationQueue.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new Qr(t,0),i=new Qr(t,Number.POSITIVE_INFINITY),a=[];return this.batchesByDocumentKey.forEachInRange([r,i],function(e){b(t.isEqual(e.key),"Should only iterate over a single key's batches");var r=n.findMutationBatch(e.targetOrBatchId);b(null!==r,"Batches in the index must exist in the main table"),a.push(r)}),Rn.resolve(a)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new at(K);return t.forEach(function(e){var t=new Qr(e,0),i=new Qr(e,Number.POSITIVE_INFINITY);n.batchesByDocumentKey.forEachInRange([t,i],function(t){b(e.isEqual(t.key),"For each key, should only iterate over a single key's batches"),r=r.add(t.targetOrBatchId)})}),Rn.resolve(this.findMutationBatches(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1,i=n;he.isDocumentKey(i)||(i=i.child(""));var a=new Qr(new he(i),0),o=new at(K);return this.batchesByDocumentKey.forEachWhile(function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.targetOrBatchId)),!0)},a),Rn.resolve(this.findMutationBatches(o))},e.prototype.findMutationBatches=function(e){var t=this,n=[];return e.forEach(function(e){var r=t.findMutationBatch(e);null!==r&&n.push(r)}),n},e.prototype.removeMutationBatch=function(e,t){var n=this;b(0===this.indexOfExistingBatchId(t.batchId,"removed"),"Can only remove the first entry of the mutation queue"),this.mutationQueue.shift();var r=this.batchesByDocumentKey;return Rn.forEach(t.mutations,function(i){var a=new Qr(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.removeMutationReference(e,i.key)}).next(function(){n.batchesByDocumentKey=r})},e.prototype.removeCachedMutationKeys=function(e){},e.prototype.containsKey=function(e,t){var n=new Qr(t,0),r=this.batchesByDocumentKey.firstAfterOrEqual(n);return Rn.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return 0===this.mutationQueue.length&&b(this.batchesByDocumentKey.isEmpty(),"Document leak -- detected dangling mutation references when queue is empty."),Rn.resolve()},e.prototype.indexOfExistingBatchId=function(e,t){var n=this.indexOfBatchId(e);return b(0<=n&&n<this.mutationQueue.length,"Batches must exist to be "+t),n},e.prototype.indexOfBatchId=function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId},e.prototype.findMutationBatch=function(e){var t=this.indexOfBatchId(e);if(t<0||t>=this.mutationQueue.length)return null;var n=this.mutationQueue[t];return b(n.batchId===e,"If found batch must match"),n},e}(),Jr=function(){function e(e){this.persistence=e,this.queries=new Kn(function(e){return e.canonicalId()}),this.lastRemoteSnapshotVersion=tt.MIN,this.highestTargetId=0,this.highestSequenceNumber=0,this.references=new Gr,this.targetCount=0,this.targetIdGenerator=Mn.forQueryCache()}return e.prototype.getTargetCount=function(e){return Rn.resolve(this.targetCount)},e.prototype.forEachTarget=function(e,t){return this.queries.forEach(function(e,n){return t(n)}),Rn.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return Rn.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return Rn.resolve(this.highestSequenceNumber)},e.prototype.allocateTargetId=function(e){var t=this.targetIdGenerator.after(this.highestTargetId);return this.highestTargetId=t,Rn.resolve(t)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.highestSequenceNumber&&(this.highestSequenceNumber=t),Rn.resolve()},e.prototype.saveQueryData=function(e){this.queries.set(e.query,e);var t=e.targetId;t>this.highestTargetId&&(this.highestTargetId=t),e.sequenceNumber>this.highestSequenceNumber&&(this.highestSequenceNumber=e.sequenceNumber)},e.prototype.addQueryData=function(e,t){return b(!this.queries.has(t.query),"Adding a query that already exists"),this.saveQueryData(t),this.targetCount+=1,Rn.resolve()},e.prototype.updateQueryData=function(e,t){return b(this.queries.has(t.query),"Updating a non-existent query"),this.saveQueryData(t),Rn.resolve()},e.prototype.removeQueryData=function(e,t){return b(0<this.targetCount,"Removing a target from an empty cache"),b(this.queries.has(t.query),"Removing a non-existent target from the cache"),this.queries.delete(t.query),this.references.removeReferencesForId(t.targetId),this.targetCount-=1,Rn.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,a=[];return this.queries.forEach(function(o,s){s.sequenceNumber<=t&&!n[s.targetId]&&(r.queries.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),Rn.waitFor(a).next(function(){return i})},e.prototype.getQueryCount=function(e){return Rn.resolve(this.targetCount)},e.prototype.getQueryData=function(e,t){var n=this.queries.get(t)||null;return Rn.resolve(n)},e.prototype.getQueryDataForTarget=function(e,t){return y("Not yet implemented.")},e.prototype.addMatchingKeys=function(e,t,n){this.references.addReferences(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(function(t){i.push(r.addReference(e,t))}),Rn.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){this.references.removeReferences(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(function(t){i.push(r.removeReference(e,t))}),Rn.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this.references.removeReferencesForId(t),Rn.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this.references.referencesForId(t);return Rn.resolve(n)},e.prototype.containsKey=function(e,t){return Rn.resolve(this.references.containsKey(t))},e}(),Zr=function(){function e(e){this.sizer=e,this.docs=new ve(he.comparator),this.newDocumentChanges=Nt(),this.size=0}return e.prototype.addEntries=function(e,t,n){for(var r=0,i=t;r<i.length;r++){var a=i[r],o=a.maybeDocument.key;this.docs=this.docs.insert(o,a),this.newDocumentChanges=this.newDocumentChanges.add(o)}return this.size+=n,Rn.resolve()},e.prototype.removeEntry=function(e,t){var n=this.docs.get(t);return n?(this.docs=this.docs.remove(t),this.size-=n.size,Rn.resolve(n.size)):Rn.resolve(0)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return Rn.resolve(n?n.maybeDocument:null)},e.prototype.getSizedEntry=function(e,t){return Rn.resolve(this.docs.get(t))},e.prototype.getEntries=function(e,t){var n=this,r=xt();return t.forEach(function(e){var t=n.docs.get(e);r=r.insert(e,t?t.maybeDocument:null)}),Rn.resolve(r)},e.prototype.getSizedEntries=function(e,t){var n=this,r=xt(),i=new ve(he.comparator);return t.forEach(function(e){var t=n.docs.get(e);r=r.insert(e,t?t.maybeDocument:null),i=i.insert(e,t?t.size:0)}),Rn.resolve({maybeDocuments:r,sizeMap:i})},e.prototype.getDocumentsMatchingQuery=function(e,t){for(var n=Ot(),r=new he(t.path.child("")),i=this.docs.getIteratorFrom(r);i.hasNext();){var a=i.getNext(),o=a.key,s=a.value.maybeDocument;if(!t.path.isPrefixOf(o.path))break;s instanceof pe&&t.matches(s)&&(n=n.insert(s.key,s))}return Rn.resolve(n)},e.prototype.forEachDocumentKey=function(e,t){return Rn.forEach(this.docs,function(e){return t(e)})},e.prototype.getNewDocumentChanges=function(e){var t=this,n=kt();return this.newDocumentChanges.forEach(function(e){var r=t.docs.get(e),i=r?r.maybeDocument:new fe(e,tt.forDeletedDoc());n=n.insert(e,i)}),this.newDocumentChanges=Nt(),Rn.resolve(n)},e.prototype.newChangeBuffer=function(){return new ei(this.sizer,this)},e.prototype.getSize=function(e){return Rn.resolve(this.size)},e}(),ei=function(e){function t(t,n){var r=e.call(this)||this;return r.sizer=t,r.documentCache=n,r}return l.__extends(t,e),t.prototype.applyChanges=function(e){var t=this,n=this.assertChanges(),r=0,i=[];return n.forEach(function(e,n){var a=t.documentSizes.get(e);b(void 0!==a,"Attempting to change document "+e.toString()+" without having read it first");var o=t.sizer(n);r+=o-a,i.push({maybeDocument:n,size:o})}),this.documentCache.addEntries(e,i,r)},t.prototype.getFromCache=function(e,t){return this.documentCache.getSizedEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.documentCache.getSizedEntries(e,t)},t}(Gn),ti=function(){function e(e,t){var n=this;this.clientId=e,this.mutationQueues={},this.listenSequence=new yn(0),this._started=!1,this._started=!0,this.referenceDelegate=t(this),this.queryCache=new Jr(this),this.remoteDocumentCache=new Zr(function(e){return n.referenceDelegate.documentSize(e)})}return e.createLruPersistence=function(t,n,r){return new e(t,function(e){return new ii(e,new Ir(n),r)})},e.createEagerPersistence=function(t){return new e(t,function(e){return new ri(e)})},e.prototype.shutdown=function(e){return this._started=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),e.prototype.getActiveClients=function(){return l.__awaiter(this,void 0,void 0,function(){return l.__generator(this,function(e){return[2,[this.clientId]]})})},e.prototype.setPrimaryStateListener=function(e){return e(!0)},e.prototype.setNetworkEnabled=function(e){},e.prototype.getMutationQueue=function(e){var t=this.mutationQueues[e.toKey()];return t||(t=new Xr(this.referenceDelegate),this.mutationQueues[e.toKey()]=t),t},e.prototype.getQueryCache=function(){return this.queryCache},e.prototype.getRemoteDocumentCache=function(){return this.remoteDocumentCache},e.prototype.runTransaction=function(e,t,n){var r=this;m("MemoryPersistence","Starting transaction:",e);var i=new ni(this.listenSequence.next());return this.referenceDelegate.onTransactionStarted(),n(i).next(function(e){return r.referenceDelegate.onTransactionCommitted(i).next(function(){return e})}).toPromise()},e.prototype.mutationQueuesContainKey=function(e,t){return Rn.or((n=this.mutationQueues,r=[],I(n,function(e,t){return r.push(t)}),r).map(function(n){return function(){return n.containsKey(e,t)}}));var n,r},e}(),ni=function(e){this.currentSequenceNumber=e},ri=function(){function e(e){this.persistence=e}return e.prototype.setInMemoryPins=function(e){this.inMemoryPins=e},e.prototype.addReference=function(e,t){return this.orphanedDocuments.delete(t),Rn.resolve()},e.prototype.removeReference=function(e,t){return this.orphanedDocuments.add(t),Rn.resolve()},e.prototype.removeMutationReference=function(e,t){return this.orphanedDocuments.add(t),Rn.resolve()},e.prototype.removeTarget=function(e,t){var n=this,r=this.persistence.getQueryCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(function(e){e.forEach(function(e){return n.orphanedDocuments.add(e)})}).next(function(){return r.removeQueryData(e,t)})},e.prototype.onTransactionStarted=function(){this.orphanedDocuments=new Set},e.prototype.onTransactionCommitted=function(e){var t=this,n=this.persistence.getRemoteDocumentCache();return Rn.forEach(this.orphanedDocuments,function(r){return t.isReferenced(e,r).next(function(t){return t?Rn.resolve():n.removeEntry(e,r).next(function(){})})})},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.isReferenced(e,t).next(function(e){e?n.orphanedDocuments.delete(t):n.orphanedDocuments.add(t)})},e.prototype.documentSize=function(e){return 0},e.prototype.isReferenced=function(e,t){var n=this;return Rn.or([function(){return n.persistence.getQueryCache().containsKey(e,t)},function(){return n.persistence.mutationQueuesContainKey(e,t)},function(){return Rn.resolve(n.inMemoryPins.containsKey(t))}])},e}(),ii=function(){function e(e,t,n){this.persistence=e,this.serializer=t,this.orphanedSequenceNumbers=new Kn(function(e){return kn(e.path)}),this.garbageCollector=new Mr(this,n)}return e.prototype.onTransactionStarted=function(){},e.prototype.onTransactionCommitted=function(e){return Rn.resolve()},e.prototype.forEachTarget=function(e,t){return this.persistence.getQueryCache().forEachTarget(e,t)},e.prototype.getSequenceNumberCount=function(e){var t=this.orphanedDocumentCount(e);return this.persistence.getQueryCache().getTargetCount(e).next(function(e){return t.next(function(t){return e+t})})},e.prototype.orphanedDocumentCount=function(e){var t=0;return this.forEachOrphanedDocumentSequenceNumber(e,function(e){t++}).next(function(){return t})},e.prototype.forEachOrphanedDocumentSequenceNumber=function(e,t){var n=this;return Rn.forEach(this.orphanedSequenceNumbers,function(r,i){return n.isPinned(e,r,i).next(function(e){return e?Rn.resolve():t(i)})})},e.prototype.setInMemoryPins=function(e){this.inMemoryPins=e},e.prototype.removeTargets=function(e,t,n){return this.persistence.getQueryCache().removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=0,i=this.persistence.getRemoteDocumentCache();return i.forEachDocumentKey(e,function(a){return n.isPinned(e,a,t).next(function(t){return t?Rn.resolve():(r++,i.removeEntry(e,a).next())})}).next(function(){return r})},e.prototype.removeMutationReference=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),Rn.resolve()},e.prototype.removeTarget=function(e,t){var n=t.copy({sequenceNumber:e.currentSequenceNumber});return this.persistence.getQueryCache().updateQueryData(e,n)},e.prototype.addReference=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),Rn.resolve()},e.prototype.removeReference=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),Rn.resolve()},e.prototype.updateLimboDocument=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),Rn.resolve()},e.prototype.documentSize=function(e){var t,n=this.serializer.toDbRemoteDocument(e);if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw y("Unknown remote document type");t=n.noDocument}return JSON.stringify(t).length},e.prototype.isPinned=function(e,t,n){var r=this;return Rn.or([function(){return r.persistence.mutationQueuesContainKey(e,t)},function(){return Rn.resolve(r.inMemoryPins.containsKey(t))},function(){return r.persistence.getQueryCache().containsKey(e,t)},function(){var e=r.orphanedSequenceNumbers.get(t);return Rn.resolve(void 0!==e&&n<e)}])},e.prototype.getCacheSize=function(e){return this.persistence.getRemoteDocumentCache().getSize(e)},e}(),ai=function(){function e(e,t,n,r,i){this.queue=e,this.timerId=t,this.initialDelayMs=n,this.backoffFactor=r,this.maxDelayMs=i,this.timerPromise=null,this.lastAttemptTime=Date.now(),this.reset()}return e.prototype.reset=function(){this.currentBaseMs=0},e.prototype.resetToMax=function(){this.currentBaseMs=this.maxDelayMs},e.prototype.backoffAndRun=function(e){var t=this;this.cancel();var n=Math.floor(this.currentBaseMs+this.jitterDelayMs()),r=Math.max(0,Date.now()-this.lastAttemptTime),i=Math.max(0,n-r);0<this.currentBaseMs&&m("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.currentBaseMs+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,i,function(){return t.lastAttemptTime=Date.now(),e()}),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)},e.prototype.cancel=function(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)},e.prototype.jitterDelayMs=function(){return(Math.random()-.5)*this.currentBaseMs},e}(),oi="PersistentStream";
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(Wr=zr||(zr={}))[Wr.Initial=0]="Initial",Wr[Wr.Starting=1]="Starting",Wr[Wr.Open=2]="Open",Wr[Wr.Error=3]="Error",Wr[Wr.Backoff=4]="Backoff";var si,li,ci,ui,hi=function(){function e(e,t,n,r,i,a){this.queue=e,this.idleTimerId=n,this.connection=r,this.credentialsProvider=i,this.listener=a,this.state=zr.Initial,this.closeCount=0,this.idleTimer=null,this.stream=null,this.backoff=new ai(e,t,1e3,1.5,6e4)}return e.prototype.isStarted=function(){return this.state===zr.Starting||this.state===zr.Open||this.state===zr.Backoff},e.prototype.isOpen=function(){return this.state===zr.Open},e.prototype.start=function(){this.state!==zr.Error?(b(this.state===zr.Initial,"Already started"),this.auth()):this.performBackoff()},e.prototype.stop=function(){return l.__awaiter(this,void 0,void 0,function(){return l.__generator(this,function(e){switch(e.label){case 0:return this.isStarted()?[4,this.close(zr.Initial)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},e.prototype.inhibitBackoff=function(){b(!this.isStarted(),"Can only inhibit backoff in a stopped state"),this.state=zr.Initial,this.backoff.reset()},e.prototype.markIdle=function(){var e=this;this.isOpen()&&null===this.idleTimer&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,6e4,function(){return e.handleIdleCloseTimer()}))},e.prototype.sendRequest=function(e){this.cancelIdleCheck(),this.stream.send(e)},e.prototype.handleIdleCloseTimer=function(){return l.__awaiter(this,void 0,void 0,function(){return l.__generator(this,function(e){return this.isOpen()?[2,this.close(zr.Initial)]:[2]})})},e.prototype.cancelIdleCheck=function(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)},e.prototype.close=function(e,t){return l.__awaiter(this,void 0,void 0,function(){return l.__generator(this,function(n){switch(n.label){case 0:return b(this.isStarted(),"Only started streams should be closed."),b(e===zr.Error||$e(t),"Can't provide an error when not in an error state."),this.cancelIdleCheck(),this.backoff.cancel(),this.closeCount++,e!==zr.Error?this.backoff.reset():t&&t.code===C.RESOURCE_EXHAUSTED?(v(t.toString()),v("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):t&&t.code===C.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.onClose(t)];case 1:return n.sent(),[2]}})})},e.prototype.tearDown=function(){},e.prototype.auth=function(){var e=this;b(this.state===zr.Initial,"Must be in initial state to auth"),this.state=zr.Starting;var t=this.getCloseGuardedDispatcher(this.closeCount),n=this.closeCount;this.credentialsProvider.getToken().then(function(t){e.closeCount===n&&e.startStream(t)},function(n){t(function(){var t=new S(C.UNKNOWN,"Fetching auth token failed: "+n.message);return e.handleStreamClose(t)})})},e.prototype.startStream=function(e){var t=this;b(this.state===zr.Starting,"Trying to start stream in a non-starting state");var n=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(e),this.stream.onOpen(function(){n(function(){return b(t.state===zr.Starting,"Expected stream to be in state Starting, but was "+t.state),t.state=zr.Open,t.listener.onOpen()})}),this.stream.onClose(function(e){n(function(){return t.handleStreamClose(e)})}),this.stream.onMessage(function(e){n(function(){return t.onMessage(e)})})},e.prototype.performBackoff=function(){var e=this;b(this.state===zr.Error,"Should only perform backoff when in Error state"),this.state=zr.Backoff,this.backoff.backoffAndRun(function(){return l.__awaiter(e,void 0,void 0,function(){return l.__generator(this,function(e){return b(this.state===zr.Backoff,"Backoff elapsed but state is now: "+this.state),this.state=zr.Initial,this.start(),b(this.isStarted(),"PersistentStream should have started"),[2]})})})},e.prototype.handleStreamClose=function(e){return b(this.isStarted(),"Can't handle server close on non-started stream"),m(oi,"close with error: "+e),this.stream=null,this.close(zr.Error,e)},e.prototype.getCloseGuardedDispatcher=function(e){var t=this;return function(n){t.queue.enqueueAndForget(function(){return t.closeCount===e?n():(m(oi,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),di=function(e){function t(t,n,r,i,a){var o=e.call(this,t,vn.ListenStreamConnectionBackoff,vn.ListenStreamIdle,n,r,a)||this;return o.serializer=i,o}return l.__extends(t,e),t.prototype.startRpc=function(e){return this.connection.openStream("Listen",e)},t.prototype.onMessage=function(e){this.backoff.reset();var t=this.serializer.fromWatchChange(e),n=this.serializer.versionFromListenResponse(e);return this.listener.onWatchChange(t,n)},t.prototype.watch=function(e){var t={};t.database=this.serializer.encodedDatabaseId,t.addTarget=this.serializer.toTarget(e);var n=this.serializer.toListenRequestLabels(e);n&&(t.labels=n),this.sendRequest(t)},t.prototype.unwatch=function(e){var t={};t.database=this.serializer.encodedDatabaseId,t.removeTarget=e,this.sendRequest(t)},t}(hi),pi=function(e){function t(t,n,r,i,a){var o=e.call(this,t,vn.WriteStreamConnectionBackoff,vn.WriteStreamIdle,n,r,a)||this;return o.serializer=i,o.handshakeComplete_=!1,o}return l.__extends(t,e),Object.defineProperty(t.prototype,"handshakeComplete",{get:function(){return this.handshakeComplete_},enumerable:!0,configurable:!0}),t.prototype.start=function(){this.handshakeComplete_=!1,e.prototype.start.call(this)},t.prototype.tearDown=function(){this.handshakeComplete_&&this.writeMutations([])},t.prototype.startRpc=function(e){return this.connection.openStream("Write",e)},t.prototype.onMessage=function(e){if(b(!!e.streamToken,"Got a write response without a stream token"),this.lastStreamToken=e.streamToken,this.handshakeComplete_){this.backoff.reset();var t=this.serializer.fromWriteResults(e.writeResults,e.commitTime),n=this.serializer.fromVersion(e.commitTime);return this.listener.onMutationResult(n,t)}return b(!e.writeResults||0===e.writeResults.length,"Got mutation results for handshake"),this.handshakeComplete_=!0,this.listener.onHandshakeComplete()},t.prototype.writeHandshake=function(){b(this.isOpen(),"Writing handshake requires an opened stream"),b(!this.handshakeComplete_,"Handshake already completed");var e={};e.database=this.serializer.encodedDatabaseId,this.sendRequest(e)},t.prototype.writeMutations=function(e){var t=this;b(this.isOpen(),"Writing mutations requires an opened stream"),b(this.handshakeComplete_,"Handshake must be complete before writing mutations"),b(0<this.lastStreamToken.length,"Trying to write mutation without a token");var n={streamToken:this.lastStreamToken,writes:e.map(function(e){return t.serializer.toMutation(e)})};this.sendRequest(n)},t}(hi),fi=function(){function e(e,t,n,r){this.queue=e,this.connection=t,this.credentials=n,this.serializer=r}return e.prototype.newPersistentWriteStream=function(e){return new pi(this.queue,this.connection,this.credentials,this.serializer,e)},e.prototype.newPersistentWatchStream=function(e){return new di(this.queue,this.connection,this.credentials,this.serializer,e)},e.prototype.commit=function(e){var t=this,n={database:this.serializer.encodedDatabaseId,writes:e.map(function(e){return t.serializer.toMutation(e)})};return this.invokeRPC("Commit",n).then(function(e){return t.serializer.fromWriteResults(e.writeResults,e.commitTime)})},e.prototype.lookup=function(e){var t=this,n={database:this.serializer.encodedDatabaseId,documents:e.map(function(e){return t.serializer.toName(e)})};return this.invokeStreamingRPC("BatchGetDocuments",n).then(function(n){var r=kt();n.forEach(function(e){var n=t.serializer.fromMaybeDocument(e);r=r.insert(n.key,n)});var i=[];return e.forEach(function(e){var t=r.get(e);b(!!t,"Missing entity in write response for "+e),i.push(t)}),i})},e.prototype.invokeRPC=function(e,t){var n=this;return this.credentials.getToken().then(function(r){return n.connection.invokeRPC(e,t,r)}).catch(function(e){throw e.code===C.UNAUTHENTICATED&&n.credentials.invalidateToken(),e})},e.prototype.invokeStreamingRPC=function(e,t){var n=this;return this.credentials.getToken().then(function(r){return n.connection.invokeStreamingRPC(e,t,r)}).catch(function(e){throw e.code===C.UNAUTHENTICATED&&n.credentials.invalidateToken(),e})},e}(),mi=function(){function e(e){this.datastore=e,this.readVersions=At(),this.mutations=[],this.committed=!1}return e.prototype.recordVersion=function(e){var t;if(e instanceof pe)t=e.version;else{if(!(e instanceof fe))throw y("Document in a transaction was a "+e.constructor.name);t=tt.forDeletedDoc()}var n=this.readVersions.get(e.key);if(null!==n){if(!t.isEqual(n))throw new S(C.ABORTED,"Document version changed between two reads.")}else this.readVersions=this.readVersions.insert(e.key,t)},e.prototype.lookup=function(e){var t=this;return this.committed?Promise.reject("Transaction has already completed."):0<this.mutations.length?Promise.reject("Transactions lookups are invalid after writes."):this.datastore.lookup(e).then(function(e){return e.forEach(function(e){e instanceof fe||e instanceof pe?t.recordVersion(e):y("Document in a transaction was a "+e.constructor.name)}),e})},e.prototype.write=function(e){if(this.committed)throw new S(C.FAILED_PRECONDITION,"Transaction has already completed.");this.mutations=this.mutations.concat(e)},e.prototype.precondition=function(e){var t=this.readVersions.get(e);return t?ut.updateTime(t):ut.NONE},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e);if(t&&t.isEqual(tt.forDeletedDoc()))throw new S(C.FAILED_PRECONDITION,"Can't update a document that doesn't exist.");return t?ut.updateTime(t):ut.exists(!0)},e.prototype.set=function(e,t){this.write(t.toMutations(e,this.precondition(e)))},e.prototype.update=function(e,t){this.write(t.toMutations(e,this.preconditionForUpdate(e)))},e.prototype.delete=function(e){this.write([new mt(e,this.precondition(e))]),this.readVersions=this.readVersions.insert(e,tt.forDeletedDoc())},e.prototype.commit=function(){var e=this,t=this.readVersions;return this.mutations.forEach(function(e){t=t.remove(e.key)}),t.isEmpty()?this.datastore.commit(this.mutations).then(function(){e.committed=!0}):Promise.reject(Error("Every document read in a transaction must also be written."))},e}();(li=si||(si={}))[li.Unknown=0]="Unknown",li[li.Online=1]="Online",li[li.Offline=2]="Offline",(ui=ci||(ci={}))[ui.RemoteStore=0]="RemoteStore",ui[ui.SharedClientState=1]="SharedClientState";
/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var vi=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state=si.Unknown,this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}return e.prototype.handleWatchStreamStart=function(){var e=this;0===this.watchStreamFailures&&(this.setAndBroadcast(si.Unknown),b(null===this.onlineStateTimer,"onlineStateTimer shouldn't be started yet"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay(vn.OnlineStateTimeout,1e4,function(){return e.onlineStateTimer=null,b(e.state===si.Unknown,"Timer should be canceled if we transitioned to a different state."),e.logClientOfflineWarningIfNecessary("Backend didn't respond within 10 seconds."),e.setAndBroadcast(si.Offline),Promise.resolve()}))},e.prototype.handleWatchStreamFailure=function(e){this.state===si.Online?(this.setAndBroadcast(si.Unknown),b(0===this.watchStreamFailures,"watchStreamFailures must be 0"),b(null===this.onlineStateTimer,"onlineStateTimer must be null")):(this.watchStreamFailures++,1<=this.watchStreamFailures&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary("Connection failed 1 times. Most recent error: "+e.toString()),this.setAndBroadcast(si.Offline)))},e.prototype.set=function(e){this.clearOnlineStateTimer(),this.watchStreamFailures=0,e===si.Online&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(e)},e.prototype.setAndBroadcast=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.logClientOfflineWarningIfNecessary=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.shouldWarnClientIsOffline?(v(t),this.shouldWarnClientIsOffline=!1):m("OnlineStateTracker",t)},e.prototype.clearOnlineStateTimer=function(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)},e}(),gi="RemoteStore",yi=function(){function e(e,t,n,r){this.localStore=e,this.datastore=t,this.writePipeline=[],this.listenTargets={},this.watchChangeAggregator=null,this.networkEnabled=!1,this.isPrimary=!1,this.onlineStateTracker=new vi(n,r),this.watchStream=this.datastore.newPersistentWatchStream({onOpen:this.onWatchStreamOpen.bind(this),onClose:this.onWatchStreamClose.bind(this),onWatchChange:this.onWatchStreamChange.bind(this)}),this.writeStream=this.datastore.newPersistentWriteStream({onOpen:this.onWriteStreamOpen.bind(this),onClose:this.onWriteStreamClose.bind(this),onHandshakeComplete:this.onWriteHandshakeComplete.bind(this),onMutationResult:this.onMutationResult.bind(this)})}return e.prototype.start=function(){return this.enableNetwork()},e.prototype.enableNetwork=function(){return l.__awaiter(this,void 0,void 0,function(){var e;return l.__generator(this,function(t){switch(t.label){case 0:return this.networkEnabled=!0,this.canUseNetwork()?(e=this.writeStream,[4,this.localStore.getLastStreamToken()]):[3,3];case 1:return e.lastStreamToken=t.sent(),this.shouldStartWatchStream()?this.startWatchStream():this.onlineStateTracker.set(si.Unknown),[4,this.fillWritePipeline()];case 2:t.sent(),t.label=3;case 3:return[2]}})})},e.prototype.disableNetwork=function(){return l.__awaiter(this,void 0,void 0,function(){return l.__generator(this,function(e){switch(e.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return e.sent(),this.onlineStateTracker.set(si.Offline),[2]}})})},e.prototype.disableNetworkInternal=function(){return l.__awaiter(this,void 0,void 0,function(){return l.__generator(this,function(e){switch(e.label){case 0:return[4,this.writeStream.stop()];case 1:return e.sent(),[4,this.watchStream.stop()];case 2:return e.sent(),0<this.writePipeline.length&&(m(gi,"Stopping write stream with "+this.writePipeline.length+" pending writes"),this.writePipeline=[]),this.cleanUpWatchStreamState(),[2]}})})},e.prototype.shutdown=function(){return l.__awaiter(this,void 0,void 0,function(){return l.__generator(this,function(e){switch(e.label){case 0:return m(gi,"RemoteStore shutting down."),this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return e.sent(),this.onlineStateTracker.set(si.Unknown),[2]}})})},e.prototype.listen=function(e){b(!T(this.listenTargets,e.targetId),"listen called with duplicate targetId!"),this.listenTargets[e.targetId]=e,this.shouldStartWatchStream()?this.startWatchStream():this.watchStream.isOpen()&&this.sendWatchRequest(e)},e.prototype.unlisten=function(e){b(T(this.listenTargets,e),"unlisten called without assigned target ID!"),delete this.listenTargets[e],this.watchStream.isOpen()&&this.sendUnwatchRequest(e),O(this.listenTargets)&&(this.watchStream.isOpen()?this.watchStream.markIdle():this.canUseNetwork()&&this.onlineStateTracker.set(si.Unknown))},e.prototype.getQueryDataForTarget=function(e){return this.listenTargets[e]||null},e.prototype.getRemoteKeysForTarget=function(e){return this.syncEngine.getRemoteKeysForTarget(e)},e.prototype.sendWatchRequest=function(e){this.watchChangeAggregator.recordPendingTargetRequest(e.targetId),this.watchStream.watch(e)},e.prototype.sendUnwatchRequest=function(e){this.watchChangeAggregator.recordPendingTargetRequest(e),this.watchStream.unwatch(e)},e.prototype.startWatchStream=function(){b(this.shouldStartWatchStream(),"startWatchStream() called when shouldStartWatchStream() is false."),this.watchChangeAggregator=new Xt(this),this.watchStream.start(),this.onlineStateTracker.handleWatchStreamStart()},e.prototype.shouldStartWatchStream=function(){return this.canUseNetwork()&&!this.watchStream.isStarted()&&!O(this.listenTargets)},e.prototype.canUseNetwork=function(){return this.isPrimary&&this.networkEnabled},e.prototype.cleanUpWatchStreamState=function(){this.watchChangeAggregator=null},e.prototype.onWatchStreamOpen=function(){return l.__awaiter(this,void 0,void 0,function(){var e=this;return l.__generator(this,function(t){return x(this.listenTargets,function(t,n){e.sendWatchRequest(n)}),[2]})})},e.prototype.onWatchStreamClose=function(e){return l.__awaiter(this,void 0,void 0,function(){return l.__generator(this,function(t){return void 0===e&&b(!this.shouldStartWatchStream(),"Watch stream was stopped gracefully while still needed."),this.cleanUpWatchStreamState(),this.shouldStartWatchStream()?(this.onlineStateTracker.handleWatchStreamFailure(e),this.startWatchStream()):this.onlineStateTracker.set(si.Unknown),[2]})})},e.prototype.onWatchStreamChange=function(e,t){return l.__awaiter(this,void 0,void 0,function(){var n;return l.__generator(this,function(r){switch(r.label){case 0:return this.onlineStateTracker.set(si.Online),e instanceof Qt&&e.state===Vt.Removed&&e.cause?[2,this.handleTargetError(e)]:(e instanceof Kt?this.watchChangeAggregator.handleDocumentChange(e):e instanceof Gt?this.watchChangeAggregator.handleExistenceFilter(e):(b(e instanceof Qt,"Expected watchChange to be an instance of WatchTargetChange"),this.watchChangeAggregator.handleTargetChange(e)),t.isEqual(tt.MIN)?[3,3]:[4,this.localStore.getLastRemoteSnapshotVersion()]);case 1:return n=r.sent(),0<=t.compareTo(n)?[4,this.raiseWatchSnapshot(t)]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}})})},e.prototype.raiseWatchSnapshot=function(e){var t=this;b(!e.isEqual(tt.MIN),"Can't raise event for unknown SnapshotVersion");var n=this.watchChangeAggregator.createRemoteEvent(e);return x(n.targetChanges,function(n,r){if(0<r.resumeToken.length){var i=t.listenTargets[n];i&&(t.listenTargets[n]=i.copy({resumeToken:r.resumeToken,snapshotVersion:e}))}}),n.targetMismatches.forEach(function(e){var n=t.listenTargets[e];if(n){t.listenTargets[e]=n.copy({resumeToken:E()}),t.sendUnwatchRequest(e);var r=new it(n.query,e,qe.ExistenceFilterMismatch,n.sequenceNumber);t.sendWatchRequest(r)}}),this.syncEngine.applyRemoteEvent(n)},e.prototype.handleTargetError=function(e){var t=this;b(!!e.cause,"Handling target error without a cause");var n=e.cause,r=Promise.resolve();return e.targetIds.forEach(function(e){r=r.then(function(){return l.__awaiter(t,void 0,void 0,function(){return l.__generator(this,function(t){return T(this.listenTargets,e)?(delete this.listenTargets[e],this.watchChangeAggregator.removeTarget(e),[2,this.syncEngine.rejectListen(e,n)]):[2]})})})}),r},e.prototype.fillWritePipeline=function(){return l.__awaiter(this,void 0,void 0,function(){var e,t;return l.__generator(this,function(n){switch(n.label){case 0:return this.canAddToWritePipeline()?(e=0<this.writePipeline.length?this.writePipeline[this.writePipeline.length-1].batchId:-1,[4,this.localStore.nextMutationBatch(e)]):[3,4];case 1:return null!==(t=n.sent())?[3,2]:(0===this.writePipeline.length&&this.writeStream.markIdle(),[3,4]);case 2:return this.addToWritePipeline(t),[4,this.fillWritePipeline()];case 3:n.sent(),n.label=4;case 4:return this.shouldStartWriteStream()&&this.startWriteStream(),[2]}})})},e.prototype.canAddToWritePipeline=function(){return this.canUseNetwork()&&this.writePipeline.length<10},e.prototype.outstandingWrites=function(){return this.writePipeline.length},e.prototype.addToWritePipeline=function(e){b(this.canAddToWritePipeline(),"addToWritePipeline called when pipeline is full"),this.writePipeline.push(e),this.writeStream.isOpen()&&this.writeStream.handshakeComplete&&this.writeStream.writeMutations(e.mutations)},e.prototype.shouldStartWriteStream=function(){return this.canUseNetwork()&&!this.writeStream.isStarted()&&0<this.writePipeline.length},e.prototype.startWriteStream=function(){b(this.shouldStartWriteStream(),"startWriteStream() called when shouldStartWriteStream() is false."),this.writeStream.start()},e.prototype.onWriteStreamOpen=function(){return l.__awaiter(this,void 0,void 0,function(){return l.__generator(this,function(e){return this.writeStream.writeHandshake(),[2]})})},e.prototype.onWriteHandshakeComplete=function(){var e=this;return this.localStore.setLastStreamToken(this.writeStream.lastStreamToken).then(function(){for(var t=0,n=e.writePipeline;t<n.length;t++){var r=n[t];e.writeStream.writeMutations(r.mutations)}}).catch($r)},e.prototype.onMutationResult=function(e,t){var n=this;b(0<this.writePipeline.length,"Got result for empty write pipeline");var r=this.writePipeline.shift(),i=Nn.from(r,e,t,this.writeStream.lastStreamToken);return this.syncEngine.applySuccessfulWrite(i).then(function(){return n.fillWritePipeline()})},e.prototype.onWriteStreamClose=function(e){return l.__awaiter(this,void 0,void 0,function(){var t=this;return l.__generator(this,function(n){return void 0===e&&b(!this.shouldStartWriteStream(),"Write stream was stopped gracefully while still needed."),e&&0<this.writePipeline.length?[2,(this.writeStream.handshakeComplete?this.handleWriteError(e):this.handleHandshakeError(e)).then(function(){t.shouldStartWriteStream()&&t.startWriteStream()})]:[2]})})},e.prototype.handleHandshakeError=function(e){return l.__awaiter(this,void 0,void 0,function(){return l.__generator(this,function(t){return St(e.code)?(m(gi,"RemoteStore error before completed handshake; resetting stream token: ",this.writeStream.lastStreamToken),this.writeStream.lastStreamToken=E(),[2,this.localStore.setLastStreamToken(E()).catch($r)]):[2]})})},e.prototype.handleWriteError=function(e){return l.__awaiter(this,void 0,void 0,function(){var t,n=this;return l.__generator(this,function(r){return St(i=e.code)&&i!==C.ABORTED?(t=this.writePipeline.shift(),this.writeStream.inhibitBackoff(),[2,this.syncEngine.rejectFailedWrite(t.batchId,e).then(function(){return n.fillWritePipeline()})]):[2];var i})})},e.prototype.createTransaction=function(){return new mi(this.datastore)},e.prototype.handleCredentialChange=function(){return l.__awaiter(this,void 0,void 0,function(){return l.__generator(this,function(e){switch(e.label){case 0:return this.canUseNetwork()?(m(gi,"RemoteStore restarting streams for new credential"),this.networkEnabled=!1,[4,this.disableNetworkInternal()]):[3,3];case 1:return e.sent(),this.onlineStateTracker.set(si.Unknown),[4,this.enableNetwork()];case 2:e.sent(),e.label=3;case 3:return[2]}})})},e.prototype.applyPrimaryState=function(e){return l.__awaiter(this,void 0,void 0,function(){return l.__generator(this,function(t){switch(t.label){case 0:return(this.isPrimary=e)&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return t.sent(),[3,4];case 2:return e?[3,4]:[4,this.disableNetworkInternal()];case 3:t.sent(),this.onlineStateTracker.set(si.Unknown),t.label=4;case 4:return[2]}})})},e}(),bi=function(){this.listeners=[]},wi=function(){function e(e){this.syncEngine=e,this.queries=new Kn(function(e){return e.canonicalId()}),this.onlineState=si.Unknown,this.syncEngine.subscribe(this)}return e.prototype.listen=function(e){var t=e.query,n=!1,r=this.queries.get(t);return r||(n=!0,r=new bi,this.queries.set(t,r)),r.listeners.push(e),e.applyOnlineStateChange(this.onlineState),r.viewSnap&&e.onViewSnapshot(r.viewSnap),n?this.syncEngine.listen(t).then(function(e){return r.targetId=e}):Promise.resolve(r.targetId)},e.prototype.unlisten=function(e){return l.__awaiter(this,void 0,void 0,function(){var t,n,r,i;return l.__generator(this,function(a){return t=e.query,n=!1,(r=this.queries.get(t))&&0<=(i=r.listeners.indexOf(e))&&(r.listeners.splice(i,1),n=0===r.listeners.length),n?(this.queries.delete(t),[2,this.syncEngine.unlisten(t)]):[2]})})},e.prototype.onWatchChange=function(e){for(var t=0,n=e;t<n.length;t++){var r=n[t],i=r.query,a=this.queries.get(i);if(a){for(var o=0,s=a.listeners;o<s.length;o++)s[o].onViewSnapshot(r);a.viewSnap=r}}},e.prototype.onWatchError=function(e,t){var n=this.queries.get(e);if(n)for(var r=0,i=n.listeners;r<i.length;r++)i[r].onError(t);this.queries.delete(e)},e.prototype.onOnlineStateChange=function(e){this.onlineState=e,this.queries.forEach(function(t,n){for(var r=0,i=n.listeners;r<i.length;r++)i[r].applyOnlineStateChange(e)})},e}(),Ei=function(){function e(e,t,n){this.query=e,this.queryObserver=t,this.raisedInitialEvent=!1,this.onlineState=si.Unknown,this.options=n||{}}return e.prototype.onViewSnapshot=function(e){if(b(0<e.docChanges.length||e.syncStateChanged,"We got a new snapshot with no changes?"),!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];i.type!==Lt.Metadata&&t.push(i)}e=new Ht(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}this.raisedInitialEvent?this.shouldRaiseEvent(e)&&this.queryObserver.next(e):this.shouldRaiseInitialEvent(e,this.onlineState)&&this.raiseInitialEvent(e),this.snap=e},e.prototype.onError=function(e){this.queryObserver.error(e)},e.prototype.applyOnlineStateChange=function(e){this.onlineState=e,this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,e)&&this.raiseInitialEvent(this.snap)},e.prototype.shouldRaiseInitialEvent=function(e,t){if(b(!this.raisedInitialEvent,"Determining whether to raise first event but already had first event"),!e.fromCache)return!0;var n=t!==si.Offline;return this.options.waitForSyncWhenOnline&&n?(b(e.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!e.docs.isEmpty()||t===si.Offline},e.prototype.shouldRaiseEvent=function(e){if(0<e.docChanges.length)return!0;var t=this.snap&&this.snap.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.raiseInitialEvent=function(e){b(!this.raisedInitialEvent,"Trying to raise initial events for second time"),e=Ht.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.raisedInitialEvent=!0,this.queryObserver.next(e)},e}(),Ci=function(){function e(e,t,n){this.targetId=e,this.addedKeys=t,this.removedKeys=n}return e.fromSnapshot=function(t,n){for(var r=Nt(),i=Nt(),a=0,o=n.docChanges;a<o.length;a++){var s=o[a];switch(s.type){case Lt.Added:r=r.add(s.doc.key);break;case Lt.Removed:i=i.add(s.doc.key)}}return new e(t,r,i)},e}(),Si=function(e){this.key=e},_i=function(e){this.key=e},Ti=function(){function e(e,t){this.query=e,this._syncedDocuments=t,this.syncState=null,this.current=!1,this.limboDocuments=Nt(),this.mutatedKeys=Nt(),this.documentSet=new $t(e.docComparator.bind(e))}return Object.defineProperty(e.prototype,"syncedDocuments",{get:function(){return this._syncedDocuments},enumerable:!0,configurable:!0}),e.prototype.computeDocChanges=function(e,t){var n=this,r=t?t.changeSet:new Ut,i=t?t.documentSet:this.documentSet,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,l=this.query.hasLimit()&&i.size===this.query.limit?i.last():null;if(e.inorderTraversal(function(e,t){var c=i.get(e),u=t instanceof pe?t:null;u&&(b(e.isEqual(u.key),"Mismatching keys found in document changes: "+e+" != "+u.key),u=n.query.matches(u)?u:null);var h=!!c&&n.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||n.mutatedKeys.has(u.key)&&u.hasCommittedMutations),p=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(r.track({type:Lt.Metadata,doc:u}),p=!0):n.shouldWaitForSyncedDocument(c,u)||(r.track({type:Lt.Modified,doc:u}),p=!0,l&&0<n.query.docComparator(u,l)&&(s=!0)):!c&&u?(r.track({type:Lt.Added,doc:u}),p=!0):c&&!u&&(r.track({type:Lt.Removed,doc:c}),p=!0,l&&(s=!0)),p&&(a=u?(o=o.add(u),d?a.add(e):a.delete(e)):(o=o.delete(e),a.delete(e)))}),this.query.hasLimit())for(;o.size>this.query.limit;){var c=o.last();o=o.delete(c.key),a=a.delete(c.key),r.track({type:Lt.Removed,doc:c})}return b(!s||!t,"View was refilled using docs that themselves needed refilling."),{documentSet:o,changeSet:r,needsRefill:s,mutatedKeys:a}},e.prototype.shouldWaitForSyncedDocument=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this;b(!e.needsRefill,"Cannot apply changes that need a refill");var i=this.documentSet;this.documentSet=e.documentSet,this.mutatedKeys=e.mutatedKeys;var a=e.changeSet.getChanges();a.sort(function(e,t){return n=e.type,i=t.type,(a=function(e){switch(e){case Lt.Added:return 1;case Lt.Modified:case Lt.Metadata:return 2;case Lt.Removed:return 0;default:return y("Unknown ChangeType: "+e)}})(n)-a(i)||r.query.docComparator(e.doc,t.doc);var n,i,a;
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}),this.applyTargetChange(n);var o=t?this.updateLimboDocuments():[],s=0===this.limboDocuments.size&&this.current?Bt.Synced:Bt.Local,l=s!==this.syncState;return this.syncState=s,0!==a.length||l?{snapshot:new Ht(this.query,e.documentSet,i,a,e.mutatedKeys,s===Bt.Local,l,!1),limboChanges:o}:{limboChanges:o}},e.prototype.applyOnlineStateChange=function(e){return this.current&&e===si.Offline?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new Ut,mutatedKeys:this.mutatedKeys,needsRefill:!1},!1)):{limboChanges:[]}},e.prototype.shouldBeInLimbo=function(e){return!this._syncedDocuments.has(e)&&!!this.documentSet.has(e)&&!this.documentSet.get(e).hasLocalMutations},e.prototype.applyTargetChange=function(e){var t=this;e&&(e.addedDocuments.forEach(function(e){return t._syncedDocuments=t._syncedDocuments.add(e)}),e.modifiedDocuments.forEach(function(e){return b(t._syncedDocuments.has(e),"Modified document "+e+" not found in view.")}),e.removedDocuments.forEach(function(e){return t._syncedDocuments=t._syncedDocuments.delete(e)}),this.current=e.current)},e.prototype.updateLimboDocuments=function(){var e=this;if(!this.current)return[];var t=this.limboDocuments;this.limboDocuments=Nt(),this.documentSet.forEach(function(t){e.shouldBeInLimbo(t.key)&&(e.limboDocuments=e.limboDocuments.add(t.key))});var n=[];return t.forEach(function(t){e.limboDocuments.has(t)||n.push(new _i(t))}),this.limboDocuments.forEach(function(e){t.has(e)||n.push(new Si(e))}),n},e.prototype.synchronizeWithPersistedState=function(e,t){this._syncedDocuments=t,this.limboDocuments=Nt();var n=this.computeDocChanges(e);return this.applyChanges(n,!0)},e.prototype.computeInitialSnapshot=function(){return Ht.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,this.syncState===Bt.Local)},e}(),ki="SyncEngine",xi=function(e,t,n){this.query=e,this.targetId=t,this.view=n},Ii=function(e){this.key=e},Oi=function(){function e(e,t,n,r){this.localStore=e,this.remoteStore=t,this.sharedClientState=n,this.currentUser=r,this.syncEngineListener=null,this.queryViewsByQuery=new Kn(function(e){return e.canonicalId()}),this.queryViewsByTarget={},this.limboTargetsByKey=new ve(he.comparator),this.limboResolutionsByTarget={},this.limboDocumentRefs=new Gr,this.mutationUserCallbacks={},this.limboTargetIdGenerator=Mn.forSyncEngine(),this.isPrimary=void 0,this.onlineState=si.Unknown}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),e.prototype.subscribe=function(e){b(null!==e,"SyncEngine listener cannot be null"),b(null===this.syncEngineListener,"SyncEngine already has a subscriber."),this.syncEngineListener=e},e.prototype.listen=function(e){return l.__awaiter(this,void 0,void 0,function(){var t,n,r,i,a;return l.__generator(this,function(o){switch(o.label){case 0:return this.assertSubscribed("listen()"),(r=this.queryViewsByQuery.get(e))?(t=r.targetId,this.sharedClientState.addLocalQueryTarget(t),n=r.view.computeInitialSnapshot(),[3,4]):[3,1];case 1:return[4,this.localStore.allocateQuery(e)];case 2:return i=o.sent(),a=this.sharedClientState.addLocalQueryTarget(i.targetId),t=i.targetId,[4,this.initializeViewAndComputeSnapshot(i,"current"===a)];case 3:n=o.sent(),this.isPrimary&&this.remoteStore.listen(i),o.label=4;case 4:return this.syncEngineListener.onWatchChange([n]),[2,t]}})})},e.prototype.initializeViewAndComputeSnapshot=function(e,t){var n=this,r=e.query;return this.localStore.executeQuery(r).then(function(i){return n.localStore.remoteDocumentKeys(e.targetId).then(function(a){var o=new Ti(r,a),s=o.computeDocChanges(i),l=Wt.createSynthesizedTargetChangeForCurrentChange(e.targetId,t&&n.onlineState!==si.Offline),c=o.applyChanges(s,!0===n.isPrimary,l);b(0===c.limboChanges.length,"View returned limbo docs before target ack from the server."),b(!!c.snapshot,"applyChanges for new view should always return a snapshot");var u=new xi(r,e.targetId,o);return n.queryViewsByQuery.set(r,u),n.queryViewsByTarget[e.targetId]=u,c.snapshot})})},e.prototype.synchronizeViewAndComputeSnapshot=function(e){var t=this;return this.localStore.executeQuery(e.query).then(function(n){return t.localStore.remoteDocumentKeys(e.targetId).then(function(r){return l.__awaiter(t,void 0,void 0,function(){var t;return l.__generator(this,function(i){return t=e.view.synchronizeWithPersistedState(n,r),this.isPrimary&&this.updateTrackedLimbos(e.targetId,t.limboChanges),[2,t]})})})})},e.prototype.unlisten=function(e){return l.__awaiter(this,void 0,void 0,function(){var t,n=this;return l.__generator(this,function(r){switch(r.label){case 0:return this.assertSubscribed("unlisten()"),b(!!(t=this.queryViewsByQuery.get(e)),"Trying to unlisten on query not found:"+e),this.isPrimary?(this.sharedClientState.removeLocalQueryTarget(t.targetId),this.sharedClientState.isActiveQueryTarget(t.targetId)?[3,2]:[4,this.localStore.releaseQuery(e,!1).then(function(){n.sharedClientState.clearQueryState(t.targetId),n.remoteStore.unlisten(t.targetId),n.removeAndCleanupQuery(t)}).catch($r)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return this.removeAndCleanupQuery(t),[4,this.localStore.releaseQuery(e,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}})})},e.prototype.write=function(e,t){var n=this;return this.assertSubscribed("write()"),this.localStore.localWrite(e).then(function(e){return n.sharedClientState.addPendingMutation(e.batchId),n.addMutationCallback(e.batchId,t),n.emitNewSnapsAndNotifyLocalStore(e.changes)}).then(function(){return n.remoteStore.fillWritePipeline()})},e.prototype.wrapUpdateFunctionError=function(e){return e},e.prototype.runTransaction=function(e,t){var n=this;void 0===t&&(t=5),b(0<=t,"Got negative number of retries for transaction.");var r=this.remoteStore.createTransaction();return function(){try{var t=e(r);return!$e(t)&&t.catch&&t.then?t.catch(function(e){return Promise.reject(n.wrapUpdateFunctionError(e))}):Promise.reject(Error("Transaction callback must return a Promise"))}catch(t){return Promise.reject(n.wrapUpdateFunctionError(t))}}().then(function(i){return r.commit().then(function(){return i}).catch(function(r){return 0===t?Promise.reject(r):n.runTransaction(e,t-1)})})},e.prototype.applyRemoteEvent=function(e){var t=this;return this.assertSubscribed("applyRemoteEvent()"),this.localStore.applyRemoteEvent(e).then(function(n){return I(e.targetChanges,function(e,n){var r=t.limboResolutionsByTarget[e];r&&(b(n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size<=1,"Limbo resolution for single document contains multiple changes."),0<n.addedDocuments.size?r.receivedDocument=!0:0<n.modifiedDocuments.size?b(r.receivedDocument,"Received change for limbo target document without add."):0<n.removedDocuments.size&&(b(r.receivedDocument,"Received remove for limbo target document without add."),r.receivedDocument=!1))}),t.emitNewSnapsAndNotifyLocalStore(n,e)}).catch($r)},e.prototype.applyOnlineStateChange=function(e,t){if(this.isPrimary&&t===ci.RemoteStore||!this.isPrimary&&t===ci.SharedClientState){var n=[];this.queryViewsByQuery.forEach(function(t,r){var i=r.view.applyOnlineStateChange(e);b(0===i.limboChanges.length,"OnlineState should not affect limbo documents."),i.snapshot&&n.push(i.snapshot)}),this.syncEngineListener.onOnlineStateChange(e),this.syncEngineListener.onWatchChange(n),this.onlineState=e,this.isPrimary&&this.sharedClientState.setOnlineState(e)}},e.prototype.rejectListen=function(e,t){return l.__awaiter(this,void 0,void 0,function(){var n,r,i,a,o,s,c=this;return l.__generator(this,function(l){switch(l.label){case 0:return this.assertSubscribed("rejectListens()"),this.sharedClientState.updateQueryState(e,"rejected",t),n=this.limboResolutionsByTarget[e],(r=n&&n.key)?(this.limboTargetsByKey=this.limboTargetsByKey.remove(r),delete this.limboResolutionsByTarget[e],i=(i=new ve(he.comparator)).insert(r,new fe(r,tt.forDeletedDoc())),a=Nt().add(r),o=new zt(tt.MIN,{},new at(K),i,a),[2,this.applyRemoteEvent(o)]):[3,1];case 1:return b(!!(s=this.queryViewsByTarget[e]),"Unknown targetId: "+e),[4,this.localStore.releaseQuery(s.query,!1).then(function(){return c.removeAndCleanupQuery(s)}).catch($r)];case 2:l.sent(),this.syncEngineListener.onWatchError(s.query,t),l.label=3;case 3:return[2]}})})},e.prototype.applyBatchState=function(e,t,n){return l.__awaiter(this,void 0,void 0,function(){var r;return l.__generator(this,function(i){switch(i.label){case 0:return this.assertSubscribed("applyBatchState()"),[4,this.localStore.lookupMutationDocuments(e)];case 1:return null===(r=i.sent())?(m(ki,"Cannot apply mutation batch with id: "+e),[2]):"pending"!==t?[3,3]:[4,this.remoteStore.fillWritePipeline()];case 2:return i.sent(),[3,4];case 3:"acknowledged"===t||"rejected"===t?(this.processUserCallback(e,n||null),this.localStore.removeCachedMutationBatchMetadata(e)):y("Unknown batchState: "+t),i.label=4;case 4:return[4,this.emitNewSnapsAndNotifyLocalStore(r)];case 5:return i.sent(),[2]}})})},e.prototype.applySuccessfulWrite=function(e){var t=this;this.assertSubscribed("applySuccessfulWrite()");var n=e.batch.batchId;return this.processUserCallback(n,null),this.localStore.acknowledgeBatch(e).then(function(e){return t.sharedClientState.updateMutationState(n,"acknowledged"),t.emitNewSnapsAndNotifyLocalStore(e)}).catch($r)},e.prototype.rejectFailedWrite=function(e,t){var n=this;return this.assertSubscribed("rejectFailedWrite()"),this.processUserCallback(e,t),this.localStore.rejectBatch(e).then(function(r){return n.sharedClientState.updateMutationState(e,"rejected",t),n.emitNewSnapsAndNotifyLocalStore(r)}).catch($r)},e.prototype.addMutationCallback=function(e,t){var n=this.mutationUserCallbacks[this.currentUser.toKey()];n||(n=new ve(K)),n=n.insert(e,t),this.mutationUserCallbacks[this.currentUser.toKey()]=n},e.prototype.processUserCallback=function(e,t){var n=this.mutationUserCallbacks[this.currentUser.toKey()];if(n){var r=n.get(e);r&&(b(e===n.minKey(),"Mutation callbacks processed out-of-order?"),t?r.reject(t):r.resolve(),n=n.remove(e)),this.mutationUserCallbacks[this.currentUser.toKey()]=n}},e.prototype.removeAndCleanupQuery=function(e){var t=this;if(this.sharedClientState.removeLocalQueryTarget(e.targetId),this.queryViewsByQuery.delete(e.query),delete this.queryViewsByTarget[e.targetId],this.isPrimary){var n=this.limboDocumentRefs.referencesForId(e.targetId);this.limboDocumentRefs.removeReferencesForId(e.targetId),n.forEach(function(e){t.limboDocumentRefs.containsKey(e)||t.removeLimboTarget(e)})}},e.prototype.removeLimboTarget=function(e){var t=this.limboTargetsByKey.get(e);null!==t&&(this.remoteStore.unlisten(t),this.limboTargetsByKey=this.limboTargetsByKey.remove(e),delete this.limboResolutionsByTarget[t])},e.prototype.updateTrackedLimbos=function(e,t){for(var n=0,r=t;n<r.length;n++){var i=r[n];i instanceof Si?(this.limboDocumentRefs.addReference(i.key,e),this.trackLimboChange(i)):i instanceof _i?(m(ki,"Document no longer in limbo: "+i.key),this.limboDocumentRefs.removeReference(i.key,e),this.limboDocumentRefs.containsKey(i.key)||this.removeLimboTarget(i.key)):y("Unknown limbo change: "+JSON.stringify(i))}},e.prototype.trackLimboChange=function(e){var t=e.key;if(!this.limboTargetsByKey.get(t)){m(ki,"New document in limbo: "+t);var n=this.limboTargetIdGenerator.next(),r=He.atPath(t.path);this.limboResolutionsByTarget[n]=new Ii(t),this.remoteStore.listen(new it(r,n,qe.LimboResolution,yn.INVALID)),this.limboTargetsByKey=this.limboTargetsByKey.insert(t,n)}},e.prototype.currentLimboDocs=function(){return this.limboTargetsByKey},e.prototype.emitNewSnapsAndNotifyLocalStore=function(e,t){return l.__awaiter(this,void 0,void 0,function(){var n,r,i,a=this;return l.__generator(this,function(o){switch(o.label){case 0:return n=[],r=[],i=[],this.queryViewsByQuery.forEach(function(o,s){i.push(Promise.resolve().then(function(){var t=s.view.computeDocChanges(e);return t.needsRefill?a.localStore.executeQuery(s.query).then(function(e){return s.view.computeDocChanges(e,t)}):t}).then(function(e){var i=t&&t.targetChanges[s.targetId],o=s.view.applyChanges(e,!0===a.isPrimary,i);if(a.updateTrackedLimbos(s.targetId,o.limboChanges),o.snapshot){a.isPrimary&&a.sharedClientState.updateQueryState(s.targetId,o.snapshot.fromCache?"not-current":"current"),n.push(o.snapshot);var l=Ci.fromSnapshot(s.targetId,o.snapshot);r.push(l)}}))}),[4,Promise.all(i)];case 1:return o.sent(),this.syncEngineListener.onWatchChange(n),[4,this.localStore.notifyLocalViewChanges(r)];case 2:return o.sent(),[2]}})})},e.prototype.assertSubscribed=function(e){b(null!==this.syncEngineListener,"Trying to call "+e+" before calling subscribe().")},e.prototype.handleCredentialChange=function(e){return l.__awaiter(this,void 0,void 0,function(){var t,n;return l.__generator(this,function(r){switch(r.label){case 0:return t=!this.currentUser.isEqual(e),this.currentUser=e,t?[4,this.localStore.handleUserChange(e)]:[3,3];case 1:return n=r.sent(),this.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),[4,this.emitNewSnapsAndNotifyLocalStore(n.affectedDocuments)];case 2:r.sent(),r.label=3;case 3:return[4,this.remoteStore.handleCredentialChange()];case 4:return r.sent(),[2]}})})},e.prototype.applyPrimaryState=function(e){return l.__awaiter(this,void 0,void 0,function(){var t,n,r,i,a,o,s,c=this;return l.__generator(this,function(l){switch(l.label){case 0:return!0!==e||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.remoteStore.applyPrimaryState(!0)]);case 1:return l.sent(),t=this.sharedClientState.getAllActiveQueryTargets(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(t.toArray())];case 2:for(n=l.sent(),r=0,i=n;r<i.length;r++)a=i[r],this.remoteStore.listen(a);return[3,7];case 3:return!1!==e||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,o=[],s=Promise.resolve(),x(this.queryViewsByTarget,function(e,t){c.sharedClientState.isLocalQueryTarget(e)?o.push(e):s=s.then(function(){return c.unlisten(t.query)}),c.remoteStore.unlisten(t.targetId)}),[4,s]);case 4:return l.sent(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(o)];case 5:return l.sent(),this.resetLimboDocuments(),[4,this.remoteStore.applyPrimaryState(!1)];case 6:l.sent(),l.label=7;case 7:return[2]}})})},e.prototype.resetLimboDocuments=function(){var e=this;x(this.limboResolutionsByTarget,function(t){e.remoteStore.unlisten(t)}),this.limboDocumentRefs.removeAllReferences(),this.limboResolutionsByTarget=[],this.limboTargetsByKey=new ve(he.comparator)},e.prototype.synchronizeQueryViewsAndRaiseSnapshots=function(e){for(var t=this,n=Promise.resolve(),r=[],i=[],a=function(e){n=n.then(function(){return l.__awaiter(t,void 0,void 0,function(){var t,n,a,o;return l.__generator(this,function(s){switch(s.label){case 0:return(n=this.queryViewsByTarget[e])?[4,this.localStore.releaseQuery(n.query,!0)]:[3,4];case 1:return s.sent(),[4,this.localStore.allocateQuery(n.query)];case 2:return t=s.sent(),[4,this.synchronizeViewAndComputeSnapshot(n)];case 3:return(a=s.sent()).snapshot&&i.push(a.snapshot),[3,8];case 4:return b(!0===this.isPrimary,"A secondary tab should never have an active query without an active view."),[4,this.localStore.getQueryForTarget(e)];case 5:return b(!!(o=s.sent()),"Query data for target "+e+" not found"),[4,this.localStore.allocateQuery(o)];case 6:return t=s.sent(),[4,this.initializeViewAndComputeSnapshot(t,!1)];case 7:s.sent(),s.label=8;case 8:return r.push(t),[2]}})})})},o=0,s=e;o<s.length;o++)a(s[o]);return n.then(function(){return t.syncEngineListener.onWatchChange(i),r})},e.prototype.getActiveClients=function(){return this.localStore.getActiveClients()},e.prototype.applyTargetState=function(e,t,n){return l.__awaiter(this,void 0,void 0,function(){var r,i=this;return l.__generator(this,function(a){switch(a.label){case 0:if(this.isPrimary)return m(ki,"Ignoring unexpected query state notification."),[2];if(!this.queryViewsByTarget[e])return[3,5];switch(t){case"current":case"not-current":return[3,1];case"rejected":return[3,2]}return[3,4];case 1:return[2,this.localStore.getNewDocumentChanges().then(function(n){return l.__awaiter(i,void 0,void 0,function(){var r;return l.__generator(this,function(i){switch(i.label){case 0:return r=zt.createSynthesizedRemoteEventForCurrentChange(e,"current"===t),[4,this.emitNewSnapsAndNotifyLocalStore(n,r)];case 1:return i.sent(),[2]}})})},function(e){return l.__awaiter(i,void 0,void 0,function(){var t;return l.__generator(this,function(n){switch(n.label){case 0:return(r=e).code!==C.DATA_LOSS||r.message!==Qn?[3,2]:(t=[],x(this.queryViewsByTarget,function(e){return t.push(e)}),[4,this.synchronizeQueryViewsAndRaiseSnapshots(t)]);case 1:return n.sent(),[3,3];case 2:throw e;case 3:return[2]}var r})})})];case 2:return r=this.queryViewsByTarget[e],this.removeAndCleanupQuery(r),[4,this.localStore.releaseQuery(r.query,!0)];case 3:return a.sent(),this.syncEngineListener.onWatchError(r.query,n),[3,5];case 4:y("Unexpected target state: "+t),a.label=5;case 5:return[2]}})})},e.prototype.applyActiveTargetsChange=function(e,t){return l.__awaiter(this,void 0,void 0,function(){var n,r,i,a,o,s,c,u,h,d=this;return l.__generator(this,function(p){switch(p.label){case 0:if(!this.isPrimary)return[2];n=0,r=e,p.label=1;case 1:return n<r.length?(h=r[n],b(!this.queryViewsByTarget[h],"Trying to add an already active target"),[4,this.localStore.getQueryForTarget(h)]):[3,6];case 2:return b(!!(i=p.sent()),"Query data for active target "+h+" not found"),[4,this.localStore.allocateQuery(i)];case 3:return a=p.sent(),[4,this.initializeViewAndComputeSnapshot(a,!1)];case 4:p.sent(),this.remoteStore.listen(a),p.label=5;case 5:return n++,[3,1];case 6:o=function(e){var t;return l.__generator(this,function(n){switch(n.label){case 0:return(t=s.queryViewsByTarget[e])?[4,s.localStore.releaseQuery(t.query,!1).then(function(){d.remoteStore.unlisten(e),d.removeAndCleanupQuery(t)}).catch($r)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})},s=this,c=0,u=t,p.label=7;case 7:return c<u.length?(h=u[c],[5,o(h)]):[3,10];case 8:p.sent(),p.label=9;case 9:return c++,[3,7];case 10:return[2]}})})},e.prototype.enableNetwork=function(){return this.localStore.setNetworkEnabled(!0),this.remoteStore.enableNetwork()},e.prototype.disableNetwork=function(){return this.localStore.setNetworkEnabled(!1),this.remoteStore.disableNetwork()},e.prototype.getRemoteKeysForTarget=function(e){var t=this.limboResolutionsByTarget[e];return t&&t.receivedDocument?Nt().add(t.key):this.queryViewsByTarget[e]?this.queryViewsByTarget[e].view.syncedDocuments:Nt()},e}(),Pi=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e.UNAUTHENTICATED=new e(null),e.GOOGLE_CREDENTIALS=new e("google-credentials-uid"),e.FIRST_PARTY=new e("first-party-uid"),e}(),Ai="SharedClientState",Di="firestore_clients",Ni="firestore_mutations",Mi="firestore_targets",Ri=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,b(void 0!==(this.error=r)==("rejected"===n),"MutationMetadata must contain an error iff state is 'rejected'")}return e.fromWebStorageEntry=function(t,n,r){var i=JSON.parse(r),a="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),o=void 0;return a&&i.error&&(a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(o=new S(i.error.code,i.error.message)),a?new e(t,n,i.state,o):(v(Ai,"Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.toWebStorageJSON=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Li=function(){function e(e,t,n){this.targetId=e,this.state=t,b(void 0!==(this.error=n)==("rejected"===t),"QueryTargetMetadata must contain an error iff state is 'rejected'")}return e.fromWebStorageEntry=function(t,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),a=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(a=new S(r.error.code,r.error.message)),i?new e(t,r.state,a):(v(Ai,"Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.toWebStorageJSON=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Fi=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.fromWebStorageEntry=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Rt(),o=0;i&&o<r.activeTargetIds.length;++o)i=Ve(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(v(Ai,"Failed to parse client data for instance '"+t+"': "+n),null)},e}(),Bi=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.fromWebStorageEntry=function(t){var n=JSON.parse(t);return"object"==typeof n&&void 0!==si[n.onlineState]&&"string"==typeof n.clientId?new e(n.clientId,si[n.onlineState]):(v(Ai,"Failed to parse online state: "+t),null)},e}(),ji=function(){function e(){this.activeTargetIds=Rt()}return e.prototype.addQueryTarget=function(e){b(!this.activeTargetIds.has(e),"Target with ID '"+e+"' already active."),this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.removeQueryTarget=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.toWebStorageJSON=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),$i=function(){function e(t,n,r,i,a){if(this.queue=t,this.platform=n,this.persistenceKey=r,this.localClientId=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.activeClients={},this.storageListener=this.handleWebStorageEvent.bind(this),this.started=!1,this.earlyEvents=[],!e.isAvailable(this.platform))throw new S(C.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=a,this.localClientStorageKey=this.toWebStorageClientStateKey(this.localClientId),this.sequenceNumberKey="firestore_sequence_number_"+r,this.activeClients[this.localClientId]=new ji,this.clientStateKeyRe=new RegExp("^"+Di+"_"+o+"_([^_]*)$"),this.mutationBatchKeyRe=new RegExp("^"+Ni+"_"+o+"_(\\d+)(?:_(.*))?$"),this.queryTargetKeyRe=new RegExp("^"+Mi+"_"+o+"_(\\d+)$"),this.onlineStateKey="firestore_online_state_"+r,this.platform.window.addEventListener("storage",this.storageListener)}return e.isAvailable=function(e){return!(!e.window||null==e.window.localStorage)},e.prototype.start=function(){return l.__awaiter(this,void 0,void 0,function(){var e,t,n,r,i,a,o,s,c,u,h,d=this;return l.__generator(this,function(l){switch(l.label){case 0:return b(!this.started,"WebStorageSharedClientState already started"),b(null!==this.syncEngine,"syncEngine property must be set before calling start()"),b(null!==this.onlineStateHandler,"onlineStateHandler property must be set before calling start()"),[4,this.syncEngine.getActiveClients()];case 1:for(e=l.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.localClientId&&(i=this.getItem(this.toWebStorageClientStateKey(r)))&&(a=Fi.fromWebStorageEntry(r,i))&&(this.activeClients[a.clientId]=a);for(this.persistClientState(),(o=this.storage.getItem(this.onlineStateKey))&&(s=this.fromWebStorageOnlineState(o))&&this.handleOnlineStateEvent(s),c=0,u=this.earlyEvents;c<u.length;c++)h=u[c],this.handleWebStorageEvent(h);return this.earlyEvents=[],this.platform.window.addEventListener("unload",function(){return d.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(e){this.setItem(this.sequenceNumberKey,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){var e=Rt();return I(this.activeClients,function(t,n){e=e.unionWith(n.activeTargetIds)}),e},e.prototype.isActiveQueryTarget=function(e){for(var t in this.activeClients)if(this.activeClients.hasOwnProperty(t)&&this.activeClients[t].activeTargetIds.has(e))return!0;return!1},e.prototype.addPendingMutation=function(e){this.persistMutationState(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.persistMutationState(e,t,n),this.removeMutationState(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(this.toWebStorageQueryTargetMetadataKey(e));if(n){var r=Li.fromWebStorageEntry(e,n);r&&(t=r.state)}}return this.localClientState.addQueryTarget(e),this.persistClientState(),t},e.prototype.removeLocalQueryTarget=function(e){this.localClientState.removeQueryTarget(e),this.persistClientState()},e.prototype.isLocalQueryTarget=function(e){return this.localClientState.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(this.toWebStorageQueryTargetMetadataKey(e))},e.prototype.updateQueryState=function(e,t,n){this.persistQueryTargetState(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach(function(e){r.removeMutationState(e)}),this.currentUser=e,n.forEach(function(e){r.addPendingMutation(e)})},e.prototype.setOnlineState=function(e){this.persistOnlineState(e)},e.prototype.shutdown=function(){this.started&&(this.platform.window.removeEventListener("storage",this.storageListener),this.removeItem(this.localClientStorageKey),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return m(Ai,"READ",e,t),t},e.prototype.setItem=function(e,t){m(Ai,"SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){m(Ai,"REMOVE",e),this.storage.removeItem(e)},e.prototype.handleWebStorageEvent=function(e){var t=this;if(e.storageArea===this.storage){if(m(Ai,"EVENT",e.key,e.newValue),e.key===this.localClientStorageKey)return void v("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.queue.enqueueAndForget(function(){return l.__awaiter(t,void 0,void 0,function(){var t,n,r,i,a,o;return l.__generator(this,function(s){if(!this.started)return this.earlyEvents.push(e),[2];if(null===e.key)return[2];if(this.clientStateKeyRe.test(e.key)){if(null==e.newValue)return n=this.fromWebStorageClientStateKey(e.key),[2,this.handleClientStateEvent(n,null)];if(t=this.fromWebStorageClientState(e.key,e.newValue))return[2,this.handleClientStateEvent(t.clientId,t)]}else if(this.mutationBatchKeyRe.test(e.key)){if(null!==e.newValue&&(r=this.fromWebStorageMutationMetadata(e.key,e.newValue)))return[2,this.handleMutationBatchEvent(r)]}else if(this.queryTargetKeyRe.test(e.key)){if(null!==e.newValue&&(i=this.fromWebStorageQueryTargetMetadata(e.key,e.newValue)))return[2,this.handleQueryTargetEvent(i)]}else if(e.key===this.onlineStateKey){if(null!==e.newValue&&(a=this.fromWebStorageOnlineState(e.newValue)))return[2,this.handleOnlineStateEvent(a)]}else e.key===this.sequenceNumberKey&&(b(!!this.sequenceNumberHandler,"Missing sequenceNumberHandler"),(o=function(e){var t=yn.INVALID;if(null!=e)try{var n=JSON.parse(e);b("number"==typeof n,"Found non-numeric sequence number"),t=n}catch(e){v(Ai,"Failed to read sequence number from WebStorage",e)}return t}(e.newValue))!==yn.INVALID&&this.sequenceNumberHandler(o));return[2]})})})}},Object.defineProperty(e.prototype,"localClientState",{get:function(){return this.activeClients[this.localClientId]},enumerable:!0,configurable:!0}),e.prototype.persistClientState=function(){this.setItem(this.localClientStorageKey,this.localClientState.toWebStorageJSON())},e.prototype.persistMutationState=function(e,t,n){var r=new Ri(this.currentUser,e,t,n),i=this.toWebStorageMutationBatchKey(e);this.setItem(i,r.toWebStorageJSON())},e.prototype.removeMutationState=function(e){var t=this.toWebStorageMutationBatchKey(e);this.removeItem(t)},e.prototype.persistOnlineState=function(e){var t={clientId:this.localClientId,onlineState:si[e]};this.storage.setItem(this.onlineStateKey,JSON.stringify(t))},e.prototype.persistQueryTargetState=function(e,t,n){var r=this.toWebStorageQueryTargetMetadataKey(e),i=new Li(e,t,n);this.setItem(r,i.toWebStorageJSON())},e.prototype.toWebStorageClientStateKey=function(e){return b(-1===e.indexOf("_"),"Client key cannot contain '_', but was '"+e+"'"),Di+"_"+this.persistenceKey+"_"+e},e.prototype.toWebStorageQueryTargetMetadataKey=function(e){return Mi+"_"+this.persistenceKey+"_"+e},e.prototype.toWebStorageMutationBatchKey=function(e){var t=Ni+"_"+this.persistenceKey+"_"+e;return this.currentUser.isAuthenticated()&&(t+="_"+this.currentUser.uid),t},e.prototype.fromWebStorageClientStateKey=function(e){var t=this.clientStateKeyRe.exec(e);return t?t[1]:null},e.prototype.fromWebStorageClientState=function(e,t){var n=this.fromWebStorageClientStateKey(e);return b(null!==n,"Cannot parse client state key '"+e+"'"),Fi.fromWebStorageEntry(n,t)},e.prototype.fromWebStorageMutationMetadata=function(e,t){var n=this.mutationBatchKeyRe.exec(e);b(null!==n,"Cannot parse mutation batch key '"+e+"'");var r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Ri.fromWebStorageEntry(new Pi(i),r,t)},e.prototype.fromWebStorageQueryTargetMetadata=function(e,t){var n=this.queryTargetKeyRe.exec(e);b(null!==n,"Cannot parse query target key '"+e+"'");var r=Number(n[1]);return Li.fromWebStorageEntry(r,t)},e.prototype.fromWebStorageOnlineState=function(e){return Bi.fromWebStorageEntry(e)},e.prototype.handleMutationBatchEvent=function(e){return l.__awaiter(this,void 0,void 0,function(){return l.__generator(this,function(t){return e.user.uid!==this.currentUser.uid?(m(Ai,"Ignoring mutation for non-active user "+e.user.uid),[2]):[2,this.syncEngine.applyBatchState(e.batchId,e.state,e.error)]})})},e.prototype.handleQueryTargetEvent=function(e){return this.syncEngine.applyTargetState(e.targetId,e.state,e.error)},e.prototype.handleClientStateEvent=function(e,t){var n=this,r=this.getAllActiveQueryTargets();t?this.activeClients[e]=t:delete this.activeClients[e];var i=this.getAllActiveQueryTargets(),a=[],o=[];return i.forEach(function(e){return l.__awaiter(n,void 0,void 0,function(){return l.__generator(this,function(t){return r.has(e)||a.push(e),[2]})})}),r.forEach(function(e){return l.__awaiter(n,void 0,void 0,function(){return l.__generator(this,function(t){return i.has(e)||o.push(e),[2]})})}),this.syncEngine.applyActiveTargetsChange(a,o)},e.prototype.handleOnlineStateEvent=function(e){this.activeClients[e.clientId]&&this.onlineStateHandler(e.onlineState)},e}(),Vi=function(){function e(){this.localState=new ji,this.queryState={},this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.localState.addQueryTarget(e),this.queryState[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.queryState[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.localState.removeQueryTarget(e)},e.prototype.isLocalQueryTarget=function(e){return this.localState.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.queryState[e]},e.prototype.getAllActiveQueryTargets=function(){return this.localState.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.localState.activeTargetIds.has(e)},e.prototype.start=function(){return this.localState=new ji,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e}(),qi="FirestoreClient",Ui=function(){function e(e,t){this.cacheSizeBytes=e,this.experimentalTabSynchronization=t}return e.prototype.lruParams=function(){return Dr.withCacheSize(this.cacheSizeBytes)},e}(),Hi=function(){},zi=function(){function e(e,t,n,r){this.platform=e,this.databaseInfo=t,this.credentials=n,this.asyncQueue=r,this.clientId=W.newId()}return e.prototype.start=function(e){var t=this,n=new bn,r=new bn,i=!1;return this.credentials.setChangeListener(function(a){i?t.asyncQueue.enqueueAndForget(function(){return t.handleCredentialChange(a)}):(i=!0,t.initializePersistence(e,r,a).then(function(e){return t.initializeRest(a,e)}).then(n.resolve,n.reject))}),this.asyncQueue.enqueueAndForget(function(){return n.promise}),r.promise},e.prototype.enableNetwork=function(){var e=this;return this.asyncQueue.enqueue(function(){return e.syncEngine.enableNetwork()})},e.prototype.initializePersistence=function(e,t,n){var r=this;return e instanceof Ui?this.startIndexedDbPersistence(n,e).then(function(e){return t.resolve(),e}).catch(function(e){if(t.reject(e),!r.canFallback(e))throw e;return console.warn("Error enabling offline storage. Falling back to storage disabled: "+e),r.startMemoryPersistence()}):(t.resolve(),this.startMemoryPersistence())},e.prototype.canFallback=function(e){return e instanceof S?e.code===C.FAILED_PRECONDITION||e.code===C.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code},e.prototype.startIndexedDbPersistence=function(e,t){var n=this,r=jr.buildStoragePrefix(this.databaseInfo),i=new ln(this.databaseInfo.databaseId,{useProto3Json:!0});return Promise.resolve().then(function(){return l.__awaiter(n,void 0,void 0,function(){var n,a;return l.__generator(this,function(o){switch(o.label){case 0:if(t.experimentalTabSynchronization&&!$i.isAvailable(this.platform))throw new S(C.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");return a=t.lruParams(),t.experimentalTabSynchronization?(this.sharedClientState=new $i(this.asyncQueue,this.platform,r,this.clientId,e),[4,jr.createMultiClientIndexedDbPersistence(r,this.clientId,this.platform,this.asyncQueue,i,a,{sequenceNumberSyncer:this.sharedClientState})]):[3,2];case 1:return n=o.sent(),[3,4];case 2:return this.sharedClientState=new Vi,[4,jr.createIndexedDbPersistence(r,this.clientId,this.platform,this.asyncQueue,i,a)];case 3:n=o.sent(),o.label=4;case 4:return[2,(this.persistence=n).referenceDelegate.garbageCollector]}})})})},e.prototype.startMemoryPersistence=function(){return this.persistence=ti.createEagerPersistence(this.clientId),this.sharedClientState=new Vi,Promise.resolve(null)},e.prototype.initializeRest=function(e,t){var n=this;return m(qi,"Initializing. user=",e.uid),this.platform.loadConnection(this.databaseInfo).then(function(r){return l.__awaiter(n,void 0,void 0,function(){var n,i,a,o,s=this;return l.__generator(this,function(c){switch(c.label){case 0:return this.localStore=new Yr(this.persistence,e),t&&(this.lruScheduler=new Nr(t,this.asyncQueue,this.localStore)),n=this.platform.newSerializer(this.databaseInfo.databaseId),i=new fi(this.asyncQueue,r,this.credentials,n),a=function(e){return s.syncEngine.applyOnlineStateChange(e,ci.RemoteStore)},o=function(e){return s.syncEngine.applyOnlineStateChange(e,ci.SharedClientState)},this.remoteStore=new yi(this.localStore,i,this.asyncQueue,a),this.syncEngine=new Oi(this.localStore,this.remoteStore,this.sharedClientState,e),this.sharedClientState.onlineStateHandler=o,this.remoteStore.syncEngine=this.syncEngine,this.sharedClientState.syncEngine=this.syncEngine,this.eventMgr=new wi(this.syncEngine),[4,this.sharedClientState.start()];case 1:return c.sent(),[4,this.remoteStore.start()];case 2:return c.sent(),[4,this.persistence.setPrimaryStateListener(function(e){return l.__awaiter(s,void 0,void 0,function(){return l.__generator(this,function(t){switch(t.label){case 0:return[4,this.syncEngine.applyPrimaryState(e)];case 1:return t.sent(),this.lruScheduler&&(e&&!this.lruScheduler.started?this.lruScheduler.start():e||this.lruScheduler.stop()),[2]}})})})];case 3:return c.sent(),[2]}})})})},e.prototype.handleCredentialChange=function(e){return this.asyncQueue.verifyOperationInProgress(),m(qi,"Credential Changed. Current user: "+e.uid),this.syncEngine.handleCredentialChange(e)},e.prototype.disableNetwork=function(){var e=this;return this.asyncQueue.enqueue(function(){return e.syncEngine.disableNetwork()})},e.prototype.shutdown=function(e){var t=this;return this.asyncQueue.enqueue(function(){return l.__awaiter(t,void 0,void 0,function(){return l.__generator(this,function(t){switch(t.label){case 0:return this.lruScheduler&&this.lruScheduler.stop(),[4,this.remoteStore.shutdown()];case 1:return t.sent(),[4,this.sharedClientState.shutdown()];case 2:return t.sent(),[4,this.persistence.shutdown(e&&e.purgePersistenceWithDataLoss)];case 3:return t.sent(),this.credentials.removeChangeListener(),[2]}})})})},e.prototype.listen=function(e,t,n){var r=this,i=new Ei(e,t,n);return this.asyncQueue.enqueueAndForget(function(){return r.eventMgr.listen(i)}),i},e.prototype.unlisten=function(e){var t=this;this.asyncQueue.enqueueAndForget(function(){return t.eventMgr.unlisten(e)})},e.prototype.getDocumentFromLocalCache=function(e){var t=this;return this.asyncQueue.enqueue(function(){return t.localStore.readDocument(e)}).then(function(e){if(e instanceof pe)return e;if(e instanceof fe)return null;throw new S(C.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")})},e.prototype.getDocumentsFromLocalCache=function(e){var t=this;return this.asyncQueue.enqueue(function(){return t.localStore.executeQuery(e)}).then(function(t){var n=Nt(),r=new Ti(e,n),i=r.computeDocChanges(t);return r.applyChanges(i,!1).snapshot})},e.prototype.write=function(e){var t=this,n=new bn;return this.asyncQueue.enqueueAndForget(function(){return t.syncEngine.write(e,n)}),n.promise},e.prototype.databaseId=function(){return this.databaseInfo.databaseId},e.prototype.transaction=function(e){var t=this;return this.asyncQueue.enqueue(function(){return l.__awaiter(t,void 0,void 0,function(){return l.__generator(this,function(e){return[2]})})}).then(function(){return t.syncEngine.runTransaction(e)})},e}(),Wi=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.scheduleEvent(this.observer.next,e)},e.prototype.error=function(e){this.scheduleEvent(this.observer.error,e)},e.prototype.mute=function(){this.muted=!0},e.prototype.scheduleEvent=function(e,t){var n=this;this.muted||setTimeout(function(){n.muted||e(t)},0)},e}(),Ki=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];!function(e,t,n,r){if(!(t instanceof Array)||t.length<1)throw new S(C.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+z(1,"element")+".")}(0,e);for(var n=0;n<e.length;++n)if(N("FieldPath","string",n,e[n]),0===e[n].length)throw new S(C.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ue(e)}return e.documentId=function(){return e._DOCUMENT_ID},e.prototype.isEqual=function(t){if(!(t instanceof e))throw U("isEqual","FieldPath",1,t);return this._internalPath.isEqual(t._internalPath)},e._DOCUMENT_ID=new e(ue.keyField().canonicalString()),e}(),Gi=new RegExp("[~\\*/\\[\\]]"),Qi=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={Authorization:"Bearer "+e}},Yi=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e){b(!this.changeListener,"Can only call setChangeListener() once."),(this.changeListener=e)(Pi.UNAUTHENTICATED)},e.prototype.removeChangeListener=function(){b(null!==this.changeListener,"removeChangeListener() when no listener registered"),this.changeListener=null},e}(),Xi=function(){function e(e){var t=this;this.app=e,this.tokenListener=null,this.tokenCounter=0,this.changeListener=null,this.forceRefresh=!1,this.tokenListener=function(){t.tokenCounter++,t.currentUser=t.getUser(),t.changeListener&&t.changeListener(t.currentUser)},this.tokenCounter=0,this.app.INTERNAL.addAuthTokenListener(this.tokenListener)}return e.prototype.getToken=function(){var e=this;b(null!=this.tokenListener,"getToken cannot be called after listener removed.");var t=this.tokenCounter,n=this.forceRefresh;return this.forceRefresh=!1,this.app.INTERNAL.getToken(n).then(function(n){if(e.tokenCounter!==t)throw new S(C.ABORTED,"getToken aborted due to token change.");return n?(b("string"==typeof n.accessToken,"Invalid tokenData returned from getToken():"+n),new Qi(n.accessToken,e.currentUser)):null})},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e){b(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=e,this.currentUser&&e(this.currentUser)},e.prototype.removeChangeListener=function(){b(null!=this.tokenListener,"removeChangeListener() called twice"),b(null!==this.changeListener,"removeChangeListener() called when no listener registered"),this.app.INTERNAL.removeAuthTokenListener(this.tokenListener),this.tokenListener=null,this.changeListener=null},e.prototype.getUser=function(){var e=this.app.INTERNAL.getUid();return b(null===e||"string"==typeof e,"Received invalid UID: "+e),new Pi(e)},e}(),Ji=function(){function e(e,t){this.gapi=e,this.sessionIndex=t,this.type="FirstParty",this.user=Pi.FIRST_PARTY,b(this.gapi&&this.gapi.auth&&this.gapi.auth.getAuthHeaderValueForFirstParty,"unexpected gapi interface")}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){return{Authorization:this.gapi.auth.getAuthHeaderValueForFirstParty([]),"X-Goog-AuthUser":this.sessionIndex}},enumerable:!0,configurable:!0}),e}(),Zi=function(){function e(e,t){this.gapi=e,this.sessionIndex=t,b(this.gapi&&this.gapi.auth&&this.gapi.auth.getAuthHeaderValueForFirstParty,"unexpected gapi interface")}return e.prototype.getToken=function(){return Promise.resolve(new Ji(this.gapi,this.sessionIndex))},e.prototype.setChangeListener=function(e){e(Pi.FIRST_PARTY)},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function ea(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var a=i[r];if(a in n&&"function"==typeof n[a])return!0}return!1}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e)}var ta,na,ra=function(){function e(e){this._methodName=e}return e.delete=function(){return ia.instance},e.serverTimestamp=function(){return aa.instance},e.arrayUnion=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return A("FieldValue.arrayUnion",arguments,1),new oa(e)},e.arrayRemove=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return A("FieldValue.arrayRemove",arguments,1),new sa(e)},e.prototype.isEqual=function(e){return this===e},e}(),ia=function(e){function t(){return e.call(this,"FieldValue.delete")||this}return l.__extends(t,e),t.instance=new t,t}(ra),aa=function(e){function t(){return e.call(this,"FieldValue.serverTimestamp")||this}return l.__extends(t,e),t.instance=new t,t}(ra),oa=function(e){function t(t){var n=e.call(this,"FieldValue.arrayUnion")||this;return n._elements=t,n}return l.__extends(t,e),t}(ra),sa=function(e){function t(t){var n=e.call(this,"FieldValue.arrayRemove")||this;return n._elements=t,n}return l.__extends(t,e),t}(ra),la=_(ra,"Use FieldValue.<field>() instead."),ca=/^__.*__$/,ua=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutations=function(e,t){var n=[];return null!==this.fieldMask?n.push(new pt(e,this.data,this.fieldMask,t)):n.push(new dt(e,this.data,t)),0<this.fieldTransforms.length&&n.push(new ft(e,this.fieldTransforms)),n},e}(),ha=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutations=function(e,t){var n=[new pt(e,this.data,this.fieldMask,t)];return 0<this.fieldTransforms.length&&n.push(new ft(e,this.fieldTransforms)),n},e}();function da(e){switch(e){case ta.Set:case ta.MergeSet:case ta.Update:return!0;case ta.Argument:return!1;default:throw y("Unexpected case for UserDataSource: "+e)}}(na=ta||(ta={}))[na.Set=0]="Set",na[na.Update=1]="Update",na[na.MergeSet=2]="MergeSet",na[na.Argument=3]="Argument";var pa=function(){function e(e,t,n,r,i,a){this.dataSource=e,this.methodName=t,this.path=n,this.arrayElement=r,void 0===i&&this.validatePath(),this.arrayElement=void 0!==r&&r,this.fieldTransforms=i||[],this.fieldMask=a||[]}return e.prototype.childContextForField=function(t){var n=null==this.path?null:this.path.child(t),r=new e(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePathSegment(t),r},e.prototype.childContextForFieldPath=function(t){var n=null==this.path?null:this.path.child(t),r=new e(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePath(),r},e.prototype.childContextForArray=function(t){return new e(this.dataSource,this.methodName,null,!0,this.fieldTransforms,this.fieldMask)},e.prototype.createError=function(e){var t=null===this.path||this.path.isEmpty()?"":" (found in field "+this.path.toString()+")";return new S(C.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+e+t)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find(function(t){return e.isPrefixOf(t)})||void 0!==this.fieldTransforms.find(function(t){return e.isPrefixOf(t.field)})},e.prototype.validatePath=function(){if(null!==this.path)for(var e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))},e.prototype.validatePathSegment=function(e){if(da(this.dataSource)&&ca.test(e))throw this.createError("Document fields cannot begin and end with __")},e}(),fa=function(e,t){this.databaseId=e,this.key=t},ma=function(){function e(e){this.preConverter=e}return e.prototype.parseSetData=function(e,t){var n=new pa(ta.Set,e,ue.EMPTY_PATH);ga("Data must be an object, but it was:",n,t);var r=this.parseData(t,n);return new ua(r,null,n.fieldTransforms)},e.prototype.parseMergeData=function(e,t,n){var r=new pa(ta.MergeSet,e,ue.EMPTY_PATH);ga("Data must be an object, but it was:",r,t);var i,a,o=this.parseData(t,r);if(n){for(var s=new at(ue.comparator),l=0,c=n;l<c.length;l++){var u=c[l],h=void 0;if(u instanceof Ki)h=u._internalPath;else{if("string"!=typeof u)throw y("Expected stringOrFieldPath to be a string or a FieldPath");h=ba(e,u)}if(!r.contains(h))throw new S(C.INVALID_ARGUMENT,"Field '"+h+"' is specified in your field mask but missing from your input data.");s=s.add(h)}i=st.fromSet(s),a=r.fieldTransforms.filter(function(e){return i.covers(e.field)})}else i=st.fromArray(r.fieldMask),a=r.fieldTransforms;return new ua(o,i,a)},e.prototype.parseUpdateData=function(e,t){var n=this,r=new pa(ta.Update,e,ue.EMPTY_PATH);ga("Data must be an object, but it was:",r,t);var i=new at(ue.comparator),a=Me.EMPTY;I(t,function(t,o){var s=ba(e,t),l=r.childContextForFieldPath(s);if((o=n.runPreConverter(o,l))instanceof ia)i=i.add(s);else{var c=n.parseData(o,l);null!=c&&(i=i.add(s),a=a.set(s,c))}});var o=st.fromSet(i);return new ha(a,o,r.fieldTransforms)},e.prototype.parseUpdateVarargs=function(e,t,n,r){var i=new pa(ta.Update,e,ue.EMPTY_PATH),a=[ya(e,t)],o=[n];if(r.length%2!=0)throw new S(C.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var s=0;s<r.length;s+=2)a.push(ya(e,r[s])),o.push(r[s+1]);var l=new at(ue.comparator),c=Me.EMPTY;for(s=0;s<a.length;++s){var u=a[s],h=i.childContextForFieldPath(u),d=this.runPreConverter(o[s],h);if(d instanceof ia)l=l.add(u);else{var p=this.parseData(d,h);null!=p&&(l=l.add(u),c=c.set(u,p))}}var f=st.fromSet(l);return new ha(c,f,i.fieldTransforms)},e.prototype.parseQueryValue=function(e,t){var n=new pa(ta.Argument,e,ue.EMPTY_PATH),r=this.parseData(t,n);return b(null!=r,"Parsed data should not be null."),b(0===n.fieldTransforms.length,"Field transforms should have been disallowed."),r},e.prototype.runPreConverter=function(e,t){try{return this.preConverter(e)}catch(e){var n=wa(e);throw t.createError(n)}},e.prototype.parseData=function(e,t){if(va(e=this.runPreConverter(e,t)))return ga("Unsupported field value:",t,e),this.parseObject(e,t);if(e instanceof ra)return this.parseSentinelFieldValue(e,t),null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.arrayElement)throw t.createError("Nested arrays are not supported");return this.parseArray(e,t)}return this.parseScalarValue(e,t)},e.prototype.parseObject=function(e,t){var n=this,r=new ve(K);return O(e)?t.path&&0<t.path.length&&t.fieldMask.push(t.path):I(e,function(e,i){var a=n.parseData(i,t.childContextForField(e));null!=a&&(r=r.insert(e,a))}),new Me(r)},e.prototype.parseArray=function(e,t){for(var n=[],r=0,i=0,a=e;i<a.length;i++){var o=a[i],s=this.parseData(o,t.childContextForArray(r));null==s&&(s=Ce.INSTANCE),n.push(s),r++}return new Re(n)},e.prototype.parseSentinelFieldValue=function(e,t){if(!da(t.dataSource))throw t.createError(e._methodName+"() can only be used with update() and set()");if(null===t.path)throw t.createError(e._methodName+"() is not currently supported inside arrays");if(e instanceof ia){if(t.dataSource!==ta.MergeSet)throw t.dataSource===ta.Update?(b(0<t.path.length,"FieldValue.delete() at the top level should have already been handled."),t.createError("FieldValue.delete() can only appear at the top level of your update data")):t.createError("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");t.fieldMask.push(t.path)}else if(e instanceof aa)t.fieldTransforms.push(new lt(t.path,vt.instance));else if(e instanceof oa){var n=this.parseArrayTransformElements(e._methodName,e._elements),r=new gt(n);t.fieldTransforms.push(new lt(t.path,r))}else if(e instanceof sa){n=this.parseArrayTransformElements(e._methodName,e._elements);var i=new yt(n);t.fieldTransforms.push(new lt(t.path,i))}else y("Unknown FieldValue type: "+e)},e.prototype.parseScalarValue=function(e,t){if(null===e)return Ce.INSTANCE;if("number"==typeof e)return Ve(e)?new ke(e):new xe(e);if("boolean"==typeof e)return Se.of(e);if("string"==typeof e)return new Ie(e);if(e instanceof Date)return new Oe(ie.fromDate(e));if(e instanceof ie)return new Oe(new ie(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)));if(e instanceof re)return new Ne(e);if(e instanceof te)return new Ae(e);if(e instanceof fa)return new De(e.databaseId,e.key);throw t.createError("Unsupported field value: "+$(e))},e.prototype.parseArrayTransformElements=function(e,t){var n=this;return t.map(function(t,r){var i=new pa(ta.Argument,e,ue.EMPTY_PATH);return n.parseData(t,i.childContextForArray(r))})},e}();function va(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ie||e instanceof re||e instanceof te||e instanceof fa||e instanceof ra)}function ga(e,t,n){if(!va(n)||!j(n)){var r=$(n);throw"an object"===r?t.createError(e+" a custom object"):t.createError(e+" "+r)}}function ya(e,t){if(t instanceof Ki)return t._internalPath;if("string"==typeof t)return ba(e,t);throw new S(C.INVALID_ARGUMENT,"Function "+e+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function ba(e,t){try{return function(e){if(0<=e.search(Gi))throw new S(C.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Ki.bind.apply(Ki,[void 0].concat(e.split("."))))}catch(t){throw new S(C.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(t)._internalPath}catch(t){var n=wa(t);throw new S(C.INVALID_ARGUMENT,"Function "+e+"() called with invalid data. "+n)}}function wa(e){return e instanceof Error?e.message:e.toString()}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ea=Dr.COLLECTION_DISABLED,Ca=function(){function e(e){if(void 0===e.host){if(void 0!==e.ssl)throw new S(C.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else R("settings","non-empty string","host",e.host),this.host=e.host,L("settings","boolean","ssl",e.ssl),this.ssl=k(e.ssl,!0);if(q("settings",e,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes"]),L("settings","object","credentials",e.credentials),this.credentials=e.credentials,L("settings","boolean","timestampsInSnapshots",e.timestampsInSnapshots),!0===e.timestampsInSnapshots?v("\n  The timestampsInSnapshots setting now defaults to true and you no\n  longer need to explicitly set it. In a future release, the setting\n  will be removed entirely and so it is recommended that you remove it\n  from your firestore.settings() call now."):!1===e.timestampsInSnapshots&&v("\n  The timestampsInSnapshots setting will soon be removed. YOU MUST UPDATE\n  YOUR CODE.\n\n  To hide this warning, stop using the timestampsInSnapshots setting in your\n  firestore.settings({ ... }) call.\n\n  Once you remove the setting, Timestamps stored in Cloud Firestore will be\n  read back as Firebase Timestamp objects instead of as system Date objects.\n  So you will also need to update code expecting a Date to instead expect a\n  Timestamp. For example:\n\n  // Old:\n  const date = snapshot.get('created_at');\n  // New:\n  const timestamp = snapshot.get('created_at'); const date =\n  timestamp.toDate();\n\n  Please audit all existing usages of Date when you enable the new\n  behavior."),this.timestampsInSnapshots=k(e.timestampsInSnapshots,!0),L("settings","number","cacheSizeBytes",e.cacheSizeBytes),void 0===e.cacheSizeBytes)this.cacheSizeBytes=Dr.DEFAULT_CACHE_SIZE_BYTES;else{if(e.cacheSizeBytes!==Ea&&e.cacheSizeBytes<Dr.MINIMUM_CACHE_SIZE_BYTES)throw new S(C.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+Dr.MINIMUM_CACHE_SIZE_BYTES);this.cacheSizeBytes=e.cacheSizeBytes}}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.timestampsInSnapshots===e.timestampsInSnapshots&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes},e}(),Sa=function(){},_a=function(){function e(t){var n=this;this._queue=new En,this.INTERNAL={delete:function(e){return l.__awaiter(n,void 0,void 0,function(){return l.__generator(this,function(t){return this._firestoreClient?[2,this._firestoreClient.shutdown(e)]:[2]})})}};var r=new Sa;if("object"==typeof t.options){var i=t;r.firebaseApp=i,r.databaseId=e.databaseIdFromApp(i),r.persistenceKey=r.firebaseApp.name,r.credentials=new Xi(i)}else{var a=t;if(!a.projectId)throw new S(C.INVALID_ARGUMENT,"Must provide projectId");r.databaseId=new oe(a.projectId,a.database),r.persistenceKey="[DEFAULT]",r.credentials=new Yi}r.settings=new Ca({}),this._config=r,this._databaseId=r.databaseId}return e.prototype.settings=function(e){if(P("Firestore.settings",arguments,1),N("Firestore.settings","object",1,e),T(e,"persistence"))throw new S(C.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var t=new Ca(e);if(this._firestoreClient&&!this._config.settings.isEqual(t))throw new S(C.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");void 0!==(this._config.settings=t).credentials&&(this._config.credentials=function(e){if(!e)return new Yi;switch(e.type){case"gapi":return new Zi(e.client,e.sessionIndex||"0");case"provider":return e.client;default:throw new S(C.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype.enableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.enableNetwork()},e.prototype.disableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.disableNetwork()},e.prototype.enablePersistence=function(e){if(this._firestoreClient)throw new S(C.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");return this.configureClient(new Ui(this._config.settings.cacheSizeBytes,void 0!==e&&k(e.experimentalTabSynchronization,!1)))},e.prototype.ensureClientConfigured=function(){return this._firestoreClient||this.configureClient(new Hi),this._firestoreClient},e.prototype.configureClient=function(e){var t=this;b(!!this._config.settings.host,"FirestoreSettings.host cannot be falsey"),b(!this._firestoreClient,"configureClient() called multiple times");var n=new ae(this._config.databaseId,this._config.persistenceKey,this._config.settings.host,this._config.settings.ssl);return this._dataConverter=new ma(function(e){if(e instanceof xa){var n=t._config.databaseId,r=e.firestore._config.databaseId;if(!r.isEqual(n))throw new S(C.INVALID_ARGUMENT,"Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return new fa(t._config.databaseId,e._key)}return e}),this._firestoreClient=new zi(w.getPlatform(),n,this._config.credentials,this._queue),this._firestoreClient.start(e)},e.databaseIdFromApp=function(e){var t=e.options;if(!T(t,"projectId"))throw new S(C.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var n=t.projectId;if(!n||"string"!=typeof n)throw new S(C.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new oe(n)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this._config.firebaseApp)throw new S(C.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._config.firebaseApp},enumerable:!0,configurable:!0}),e.prototype.collection=function(e){if(P("Firestore.collection",arguments,1),N("Firestore.collection","non-empty string",1,e),!e)throw new S(C.INVALID_ARGUMENT,"Must provide a non-empty collection path to collection()");return this.ensureClientConfigured(),new Na(le.fromString(e),this)},e.prototype.doc=function(e){if(P("Firestore.doc",arguments,1),N("Firestore.doc","non-empty string",1,e),!e)throw new S(C.INVALID_ARGUMENT,"Must provide a non-empty document path to doc()");return this.ensureClientConfigured(),xa.forPath(le.fromString(e),this)},e.prototype.runTransaction=function(e){var t=this;return P("Firestore.runTransaction",arguments,1),N("Firestore.runTransaction","function",1,e),this.ensureClientConfigured().transaction(function(n){return e(new Ta(t,n))})},e.prototype.batch=function(){return this.ensureClientConfigured(),new ka(this)},Object.defineProperty(e,"logLevel",{get:function(){switch(p()){case i.DEBUG:return"debug";case i.ERROR:return"error";case i.SILENT:return"silent";default:return y("Unknown log level: "+p())}},enumerable:!0,configurable:!0}),e.setLogLevel=function(e){switch(P("Firestore.setLogLevel",arguments,1),N("Firestore.setLogLevel","non-empty string",1,e),e){case"debug":f(i.DEBUG);break;case"error":f(i.ERROR);break;case"silent":f(i.SILENT);break;default:throw new S(C.INVALID_ARGUMENT,"Invalid log level: "+e)}},e.prototype._areTimestampsInSnapshotsEnabled=function(){return this._config.settings.timestampsInSnapshots},e}(),Ta=function(){function e(e,t){this._firestore=e,this._transaction=t}return e.prototype.get=function(e){var t=this;P("Transaction.get",arguments,1);var n=Fa("Transaction.get",e,this._firestore);return this._transaction.lookup([n._key]).then(function(e){if(!e||1!==e.length)return y("Mismatch in docs returned from document lookup.");var r=e[0];if(r instanceof fe)return new Oa(t._firestore,n._key,null,!1,!1);if(r instanceof pe)return new Oa(t._firestore,n._key,r,!1,!1);throw y("BatchGetDocumentsRequest returned unexpected document type: "+r.constructor.name)})},e.prototype.set=function(e,t,n){D("Transaction.set",arguments,2,3);var r=Fa("Transaction.set",e,this._firestore),i=(n=Ma("Transaction.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("Transaction.set",t,n.mergeFields):this._firestore._dataConverter.parseSetData("Transaction.set",t);return this._transaction.set(r._key,i),this},e.prototype.update=function(e,t,n){for(var r,i,a=[],o=3;o<arguments.length;o++)a[o-3]=arguments[o];return i="string"==typeof t||t instanceof Ki?(A("Transaction.update",arguments,3),r=Fa("Transaction.update",e,this._firestore),this._firestore._dataConverter.parseUpdateVarargs("Transaction.update",t,n,a)):(P("Transaction.update",arguments,2),r=Fa("Transaction.update",e,this._firestore),this._firestore._dataConverter.parseUpdateData("Transaction.update",t)),this._transaction.update(r._key,i),this},e.prototype.delete=function(e){P("Transaction.delete",arguments,1);var t=Fa("Transaction.delete",e,this._firestore);return this._transaction.delete(t._key),this},e}(),ka=function(){function e(e){this._firestore=e,this._mutations=[],this._committed=!1}return e.prototype.set=function(e,t,n){D("WriteBatch.set",arguments,2,3),this.verifyNotCommitted();var r=Fa("WriteBatch.set",e,this._firestore),i=(n=Ma("WriteBatch.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("WriteBatch.set",t,n.mergeFields):this._firestore._dataConverter.parseSetData("WriteBatch.set",t);return this._mutations=this._mutations.concat(i.toMutations(r._key,ut.NONE)),this},e.prototype.update=function(e,t,n){for(var r,i,a=[],o=3;o<arguments.length;o++)a[o-3]=arguments[o];return this.verifyNotCommitted(),i="string"==typeof t||t instanceof Ki?(A("WriteBatch.update",arguments,3),r=Fa("WriteBatch.update",e,this._firestore),this._firestore._dataConverter.parseUpdateVarargs("WriteBatch.update",t,n,a)):(P("WriteBatch.update",arguments,2),r=Fa("WriteBatch.update",e,this._firestore),this._firestore._dataConverter.parseUpdateData("WriteBatch.update",t)),this._mutations=this._mutations.concat(i.toMutations(r._key,ut.exists(!0))),this},e.prototype.delete=function(e){P("WriteBatch.delete",arguments,1),this.verifyNotCommitted();var t=Fa("WriteBatch.delete",e,this._firestore);return this._mutations=this._mutations.concat(new mt(t._key,ut.NONE)),this},e.prototype.commit=function(){return l.__awaiter(this,void 0,void 0,function(){return l.__generator(this,function(e){return this.verifyNotCommitted(),this._committed=!0,0<this._mutations.length?[2,this._firestore.ensureClientConfigured().write(this._mutations)]:[2]})})},e.prototype.verifyNotCommitted=function(){if(this._committed)throw new S(C.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}(),xa=function(){function e(e,t){this._key=e,this.firestore=t,this._firestoreClient=this.firestore.ensureClientConfigured()}return e.forPath=function(t,n){if(t.length%2!=0)throw new S(C.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(new he(t),n)},Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Na(this._key.path.popLast(),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!0,configurable:!0}),e.prototype.collection=function(e){if(P("DocumentReference.collection",arguments,1),N("DocumentReference.collection","non-empty string",1,e),!e)throw new S(C.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var t=le.fromString(e);return new Na(this._key.path.child(t),this.firestore)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw U("isEqual","DocumentReference",1,t);return this.firestore===t.firestore&&this._key.isEqual(t._key)},e.prototype.set=function(e,t){D("DocumentReference.set",arguments,1,2);var n=(t=Ma("DocumentReference.set",t)).merge||t.mergeFields?this.firestore._dataConverter.parseMergeData("DocumentReference.set",e,t.mergeFields):this.firestore._dataConverter.parseSetData("DocumentReference.set",e);return this._firestoreClient.write(n.toMutations(this._key,ut.NONE))},e.prototype.update=function(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return n="string"==typeof e||e instanceof Ki?(A("DocumentReference.update",arguments,2),this.firestore._dataConverter.parseUpdateVarargs("DocumentReference.update",e,t,r)):(P("DocumentReference.update",arguments,1),this.firestore._dataConverter.parseUpdateData("DocumentReference.update",e)),this._firestoreClient.write(n.toMutations(this._key,ut.exists(!0)))},e.prototype.delete=function(){return P("DocumentReference.delete",arguments,0),this._firestoreClient.write([new mt(this._key,ut.NONE)])},e.prototype.onSnapshot=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];D("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},i=0;"object"!=typeof e[i]||ea(e[i])||(q("DocumentReference.onSnapshot",r=e[i],["includeMetadataChanges"]),L("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++);var a={includeMetadataChanges:r.includeMetadataChanges};return n=ea(e[i])?e[i]:(N("DocumentReference.onSnapshot","function",i,e[i]),M("DocumentReference.onSnapshot","function",i+1,e[i+1]),M("DocumentReference.onSnapshot","function",i+2,e[i+2]),{next:e[i],error:e[i+1],complete:e[i+2]}),this.onSnapshotInternal(a,n)},e.prototype.onSnapshotInternal=function(e,t){var n=this,r=function(e){console.error("Uncaught Error in onSnapshot:",e)};t.error&&(r=t.error.bind(t));var i=new Wi({next:function(e){if(t.next){b(e.docs.size<=1,"Too many documents returned on a document query");var r=e.docs.get(n._key);t.next(new Oa(n.firestore,n._key,r,e.fromCache,e.hasPendingWrites))}},error:r}),a=this._firestoreClient.listen(He.atPath(this._key.path),i,e);return function(){i.mute(),n._firestoreClient.unlisten(a)}},e.prototype.get=function(e){var t=this;return D("DocumentReference.get",arguments,0,1),La("DocumentReference.get",e),new Promise(function(n,r){e&&"cache"===e.source?t.firestore.ensureClientConfigured().getDocumentFromLocalCache(t._key).then(function(e){n(new Oa(t.firestore,t._key,e,!0,e instanceof pe&&e.hasLocalMutations))},r):t.getViaSnapshotListener(n,r,e)})},e.prototype.getViaSnapshotListener=function(e,t,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),!i.exists&&i.metadata.fromCache?t(new S(C.UNAVAILABLE,"Failed to get document because the client is offline.")):i.exists&&i.metadata.fromCache&&n&&"server"===n.source?t(new S(C.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):e(i)},error:t})},e}(),Ia=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),Oa=function(){function e(e,t,n,r,i){this._firestore=e,this._key=t,this._document=n,this._fromCache=r,this._hasPendingWrites=i}return e.prototype.data=function(e){return D("DocumentSnapshot.data",arguments,0,1),e=Ra("DocumentSnapshot.data",e),this._document?this.convertObject(this._document.data,we.fromSnapshotOptions(e,this._firestore._areTimestampsInSnapshotsEnabled())):void 0},e.prototype.get=function(e,t){if(D("DocumentSnapshot.get",arguments,1,2),t=Ra("DocumentSnapshot.get",t),this._document){var n=this._document.data.field(ya("DocumentSnapshot.get",e));if(void 0!==n)return this.convertValue(n,we.fromSnapshotOptions(t,this._firestore._areTimestampsInSnapshotsEnabled()))}},Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new xa(this._key,this._firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return null!==this._document},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return new Ia(this._hasPendingWrites,this._fromCache)},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){if(!(t instanceof e))throw U("isEqual","DocumentSnapshot",1,t);return this._firestore===t._firestore&&this._fromCache===t._fromCache&&this._key.isEqual(t._key)&&(null===this._document?null===t._document:this._document.isEqual(t._document))},e.prototype.convertObject=function(e,t){var n=this,r={};return e.forEach(function(e,i){r[e]=n.convertValue(i,t)}),r},e.prototype.convertValue=function(e,t){if(e instanceof Me)return this.convertObject(e,t);if(e instanceof Re)return this.convertArray(e,t);if(e instanceof De){var n=e.value(t),r=this._firestore.ensureClientConfigured().databaseId();return e.databaseId.isEqual(r)||v("Document "+this._key.path+" contains a document reference within a different database ("+e.databaseId.projectId+"/"+e.databaseId.database+") which is not supported. It will be treated as a reference in the current database ("+r.projectId+"/"+r.database+") instead."),new xa(n,this._firestore)}return e.value(t)},e.prototype.convertArray=function(e,t){var n=this;return e.internalValue.map(function(e){return n.convertValue(e,t)})},e}(),Pa=function(e){function t(t,n,r,i,a){return e.call(this,t,n,r,i,a)||this}return l.__extends(t,e),t.prototype.data=function(t){var n=e.prototype.data.call(this,t);return b("object"==typeof n,"Document in a QueryDocumentSnapshot should exist"),n},t}(Oa),Aa=function(){function e(e,t){this._query=e,this.firestore=t}return e.prototype.where=function(t,n,r){var i;P("Query.where",arguments,3),N("Query.where","non-empty string",2,n),V("Query.where",3,r);var a=ya("Query.where",t),o=We.fromString(n);if(a.isKeyField()){if(o===We.ARRAY_CONTAINS)throw new S(C.INVALID_ARGUMENT,"Invalid Query. You can't perform array-contains queries on FieldPath.documentId() since document IDs are not arrays.");if("string"==typeof r){if(-1!==r.indexOf("/"))throw new S(C.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a valid document ID if the first parameter is FieldPath.documentId(), but it contains a slash.");if(""===r)throw new S(C.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a valid document ID if the first parameter is FieldPath.documentId(), but it was an empty string.");var s=this._query.path.child(new le([r]));b(s.length%2==0,"Path should be a document key"),i=new De(this.firestore._databaseId,new he(s))}else{if(!(r instanceof xa))throw new S(C.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a string or a DocumentReference if the first parameter is FieldPath.documentId(), but it was: "+$(r)+".");var l=r;i=new De(this.firestore._databaseId,l._key)}}else i=this.firestore._dataConverter.parseQueryValue("Query.where",r);var c=ze.create(a,o,i);return this.validateNewFilter(c),new e(this._query.addFilter(c),this.firestore)},e.prototype.orderBy=function(t,n){var r;if(D("Query.orderBy",arguments,1,2),M("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r=Ye.ASCENDING;else{if("desc"!==n)throw new S(C.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r=Ye.DESCENDING}if(null!==this._query.startAt)throw new S(C.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this._query.endAt)throw new S(C.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var i=ya("Query.orderBy",t),a=new Je(i,r);return this.validateNewOrderBy(a),new e(this._query.addOrderBy(a),this.firestore)},e.prototype.limit=function(t){if(P("Query.limit",arguments,1),N("Query.limit","number",1,t),t<=0)throw new S(C.INVALID_ARGUMENT,"Invalid Query. Query limit ("+t+") is invalid. Limit must be positive.");return new e(this._query.withLimit(t),this.firestore)},e.prototype.startAt=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];A("Query.startAt",arguments,1);var i=this.boundFromDocOrFields("Query.startAt",t,n,!0);return new e(this._query.withStartAt(i),this.firestore)},e.prototype.startAfter=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];A("Query.startAfter",arguments,1);var i=this.boundFromDocOrFields("Query.startAfter",t,n,!1);return new e(this._query.withStartAt(i),this.firestore)},e.prototype.endBefore=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];A("Query.endBefore",arguments,1);var i=this.boundFromDocOrFields("Query.endBefore",t,n,!0);return new e(this._query.withEndAt(i),this.firestore)},e.prototype.endAt=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];A("Query.endAt",arguments,1);var i=this.boundFromDocOrFields("Query.endAt",t,n,!1);return new e(this._query.withEndAt(i),this.firestore)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw U("isEqual","Query",1,t);return this.firestore===t.firestore&&this._query.isEqual(t._query)},e.prototype.boundFromDocOrFields=function(e,t,n,r){if(V(e,1,t),t instanceof Oa){if(0<n.length)throw new S(C.INVALID_ARGUMENT,"Too many arguments provided to "+e+"().");var i=t;if(!i.exists)throw new S(C.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+e+"().");return this.boundFromDocument(e,i._document,r)}var a=[t].concat(n);return this.boundFromFields(e,a,r)},e.prototype.boundFromDocument=function(e,t,n){for(var r=[],i=0,a=this._query.orderBy;i<a.length;i++){var o=a[i];if(o.field.isKeyField())r.push(new De(this.firestore._databaseId,t.key));else{var s=t.field(o.field);if(s instanceof Pe)throw new S(C.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(void 0===s){var l=o.field.canonicalString();throw new S(C.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}r.push(s)}}return new Xe(r,n)},e.prototype.boundFromFields=function(e,t,n){var r=this._query.explicitOrderBy;if(t.length>r.length)throw new S(C.INVALID_ARGUMENT,"Too many arguments provided to "+e+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var i=[],a=0;a<t.length;a++){var o=t[a];if(r[a].field.isKeyField()){if("string"!=typeof o)throw new S(C.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+e+"(), but got a "+typeof o);if(-1!==o.indexOf("/"))throw new S(C.INVALID_ARGUMENT,"Invalid query. Document ID '"+o+"' contains a slash in "+e+"()");var s=new he(this._query.path.child(o));i.push(new De(this.firestore._databaseId,s))}else{var l=this.firestore._dataConverter.parseQueryValue(e,o);i.push(l)}}return new Xe(i,n)},e.prototype.onSnapshot=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];D("Query.onSnapshot",arguments,1,4);var n,r={},i=0;return"object"!=typeof e[i]||ea(e[i])||(q("Query.onSnapshot",r=e[i],["includeMetadataChanges"]),L("Query.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++),n=ea(e[i])?e[i]:(N("Query.onSnapshot","function",i,e[i]),M("Query.onSnapshot","function",i+1,e[i+1]),M("Query.onSnapshot","function",i+2,e[i+2]),{next:e[i],error:e[i+1],complete:e[i+2]}),this.onSnapshotInternal(r,n)},e.prototype.onSnapshotInternal=function(e,t){var n=this,r=function(e){console.error("Uncaught Error in onSnapshot:",e)};t.error&&(r=t.error.bind(t));var i=new Wi({next:function(e){t.next&&t.next(new Da(n.firestore,n._query,e))},error:r}),a=this.firestore.ensureClientConfigured(),o=a.listen(this._query,i,e);return function(){i.mute(),a.unlisten(o)}},e.prototype.get=function(e){var t=this;return D("Query.get",arguments,0,1),La("Query.get",e),new Promise(function(n,r){e&&"cache"===e.source?t.firestore.ensureClientConfigured().getDocumentsFromLocalCache(t._query).then(function(e){n(new Da(t.firestore,t._query,e))},r):t.getViaSnapshotListener(n,r,e)})},e.prototype.getViaSnapshotListener=function(e,t,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),i.metadata.fromCache&&n&&"server"===n.source?t(new S(C.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):e(i)},error:t})},e.prototype.validateNewFilter=function(e){if(e instanceof Ke)if(e.isInequality()){var t=this._query.getInequalityFilterField();if(null!==t&&!t.isEqual(e.field))throw new S(C.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+t.toString()+"' and '"+e.field.toString()+"'");var n=this._query.getFirstOrderByField();null!==n&&this.validateOrderByAndInequalityMatch(e.field,n)}else if(e.op===We.ARRAY_CONTAINS&&this._query.hasArrayContainsFilter())throw new S(C.INVALID_ARGUMENT,"Invalid query. Queries only support a single array-contains filter.")},e.prototype.validateNewOrderBy=function(e){if(null===this._query.getFirstOrderByField()){var t=this._query.getInequalityFilterField();null!==t&&this.validateOrderByAndInequalityMatch(t,e.field)}},e.prototype.validateOrderByAndInequalityMatch=function(e,t){if(!t.isEqual(e))throw new S(C.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+t.toString()+"' instead.")},e}(),Da=function(){function e(e,t,n){this._firestore=e,this._originalQuery=t,this._snapshot=n,this._cachedChanges=null,this._cachedChangesIncludeMetadataChanges=null,this.metadata=new Ia(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach(function(t){return e.push(t)}),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._snapshot.docs.isEmpty()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!0,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;D("QuerySnapshot.forEach",arguments,1,2),N("QuerySnapshot.forEach","function",1,e),this._snapshot.docs.forEach(function(r){e.call(t,n.convertToDocumentImpl(r))})},Object.defineProperty(e.prototype,"query",{get:function(){return new Aa(this._originalQuery,this._firestore)},enumerable:!0,configurable:!0}),e.prototype.docChanges=function(e){e&&(q("QuerySnapshot.docChanges",e,["includeMetadataChanges"]),L("QuerySnapshot.docChanges","boolean","includeMetadataChanges",e.includeMetadataChanges));var t=!(!e||!e.includeMetadataChanges);if(t&&this._snapshot.excludesMetadataChanges)throw new S(C.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t,n){if(n.oldDocs.isEmpty()){var r,i=0;return n.docChanges.map(function(t){var a=new Pa(e,t.doc.key,t.doc,n.fromCache,n.mutatedKeys.has(t.doc.key));return b(t.type===Lt.Added,"Invalid event type for first snapshot"),b(!r||n.query.docComparator(r,t.doc)<0,"Got added events in wrong order"),r=t.doc,{type:"added",doc:a,oldIndex:-1,newIndex:i++}})}var a=n.oldDocs;return n.docChanges.filter(function(e){return t||e.type!==Lt.Metadata}).map(function(t){var r=new Pa(e,t.doc.key,t.doc,n.fromCache,n.mutatedKeys.has(t.doc.key)),i=-1,o=-1;return t.type!==Lt.Added&&(b(0<=(i=a.indexOf(t.doc.key)),"Index for document not found"),a=a.delete(t.doc.key)),t.type!==Lt.Removed&&(o=(a=a.add(t.doc)).indexOf(t.doc.key)),{type:function(e){switch(e){case Lt.Added:return"added";case Lt.Modified:case Lt.Metadata:return"modified";case Lt.Removed:return"removed";default:return y("Unknown change type: "+e)}}(t.type),doc:r,oldIndex:i,newIndex:o}})}(this._firestore,t,this._snapshot),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e.prototype.isEqual=function(t){if(!(t instanceof e))throw U("isEqual","QuerySnapshot",1,t);return this._firestore===t._firestore&&this._originalQuery.isEqual(t._originalQuery)&&this._snapshot.isEqual(t._snapshot)},e.prototype.convertToDocumentImpl=function(e){return new Pa(this._firestore,e.key,e,this.metadata.fromCache,this._snapshot.mutatedKeys.has(e.key))},e}();["length","forEach","map"].concat("undefined"!=typeof Symbol?[Symbol.iterator]:[]).forEach(function(e){try{Object.defineProperty(Da.prototype.docChanges,e,{get:function(){return function(){throw new S(C.INVALID_ARGUMENT,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like "querySnapshot.docChanges" should become "querySnapshot.docChanges()"')}()}})}catch(e){}});var Na=function(e){function t(t,n){var r=e.call(this,He.atPath(t),n)||this;if(t.length%2!=1)throw new S(C.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t.canonicalString()+" has "+t.length);return r}return l.__extends(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._query.path.popLast();return e.isEmpty()?null:new xa(new he(e),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!0,configurable:!0}),t.prototype.doc=function(e){if(D("CollectionReference.doc",arguments,0,1),0===arguments.length&&(e=W.newId()),N("CollectionReference.doc","non-empty string",1,e),""===e)throw new S(C.INVALID_ARGUMENT,"Document path must be a non-empty string");var t=le.fromString(e);return xa.forPath(this._query.path.child(t),this.firestore)},t.prototype.add=function(e){P("CollectionReference.add",arguments,1),N("CollectionReference.add","object",1,e);var t=this.doc();return t.set(e).then(function(){return t})},t}(Aa);function Ma(e,t){if(void 0===t)return{merge:!1};if(q(e,t,["merge","mergeFields"]),L(e,"boolean","merge",t.merge),function(e,t,n,r,i){void 0!==r&&function(e,t,n,r,i){if(!(r instanceof Array))throw new S(C.INVALID_ARGUMENT,"Function "+e+"() requires its "+t+" option to be an array, but it was: "+$(r));for(var a=0;a<r.length;++a)if(!i(r[a]))throw new S(C.INVALID_ARGUMENT,"Function "+e+"() requires all "+t+" elements to be "+n+", but the value at index "+a+" was: "+$(r[a]))}(e,t,n,r,i)}(e,"mergeFields","a string or a FieldPath",t.mergeFields,function(e){return"string"==typeof e||e instanceof Ki}),void 0!==t.mergeFields&&void 0!==t.merge)throw new S(C.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function Ra(e,t){return void 0===t?{}:(q(e,t,["serverTimestamps"]),F(e,0,"serverTimestamps",t.serverTimestamps,["estimate","previous","none"]),t)}function La(e,t){M(e,"object",1,t),t&&(q(e,t,["source"]),F(e,0,"source",t.source,["default","server","cache"]))}function Fa(e,t,n){if(t instanceof xa){if(t.firestore!==n)throw new S(C.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}throw U(e,"DocumentReference",1,t)}var Ba=_(_a,"Use firebase.firestore() instead."),ja=_(Ta,"Use firebase.firestore().runTransaction() instead."),$a=_(ka,"Use firebase.firestore().batch() instead."),Va=_(xa,"Use firebase.firestore().doc() instead."),qa=_(Oa),Ua=_(Pa),Ha=_(Aa),za=_(Da),Wa=_(Na,"Use firebase.firestore().collection() instead."),Ka={Firestore:Ba,GeoPoint:re,Timestamp:ie,Blob:ne,Transaction:ja,WriteBatch:$a,DocumentReference:Va,DocumentSnapshot:qa,Query:Ha,QueryDocumentSnapshot:Ua,QuerySnapshot:za,CollectionReference:Wa,FieldPath:Ki,FieldValue:la,setLogLevel:_a.setLogLevel,CACHE_SIZE_UNLIMITED:Ea};
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Ga(e){!function(e){e.INTERNAL.registerService("firestore",function(e){return new _a(e)},function(e){b(e&&"object"==typeof e,"shallowCopy() expects object parameter.");var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}(Ka))}(e)}Ga(o),t.registerFirestore=Ga}).call(this,n(23))},function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",function(){return i}),n.d(t,"__assign",function(){return a}),n.d(t,"__rest",function(){return o}),n.d(t,"__decorate",function(){return s}),n.d(t,"__param",function(){return l}),n.d(t,"__metadata",function(){return c}),n.d(t,"__awaiter",function(){return u}),n.d(t,"__generator",function(){return h}),n.d(t,"__exportStar",function(){return d}),n.d(t,"__values",function(){return p}),n.d(t,"__read",function(){return f}),n.d(t,"__spread",function(){return m}),n.d(t,"__await",function(){return v}),n.d(t,"__asyncGenerator",function(){return g}),n.d(t,"__asyncDelegator",function(){return y}),n.d(t,"__asyncValues",function(){return b}),n.d(t,"__makeTemplateObject",function(){return w}),n.d(t,"__importStar",function(){return E}),n.d(t,"__importDefault",function(){return C});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;0<=s;s--)(i=e[s])&&(o=(a<3?i(o):3<a?i(t,n,o):i(t,n))||o);return 3<a&&o&&Object.defineProperty(t,n,o),o}function l(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,n,r){return new(n||(n=Promise))(function(i,a){function o(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(o,s)}l((r=r.apply(e,t||[])).next())})}function h(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=r[2&a[0]?"return":a[0]?"throw":"next"])&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[0,i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=0<(i=o.trys).length&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function d(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function f(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||0<t--)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(f(arguments[t]));return e}function v(e){return this instanceof v?(this.v=e,this):new v(e)}function g(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),a=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(e){i[e]&&(r[e]=function(t){return new Promise(function(n,r){1<a.push([e,t,n,r])||s(e,t)})})}function s(e,t){try{(n=i[e](t)).value instanceof v?Promise.resolve(n.value.v).then(l,c):u(a[0][2],n)}catch(e){u(a[0][3],e)}var n}function l(e){s("next",e)}function c(e){s("throw",e)}function u(e,t){e(t),a.shift(),a.length&&s(a[0][0],a[0][1])}}function y(e){var t,n;return t={},r("next"),r("throw",function(e){throw e}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){e[r]&&(t[r]=function(t){return(n=!n)?{value:v(e[r](t)),done:"return"===r}:i?i(t):t})}}function b(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator];return t?t.call(e):p(e)}function w(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function C(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"createWebChannelTransport",function(){return An}),n.d(t,"ErrorCode",function(){return Dn}),n.d(t,"EventType",function(){return Nn}),n.d(t,"WebChannel",function(){return Mn}),n.d(t,"XhrIoPool",function(){return Rn});var r,i="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},a=a||{},o=i;function s(e){return"string"==typeof e}function l(e,t){e=e.split("."),t=t||o;for(var n=0;n<e.length;n++)if(null==(t=t[e[n]]))return null;return t}function c(){}function u(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t}function h(e){return"array"==u(e)}function d(e){var t=u(e);return"array"==t||"object"==t&&"number"==typeof e.length}function p(e){return"function"==u(e)}function f(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var m="closure_uid_"+(1e9*Math.random()>>>0),v=0;function g(e,t,n){return e.call.apply(e.bind,arguments)}function y(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function b(e,t,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?g:y).apply(null,arguments)}function w(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var E=Date.now||function(){return+new Date};function C(e,t){function n(){}n.prototype=t.prototype,e.L=t.prototype,e.prototype=new n,(e.prototype.constructor=e).mh=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function S(e){if(Error.captureStackTrace)Error.captureStackTrace(this,S);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function _(e,t){for(var n="",r=(e=e.split("%s")).length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");S.call(this,n+e[r])}function T(){0!=k&&(x[this[m]||(this[m]=++v)]=this),this.Ka=this.Ka,this.Qa=this.Qa}C(S,Error),S.prototype.name="CustomError",C(_,S);var k=0,x={};T.prototype.Ka=!(_.prototype.name="AssertionError"),T.prototype.bb=function(){if(!this.Ka&&(this.Ka=!0,this.F(),0!=k)){var e=this[m]||(this[m]=++v);if(0!=k&&this.Qa&&0<this.Qa.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete x[e]}},T.prototype.F=function(){if(this.Qa)for(;this.Qa.length;)this.Qa.shift()()};var I=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(s(e))return s(t)&&1==t.length?e.indexOf(t,0):-1;for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},O=Array.prototype.lastIndexOf?function(e,t){return Array.prototype.lastIndexOf.call(e,t,e.length-1)}:function(e,t){var n=e.length-1;if(n<0&&(n=Math.max(0,e.length+n)),s(e))return s(t)&&1==t.length?e.lastIndexOf(t,n):-1;for(;0<=n;n--)if(n in e&&e[n]===t)return n;return-1},P=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=s(e)?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)},A=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=s(e)?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e))return!0;return!1};function D(e){if(!h(e))for(var t=e.length-1;0<=t;t--)delete e[t];e.length=0}function N(e,t){var n;return(n=0<=(t=I(e,t)))&&Array.prototype.splice.call(e,t,1),n}function M(e){return Array.prototype.concat.apply([],arguments)}function R(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function L(e){return/^[\s\xa0]*$/.test(e)}var F,B=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function j(e,t){return e<t?-1:t<e?1:0}e:{var $=o.navigator;if($){var V=$.userAgent;if(V){F=V;break e}}F=""}function q(e){return-1!=F.indexOf(e)}function U(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function H(e){var t,n=[],r=0;for(t in e)n[r++]=e[t];return n}function z(e){var t,n=[],r=0;for(t in e)n[r++]=t;return n}function W(e){var t,n={};for(t in e)n[t]=e[t];return n}var K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function G(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<K.length;a++)n=K[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Q(e){return Q[" "](e),e}Q[" "]=c;var Y,X,J=q("Opera"),Z=q("Trident")||q("MSIE"),ee=q("Edge"),te=ee||Z,ne=q("Gecko")&&!(-1!=F.toLowerCase().indexOf("webkit")&&!q("Edge"))&&!(q("Trident")||q("MSIE"))&&!q("Edge"),re=-1!=F.toLowerCase().indexOf("webkit")&&!q("Edge");function ie(){var e=o.document;return e?e.documentMode:void 0}e:{var ae="",oe=(X=F,ne?/rv:([^\);]+)(\)|;)/.exec(X):ee?/Edge\/([\d\.]+)/.exec(X):Z?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(X):re?/WebKit\/(\S+)/.exec(X):J?/(?:Version)[ \/]?(\S+)/.exec(X):void 0);if(oe&&(ae=oe?oe[1]:""),Z){var se=ie();if(null!=se&&se>parseFloat(ae)){Y=String(se);break e}}Y=ae}var le,ce={};function ue(e){return t=e,n=function(){for(var t=0,n=B(String(Y)).split("."),r=B(String(e)).split("."),i=Math.max(n.length,r.length),a=0;0==t&&a<i;a++){var o=n[a]||"",s=r[a]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==o[0].length&&0==s[0].length)break;t=j(0==o[1].length?0:parseInt(o[1],10),0==s[1].length?0:parseInt(s[1],10))||j(0==o[2].length,0==s[2].length)||j(o[2],s[2]),o=o[3],s=s[3]}while(0==t)}return 0<=t},r=ce,Object.prototype.hasOwnProperty.call(r,t)?r[t]:r[t]=n();var t,n,r}var he=o.document;le=he&&Z?ie()||("CSS1Compat"==he.compatMode?parseInt(Y,10):5):void 0;var de=Object.freeze||function(e){return e},pe=!Z||9<=Number(le),fe=Z&&!ue("9"),me=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{o.addEventListener("test",c,t),o.removeEventListener("test",c,t)}catch(e){}return e}();function ve(e,t){this.type=e,this.currentTarget=this.target=t,this.defaultPrevented=this.Ea=!1,this.Be=!0}function ge(e,t){ve.call(this,e?e.type:""),this.relatedTarget=this.currentTarget=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0,this.key="",this.charCode=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.fb=null,e&&this.Kf(e,t)}ve.prototype.stopPropagation=function(){this.Ea=!0},ve.prototype.preventDefault=function(){this.defaultPrevented=!0,this.Be=!1},C(ge,ve);var ye=de({2:"touch",3:"pen",4:"mouse"});ge.prototype.Kf=function(e,t){var n=this.type=e.type,r=e.changedTouches?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.currentTarget=t,t=e.relatedTarget){if(ne){e:{try{Q(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,this.screenY=null===r?(this.offsetX=re||void 0!==e.offsetX?e.offsetX:e.layerX,this.offsetY=re||void 0!==e.offsetY?e.offsetY:e.layerY,this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,e.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,r.screenY||0),this.button=e.button,this.keyCode=e.keyCode||0,this.key=e.key||"",this.charCode=e.charCode||("keypress"==n?e.keyCode:0),this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=s(e.pointerType)?e.pointerType:ye[e.pointerType]||"",this.state=e.state,(this.fb=e).defaultPrevented&&this.preventDefault()},ge.prototype.stopPropagation=function(){ge.L.stopPropagation.call(this),this.fb.stopPropagation?this.fb.stopPropagation():this.fb.cancelBubble=!0},ge.prototype.preventDefault=function(){ge.L.preventDefault.call(this);var e=this.fb;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,fe)try{(e.ctrlKey||112<=e.keyCode&&e.keyCode<=123)&&(e.keyCode=-1)}catch(e){}};var be="closure_listenable_"+(1e6*Math.random()|0);function we(e){return!(!e||!e[be])}var Ee=0;function Ce(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Ob=i,this.key=++Ee,this.Sa=this.Eb=!1}function Se(e){this.src=e,this.J={},this.xb=0}function _e(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.Sa&&a.listener==t&&a.capture==!!n&&a.Ob==r)return i}return-1}Ce.prototype.Vb=function(){this.Sa=!0,this.Ob=this.src=this.proxy=this.listener=null},(r=Se.prototype).add=function(e,t,n,r,i){var a=e.toString();(e=this.J[a])||(e=this.J[a]=[],this.xb++);var o=_e(e,t,r,i);return-1<o?(t=e[o],n||(t.Eb=!1)):((t=new Ce(t,this.src,a,!!r,i)).Eb=n,e.push(t)),t},r.remove=function(e,t,n,r){if(!((e=e.toString())in this.J))return!1;var i=this.J[e];return-1<(t=_e(i,t,n,r))&&(i[t].Vb(),Array.prototype.splice.call(i,t,1),0==i.length&&(delete this.J[e],this.xb--),!0)},r.ye=function(e){var t=e.type;t in this.J&&N(this.J[t],e)&&(e.Vb(),0==this.J[t].length&&(delete this.J[t],this.xb--))},r.pb=function(e){var t;for(t in e=e&&e.toString(),this.J)if(!e||t==e){for(var n=this.J[t],r=0;r<n.length;r++)n[r].Vb();delete this.J[t],this.xb--}},r.jb=function(e,t,n,r){var i=-1;return(e=this.J[e.toString()])&&(i=_e(e,t,n,r)),-1<i?e[i]:null};var Te="closure_lm_"+(1e6*Math.random()|0),ke={};function xe(e,t,n,r,i){if(r&&r.once)return Oe(e,t,n,r,i);if(h(t)){for(var a=0;a<t.length;a++)xe(e,t[a],n,r,i);return null}return n=Fe(n),we(e)?e.nb(t,n,f(r)?!!r.capture:!!r,i):Ie(e,t,n,!1,r,i)}function Ie(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o,s,l=f(i)?!!i.capture:!!i,c=Re(e);if(c||(e[Te]=c=new Se(e)),(n=c.add(t,n,r,l,a)).proxy)return n;if(o=Me,r=s=pe?function(e){return o.call(s.src,s.listener,e)}:function(e){if(!(e=o.call(s.src,s.listener,e)))return e},(n.proxy=r).src=e,r.listener=n,e.addEventListener)me||(i=l),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Ae(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Oe(e,t,n,r,i){if(h(t)){for(var a=0;a<t.length;a++)Oe(e,t[a],n,r,i);return null}return n=Fe(n),we(e)?e.Oc(t,n,f(r)?!!r.capture:!!r,i):Ie(e,t,n,!0,r,i)}function Pe(e){if("number"!=typeof e&&e&&!e.Sa){var t=e.src;if(we(t))t.Le(e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Ae(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Re(t))?(n.ye(e),0==n.xb&&(n.src=null,t[Te]=null)):e.Vb()}}}function Ae(e){return e in ke?ke[e]:ke[e]="on"+e}function De(e,t,n,r){var i=!0;if((e=Re(e))&&(t=e.J[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var a=t[e];a&&a.capture==n&&!a.Sa&&(a=Ne(a,r),i=i&&!1!==a)}return i}function Ne(e,t){var n=e.listener,r=e.Ob||e.src;return e.Eb&&Pe(e),n.call(r,t)}function Me(e,t){if(e.Sa)return!0;if(pe)return Ne(e,new ge(t,this));var n=t||l("window.event");t=new ge(n,this);var r=!0;if(!(n.keyCode<0||null!=n.returnValue)){e:{var i=!1;if(0==n.keyCode)try{n.keyCode=-1;break e}catch(e){i=!0}(i||null==n.returnValue)&&(n.returnValue=!0)}for(n=[],i=t.currentTarget;i;i=i.parentNode)n.push(i);for(e=e.type,i=n.length-1;!t.Ea&&0<=i;i--){t.currentTarget=n[i];var a=De(n[i],e,!0,t);r=r&&a}for(i=0;!t.Ea&&i<n.length;i++)t.currentTarget=n[i],a=De(n[i],e,!1,t),r=r&&a}return r}function Re(e){return(e=e[Te])instanceof Se?e:null}var Le="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fe(e){return p(e)?e:(e[Le]||(e[Le]=function(t){return e.handleEvent(t)}),e[Le])}function Be(){T.call(this),this.ka=new Se(this),(this.Pe=this).Uc=null}C(Be,T),Be.prototype[be]=!0,(r=Be.prototype).addEventListener=function(e,t,n,r){xe(this,e,t,n,r)},r.removeEventListener=function(e,t,n,r){!function e(t,n,r,i,a){if(h(n))for(var o=0;o<n.length;o++)e(t,n[o],r,i,a);else i=f(i)?!!i.capture:!!i,r=Fe(r),we(t)?t.ed(n,r,i,a):t&&(t=Re(t))&&(n=t.jb(n,r,i,a))&&Pe(n)}(this,e,t,n,r)},r.dispatchEvent=function(e){var t,n=this.Uc;if(n)for(t=[];n;n=n.Uc)t.push(n);n=this.Pe;var r=e.type||e;if(s(e))e=new ve(e,n);else if(e instanceof ve)e.target=e.target||n;else{var i=e;G(e=new ve(r,n),i)}if(i=!0,t)for(var a=t.length-1;!e.Ea&&0<=a;a--){var o=e.currentTarget=t[a];i=o.Lb(r,!0,e)&&i}if(e.Ea||(i=(o=e.currentTarget=n).Lb(r,!0,e)&&i,e.Ea||(i=o.Lb(r,!1,e)&&i)),t)for(a=0;!e.Ea&&a<t.length;a++)i=(o=e.currentTarget=t[a]).Lb(r,!1,e)&&i;return i},r.F=function(){Be.L.F.call(this),this.pg(),this.Uc=null},r.nb=function(e,t,n,r){return this.ka.add(String(e),t,!1,n,r)},r.Oc=function(e,t,n,r){return this.ka.add(String(e),t,!0,n,r)},r.ed=function(e,t,n,r){this.ka.remove(String(e),t,n,r)},r.Le=function(e){this.ka.ye(e)},r.pg=function(){this.ka&&this.ka.pb(void 0)},r.Lb=function(e,t,n){if(!(e=this.ka.J[String(e)]))return!0;e=e.concat();for(var r=!0,i=0;i<e.length;++i){var a=e[i];if(a&&!a.Sa&&a.capture==t){var o=a.listener,s=a.Ob||a.src;a.Eb&&this.Le(a),r=!1!==o.call(s,n)&&r}}return r&&0!=n.Be},r.jb=function(e,t,n,r){return this.ka.jb(String(e),t,n,r)};var je=o.JSON.stringify;function $e(e,t){this.Sf=100,this.ef=e,this.ug=t,this.Zb=0,this.Pb=null}function Ve(){this.lc=this.Va=null}$e.prototype.get=function(){if(0<this.Zb){this.Zb--;var e=this.Pb;this.Pb=e.next,e.next=null}else e=this.ef();return e},$e.prototype.put=function(e){this.ug(e),this.Zb<this.Sf&&(this.Zb++,e.next=this.Pb,this.Pb=e)};var qe,Ue,He=new $e(function(){return new ze},function(e){e.reset()});function ze(){this.next=this.scope=this.Gc=null}function We(e){o.setTimeout(function(){throw e},0)}Ve.prototype.add=function(e,t){var n=this.Af();n.set(e,t),this.lc?this.lc.next=n:this.Va=n,this.lc=n},Ve.prototype.remove=function(){var e=null;return this.Va&&(e=this.Va,this.Va=this.Va.next,this.Va||(this.lc=null),e.next=null),e},Ve.prototype.wg=function(e){He.put(e)},Ve.prototype.Af=function(){return He.get()},ze.prototype.set=function(e,t){this.Gc=e,this.scope=t,this.next=null};var Ke=!(ze.prototype.reset=function(){this.next=this.scope=this.Gc=null}),Ge=new Ve;function Qe(){for(var e;e=Ge.remove();){try{e.Gc.call(e.scope)}catch(e){We(e)}Ge.wg(e)}Ke=!1}function Ye(e,t){Be.call(this),this.Na=e||1,this.wb=t||o,this.nd=b(this.Rg,this),this.ie=E()}function Xe(e,t,n){if(p(e))n&&(e=b(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=b(e.handleEvent,e)}return 2147483647<Number(t)?-1:o.setTimeout(e,t||0)}function Je(e,t,n){T.call(this),this.Uf=null!=n?b(e,n):e,this.Na=t,this.Xe=b(this.fg,this),this.qc=[]}function Ze(e){T.call(this),this.i=e,this.o={}}C(Ye,Be),(r=Ye.prototype).enabled=!1,r.B=null,r.setInterval=function(e){this.Na=e,this.B&&this.enabled?(this.stop(),this.start()):this.B&&this.stop()},r.Rg=function(){if(this.enabled){var e=E()-this.ie;0<e&&e<.8*this.Na?this.B=this.wb.setTimeout(this.nd,this.Na-e):(this.B&&(this.wb.clearTimeout(this.B),this.B=null),this.ff(),this.enabled&&(this.stop(),this.start()))}},r.ff=function(){this.dispatchEvent("tick")},r.start=function(){this.enabled=!0,this.B||(this.B=this.wb.setTimeout(this.nd,this.Na),this.ie=E())},r.stop=function(){this.enabled=!1,this.B&&(this.wb.clearTimeout(this.B),this.B=null)},r.F=function(){Ye.L.F.call(this),this.stop(),delete this.wb},C(Je,T),(r=Je.prototype).Ta=!1,r.ob=0,r.B=null,r.mf=function(e){this.qc=arguments,this.B||this.ob?this.Ta=!0:this.Cc()},r.stop=function(){this.B&&(o.clearTimeout(this.B),this.B=null,this.Ta=!1,this.qc=[])},r.pause=function(){this.ob++},r.resume=function(){this.ob--,this.ob||!this.Ta||this.B||(this.Ta=!1,this.Cc())},r.F=function(){Je.L.F.call(this),this.stop()},r.fg=function(){this.B=null,this.Ta&&!this.ob&&(this.Ta=!1,this.Cc())},r.Cc=function(){this.B=Xe(this.Xe,this.Na),this.Uf.apply(null,this.qc)},C(Ze,T);var et=[];function tt(e,t,n){this.reset(e,t,n,void 0,void 0)}function nt(e){this.pe=e,this.Zd=this.uc=this.mb=this.$b=null}function rt(e,t){this.name=e,this.value=t}(r=Ze.prototype).nb=function(e,t,n,r){return this.Tf(e,t,n,r)},r.Tf=function(e,t,n,r){h(t)||(t&&(et[0]=t.toString()),t=et);for(var i=0;i<t.length;i++){var a=xe(e,t[i],n||this.handleEvent,r||!1,this.i||this);if(!a)break;this.o[a.key]=a}return this},r.Oc=function(e,t,n,r){return this.je(e,t,n,r)},r.je=function(e,t,n,r,i){if(h(t))for(var a=0;a<t.length;a++)this.je(e,t[a],n,r,i);else{if(!(e=Oe(e,t,n||this.handleEvent,r,i||this.i||this)))return this;this.o[e.key]=e}return this},r.ed=function(e,t,n,r,i){if(h(t))for(var a=0;a<t.length;a++)this.ed(e,t[a],n,r,i);else n=n||this.handleEvent,r=f(r)?!!r.capture:!!r,i=i||this.i||this,n=Fe(n),r=!!r,(t=we(e)?e.jb(t,n,r,i):e&&(e=Re(e))?e.jb(t,n,r,i):null)&&(Pe(t),delete this.o[t.key])},r.pb=function(){U(this.o,function(e,t){this.o.hasOwnProperty(t)&&Pe(e)},this),this.o={}},r.F=function(){Ze.L.F.call(this),this.pb()},r.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},tt.prototype.Md=null,tt.prototype.reset=function(e,t,n,r,i){this.mb=e,delete this.Md},tt.prototype.Bg=function(e){this.Md=e},tt.prototype.Ge=function(e){this.mb=e},rt.prototype.toString=function(){return this.name};var it=new rt("SEVERE",1e3),at=new rt("WARNING",900),ot=new rt("INFO",800),st=new rt("CONFIG",700),lt=new rt("FINE",500);(r=nt.prototype).getName=function(){return this.pe},r.getParent=function(){return this.$b},r.pf=function(){return this.uc||(this.uc={}),this.uc},r.Ge=function(e){this.mb=e},r.Qd=function(){return this.mb?this.mb:this.$b?this.$b.Qd():(function(e,t){throw new _("Failure: "+e,Array.prototype.slice.call(arguments,1))}("Root logger has no level set."),null)},r.Pf=function(e){return e.value>=this.Qd().value},r.log=function(e,t,n){this.Pf(e)&&(p(t)&&(t=t()),this.gf(this.uf(e,t,n)))},r.uf=function(e,t,n){return e=new tt(e,String(t),this.pe),n&&e.Bg(n),e},r.ca=function(e,t){this.log(it,e,t)},r.T=function(e,t){this.log(at,e,t)},r.info=function(e,t){this.log(ot,e,t)},r.lf=function(e){this.log(lt,e,void 0)},r.gf=function(e){for(var t=this;t;)t.We(e),t=t.getParent()},r.We=function(e){if(this.Zd)for(var t,n=0;t=this.Zd[n];n++)t(e)},r.Fg=function(e){this.$b=e},r.Qe=function(e,t){this.pf()[e]=t};var ct={},ut=null;function ht(e){var t;if(ut||(ut=new nt(""),(ct[""]=ut).Ge(st)),!(t=ct[e])){t=new nt(e);var n=e.lastIndexOf("."),r=e.substr(n+1);(n=ht(e.substr(0,n))).Qe(r,t),t.Fg(n),ct[e]=t}return t}function dt(e,t){e&&e.info(t,void 0)}function pt(e,t){e&&e.lf(t)}function ft(){this.s=ht("goog.labs.net.webChannel.WebChannelDebug"),this.Wc=!0}(r=ft.prototype).Id=function(){this.Wc=!1},r.Tg=function(e,t,n,r,i){var a=this;this.info(function(){return"XMLHTTP REQ ("+n+") [attempt "+r+"]: "+e+"\n"+t+"\n"+a.Xf(i)})},r.Ug=function(e,t,n,r,i,a){this.info(function(){return"XMLHTTP RESP ("+n+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+i+" "+a})},r.Wa=function(e,t,n){var r=this;this.info(function(){return"XMLHTTP TEXT ("+e+"): "+r.ng(t)+(n?" "+n:"")})},r.Sg=function(e){this.info(function(){return"TIMEOUT: "+e})},r.debug=function(e){pt(this.s,e)},r.cb=function(e,t){var n=this.s;n&&n.ca(t||"Exception",e)},r.info=function(e){dt(this.s,e)},r.T=function(e){var t=this.s;t&&t.T(e,void 0)},r.ca=function(e){var t=this.s;t&&t.ca(e,void 0)},r.ng=function(e){if(!this.Wc)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(var n=0;n<t.length;n++)h(t[n])&&this.Wf(t[n]);return je(t)}catch(t){return this.debug("Exception parsing expected JS array - probably was not JS"),e}},r.Wf=function(e){if(!(e.length<2||!h(e=e[1])||e.length<1)){var t=e[0];if("noop"!=t&&"stop"!=t&&"close"!=t)for(t=1;t<e.length;t++)e[t]=""}},r.Xf=function(e){if(!this.Wc)return e;if(!e)return null;var t="";e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].split("=");if(1<r.length){var i=r[0];r=r[1];var a=i.split("_");t=2<=a.length&&"type"==a[1]?t+(i+"=")+r+"&":t+(i+"=redacted&")}}return t};var mt=new Be;function vt(e){ve.call(this,"serverreachability",e)}function gt(e){mt.dispatchEvent(new vt(mt,e))}function yt(e,t){ve.call(this,"statevent",e),this.stat=t}function bt(e){mt.dispatchEvent(new yt(mt,e))}function wt(e,t,n){ve.call(this,"timingevent",e),this.size=t,this.rtt=n}function Et(e,t){if(!p(e))throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){e()},t)}C(vt,ve),C(yt,ve),C(wt,ve);var Ct={NO_ERROR:0,Vg:1,bh:2,ah:3,Yg:4,$g:5,dh:6,Ne:7,TIMEOUT:8,gh:9},St={Xg:"complete",kh:"success",Oe:"error",Ne:"abort",ih:"ready",jh:"readystatechange",TIMEOUT:"timeout",eh:"incrementaldata",hh:"progress",Zg:"downloadprogress",lh:"uploadprogress"};function _t(){}function Tt(){}_t.prototype.pd=null,_t.prototype.Vd=function(){return this.pd||(this.pd=this.Mf())};var kt,xt={OPEN:"a",Wg:"b",Oe:"c",fh:"d"};function It(){ve.call(this,"d")}function Ot(){ve.call(this,"c")}function Pt(){}function At(e,t,n,r,i){this.b=e,this.a=t,this.ra=n,this.R=r,this.Xc=i||1,this.Fc=new Ze(this),this.Ua=45e3,e=te?125:void 0,this.Vc=new Ye(e),this.A=null,this.S=!1,this.Da=this.pa=this.ua=this.ic=this.qb=this.hd=this.Ga=null,this.ba=[],this.h=null,this.Bb=0,this.I=this.Fa=null,this.w=-1,this.Za=!1,this.Ra=0,this.ac=null,this.lb=this.Ed=this.yc=!1}C(It,ve),C(Ot,ve),C(Pt,_t),Pt.prototype.Dd=function(){var e=this.Wd();return e?new ActiveXObject(e):new XMLHttpRequest},Pt.prototype.Mf=function(){var e={};return this.Wd()&&(e[0]=!0,e[1]=!0),e},Pt.prototype.Wd=function(){if(this.be||"undefined"!=typeof XMLHttpRequest||"undefined"==typeof ActiveXObject)return this.be;for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],t=0;t<e.length;t++){var n=e[t];try{return new ActiveXObject(n),this.be=n}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")},kt=new Pt;var Dt={},Nt={};function Mt(e){if(e.H&&"function"==typeof e.H)return e.H();if(s(e))return e.split("");if(d(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}return H(e)}function Rt(e,t,n){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,n);else if(d(e)||s(e))P(e,t,n);else{if(e.W&&"function"==typeof e.W)var r=e.W();else if(e.H&&"function"==typeof e.H)r=void 0;else if(d(e)||s(e)){r=[];for(var i=e.length,a=0;a<i;a++)r.push(a)}else r=z(e);a=(i=Mt(e)).length;for(var o=0;o<a;o++)t.call(n,i[o],r&&r[o],e)}}function Lt(e,t){this.D={},this.o=[],this.j=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else e&&this.addAll(e)}function Ft(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(r=At.prototype).ga=function(e){this.A=e},r.setTimeout=function(e){this.Ua=e},r.He=function(e){this.Ra=e},r.Gg=function(e){this.ba=e},r.la=function(){return this.ba},r.kd=function(e,t){this.ic=1,this.ua=e.clone().Ub(),this.Da=t,this.yc=!0,this.Ce(null)},r.jd=function(e,t,n){this.ic=1,this.ua=e.clone().Ub(),this.Da=null,this.yc=t,this.Ce(n)},r.Ce=function(e){this.qb=E(),this.eb(),this.pa=this.ua.clone(),this.pa.dc("t",this.Xc),this.Bb=0,this.h=this.b.Jb(this.b.fc()?e:null),0<this.Ra&&(this.ac=new Je(b(this.Me,this,this.h),this.Ra)),this.Fc.nb(this.h,"readystatechange",this.mg),e=this.A?W(this.A):{},this.Da?(this.Fa||(this.Fa="POST"),e["Content-Type"]="application/x-www-form-urlencoded",this.h.send(this.pa,this.Fa,this.Da,e)):(this.Fa="GET",this.h.send(this.pa,this.Fa,null,e)),gt(1),this.a.Tg(this.Fa,this.pa,this.R,this.Xc,this.Da)},r.mg=function(e){e=e.target;var t=this.ac;t&&3==e.ma()?(this.a.debug("Throttling readystatechange."),t.mf()):this.Me(e)},r.Me=function(e){try{e==this.h?this.hg():this.a.T("Called back with an unexpected xmlhttp")}catch(e){if(this.a.debug("Failed call to OnXmlHttpReadyStateChanged_"),this.h&&this.h.ya()){var t=this;this.a.cb(e,function(){return"ResponseText: "+t.h.ya()})}else this.a.cb(e,"No response text")}},r.hg=function(){var e=this.h.ma(),t=this.h.Ud(),n=this.h.za();if(!(e<3||3==e&&!te&&!this.h.ya())){this.Za||4!=e||7==t||gt(8==t||n<=0?3:2),this.Fb();var r=this.h.za();if(this.w=r,!(t=this.h.ya())){var i=this;this.a.debug(function(){return"No response text for uri "+i.pa+" status "+r})}if(this.S=200==r,this.a.Ug(this.Fa,this.pa,this.R,this.Xc,e,r),this.S){if(this.Ig()){if(!(n=this.sf()))return this.S=!1,this.I=3,bt(12),this.a.T("XMLHTTP Missing X_HTTP_INITIAL_RESPONSE ("+this.R+")"),this.Ia(),void this.Kb();this.a.Wa(this.R,n,"Initial handshake response via X-HTTP-Initial-Response"),this.lb=!0,this.Yc(n)}this.yc?(this.Fd(e,t),te&&this.S&&3==e&&this.Ng()):(this.a.Wa(this.R,t,null),this.Yc(t)),4==e&&this.Ia(),this.S&&!this.Za&&(4==e?this.b.Tc(this):(this.S=!1,this.eb()))}else 400==r&&0<t.indexOf("Unknown SID")?(this.I=3,bt(12),this.a.T("XMLHTTP Unknown SID ("+this.R+")")):(this.I=0,bt(13),this.a.T("XMLHTTP Bad status "+r+" ("+this.R+")")),this.Ia(),this.Kb()}},r.Ig=function(){return this.Ed&&!this.lb},r.sf=function(){if(this.h){var e=this.h.kb("X-HTTP-Initial-Response");if(e&&!L(e))return e}return null},r.Ag=function(){this.Ed=!0},r.Fd=function(e,t){for(var n=!0;!this.Za&&this.Bb<t.length;){var r=this.vf(t);if(r==Nt){4==e&&(this.I=4,bt(14),n=!1),this.a.Wa(this.R,null,"[Incomplete Response]");break}if(r==Dt){this.I=4,bt(15),this.a.Wa(this.R,t,"[Invalid Chunk]"),n=!1;break}this.a.Wa(this.R,r,null),this.Yc(r)}4==e&&0==t.length&&(this.I=1,bt(16),n=!1),this.S=this.S&&n,n||(this.a.Wa(this.R,t,"[Invalid Chunked Response]"),this.Ia(),this.Kb())},r.kg=function(){if(this.h){var e=this.h.ma(),t=this.h.ya();this.Bb<t.length&&(this.Fb(),this.Fd(e,t),this.S&&4!=e&&this.eb())}},r.Ng=function(){this.Fc.nb(this.Vc,"tick",this.kg),this.Vc.start()},r.vf=function(e){var t=this.Bb,n=e.indexOf("\n",t);return-1==n?Nt:(t=Number(e.substring(t,n)),isNaN(t)?Dt:(n+=1)+t>e.length?Nt:(e=e.substr(n,t),this.Bb=n+t,e))},r.yg=function(e){this.ic=2,this.ua=e.clone().Ub(),e=!1,o.navigator&&o.navigator.sendBeacon&&(e=o.navigator.sendBeacon(this.ua.toString(),"")),!e&&o.Image&&((new Image).src=this.ua,e=!0),e||(this.h=this.b.Jb(null),this.h.send(this.ua)),this.qb=E(),this.eb()},r.cancel=function(){this.Za=!0,this.Ia()},r.tg=function(e){e&&this.setTimeout(e),this.Ga&&(this.Fb(),this.eb())},r.eb=function(){this.hd=E()+this.Ua,this.Ke(this.Ua)},r.Ke=function(e){if(null!=this.Ga)throw Error("WatchDog timer not null");this.Ga=Et(b(this.gg,this),e)},r.Fb=function(){this.Ga&&(o.clearTimeout(this.Ga),this.Ga=null)},r.gg=function(){this.Ga=null;var e=E();0<=e-this.hd?this.Df():(this.a.T("WatchDog timer called too early"),this.Ke(this.hd-e))},r.Df=function(){this.S&&this.a.ca("Received watchdog timeout even though request loaded successfully"),this.a.Sg(this.pa),2!=this.ic&&(gt(3),bt(17)),this.Ia(),this.I=2,this.Kb()},r.Kb=function(){this.b.de()||this.Za||this.b.Tc(this)},r.Ia=function(){this.Fb();var e=this.ac;e&&"function"==typeof e.bb&&e.bb(),this.ac=null,this.Vc.stop(),this.Fc.pb(),this.h&&(e=this.h,this.h=null,e.abort(),e.bb())},r.Hc=function(){return this.I},r.Yc=function(e){try{this.b.ue(this,e),gt(4)}catch(e){this.a.cb(e,"Error in httprequest callback")}},(r=Lt.prototype).C=function(){return this.j},r.H=function(){this.wc();for(var e=[],t=0;t<this.o.length;t++)e.push(this.D[this.o[t]]);return e},r.W=function(){return this.wc(),this.o.concat()},r.va=function(e){return Ft(this.D,e)},r.X=function(){return 0==this.j},r.clear=function(){this.D={},this.j=this.o.length=0},r.remove=function(e){return!!Ft(this.D,e)&&(delete this.D[e],this.j--,this.o.length>2*this.j&&this.wc(),!0)},r.wc=function(){if(this.j!=this.o.length){for(var e=0,t=0;e<this.o.length;){var n=this.o[e];Ft(this.D,n)&&(this.o[t++]=n),e++}this.o.length=t}if(this.j!=this.o.length){var r={};for(t=e=0;e<this.o.length;)Ft(r,n=this.o[e])||(r[this.o[t++]=n]=1),e++;this.o.length=t}},r.get=function(e,t){return Ft(this.D,e)?this.D[e]:t},r.set=function(e,t){Ft(this.D,e)||(this.j++,this.o.push(e)),this.D[e]=t},r.addAll=function(e){if(e instanceof Lt)for(var t=e.W(),n=0;n<t.length;n++)this.set(t[n],e.get(t[n]));else for(t in e)this.set(t,e[t])},r.forEach=function(e,t){for(var n=this.W(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}},r.clone=function(){return new Lt(this)};var Bt=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function jt(e,t){var n;this.xa=this.zb=this.qa="",this.Ca=null,this.ib=this.K="",this.O=this.Qf=!1,e instanceof jt?(this.O=void 0!==t?t:e.O,this.tb(e.qa),this.cd(e.zb),this.rb(e.xa),this.sb(e.Ca),this.ec(e.K),this.bd(e.P.clone()),this.$c(e.ib)):e&&(n=String(e).match(Bt))?(this.O=!!t,this.tb(n[1]||"",!0),this.cd(n[2]||"",!0),this.rb(n[3]||"",!0),this.sb(n[4]),this.ec(n[5]||"",!0),this.bd(n[6]||"",!0),this.$c(n[7]||"",!0)):(this.O=!!t,this.P=new Gt(null,this.O))}function $t(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Vt(e,t,n){return s(e)?(e=encodeURI(e).replace(t,qt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function qt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}(r=jt.prototype).toString=function(){var e=[],t=this.qa;t&&e.push(Vt(t,Ut,!0),":");var n=this.xa;return(n||"file"==t)&&(e.push("//"),(t=this.zb)&&e.push(Vt(t,Ut,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.Ca)&&e.push(":",String(n))),(n=this.K)&&(this.Ic()&&"/"!=n.charAt(0)&&e.push("/"),e.push(Vt(n,"/"==n.charAt(0)?zt:Ht,!0))),(n=this.Rd())&&e.push("?",n),(n=this.ib)&&e.push("#",Vt(n,Kt)),e.join("")},r.resolve=function(e){var t=this.clone(),n=e.Hf();n?t.tb(e.qa):n=e.If(),n?t.cd(e.zb):n=e.Ic(),n?t.rb(e.xa):n=e.Ff();var r=e.K;if(n)t.sb(e.Ca);else if(n=e.ae()){if("/"!=r.charAt(0))if(this.Ic()&&!this.ae())r="/"+r;else{var i=t.K.lastIndexOf("/");-1!=i&&(r=t.K.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var a=[],o=0;o<i.length;){var s=i[o++];"."==s?r&&o==i.length&&a.push(""):".."==s?((1<a.length||1==a.length&&""!=a[0])&&a.pop(),r&&o==i.length&&a.push("")):(a.push(s),r=!0)}r=a.join("/")}else r=i}return n?t.ec(r):n=e.Gf(),n?t.bd(e.P.clone()):n=e.Ef(),n&&t.$c(e.ib),t},r.clone=function(){return new jt(this)},r.tb=function(e,t){this.U(),(this.qa=t?$t(e,!0):e)&&(this.qa=this.qa.replace(/:$/,""))},r.Hf=function(){return!!this.qa},r.cd=function(e,t){this.U(),this.zb=t?$t(e):e},r.If=function(){return!!this.zb},r.rb=function(e,t){this.U(),this.xa=t?$t(e,!0):e},r.Ic=function(){return!!this.xa},r.sb=function(e){if(this.U(),e){if(e=Number(e),isNaN(e)||e<0)throw Error("Bad port number "+e);this.Ca=e}else this.Ca=null},r.Ff=function(){return null!=this.Ca},r.ec=function(e,t){this.U(),this.K=t?$t(e,!0):e},r.ae=function(){return!!this.K},r.Gf=function(){return""!==this.P.toString()},r.bd=function(e,t){this.U(),e instanceof Gt?(this.P=e,this.P.ad(this.O)):(t||(e=Vt(e,Wt)),this.P=new Gt(e,this.O))},r.Rd=function(){return this.P.toString()},r.getQuery=function(){return this.Rd()},r.l=function(e,t){this.U(),this.P.set(e,t)},r.dc=function(e,t){this.U(),h(t)||(t=[String(t)]),this.P.Ie(e,t)},r.$c=function(e,t){this.U(),this.ib=t?$t(e):e},r.Ef=function(){return!!this.ib},r.Ub=function(){return this.U(),this.l("zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^E()).toString(36)),this},r.removeParameter=function(e){return this.U(),this.P.remove(e),this},r.U=function(){if(this.Qf)throw Error("Tried to modify a read-only Uri")},r.ad=function(e){this.O=e,this.P&&this.P.ad(e)};var Ut=/[#\/\?@]/g,Ht=/[#\?:]/g,zt=/[#\?]/g,Wt=/[#\?@]/g,Kt=/#/g;function Gt(e,t){this.j=this.m=null,this.ja=e||null,this.O=!!t}function Qt(e,t){this.b=e,this.a=t,this.f=this.A=null,this.bc=!1,this.K=null,this.w=-1,this.Ad=this.na=null}function Yt(){this.od=this.$d=null}function Xt(e){this.D=new Lt,e&&this.addAll(e)}function Jt(e){var t=typeof e;return"object"==t&&e||"function"==t?"o"+(e[m]||(e[m]=++v)):t.substr(0,1)+e}function Zt(e,t){this.Pc=e,this.map=t,this.context=null}function en(e){this.me=e||tn,e=o.PerformanceNavigationTiming?0<(e=o.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(o.vc&&o.vc.ke&&o.vc.ke()&&o.vc.ke().nh),this.Xb=e?this.me:1,this.v=null,1<this.Xb&&(this.v=new Xt),this.f=null,this.ba=[]}(r=Gt.prototype).$=function(){if(!this.m&&(this.m=new Lt,this.j=0,this.ja)){var e=this;!function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(this.ja,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})}},r.C=function(){return this.$(),this.j},r.add=function(e,t){this.$(),this.Oa(),e=this.Ma(e);var n=this.m.get(e);return n||this.m.set(e,n=[]),n.push(t),this.j+=1,this},r.remove=function(e){return this.$(),e=this.Ma(e),!!this.m.va(e)&&(this.Oa(),this.j-=this.m.get(e).length,this.m.remove(e))},r.clear=function(){this.Oa(),this.m=null,this.j=0},r.X=function(){return this.$(),0==this.j},r.va=function(e){return this.$(),e=this.Ma(e),this.m.va(e)},r.forEach=function(e,t){this.$(),this.m.forEach(function(n,r){P(n,function(n){e.call(t,n,r,this)},this)},this)},r.W=function(){this.$();for(var e=this.m.H(),t=this.m.W(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},r.H=function(e){this.$();var t=[];if(s(e))this.va(e)&&(t=M(t,this.m.get(this.Ma(e))));else{e=this.m.H();for(var n=0;n<e.length;n++)t=M(t,e[n])}return t},r.set=function(e,t){return this.$(),this.Oa(),e=this.Ma(e),this.va(e)&&(this.j-=this.m.get(e).length),this.m.set(e,[t]),this.j+=1,this},r.get=function(e,t){return e&&0<(e=this.H(e)).length?String(e[0]):t},r.Ie=function(e,t){this.remove(e),0<t.length&&(this.Oa(),this.m.set(this.Ma(e),R(t)),this.j+=t.length)},r.toString=function(){if(this.ja)return this.ja;if(!this.m)return"";for(var e=[],t=this.m.W(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.H(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.ja=e.join("&")},r.Oa=function(){this.ja=null},r.clone=function(){var e=new Gt;return e.ja=this.ja,this.m&&(e.m=this.m.clone(),e.j=this.j),e},r.Ma=function(e){return e=String(e),this.O&&(e=e.toLowerCase()),e},r.ad=function(e){e&&!this.O&&(this.$(),this.Oa(),this.m.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(this.remove(t),this.Ie(n,e))},this)),this.O=e},r.extend=function(e){for(var t=0;t<arguments.length;t++)Rt(arguments[t],function(e,t){this.add(t,e)},this)},C(function(){},function(){}),(r=Qt.prototype).g=null,r.ga=function(e){this.A=e},r.connect=function(e){this.K=e,e=this.b.Sd(this.K),bt(3);var t=this.b.Ib.$d;null!=t?(this.na=this.b.$a(t[0]),this.g=1,this.xd()):(e.dc("MODE","init"),!this.b.ta&&this.b.aa&&e.dc("X-HTTP-Session-Id",this.b.aa),this.f=new At(this,this.a,void 0,void 0,void 0),this.f.ga(this.A),this.f.jd(e,!1,null),this.g=0)},r.xd=function(){this.a.debug("TestConnection: starting stage 2");var e=this.b.Ib.od;if(null!=e)this.a.debug(function(){return"Buffered"}),bt(4),e?(bt(10),this.b.ub(this,!1)):(bt(11),this.b.ub(this,!0));else{this.f=new At(this,this.a,void 0,void 0,void 0),this.f.ga(this.A);var t=this.b.Pd(this.na,this.K);bt(4),t.dc("TYPE","xmlhttp");var n=this.b.aa,r=this.b.Kc;n&&r&&t.l(n,r),this.f.jd(t,!1,this.na)}},r.Jb=function(e){return this.b.Jb(e)},r.abort=function(){this.f&&(this.f.cancel(),this.f=null),this.w=-1},r.de=function(){return!1},r.ue=function(e,t){if(this.w=e.w,0==this.g)if(this.a.debug("TestConnection: Got data for stage 1"),this.pc(e),t){try{var n=this.b.kc.zc(t)}catch(e){return this.a.cb(e),void this.b.dd(this)}this.na=this.b.$a(n[0])}else this.a.debug("TestConnection: Null responseText"),this.b.dd(this);else 1==this.g&&(this.bc?bt(6):"11111"==t?(bt(5),this.bc=!0,this.Ze()&&(this.w=200,this.f.cancel(),this.a.debug("Test connection succeeded; using streaming connection"),bt(11),this.b.ub(this,!0))):(bt(7),this.bc=!1))},r.Tc=function(){this.w=this.f.w,this.f.S?0==this.g?(this.g=1,this.a.debug("TestConnection: request complete for initial check"),this.xd()):1==this.g&&(this.a.debug("TestConnection: request complete for stage 2"),this.bc?(this.a.debug("Test connection succeeded; using streaming connection"),bt(11),this.b.ub(this,!0)):(this.a.debug("Test connection failed; not using streaming"),bt(10),this.b.ub(this,!1))):(this.a.debug("TestConnection: request failed, in state "+this.g),0==this.g?bt(8):1==this.g&&bt(9),this.b.dd(this))},r.pc=function(e){if(!this.b.ta&&(e=e.h)){var t=e.kb("X-Client-Wire-Protocol");this.Ad=t||null,this.b.aa&&((e=e.kb("X-HTTP-Session-Id"))?this.b.Fe(e):this.a.T("Missing X_HTTP_SESSION_ID in the handshake response"))}},r.fc=function(){return this.b.fc()},r.Ba=function(){return this.b.Ba()},r.Ze=function(){return!Z||10<=Number(le)},(r=Xt.prototype).C=function(){return this.D.C()},r.add=function(e){this.D.set(Jt(e),e)},r.addAll=function(e){for(var t=(e=Mt(e)).length,n=0;n<t;n++)this.add(e[n])},r.pb=function(e){for(var t=(e=Mt(e)).length,n=0;n<t;n++)this.remove(e[n])},r.remove=function(e){return this.D.remove(Jt(e))},r.clear=function(){this.D.clear()},r.X=function(){return this.D.X()},r.contains=function(e){return this.D.va(Jt(e))},r.H=function(){return this.D.H()},r.clone=function(){return new Xt(this)};var tn=10;function nn(){this.xg=this.rg=void 0}function rn(){this.jg=new nn}function an(e,t,n,r,i){try{e.debug(n),t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(t){e.cb(t)}}(r=en.prototype).ld=function(e){this.v||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(this.Xb=this.me,this.v=new Xt,this.f&&(this.oc(this.f),this.f=null))},r.ee=function(){return!!this.f||!!this.v&&this.v.C()>=this.Xb},r.xf=function(){return this.f?1:this.v?this.v.C():0},r.Jc=function(e){return this.f?this.f==e:!!this.v&&this.v.contains(e)},r.oc=function(e){this.v?this.v.add(e):this.f=e},r.ze=function(e){this.f&&this.f==e?this.f=null:this.v&&this.v.contains(e)&&this.v.remove(e)},r.cancel=function(){this.ba=this.la(),this.f?(this.f.cancel(),this.f=null):this.v&&!this.v.X()&&(P(this.v.H(),function(e){e.cancel()}),this.v.clear())},r.la=function(){if(null!=this.f)return this.ba.concat(this.f.la());if(null==this.v||this.v.X())return R(this.ba);var e=this.ba;return P(this.v.H(),function(t){e=e.concat(t.la())}),e},r.Re=function(e){this.ba=this.ba.concat(e)},r.$e=function(){this.ba.length=0},nn.prototype.stringify=function(e){return o.JSON.stringify(e,this.rg)},nn.prototype.parse=function(e){return o.JSON.parse(e,this.xg)},rn.prototype.hf=function(e,t,n){var r=n||"";try{Rt(e,function(e,n){var i=e;f(e)&&(i=je(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}},rn.prototype.jf=function(e,t,n){for(var r=-1;;){var i=["count="+t];-1==r?0<t?(r=e[0].Pc,i.push("ofs="+r)):r=0:i.push("ofs="+r);for(var a=!0,o=0;o<t;o++){var s=e[o].Pc,l=e[o].map;if((s-=r)<0)r=Math.max(0,e[o].Pc-100),a=!1;else try{this.hf(l,i,"req"+s+"_")}catch(e){n&&n(l)}}if(a)return i.join("&")}},rn.prototype.zc=function(e){return this.jg.parse(e)};var on=o.JSON.parse;function sn(e){Be.call(this),this.headers=new Lt,this.Xa=e||null,this.ha=!1,this.mc=this.c=null,this.ge=this.Tb="",this.Pa=0,this.I="",this.Aa=this.Lc=this.Qb=this.Ec=!1,this.vb=0,this.hc=null,this.Ae=ln,this.jc=this.lg=this.Ab=!1}C(sn,Be);var ln="";sn.prototype.s=ht("goog.net.XhrIo");var cn=/^https?$/i,un=["POST","PUT"];function hn(e){return"content-type"==e.toLowerCase()}function dn(e,t){return{type:t,lengthComputable:e.lengthComputable,loaded:e.loaded,total:e.total}}function pn(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}if(r)return e;var i;if(i="",U(n,function(e,t){i+=t,i+=":",i+=e,i+="\r\n"}),n=i,s(e)){if(t=encodeURIComponent(String(t)),t+=n=null!=n?"="+encodeURIComponent(String(n)):""){if((n=e.indexOf("#"))<0&&(n=e.length),(r=e.indexOf("?"))<0||n<r){r=n;var a=""}else a=e.substring(r+1,n);n=(e=[e.substr(0,r),a,e.substr(n)])[1],e[1]=t?n?n+"&"+t:t:n,e=e[0]+(e[1]?"?"+e[1]:"")+e[2]}return e}return e.l(t,n),e}function fn(e){this.Bd=22,this.De=0,this.M=[],this.a=new ft,this.Ib=new Yt,this.na=this.md=this.hb=this.K=this.u=this.Kc=this.aa=this.gb=this.N=this.Rb=this.A=null,this.Te=!0,this.ag=this.Yb=0,this.kf=!!l("internalChannelParams.failFast",e),this.fd=this.Ja=this.wa=this.ia=this.ea=this.i=null,this.Se=!0,this.w=this.he=this.Sb=-1,this.rc=this.Ha=this.La=0,this.Ve=l("internalChannelParams.baseRetryDelayMs",e)||5e3,this.vg=l("internalChannelParams.retryDelaySeedMs",e)||1e4,this.nf=l("internalChannelParams.forwardChannelMaxRetries",e)||2,this.Od=l("internalChannelParams.forwardChannelRequestTimeoutMs",e)||2e4,this.Xa=e&&e.oh||void 0,this.Db=void 0,this.Ra=0,this.gc=e&&e.supportsCrossDomainXhr||!1,this.ra="",this.G=new en(e&&e.concurrentRequestLimit),this.kc=new rn,this.ta=!e||void 0===e.backgroundChannelTest||e.backgroundChannelTest,(this.Nd=e&&e.fastHandshake||!1)&&!this.ta&&(this.a.T("Force backgroundChannelTest when fastHandshake is enabled."),this.ta=!0),e&&e.Id&&this.a.Id()}function mn(){}function vn(){if(Z&&!(10<=Number(le)))throw Error("Environmental error: no available transport.")}function gn(e,t){Be.call(this),this.b=new fn(t),this.yb=e,this.Qg=t&&t.testUrl?t.testUrl:function(e){for(var t=e,n=1;n<arguments.length;n++){var r,i=arguments[n];t=0==i.lastIndexOf("/",0)?i:((r=""==t)||(r=0<=(r=t.length-1)&&t.indexOf("/",r)==r),r?t+i:t+"/"+i)}return t}(this.yb,"test"),this.s=ht("goog.labs.net.webChannel.WebChannelBaseTransport"),this.Rc=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.b.ga(e),e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.zd&&(e?e["X-WebChannel-Client-Profile"]=t.zd:e={"X-WebChannel-Client-Profile":t.zd}),this.b.Eg(e),(e=t&&t.httpHeadersOverwriteParam)&&!L(e)&&this.b.Cg(e),this.Og=t&&t.supportsCrossDomainXhr||!1,this.zg=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!L(t)&&(this.b.Dg(t),null!==(e=this.Rc)&&t in e&&(t in(e=this.Rc)&&delete e[t],(e=this.s)&&e.T("Ignore httpSessionIdParam also specified with messageUrlParams: "+t,void 0))),this.vd=new wn(this)}function yn(e){It.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.ne=e)&&(e=this.ne,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function bn(e){Ot.call(this),this.status=1,this.errorCode=e}function wn(e){this.b=e}(r=sn.prototype).Je=function(e){this.Ab=e},r.send=function(e,t,n,r){if(this.c)throw Error("[goog.net.XhrIo] Object is active with another request="+this.Tb+"; newUri="+e);t=t?t.toUpperCase():"GET",this.Tb=e,this.I="",this.Pa=0,this.ge=t,this.Ec=!1,this.ha=!0,this.c=this.df(),this.mc=this.Xa?this.Xa.Vd():kt.Vd(),this.c.onreadystatechange=b(this.te,this),this.lg&&"onprogress"in this.c&&(this.c.onprogress=b(function(e){this.re(e,!0)},this),this.c.upload&&(this.c.upload.onprogress=b(this.re,this)));try{pt(this.s,this.da("Opening Xhr")),this.Lc=!0,this.c.open(t,String(e),!0),this.Lc=!1}catch(e){return pt(this.s,this.da("Error opening Xhr: "+e.message)),void this.Ld(e)}e=n||"";var i,a=this.headers.clone();r&&Rt(r,function(e,t){a.set(t,e)}),r=function(e){e:{for(var t=hn,n=e.length,r=s(e)?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return t<0?null:s(e)?e.charAt(t):e[t]}(a.W()),n=o.FormData&&e instanceof o.FormData,!(0<=I(un,t))||r||n||a.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),a.forEach(function(e,t){this.c.setRequestHeader(t,e)},this),this.Ae&&(this.c.responseType=this.Ae),"withCredentials"in this.c&&this.c.withCredentials!==this.Ab&&(this.c.withCredentials=this.Ab);try{this.yd(),0<this.vb&&(this.jc=(i=this.c,Z&&ue(9)&&"number"==typeof i.timeout&&void 0!==i.ontimeout),pt(this.s,this.da("Will abort after "+this.vb+"ms if incomplete, xhr2 "+this.jc)),this.jc?(this.c.timeout=this.vb,this.c.ontimeout=b(this.Ua,this)):this.hc=Xe(this.Ua,this.vb,this)),pt(this.s,this.da("Sending request")),this.Qb=!0,this.c.send(e),this.Qb=!1}catch(e){pt(this.s,this.da("Send error: "+e.message)),this.Ld(e)}},r.df=function(){return this.Xa?this.Xa.Dd():kt.Dd()},r.Ua=function(){void 0!==a&&this.c&&(this.I="Timed out after "+this.vb+"ms, aborting",this.Pa=8,pt(this.s,this.da(this.I)),this.dispatchEvent("timeout"),this.abort(8))},r.Ld=function(e){this.ha=!1,this.c&&(this.Aa=!0,this.c.abort(),this.Aa=!1),this.I=e,this.Pa=5,this.Jd(),this.Gb()},r.Jd=function(){this.Ec||(this.Ec=!0,this.dispatchEvent("complete"),this.dispatchEvent("error"))},r.abort=function(e){this.c&&this.ha&&(pt(this.s,this.da("Aborting")),this.ha=!1,this.Aa=!0,this.c.abort(),this.Aa=!1,this.Pa=e||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),this.Gb())},r.F=function(){this.c&&(this.ha&&(this.ha=!1,this.Aa=!0,this.c.abort(),this.Aa=!1),this.Gb(!0)),sn.L.F.call(this)},r.te=function(){this.Ka||(this.Lc||this.Qb||this.Aa?this.se():this.eg())},r.eg=function(){this.se()},r.se=function(){if(this.ha&&void 0!==a)if(this.mc[1]&&4==this.ma()&&2==this.za())pt(this.s,this.da("Local request error detected and ignored"));else if(this.Qb&&4==this.ma())Xe(this.te,0,this);else if(this.dispatchEvent("readystatechange"),this.Mc()){pt(this.s,this.da("Request complete")),this.ha=!1;try{this.Rf()?(this.dispatchEvent("complete"),this.dispatchEvent("success")):(this.Pa=6,this.I=this.Yd()+" ["+this.za()+"]",this.Jd())}finally{this.Gb()}}},r.re=function(e,t){this.dispatchEvent(dn(e,"progress")),this.dispatchEvent(dn(e,t?"downloadprogress":"uploadprogress"))},r.Gb=function(e){if(this.c){this.yd();var t=this.c,n=this.mc[0]?c:null;this.mc=this.c=null,e||this.dispatchEvent("ready");try{t.onreadystatechange=n}catch(t){(e=this.s)&&e.ca("Problem encountered resetting onreadystatechange: "+t.message,void 0)}}},r.yd=function(){this.c&&this.jc&&(this.c.ontimeout=null),this.hc&&(o.clearTimeout(this.hc),this.hc=null)},r.Ba=function(){return!!this.c},r.Mc=function(){return 4==this.ma()},r.Rf=function(){var e=this.za();e:switch(e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}return t||0===e&&!this.Of()},r.Of=function(){var e=String(this.Tb).match(Bt)[1]||null;return!e&&o.self&&o.self.location&&(e=(e=o.self.location.protocol).substr(0,e.length-1)),cn.test(e?e.toLowerCase():"")},r.ma=function(){return this.c?this.c.readyState:0},r.za=function(){try{return 2<this.ma()?this.c.status:-1}catch(e){return-1}},r.Yd=function(){try{return 2<this.ma()?this.c.statusText:""}catch(e){return pt(this.s,"Can not get status: "+e.message),""}},r.ya=function(){try{return this.c?this.c.responseText:""}catch(e){return pt(this.s,"Can not get responseText: "+e.message),""}},r.yf=function(e){if(this.c){var t=this.c.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),on(t)}},r.getResponseHeader=function(e){if(this.c&&this.Mc())return null===(e=this.c.getResponseHeader(e))?void 0:e},r.getAllResponseHeaders=function(){return this.c&&this.Mc()&&this.c.getAllResponseHeaders()||""},r.kb=function(e){return this.c?this.c.getResponseHeader(e):null},r.Ud=function(){return this.Pa},r.Hc=function(){return s(this.I)?this.I:String(this.I)},r.da=function(e){return e+" ["+this.ge+" "+this.Tb+" "+this.za()+"]"},(r=fn.prototype).tc=8,r.g=1,r.connect=function(e,t,n,r,i){this.a.debug("connect()"),bt(0),this.K=t,this.gb=n||{},r&&void 0!==i&&(this.gb.OSID=r,this.gb.OAID=i),this.ta&&(this.a.debug("connect() bypassed channel-test."),this.Ib.$d=[],this.Ib.od=!1),this.bf(e)},r.disconnect=function(){if(this.a.debug("disconnect()"),this.qd(),3==this.g){var e=this.Yb++,t=this.hb.clone();t.l("SID",this.ra),t.l("RID",e),t.l("TYPE","terminate"),this.Ya(t),new At(this,this.a,this.ra,e,void 0).yg(t)}this.qe()},r.bf=function(e){this.a.debug("connectTest_()"),this.Ja=new Qt(this,this.a),null===this.N&&this.Ja.ga(this.A);var t=e;this.N&&this.A&&(t=pn(e,this.N,this.A)),this.Ja.connect(t)},r.af=function(){this.a.debug("connectChannel_()"),this.hb=this.Sd(this.K),this.Dc()},r.qd=function(){this.Ja&&(this.Ja.abort(),this.Ja=null),this.u&&(this.u.cancel(),this.u=null),this.ia&&(o.clearTimeout(this.ia),this.ia=null),this.Hb(),this.G.cancel(),this.ea&&(o.clearTimeout(this.ea),this.ea=null)},r.ga=function(e){this.A=e},r.Eg=function(e){this.Rb=e},r.Cg=function(e){this.N=e},r.Dg=function(e){this.aa=e},r.Fe=function(e){this.Kc=e},r.He=function(e){this.Ra=e},r.Hg=function(){this.gc=!0},r.Ee=function(e){this.i=e},r.Nf=function(){return!this.fd},r.Zc=function(e){1e3==this.M.length&&this.a.ca(function(){return"Already have 1000 queued maps upon queueing "+je(e)}),this.M.push(new Zt(this.ag++,e)),3==this.g&&this.Dc()},r.qf=function(){return this.kf?0:this.nf},r.de=function(){return 0==this.g},r.getState=function(){return this.g},r.Dc=function(){this.G.ee()||this.ea||(this.ea=Et(b(this.we,this),0),this.La=0)},r.Yf=function(e){return this.G.xf()>=this.G.Xb-(this.ea?1:0)?(this.a.ca("Unexpected retry request is scheduled."),!1):this.ea?(this.a.debug("Use the retry request that is already scheduled."),this.M=e.la().concat(this.M),!0):!(1==this.g||2==this.g||this.La>=this.qf()||(this.a.debug("Going to retry POST"),this.ea=Et(b(this.we,this,e),this.Xd(this.La)),this.La++,0))},r.we=function(e){this.ea=null,this.Mg(e)},r.Mg=function(e){this.a.debug("startForwardChannel_"),1==this.g?e?this.a.ca("Not supposed to retry the open"):(this.ig(),this.g=2):3==this.g&&(e?this.le(e):0==this.M.length?this.a.debug("startForwardChannel_ returned: nothing to send"):this.G.ee()?this.a.ca("startForwardChannel_ returned: connection already in progress"):(this.le(),this.a.debug("startForwardChannel_ finished, sent request")))},r.ig=function(){this.a.debug("open_()"),this.Yb=Math.floor(1e5*Math.random());var e=this.Yb++,t=new At(this,this.a,"",e,void 0),n=this.A;this.Rb&&(n?G(n=W(n),this.Rb):n=this.Rb),null===this.N&&t.ga(n);var r=this.Hd(t),i=this.hb.clone();i.l("RID",e),0<this.Bd&&i.l("CVER",this.Bd),this.ta&&this.aa&&i.l("X-HTTP-Session-Id",this.aa),this.Ya(i),this.N&&n&&pn(i,this.N,n),this.G.oc(t),this.Nd?(i.l("$req",r),i.l("SID","null"),t.Ag(),t.kd(i,null)):t.kd(i,r)},r.le=function(e){var t=e?e.R:this.Yb++,n=this.hb.clone();n.l("SID",this.ra),n.l("RID",t),n.l("AID",this.Sb),this.Ya(n),this.N&&this.A&&pn(n,this.N,this.A),t=new At(this,this.a,this.ra,t,this.La+1),null===this.N&&t.ga(this.A),e&&this.sg(e),e=this.Hd(t),t.setTimeout(Math.round(.5*this.Od)+Math.round(.5*this.Od*Math.random())),this.G.oc(t),t.kd(n,e)},r.Ya=function(e){this.i&&Rt({},function(t,n){e.l(n,t)})},r.Hd=function(e){var t=Math.min(this.M.length,1e3),n=this.i?b(this.i.Ue,this.i,this):null;return n=this.kc.jf(this.M,t,n),e.Gg(this.M.splice(0,t)),n},r.sg=function(e){this.M=e.la().concat(this.M)},r.Kd=function(){if(!this.u&&!this.ia){this.rc=1;var e=this.ve;Ue||function(){if(o.Promise&&o.Promise.resolve){var e=o.Promise.resolve(void 0);Ue=function(){e.then(Qe)}}else Ue=function(){var e=Qe;!p(o.setImmediate)||o.Window&&o.Window.prototype&&!q("Edge")&&o.Window.prototype.setImmediate==o.setImmediate?(qe||(qe=function(){var e=o.MessageChannel;if(void 0===e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!q("Presto")&&(e=function(){var e=document.createElement("IFRAME");e.style.display="none",e.src="",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.write(""),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=b(function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()},this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),void 0===e||q("Trident")||q("MSIE"))return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(e){var t=document.createElement("SCRIPT");t.onreadystatechange=function(){t.onreadystatechange=null,t.parentNode.removeChild(t),t=null,e(),e=null},document.documentElement.appendChild(t)}:function(e){o.setTimeout(e,0)};var t=new e,n={},r=n;return t.port1.onmessage=function(){if(void 0!==n.next){var e=(n=n.next).rd;n.rd=null,e()}},function(e){r.next={rd:e},r=r.next,t.port2.postMessage(0)}}()),qe(e)):o.setImmediate(e)}}(),Ke||(Ue(),Ke=!0),Ge.add(e,this),this.Ha=0}},r.Qc=function(){return this.u||this.ia?(this.a.ca("Request already in progress"),!1):!(3<=this.Ha||(this.a.debug("Going to retry GET"),this.rc++,this.ia=Et(b(this.ve,this),this.Xd(this.Ha)),this.Ha++,0))},r.ve=function(){this.ia=null,this.Kg()},r.Kg=function(){this.a.debug("Creating new HttpRequest"),this.u=new At(this,this.a,this.ra,"rpc",this.rc),null===this.N&&this.u.ga(this.A),this.u.He(this.Ra);var e=this.md.clone();e.l("RID","rpc"),e.l("SID",this.ra),e.l("CI",this.fd?"0":"1"),e.l("AID",this.Sb),this.Ya(e),e.l("TYPE","xmlhttp"),this.N&&this.A&&pn(e,this.N,this.A),this.Db&&this.u.setTimeout(this.Db),this.u.jd(e,!0,this.na),this.a.debug("New Request created")},r.ub=function(e,t){this.a.debug("Test Connection Finished");var n=e.Ad;n&&this.G.ld(n),this.fd=this.Se&&t,this.w=e.w,this.af()},r.dd=function(e){this.a.debug("Test Connection Failed"),this.w=e.w,this.sa(2)},r.ue=function(e,t){if(0!=this.g&&(this.u==e||this.G.Jc(e)))if(this.w=e.w,!e.lb&&this.G.Jc(e)&&3==this.g){try{var n=this.kc.zc(t)}catch(e){n=null}h(n)&&3==n.length?this.Cf(n,e):(this.a.debug("Bad POST response data returned"),this.sa(11))}else(e.lb||this.u==e)&&this.Hb(),L(t)||(n=this.kc.zc(t),this.dg(n,e))},r.Cf=function(e,t){0==e[0]?this.Bf(t):(this.he=e[1],0<(t=this.he-this.Sb)&&(e=e[2],this.a.debug(e+" bytes (in "+t+" arrays) are outstanding on the BackChannel"),this.Jg(e)&&!this.wa&&(this.wa=Et(b(this.bg,this),6e3))))},r.Bf=function(e){if(this.a.debug("Server claims our backchannel is missing."),this.ia)this.a.debug("But we are currently starting the request.");else{if(this.u){if(!(this.u.qb+3e3<e.qb))return;this.Hb(),this.u.cancel(),this.u=null}else this.a.T("We do not have a BackChannel established");this.Qc(),bt(18)}},r.Jg=function(e){return e<37500&&!this.Nf()&&0==this.Ha},r.$a=function(e){return this.Te?this.i?this.i.$a(e):e:null},r.bg=function(){null!=this.wa&&(this.wa=null,this.u.cancel(),this.u=null,this.Qc(),bt(19))},r.Hb=function(){null!=this.wa&&(o.clearTimeout(this.wa),this.wa=null)},r.Tc=function(e){this.a.debug("Request complete");var t,n,r,i=null;if(this.u==e){this.Hb(),this.u=null;var a=2}else{if(!this.G.Jc(e))return;i=e.la(),this.G.ze(e),a=1}if(this.w=e.w,0!=this.g)if(e.S)1==a?(t=e.Da?e.Da.length:0,n=E()-e.qb,r=this.La,mt.dispatchEvent(new wt(mt,t,n,r)),this.Dc()):this.Kd();else{var o=e.Hc();if(3==o||0==o&&0<this.w)this.a.debug("Not retrying due to error type");else{var s=this;if(this.a.debug(function(){return"Maybe retrying, last error: "+function(e,t){switch(e){case 0:return"Non-200 return code ("+t+")";case 1:return"XMLHTTP failure (no data)";case 2:return"HttpConnection timeout";default:return"Unknown error"}}(o,s.w)}),1==a&&this.Yf(e)||2==a&&this.Qc())return;this.a.debug("Exceeded max number of retries")}switch(i&&0<i.length&&this.G.Re(i),this.a.debug("Error: HTTP request failed"),o){case 1:this.sa(5);break;case 4:this.sa(10);break;case 3:this.sa(6);break;default:this.sa(2)}}},r.Xd=function(e){var t=this.Ve+Math.floor(Math.random()*this.vg);return this.Ba()||(this.a.debug("Inactive channel"),t*=2),t*e},r.pc=function(e){if(this.ta&&(e=e.h)){var t=e.kb("X-Client-Wire-Protocol");t&&this.G.ld(t),this.aa&&((e=e.kb("X-HTTP-Session-Id"))?(this.Fe(e),this.hb.l(this.aa,e)):this.a.T("Missing X_HTTP_SESSION_ID in the handshake response"))}},r.dg=function(e,t){for(var n=this.i&&this.i.sc?[]:null,r=0;r<e.length;r++){var i=e[r];if(this.Sb=i[0],i=i[1],2==this.g)if("c"==i[0]){this.ra=i[1],this.na=this.$a(i[2]);var a=i[3];null!=a&&(this.tc=a,this.a.info("VER="+this.tc)),null!=(a=i[4])&&(this.De=a,this.a.info("SVER="+this.De)),null!=(i=i[5])&&"number"==typeof i&&0<i&&(this.Db=i*=1.5,this.a.info("backChannelRequestTimeoutMs_="+i)),this.pc(t),this.g=3,this.i&&this.i.wd(),this.Lg(t)}else"stop"!=i[0]&&"close"!=i[0]||this.sa(7);else 3==this.g&&("stop"==i[0]||"close"==i[0]?(n&&0!=n.length&&(this.i.sc(this,n),n.length=0),"stop"==i[0]?this.sa(7):this.disconnect()):"noop"!=i[0]&&(n?n.push(i):this.i&&this.i.ud(i)),this.Ha=0)}n&&0!=n.length&&this.i.sc(this,n)},r.Lg=function(e){this.md=this.Pd(this.na,this.K),e.lb?(this.a.debug("Upgrade the handshake request to a backchannel."),this.G.ze(e),e.tg(this.Db),this.u=e):this.Kd()},r.sa=function(e){if(this.a.info("Error code "+e),2==e){var t=null;this.i&&(t=null);var n=b(this.Pg,this);t||(t=new jt("//www.google.com/images/cleardot.gif"),o.location&&"http"==o.location.protocol||t.tb("https"),t.Ub()),function(e,t){var n=new ft;n.debug("TestLoadImage: loading "+e);var r=new Image;r.onload=w(an,n,r,"TestLoadImage: loaded",!0,t),r.onerror=w(an,n,r,"TestLoadImage: error",!1,t),r.onabort=w(an,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=w(an,n,r,"TestLoadImage: timeout",!1,t),o.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}(t.toString(),n)}else bt(2);this.cg(e)},r.Pg=function(e){e?(this.a.info("Successfully pinged google.com"),bt(2)):(this.a.info("Failed to ping google.com"),bt(1))},r.cg=function(e){this.a.debug("HttpChannel: error - "+e),this.g=0,this.i&&this.i.td(e),this.qe(),this.qd()},r.qe=function(){if(this.g=0,this.w=-1,this.i){var e=this.G.la();if(0!=e.length||0!=this.M.length){var t=this;this.a.debug(function(){return"Number of undelivered maps, pending: "+e.length+", outgoing: "+t.M.length}),this.G.$e(),R(this.M),this.M.length=0}this.i.sd()}},r.Sd=function(e){return e=this.Cd(null,e),this.a.debug("GetForwardChannelUri: "+e),e},r.Pd=function(e,t){return e=this.Cd(this.fc()?e:null,t),this.a.debug("GetBackChannelUri: "+e),e},r.Cd=function(e,t){var n,r,i,a,s,l,c=(n=t)instanceof jt?n.clone():new jt(n,void 0);if(""!=c.xa)e&&c.rb(e+"."+c.xa),c.sb(c.Ca);else{var u=o.location;r=u.protocol,i=e?e+"."+u.hostname:u.hostname,a=+u.port,s=t,l=new jt(null,void 0),r&&l.tb(r),i&&l.rb(i),a&&l.sb(a),s&&l.ec(s),c=l}return this.gb&&U(this.gb,function(e,t){c.l(t,e)}),e=this.aa,t=this.Kc,e&&t&&c.l(e,t),c.l("VER",this.tc),this.Ya(c),c},r.Jb=function(e){if(e&&!this.gc)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new sn(this.Xa)).Je(this.gc),e},r.Ba=function(){return!!this.i&&this.i.Ba()},r.fc=function(){return this.gc},(r=mn.prototype).sc=null,r.wd=function(){},r.ud=function(){},r.td=function(){},r.sd=function(){},r.Ba=function(){return!0},r.Ue=function(){},r.$a=function(e){return e},vn.prototype.cf=function(e,t){return new gn(e,t)},C(gn,Be),(r=gn.prototype).addEventListener=function(e,t,n,r){gn.L.addEventListener.call(this,e,t,n,r)},r.removeEventListener=function(e,t,n,r){gn.L.removeEventListener.call(this,e,t,n,r)},r.open=function(){this.b.Ee(this.vd),this.Og&&this.b.Hg(),this.b.connect(this.Qg,this.yb,this.Rc||void 0)},r.close=function(){this.b.disconnect()},r.send=function(e){if(s(e)){var t={};t.__data__=e,this.b.Zc(t)}else this.zg?((t={}).__data__=je(e),this.b.Zc(t)):this.b.Zc(e)},r.F=function(){this.b.Ee(null),delete this.vd,this.b.disconnect(),delete this.b,gn.L.F.call(this)},C(yn,It),C(bn,Ot),C(wn,mn),wn.prototype.wd=function(){dt(this.b.s,"WebChannel opened on "+this.b.yb),this.b.dispatchEvent("a")},wn.prototype.ud=function(e){this.b.dispatchEvent(new yn(e))},wn.prototype.td=function(e){dt(this.b.s,"WebChannel aborted on "+this.b.yb+" due to channel error: "+e),this.b.dispatchEvent(new bn(e))},wn.prototype.sd=function(){dt(this.b.s,"WebChannel closed on "+this.b.yb),this.b.dispatchEvent("b")};var En=w(function(e,t){function n(){}n.prototype=e.prototype;var r=new n;return e.apply(r,Array.prototype.slice.call(arguments,1)),r},vn);function Cn(){this.V=[],this.Z=[]}function Sn(e,t){if(T.call(this),this.oe=e||0,this.Wb=t||10,this.oe>this.Wb)throw Error(_n);this.fa=new Cn,this.oa=new Xt,this.Ac=0,this.Nc=null,this.Cb()}(r=Cn.prototype).Vf=function(){0==this.V.length&&(this.V=this.Z,this.V.reverse(),this.Z=[])},r.enqueue=function(e){this.Z.push(e)},r.ab=function(){return this.Vf(),this.V.pop()},r.C=function(){return this.V.length+this.Z.length},r.X=function(){return 0==this.V.length&&0==this.Z.length},r.clear=function(){this.V=[],this.Z=[]},r.contains=function(e){return 0<=I(this.V,e)||0<=I(this.Z,e)},r.remove=function(e){var t=this.V,n=O(t,e);return(t=0<=n&&(Array.prototype.splice.call(t,n,1),!0))||N(this.Z,e)},r.H=function(){for(var e=[],t=this.V.length-1;0<=t;--t)e.push(this.V[t]);var n=this.Z.length;for(t=0;t<n;++t)e.push(this.Z[t]);return e},C(Sn,T);var _n="[goog.structs.Pool] Min can not be greater than max";function Tn(e,t){this.fe=e,this.gd=t}function kn(e){this.Y=[],e&&this.Lf(e)}function xn(){kn.call(this)}function In(e,t){this.Gd=void 0,this.cc=new xn,Sn.call(this,e,t)}function On(e,t,n,r){this.Jf=e,this.Ab=!!r,In.call(this,t,n)}(r=Sn.prototype).Mb=function(){var e=E();if(!(null!=this.Nc&&e-this.Nc<this.Ac)){var t=this.qg();return t&&(this.Nc=e,this.oa.add(t)),t}},r.og=function(e){return!!this.oa.remove(e)&&(this.nc(e),!0)},r.qg=function(){for(var e;0<this.Td()&&(e=this.fa.ab(),!this.Sc(e));)this.Cb();return!e&&this.C()<this.Wb&&(e=this.xc()),e},r.nc=function(e){this.oa.remove(e),this.Sc(e)&&this.C()<this.Wb?this.fa.enqueue(e):this.Bc(e)},r.Cb=function(){for(var e=this.fa;this.C()<this.oe;)e.enqueue(this.xc());for(;this.C()>this.Wb&&0<this.Td();)this.Bc(e.ab())},r.xc=function(){return{}},r.Bc=function(e){if("function"==typeof e.bb)e.bb();else for(var t in e)e[t]=null},r.Sc=function(e){return"function"!=typeof e.Ye||e.Ye()},r.contains=function(e){return this.fa.contains(e)||this.oa.contains(e)},r.C=function(){return this.fa.C()+this.oa.C()},r.rf=function(){return this.oa.C()},r.Td=function(){return this.fa.C()},r.X=function(){return this.fa.X()&&this.oa.X()},r.F=function(){if(Sn.L.F.call(this),0<this.rf())throw Error("[goog.structs.Pool] Objects not released");delete this.oa;for(var e=this.fa;!e.X();)this.Bc(e.ab());delete this.fa},Tn.prototype.getKey=function(){return this.fe},Tn.prototype.clone=function(){return new Tn(this.fe,this.gd)},(r=kn.prototype).ce=function(e,t){var n=this.Y;n.push(new Tn(e,t)),this.$f(n.length-1)},r.Lf=function(e){if(e instanceof kn){var t=e.W();if(e=e.H(),this.C()<=0){for(var n=this.Y,r=0;r<t.length;r++)n.push(new Tn(t[r],e[r]));return}}else t=z(e),e=H(e);for(r=0;r<t.length;r++)this.ce(t[r],e[r])},r.remove=function(){var e=this.Y,t=e.length,n=e[0];if(!(t<=0))return 1==t?D(e):(e[0]=e.pop(),this.Zf()),n.gd},r.Zf=function(){for(var e=0,t=this.Y,n=t.length,r=t[e];e<n>>1;){var i=this.tf(e),a=this.zf(e);if(i=a<n&&t[a].getKey()<t[i].getKey()?a:i,t[i].getKey()>r.getKey())break;t[e]=t[i],e=i}t[e]=r},r.$f=function(e){for(var t=this.Y,n=t[e];0<e;){var r=this.wf(e);if(!(t[r].getKey()>n.getKey()))break;t[e]=t[r],e=r}t[e]=n},r.tf=function(e){return 2*e+1},r.zf=function(e){return 2*e+2},r.wf=function(e){return e-1>>1},r.H=function(){for(var e=this.Y,t=[],n=e.length,r=0;r<n;r++)t.push(e[r].gd);return t},r.W=function(){for(var e=this.Y,t=[],n=e.length,r=0;r<n;r++)t.push(e[r].getKey());return t},r.va=function(e){return A(this.Y,function(t){return t.getKey()==e})},r.clone=function(){return new kn(this)},r.C=function(){return this.Y.length},r.X=function(){return 0==this.Y.length},r.clear=function(){D(this.Y)},C(xn,kn),xn.prototype.enqueue=function(e,t){this.ce(e,t)},xn.prototype.ab=function(){return this.remove()},C(In,Sn),(r=In.prototype).Mb=function(e,t){if(!e)return(e=In.L.Mb.call(this))&&this.Ac&&(this.Gd=o.setTimeout(b(this.Nb,this),this.Ac)),e;this.cc.enqueue(void 0!==t?t:100,e),this.Nb()},r.Nb=function(){for(var e=this.cc;0<e.C();){var t=this.Mb();if(!t)break;e.ab().apply(this,[t])}},r.nc=function(e){In.L.nc.call(this,e),this.Nb()},r.Cb=function(){In.L.Cb.call(this),this.Nb()},r.F=function(){In.L.F.call(this),o.clearTimeout(this.Gd),this.cc.clear(),this.cc=null},C(On,In),On.prototype.xc=function(){var e=new sn,t=this.Jf;return t&&t.forEach(function(t,n){e.headers.set(n,t)}),this.Ab&&e.Je(!0),e},On.prototype.Sc=function(e){return!e.Ka&&!e.Ba()},vn.prototype.createWebChannel=vn.prototype.cf,gn.prototype.send=gn.prototype.send,gn.prototype.open=gn.prototype.open,gn.prototype.close=gn.prototype.close,Ct.NO_ERROR=0,Ct.TIMEOUT=8,Ct.HTTP_ERROR=6,St.COMPLETE="complete",(Tt.EventType=xt).OPEN="a",xt.CLOSE="b",xt.ERROR="c",xt.MESSAGE="d",Be.prototype.listen=Be.prototype.nb,On.prototype.getObject=On.prototype.Mb,On.prototype.releaseObject=On.prototype.og,sn.prototype.listenOnce=sn.prototype.Oc,sn.prototype.getLastError=sn.prototype.Hc,sn.prototype.getLastErrorCode=sn.prototype.Ud,sn.prototype.getStatus=sn.prototype.za,sn.prototype.getStatusText=sn.prototype.Yd,sn.prototype.getResponseJson=sn.prototype.yf,sn.prototype.getResponseText=sn.prototype.ya,sn.prototype.getResponseText=sn.prototype.ya,sn.prototype.send=sn.prototype.send;var Pn={createWebChannelTransport:En,ErrorCode:Ct,EventType:St,WebChannel:Tt,XhrIoPool:On},An=Pn.createWebChannelTransport,Dn=Pn.ErrorCode,Nn=Pn.EventType,Mn=Pn.WebChannel,Rn=Pn.XhrIoPool;t.default=Pn}.call(this,n(5))},function(e,t,n){"use strict";n.r(t),n(111)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(112),a=(r=n(0))&&"object"==typeof r&&"default"in r?r.default:r,o={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},s=function(e){function t(n,r,i){var a=e.call(this,r)||this;return Object.setPrototypeOf(a,t.prototype),a.code=n,a.details=i,a}return i.__extends(t,e),t}(Error),l=function(){function e(e){this.app=e}return e.prototype.getAuthToken=function(){return i.__awaiter(this,void 0,void 0,function(){var e;return i.__generator(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.app.INTERNAL.getToken()];case 1:return(e=t.sent())?[2,e.accessToken]:[2,void 0];case 2:return t.sent(),[2,void 0];case 3:return[2]}})})},e.prototype.getInstanceIdToken=function(){return i.__awaiter(this,void 0,void 0,function(){var e;return i.__generator(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),this.app.messaging?[4,this.app.messaging().getToken()]:[2,void 0];case 1:return(e=t.sent())?[2,e]:[2,void 0];case 2:return t.sent(),[2,void 0];case 3:return[2]}})})},e.prototype.getContext=function(){return i.__awaiter(this,void 0,void 0,function(){var e,t;return i.__generator(this,function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return e=n.sent(),[4,this.getInstanceIdToken()];case 2:return t=n.sent(),[2,{authToken:e,instanceIdToken:t}]}})})},e}();
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function c(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}var u=function(){function e(){}return e.prototype.encode=function(e){var t=this;if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"==typeof e&&isFinite(e))return e;if(!0===e||!1===e)return e;if("[object String]"===Object.prototype.toString.call(e))return e;if(Array.isArray(e))return e.map(function(e){return t.encode(e)});if("function"==typeof e||"object"==typeof e)return c(e,function(e){return t.encode(e)});throw new Error("Data cannot be encoded in JSON: "+e)},e.prototype.decode=function(e){var t=this;if(null===e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=parseFloat(e.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+e);return n;default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(function(e){return t.decode(e)}):"function"==typeof e||"object"==typeof e?c(e,function(e){return t.decode(e)}):e},e}(),h=function(){function e(e,t){void 0===t&&(t="us-central1"),this.app_=e,this.region_=t,this.serializer=new u,this.emulatorOrigin=null,this.contextProvider=new l(e)}return Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0}),e.prototype._url=function(e){var t=this.app_.options.projectId,n=this.region_;return null===this.emulatorOrigin?"https://"+n+"-"+t+".cloudfunctions.net/"+e:this.emulatorOrigin+"/"+t+"/"+n+"/"+e},e.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},e.prototype.httpsCallable=function(e){var t=this;return function(n){return t.call(e,n)}},e.prototype.postJSON=function(e,t,n){return i.__awaiter(this,void 0,void 0,function(){var r,a;return i.__generator(this,function(i){switch(i.label){case 0:n.append("Content-Type","application/json"),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,fetch(e,{method:"POST",body:JSON.stringify(t),headers:n})];case 2:return r=i.sent(),[3,4];case 3:return i.sent(),[2,{status:0,json:null}];case 4:a=null,i.label=5;case 5:return i.trys.push([5,7,,8]),[4,r.json()];case 6:return a=i.sent(),[3,8];case 7:return i.sent(),[3,8];case 8:return[2,{status:r.status,json:a}]}})})},e.prototype.call=function(e,t){return i.__awaiter(this,void 0,void 0,function(){var n,r,a,l,c,u,h;return i.__generator(this,function(i){switch(i.label){case 0:return n=this._url(e),t=this.serializer.encode(t),r={data:t},a=new Headers,[4,this.contextProvider.getContext()];case 1:return(l=i.sent()).authToken&&a.append("Authorization","Bearer "+l.authToken),l.instanceIdToken&&a.append("Firebase-Instance-ID-Token",l.instanceIdToken),[4,this.postJSON(n,r,a)];case 2:if(c=i.sent(),u=function(e,t,n){var r=function(e){if(200<=e&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),i=r,a=void 0;try{var l=t.error;if(l){var c=l.status;if("string"==typeof c){if(!o[c])return new s("internal","internal");r=o[c]}i=c;var u=l.message;"string"==typeof u&&(i=u),void 0!==(a=l.details)&&(a=n.decode(a))}}catch(e){}return"ok"===r?null:new s(r,i,a)}(c.status,c.json,this.serializer))throw u;if(!c.json)throw new s("internal","Response is not valid JSON object.");if(void 0===(h=c.json.data)&&(h=c.json.result),void 0===h)throw new s("internal","Response is missing data field.");return[2,{data:this.serializer.decode(h)}]}})})},e}();
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d(e,t,n){return new h(e,n)}function p(e){var t={Functions:h};e.INTERNAL.registerService("functions",d,t,void 0,!0)}p(a),t.registerFunctions=p},function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",function(){return i}),n.d(t,"__assign",function(){return a}),n.d(t,"__rest",function(){return o}),n.d(t,"__decorate",function(){return s}),n.d(t,"__param",function(){return l}),n.d(t,"__metadata",function(){return c}),n.d(t,"__awaiter",function(){return u}),n.d(t,"__generator",function(){return h}),n.d(t,"__exportStar",function(){return d}),n.d(t,"__values",function(){return p}),n.d(t,"__read",function(){return f}),n.d(t,"__spread",function(){return m}),n.d(t,"__await",function(){return v}),n.d(t,"__asyncGenerator",function(){return g}),n.d(t,"__asyncDelegator",function(){return y}),n.d(t,"__asyncValues",function(){return b}),n.d(t,"__makeTemplateObject",function(){return w}),n.d(t,"__importStar",function(){return E}),n.d(t,"__importDefault",function(){return C});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;0<=s;s--)(i=e[s])&&(o=(a<3?i(o):3<a?i(t,n,o):i(t,n))||o);return 3<a&&o&&Object.defineProperty(t,n,o),o}function l(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,n,r){return new(n||(n=Promise))(function(i,a){function o(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(o,s)}l((r=r.apply(e,t||[])).next())})}function h(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=r[2&a[0]?"return":a[0]?"throw":"next"])&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[0,i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=0<(i=o.trys).length&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function d(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function f(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||0<t--)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(f(arguments[t]));return e}function v(e){return this instanceof v?(this.v=e,this):new v(e)}function g(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),a=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(e){i[e]&&(r[e]=function(t){return new Promise(function(n,r){1<a.push([e,t,n,r])||s(e,t)})})}function s(e,t){try{(n=i[e](t)).value instanceof v?Promise.resolve(n.value.v).then(l,c):u(a[0][2],n)}catch(e){u(a[0][3],e)}var n}function l(e){s("next",e)}function c(e){s("throw",e)}function u(e,t){e(t),a.shift(),a.length&&s(a[0][0],a[0][1])}}function y(e){var t,n;return t={},r("next"),r("throw",function(e){throw e}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){e[r]&&(t[r]=function(t){return(n=!n)?{value:v(e[r](t)),done:"return"===r}:i?i(t):t})}}function b(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator];return t?t.call(e):p(e)}function w(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function C(e){return e&&e.__esModule?e:{default:e}}},function(e){e.exports={apiKey:"AIzaSyCzwAZsG1Kjs6vv6-d8SW3mh8BI4Bohzp4",authDomain:"grimstad-takeaway.firebaseapp.com",databaseURL:"https://grimstad-takeaway.firebaseio.com",projectId:"grimstad-takeaway",storageBucket:"grimstad-takeaway.appspot.com",messagingSenderId:"232052974238"}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r="undefined"==typeof document?{body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}},location:{hash:""}}:document,i="undefined"==typeof window?{document:r,navigator:{userAgent:""},location:{},history:{},CustomEvent:function(){return this},addEventListener:function(){},removeEventListener:function(){},getComputedStyle:function(){return{getPropertyValue:function(){return""}}},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){}}:window,a=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=0;n<t.length;n+=1)this[n]=t[n];return this.length=t.length,this};function o(e,t){var n=[],o=0;if(e&&!t&&e instanceof a)return e;if(e)if("string"==typeof e){var s,l,c=e.trim();if(0<=c.indexOf("<")&&0<=c.indexOf(">")){var u="div";for(0===c.indexOf("<li")&&(u="ul"),0===c.indexOf("<tr")&&(u="tbody"),0!==c.indexOf("<td")&&0!==c.indexOf("<th")||(u="tr"),0===c.indexOf("<tbody")&&(u="table"),0===c.indexOf("<option")&&(u="select"),(l=r.createElement(u)).innerHTML=c,o=0;o<l.childNodes.length;o+=1)n.push(l.childNodes[o])}else for(s=t||"#"!==e[0]||e.match(/[ .<>:~]/)?(t||r).querySelectorAll(e.trim()):[r.getElementById(e.trim().split("#")[1])],o=0;o<s.length;o+=1)s[o]&&n.push(s[o])}else if(e.nodeType||e===i||e===r)n.push(e);else if(0<e.length&&e[0].nodeType)for(o=0;o<e.length;o+=1)n.push(e[o]);return new a(n)}function s(e){for(var t=[],n=0;n<e.length;n+=1)-1===t.indexOf(e[n])&&t.push(e[n]);return t}function l(e){return i.requestAnimationFrame?i.requestAnimationFrame(e):i.webkitRequestAnimationFrame?i.webkitRequestAnimationFrame(e):i.setTimeout(e,1e3/60)}o.fn=a.prototype,o.Class=a,o.Dom7=a;var c=Object.freeze({addClass:function(e){if(void 0===e)return this;for(var t=e.split(" "),n=0;n<t.length;n+=1)for(var r=0;r<this.length;r+=1)void 0!==this[r]&&void 0!==this[r].classList&&this[r].classList.add(t[n]);return this},removeClass:function(e){for(var t=e.split(" "),n=0;n<t.length;n+=1)for(var r=0;r<this.length;r+=1)void 0!==this[r]&&void 0!==this[r].classList&&this[r].classList.remove(t[n]);return this},hasClass:function(e){return!!this[0]&&this[0].classList.contains(e)},toggleClass:function(e){for(var t=e.split(" "),n=0;n<t.length;n+=1)for(var r=0;r<this.length;r+=1)void 0!==this[r]&&void 0!==this[r].classList&&this[r].classList.toggle(t[n]);return this},attr:function(e,t){if(1===arguments.length&&"string"==typeof e)return this[0]?this[0].getAttribute(e):void 0;for(var n=0;n<this.length;n+=1)if(2===arguments.length)this[n].setAttribute(e,t);else for(var r in e)this[n][r]=e[r],this[n].setAttribute(r,e[r]);return this},removeAttr:function(e){for(var t=0;t<this.length;t+=1)this[t].removeAttribute(e);return this},prop:function(e,t){if(1!==arguments.length||"string"!=typeof e){for(var n=0;n<this.length;n+=1)if(2===arguments.length)this[n][e]=t;else for(var r in e)this[n][r]=e[r];return this}if(this[0])return this[0][e]},data:function(e,t){var n;if(void 0!==t){for(var r=0;r<this.length;r+=1)(n=this[r]).dom7ElementDataStorage||(n.dom7ElementDataStorage={}),n.dom7ElementDataStorage[e]=t;return this}if(n=this[0])return n.dom7ElementDataStorage&&e in n.dom7ElementDataStorage?n.dom7ElementDataStorage[e]:n.getAttribute("data-".concat(e))||void 0},removeData:function(e){for(var t=0;t<this.length;t+=1){var n=this[t];n.dom7ElementDataStorage&&n.dom7ElementDataStorage[e]&&(n.dom7ElementDataStorage[e]=null,delete n.dom7ElementDataStorage[e])}},dataset:function(){var e=this[0];if(e){var t,n={};if(e.dataset)for(var r in e.dataset)n[r]=e.dataset[r];else for(var i=0;i<e.attributes.length;i+=1){var a=e.attributes[i];0<=a.name.indexOf("data-")&&(n[(t=a.name.split("data-")[1],t.toLowerCase().replace(/-(.)/g,function(e,t){return t.toUpperCase()}))]=a.value)}for(var o in n)"false"===n[o]?n[o]=!1:"true"===n[o]?n[o]=!0:parseFloat(n[o])===1*n[o]&&(n[o]*=1);return n}},val:function(e){if(void 0!==e){for(var t=0;t<this.length;t+=1){var n=this[t];if(Array.isArray(e)&&n.multiple&&"select"===n.nodeName.toLowerCase())for(var r=0;r<n.options.length;r+=1)n.options[r].selected=0<=e.indexOf(n.options[r].value);else n.value=e}return this}if(this[0]){if(this[0].multiple&&"select"===this[0].nodeName.toLowerCase()){for(var i=[],a=0;a<this[0].selectedOptions.length;a+=1)i.push(this[0].selectedOptions[a].value);return i}return this[0].value}},transform:function(e){for(var t=0;t<this.length;t+=1){var n=this[t].style;n.webkitTransform=e,n.transform=e}return this},transition:function(e){"string"!=typeof e&&(e="".concat(e,"ms"));for(var t=0;t<this.length;t+=1){var n=this[t].style;n.webkitTransitionDuration=e,n.transitionDuration=e}return this},on:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],a=t[2],s=t[3];function l(e){var t=e.target;if(t){var n=e.target.dom7EventData||[];if(n.indexOf(e)<0&&n.unshift(e),o(t).is(i))a.apply(t,n);else for(var r=o(t).parents(),s=0;s<r.length;s+=1)o(r[s]).is(i)&&a.apply(r[s],n)}}function c(e){var t=e&&e.target&&e.target.dom7EventData||[];t.indexOf(e)<0&&t.unshift(e),a.apply(this,t)}"function"==typeof t[1]&&(r=t[0],a=t[1],s=t[2],i=void 0),s||(s=!1);for(var u,h=r.split(" "),d=0;d<this.length;d+=1){var p=this[d];if(i)for(u=0;u<h.length;u+=1){var f=h[u];p.dom7LiveListeners||(p.dom7LiveListeners={}),p.dom7LiveListeners[f]||(p.dom7LiveListeners[f]=[]),p.dom7LiveListeners[f].push({listener:a,proxyListener:l}),p.addEventListener(f,l,s)}else for(u=0;u<h.length;u+=1){var m=h[u];p.dom7Listeners||(p.dom7Listeners={}),p.dom7Listeners[m]||(p.dom7Listeners[m]=[]),p.dom7Listeners[m].push({listener:a,proxyListener:c}),p.addEventListener(m,c,s)}}return this},off:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],a=t[2],o=t[3];"function"==typeof t[1]&&(r=t[0],a=t[1],o=t[2],i=void 0),o||(o=!1);for(var s=r.split(" "),l=0;l<s.length;l+=1)for(var c=s[l],u=0;u<this.length;u+=1){var h=this[u],d=void 0;if(!i&&h.dom7Listeners?d=h.dom7Listeners[c]:i&&h.dom7LiveListeners&&(d=h.dom7LiveListeners[c]),d&&d.length)for(var p=d.length-1;0<=p;p-=1){var f=d[p];a&&f.listener===a?(h.removeEventListener(c,f.proxyListener,o),d.splice(p,1)):a&&f.listener&&f.listener.dom7proxy&&f.listener.dom7proxy===a?(h.removeEventListener(c,f.proxyListener,o),d.splice(p,1)):a||(h.removeEventListener(c,f.proxyListener,o),d.splice(p,1))}}return this},once:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0],a=n[1],o=n[2],s=n[3];function l(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];o.apply(this,n),e.off(i,a,l,s),l.dom7proxy&&delete l.dom7proxy}return"function"==typeof n[1]&&(i=n[0],o=n[1],s=n[2],a=void 0),l.dom7proxy=o,e.on(i,a,l,s)},trigger:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var a=t[0].split(" "),o=t[1],s=0;s<a.length;s+=1)for(var l=a[s],c=0;c<this.length;c+=1){var u=this[c],h=void 0;try{h=new i.CustomEvent(l,{detail:o,bubbles:!0,cancelable:!0})}catch(e){(h=r.createEvent("Event")).initEvent(l,!0,!0),h.detail=o}u.dom7EventData=t.filter(function(e,t){return 0<t}),u.dispatchEvent(h),u.dom7EventData=[],delete u.dom7EventData}return this},transitionEnd:function(e){var t,n=["webkitTransitionEnd","transitionend"],r=this;function i(a){if(a.target===this)for(e.call(this,a),t=0;t<n.length;t+=1)r.off(n[t],i)}if(e)for(t=0;t<n.length;t+=1)r.on(n[t],i);return this},animationEnd:function(e){var t,n=["webkitAnimationEnd","animationend"],r=this;function i(a){if(a.target===this)for(e.call(this,a),t=0;t<n.length;t+=1)r.off(n[t],i)}if(e)for(t=0;t<n.length;t+=1)r.on(n[t],i);return this},width:function(){return this[0]===i?i.innerWidth:0<this.length?parseFloat(this.css("width")):null},outerWidth:function(e){if(0<this.length){if(e){var t=this.styles();return this[0].offsetWidth+parseFloat(t.getPropertyValue("margin-right"))+parseFloat(t.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},height:function(){return this[0]===i?i.innerHeight:0<this.length?parseFloat(this.css("height")):null},outerHeight:function(e){if(0<this.length){if(e){var t=this.styles();return this[0].offsetHeight+parseFloat(t.getPropertyValue("margin-top"))+parseFloat(t.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},offset:function(){if(0<this.length){var e=this[0],t=e.getBoundingClientRect(),n=r.body,a=e.clientTop||n.clientTop||0,o=e.clientLeft||n.clientLeft||0,s=e===i?i.scrollY:e.scrollTop,l=e===i?i.scrollX:e.scrollLeft;return{top:t.top+s-a,left:t.left+l-o}}return null},hide:function(){for(var e=0;e<this.length;e+=1)this[e].style.display="none";return this},show:function(){for(var e=0;e<this.length;e+=1){var t=this[e];"none"===t.style.display&&(t.style.display=""),"none"===i.getComputedStyle(t,null).getPropertyValue("display")&&(t.style.display="block")}return this},styles:function(){return this[0]?i.getComputedStyle(this[0],null):{}},css:function(e,t){var n;if(1===arguments.length){if("string"!=typeof e){for(n=0;n<this.length;n+=1)for(var r in e)this[n].style[r]=e[r];return this}if(this[0])return i.getComputedStyle(this[0],null).getPropertyValue(e)}if(2!==arguments.length||"string"!=typeof e)return this;for(n=0;n<this.length;n+=1)this[n].style[e]=t;return this},toArray:function(){for(var e=[],t=0;t<this.length;t+=1)e.push(this[t]);return e},each:function(e){if(!e)return this;for(var t=0;t<this.length;t+=1)if(!1===e.call(this[t],t,this[t]))return this;return this},forEach:function(e){if(!e)return this;for(var t=0;t<this.length;t+=1)if(!1===e.call(this[t],this[t],t))return this;return this},filter:function(e){for(var t=[],n=0;n<this.length;n+=1)e.call(this[n],n,this[n])&&t.push(this[n]);return new a(t)},map:function(e){for(var t=[],n=0;n<this.length;n+=1)t.push(e.call(this[n],n,this[n]));return new a(t)},html:function(e){if(void 0===e)return this[0]?this[0].innerHTML:void 0;for(var t=0;t<this.length;t+=1)this[t].innerHTML=e;return this},text:function(e){if(void 0===e)return this[0]?this[0].textContent.trim():null;for(var t=0;t<this.length;t+=1)this[t].textContent=e;return this},is:function(e){var t,n,s=this[0];if(!s||void 0===e)return!1;if("string"==typeof e){if(s.matches)return s.matches(e);if(s.webkitMatchesSelector)return s.webkitMatchesSelector(e);if(s.msMatchesSelector)return s.msMatchesSelector(e);for(t=o(e),n=0;n<t.length;n+=1)if(t[n]===s)return!0;return!1}if(e===r)return s===r;if(e===i)return s===i;if(e.nodeType||e instanceof a){for(t=e.nodeType?[e]:e,n=0;n<t.length;n+=1)if(t[n]===s)return!0;return!1}return!1},indexOf:function(e){for(var t=0;t<this.length;t+=1)if(this[t]===e)return t;return-1},index:function(){var e,t=this[0];if(t){for(e=0;null!==(t=t.previousSibling);)1===t.nodeType&&(e+=1);return e}},eq:function(e){if(void 0===e)return this;var t,n=this.length;return new a(n-1<e?[]:e<0?(t=n+e)<0?[]:[this[t]]:[this[e]])},append:function(){for(var e,t=0;t<arguments.length;t+=1){e=t<0||arguments.length<=t?void 0:arguments[t];for(var n=0;n<this.length;n+=1)if("string"==typeof e){var i=r.createElement("div");for(i.innerHTML=e;i.firstChild;)this[n].appendChild(i.firstChild)}else if(e instanceof a)for(var o=0;o<e.length;o+=1)this[n].appendChild(e[o]);else this[n].appendChild(e)}return this},appendTo:function(e){return o(e).append(this),this},prepend:function(e){var t,n;for(t=0;t<this.length;t+=1)if("string"==typeof e){var i=r.createElement("div");for(i.innerHTML=e,n=i.childNodes.length-1;0<=n;n-=1)this[t].insertBefore(i.childNodes[n],this[t].childNodes[0])}else if(e instanceof a)for(n=0;n<e.length;n+=1)this[t].insertBefore(e[n],this[t].childNodes[0]);else this[t].insertBefore(e,this[t].childNodes[0]);return this},prependTo:function(e){return o(e).prepend(this),this},insertBefore:function(e){for(var t=o(e),n=0;n<this.length;n+=1)if(1===t.length)t[0].parentNode.insertBefore(this[n],t[0]);else if(1<t.length)for(var r=0;r<t.length;r+=1)t[r].parentNode.insertBefore(this[n].cloneNode(!0),t[r])},insertAfter:function(e){for(var t=o(e),n=0;n<this.length;n+=1)if(1===t.length)t[0].parentNode.insertBefore(this[n],t[0].nextSibling);else if(1<t.length)for(var r=0;r<t.length;r+=1)t[r].parentNode.insertBefore(this[n].cloneNode(!0),t[r].nextSibling)},next:function(e){return 0<this.length?e?this[0].nextElementSibling&&o(this[0].nextElementSibling).is(e)?new a([this[0].nextElementSibling]):new a([]):this[0].nextElementSibling?new a([this[0].nextElementSibling]):new a([]):new a([])},nextAll:function(e){var t=[],n=this[0];if(!n)return new a([]);for(;n.nextElementSibling;){var r=n.nextElementSibling;e?o(r).is(e)&&t.push(r):t.push(r),n=r}return new a(t)},prev:function(e){if(0<this.length){var t=this[0];return e?t.previousElementSibling&&o(t.previousElementSibling).is(e)?new a([t.previousElementSibling]):new a([]):t.previousElementSibling?new a([t.previousElementSibling]):new a([])}return new a([])},prevAll:function(e){var t=[],n=this[0];if(!n)return new a([]);for(;n.previousElementSibling;){var r=n.previousElementSibling;e?o(r).is(e)&&t.push(r):t.push(r),n=r}return new a(t)},siblings:function(e){return this.nextAll(e).add(this.prevAll(e))},parent:function(e){for(var t=[],n=0;n<this.length;n+=1)null!==this[n].parentNode&&(e?o(this[n].parentNode).is(e)&&t.push(this[n].parentNode):t.push(this[n].parentNode));return o(s(t))},parents:function(e){for(var t=[],n=0;n<this.length;n+=1)for(var r=this[n].parentNode;r;)e?o(r).is(e)&&t.push(r):t.push(r),r=r.parentNode;return o(s(t))},closest:function(e){var t=this;return void 0===e?new a([]):(t.is(e)||(t=t.parents(e).eq(0)),t)},find:function(e){for(var t=[],n=0;n<this.length;n+=1)for(var r=this[n].querySelectorAll(e),i=0;i<r.length;i+=1)t.push(r[i]);return new a(t)},children:function(e){for(var t=[],n=0;n<this.length;n+=1)for(var r=this[n].childNodes,i=0;i<r.length;i+=1)e?1===r[i].nodeType&&o(r[i]).is(e)&&t.push(r[i]):1===r[i].nodeType&&t.push(r[i]);return new a(s(t))},remove:function(){for(var e=0;e<this.length;e+=1)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this},detach:function(){return this.remove()},add:function(){for(var e,t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];for(e=0;e<r.length;e+=1){var a=o(r[e]);for(t=0;t<a.length;t+=1)this[this.length]=a[t],this.length+=1}return this},empty:function(){for(var e=0;e<this.length;e+=1){var t=this[e];if(1===t.nodeType){for(var n=0;n<t.childNodes.length;n+=1)t.childNodes[n].parentNode&&t.childNodes[n].parentNode.removeChild(t.childNodes[n]);t.textContent=""}}return this}}),u=Object.freeze({scrollTo:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4];return 4===t.length&&"function"==typeof o&&(s=o,r=t[0],i=t[1],a=t[2],s=t[3],o=t[4]),void 0===o&&(o="swing"),this.each(function(){var e,t,n,c,u,h,d,p,f=this,m=0<i||0===i,v=0<r||0===r;if(void 0===o&&(o="swing"),m&&(e=f.scrollTop,a||(f.scrollTop=i)),v&&(t=f.scrollLeft,a||(f.scrollLeft=r)),a){m&&(n=f.scrollHeight-f.offsetHeight,u=Math.max(Math.min(i,n),0)),v&&(c=f.scrollWidth-f.offsetWidth,h=Math.max(Math.min(r,c),0));var g=null;m&&u===e&&(m=!1),v&&h===t&&(v=!1),l(function n(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:(new Date).getTime();null===g&&(g=r);var i,c=Math.max(Math.min((r-g)/a,1),0),y="linear"===o?c:.5-Math.cos(c*Math.PI)/2;m&&(d=e+y*(u-e)),v&&(p=t+y*(h-t)),m&&e<u&&u<=d&&(f.scrollTop=u,i=!0),m&&u<e&&d<=u&&(f.scrollTop=u,i=!0),v&&t<h&&h<=p&&(f.scrollLeft=h,i=!0),v&&h<t&&p<=h&&(f.scrollLeft=h,i=!0),i?s&&s():(m&&(f.scrollTop=d),v&&(f.scrollLeft=p),l(n))})}})},scrollTop:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],a=t[2],o=t[3];return 3===t.length&&"function"==typeof a&&(r=t[0],i=t[1],o=t[2],a=t[3]),void 0===r?0<this.length?this[0].scrollTop:null:this.scrollTo(void 0,r,i,a,o)},scrollLeft:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],a=t[2],o=t[3];return 3===t.length&&"function"==typeof a&&(r=t[0],i=t[1],o=t[2],a=t[3]),void 0===r?0<this.length?this[0].scrollLeft:null:this.scrollTo(r,void 0,i,a,o)}}),h=Object.freeze({animate:function(e,t){var n,r=this,a={props:Object.assign({},e),params:Object.assign({duration:300,easing:"swing"},t),elements:r,animating:!1,que:[],easingProgress:function(e,t){return"swing"===e?.5-Math.cos(t*Math.PI)/2:"function"==typeof e?e(t):t},stop:function(){var e;a.frameId&&(e=a.frameId,i.cancelAnimationFrame?i.cancelAnimationFrame(e):i.webkitCancelAnimationFrame?i.webkitCancelAnimationFrame(e):i.clearTimeout(e)),a.animating=!1,a.elements.each(function(e,t){delete t.dom7AnimateInstance}),a.que=[]},done:function(e){if(a.animating=!1,a.elements.each(function(e,t){delete t.dom7AnimateInstance}),e&&e(r),0<a.que.length){var t=a.que.shift();a.animate(t[0],t[1])}},animate:function(e,t){if(a.animating)return a.que.push([e,t]),a;var n=[];a.elements.each(function(t,r){var o,s,l,c,u;r.dom7AnimateInstance||(a.elements[t].dom7AnimateInstance=a),n[t]={container:r},Object.keys(e).forEach(function(a){o=i.getComputedStyle(r,null).getPropertyValue(a).replace(",","."),s=parseFloat(o),l=o.replace(s,""),c=parseFloat(e[a]),u=e[a]+l,n[t][a]={initialFullValue:o,initialValue:s,unit:l,finalValue:c,finalFullValue:u,currentValue:s}})});var o,s,c=null,u=0,h=0,d=!1;return a.animating=!0,a.frameId=l(function i(){var p,f;o=(new Date).getTime(),d||(d=!0,t.begin&&t.begin(r)),null===c&&(c=o),t.progress&&t.progress(r,Math.max(Math.min((o-c)/t.duration,1),0),c+t.duration-o<0?0:c+t.duration-o,c),n.forEach(function(r){var i=r;s||i.done||Object.keys(e).forEach(function(r){if(!s&&!i.done){p=Math.max(Math.min((o-c)/t.duration,1),0),f=a.easingProgress(t.easing,p);var l=i[r],d=l.initialValue,m=l.finalValue,v=l.unit;i[r].currentValue=d+f*(m-d);var g=i[r].currentValue;(d<m&&m<=g||m<d&&g<=m)&&(i.container.style[r]=m+v,(h+=1)===Object.keys(e).length&&(i.done=!0,u+=1),u===n.length&&(s=!0)),s?a.done(t.complete):i.container.style[r]=g+v}})}),s||(a.frameId=l(i))}),a}};if(0===a.elements.length)return r;for(var o=0;o<a.elements.length;o+=1)a.elements[o].dom7AnimateInstance?n=a.elements[o].dom7AnimateInstance:a.elements[o].dom7AnimateInstance=a;return n||(n=a),"stop"===e?n.stop():n.animate(a.props,a.params),r},stop:function(){for(var e=0;e<this.length;e+=1)this[e].dom7AnimateInstance&&this[e].dom7AnimateInstance.stop()}}),d="resize scroll".split(" ");function p(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(void 0!==n[0])return this.on.apply(this,[e].concat(n));for(var i=0;i<this.length;i+=1)d.indexOf(e)<0&&(e in this[i]?this[i][e]():o(this[i]).trigger(e));return this}[c,u,h,Object.freeze({click:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return p.bind(this).apply(void 0,["click"].concat(t))},blur:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return p.bind(this).apply(void 0,["blur"].concat(t))},focus:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return p.bind(this).apply(void 0,["focus"].concat(t))},focusin:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return p.bind(this).apply(void 0,["focusin"].concat(t))},focusout:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return p.bind(this).apply(void 0,["focusout"].concat(t))},keyup:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return p.bind(this).apply(void 0,["keyup"].concat(t))},keydown:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return p.bind(this).apply(void 0,["keydown"].concat(t))},keypress:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return p.bind(this).apply(void 0,["keypress"].concat(t))},submit:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return p.bind(this).apply(void 0,["submit"].concat(t))},change:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return p.bind(this).apply(void 0,["change"].concat(t))},mousedown:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return p.bind(this).apply(void 0,["mousedown"].concat(t))},mousemove:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return p.bind(this).apply(void 0,["mousemove"].concat(t))},mouseup:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return p.bind(this).apply(void 0,["mouseup"].concat(t))},mouseenter:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return p.bind(this).apply(void 0,["mouseenter"].concat(t))},mouseleave:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return p.bind(this).apply(void 0,["mouseleave"].concat(t))},mouseout:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return p.bind(this).apply(void 0,["mouseout"].concat(t))},mouseover:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return p.bind(this).apply(void 0,["mouseover"].concat(t))},touchstart:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return p.bind(this).apply(void 0,["touchstart"].concat(t))},touchend:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return p.bind(this).apply(void 0,["touchend"].concat(t))},touchmove:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return p.bind(this).apply(void 0,["touchmove"].concat(t))},resize:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return p.bind(this).apply(void 0,["resize"].concat(t))},scroll:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return p.bind(this).apply(void 0,["scroll"].concat(t))}})].forEach(function(e){Object.keys(e).forEach(function(t){o.fn[t]=e[t]})});var f=o,m=n(1),v=4,g=1e-7,y=10,b="function"==typeof Float32Array;function w(e,t){return 1-3*t+3*e}function E(e,t){return 3*t-6*e}function C(e){return 3*e}function S(e,t,n){return((w(t,n)*e+E(t,n))*e+C(t))*e}function _(e,t,n){return 3*w(t,n)*e*e+2*E(t,n)*e+C(t)}function T(e,t,n,r){if(!(0<=e&&e<=1&&0<=n&&n<=1))throw new Error("bezier x values must be in [0, 1] range");var i=b?new Float32Array(11):new Array(11);if(e!==t||n!==r)for(var a=0;a<11;++a)i[a]=S(.1*a,e,n);return function(a){return e===t&&n===r?a:0===a?0:1===a?1:S(function(t){for(var r=0,a=1;10!==a&&i[a]<=t;++a)r+=.1;var o=r+(t-i[--a])/(i[a+1]-i[a])*.1,s=_(o,e,n);return.001<=s?function(e,t,n,r){for(var i=0;i<v;++i){var a=_(t,n,r);if(0===a)return t;t-=(S(t,n,r)-e)/a}return t}(t,o,e,n):0===s?o:function(e,t,n,r,i){for(var a,o,s=0;0<(a=S(o=t+(n-t)/2,r,i)-e)?n=o:t=o,Math.abs(a)>g&&++s<y;);return o}(t,r,r+.1,e,n)}(a),t,r)}}function k(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}for(var I=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"OE",letters:""},{base:"oe",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],O={},P=0;P<I.length;P+=1)for(var A=I[P].letters,D=0;D<A.length;D+=1)O[A[D]]=I[P].base;var N=1,M={uniqueNumber:function(){return N+=1},id:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"xxxxxxxxxx",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"0123456789abcdef",n=t.length;return e.replace(/x/g,function(){return t[Math.floor(Math.random()*n)]})},mdPreloaderContent:'\n    <span class="preloader-inner">\n      <span class="preloader-inner-gap"></span>\n      <span class="preloader-inner-left">\n          <span class="preloader-inner-half-circle"></span>\n      </span>\n      <span class="preloader-inner-right">\n          <span class="preloader-inner-half-circle"></span>\n      </span>\n    </span>\n  '.trim(),iosPreloaderContent:'\n    <span class="preloader-inner">\n      '.concat([0,1,2,3,4,5,6,7,8,9,10,11].map(function(){return'<span class="preloader-inner-line"></span>'}).join(""),"\n    </span>\n  ").trim(),eventNameToColonCase:function(e){var t;return e.split("").map(function(e,n){return e.match(/[A-Z]/)&&0!==n&&!t?(t=!0,":".concat(e.toLowerCase())):e.toLowerCase()}).join("")},deleteProps:function(e){var t=e;Object.keys(t).forEach(function(e){try{t[e]=null}catch(e){}try{delete t[e]}catch(e){}})},bezier:function(){return T.apply(void 0,arguments)},nextTick:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return setTimeout(e,t)},nextFrame:function(e){return M.requestAnimationFrame(function(){M.requestAnimationFrame(e)})},now:function(){return Date.now()},requestAnimationFrame:function(e){return i.requestAnimationFrame(e)},cancelAnimationFrame:function(e){return i.cancelAnimationFrame(e)},removeDiacritics:function(e){return e.replace(/[^\u0000-\u007E]/g,function(e){return O[e]||e})},parseUrlQuery:function(e){var t,n,r,a,o={},s=e||i.location.href;if("string"==typeof s&&s.length)for(a=(n=(s=-1<s.indexOf("?")?s.replace(/\S*\?/,""):"").split("&").filter(function(e){return""!==e})).length,t=0;t<a;t+=1)r=n[t].replace(/#\S+/g,"").split("="),o[decodeURIComponent(r[0])]=void 0===r[1]?void 0:decodeURIComponent(r.slice(1).join("="))||"";return o},getTranslate:function(e){var t,n,r,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"x",o=i.getComputedStyle(e,null);return i.WebKitCSSMatrix?(6<(n=o.transform||o.webkitTransform).split(",").length&&(n=n.split(", ").map(function(e){return e.replace(",",".")}).join(", ")),r=new i.WebKitCSSMatrix("none"===n?"":n)):t=(r=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===a&&(n=i.WebKitCSSMatrix?r.m41:16===t.length?parseFloat(t[12]):parseFloat(t[4])),"y"===a&&(n=i.WebKitCSSMatrix?r.m42:16===t.length?parseFloat(t[13]):parseFloat(t[5])),n||0},serializeObject:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];if("string"==typeof e)return e;var n,r=[];function i(e){if(0<t.length){for(var n="",r=0;r<t.length;r+=1)n+=0===r?t[r]:"[".concat(encodeURIComponent(t[r]),"]");return"".concat(n,"[").concat(encodeURIComponent(e),"]")}return encodeURIComponent(e)}function a(e){return encodeURIComponent(e)}return Object.keys(e).forEach(function(o){var s;if(Array.isArray(e[o])){s=[];for(var l=0;l<e[o].length;l+=1)Array.isArray(e[o][l])||"object"!==x(e[o][l])?s.push("".concat(i(o),"[]=").concat(a(e[o][l]))):((n=t.slice()).push(o),n.push(String(l)),s.push(M.serializeObject(e[o][l],n)));0<s.length&&r.push(s.join("&"))}else null===e[o]||""===e[o]?r.push("".concat(i(o),"=")):"object"===x(e[o])?((n=t.slice()).push(o),""!==(s=M.serializeObject(e[o],n))&&r.push(s)):void 0!==e[o]&&""!==e[o]?r.push("".concat(i(o),"=").concat(a(e[o]))):""===e[o]&&r.push(i(o))}),r.join("&")},isObject:function(e){return"object"===x(e)&&null!==e&&e.constructor&&e.constructor===Object},merge:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];t.splice(0,1);for(var i=t,a=0;a<i.length;a+=1){var o=t[a];if(null!=o)for(var s=Object.keys(Object(o)),l=0,c=s.length;l<c;l+=1){var u=s[l],h=Object.getOwnPropertyDescriptor(o,u);void 0!==h&&h.enumerable&&(r[u]=o[u])}}return r},extend:function(){for(var e,t,n=!0,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];"boolean"==typeof i[0]?(n=i[0],e=i[1],i.splice(0,2)):(e=i[0],i.splice(0,1)),t=i;for(var o=0;o<t.length;o+=1){var s=i[o];if(null!=s)for(var l=Object.keys(Object(s)),c=0,u=l.length;c<u;c+=1){var h=l[c],d=Object.getOwnPropertyDescriptor(s,h);void 0!==d&&d.enumerable&&(n?M.isObject(e[h])&&M.isObject(s[h])?M.extend(e[h],s[h]):!M.isObject(e[h])&&M.isObject(s[h])?(e[h]={},M.extend(e[h],s[h])):e[h]=s[h]:e[h]=s[h])}}return e},colorHexToRgb:function(e){var t=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,t,n,r){return t+t+n+n+r+r}),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return n?n.slice(1).map(function(e){return parseInt(e,16)}):null},colorRgbToHex:function(e,t,n){var r=[e,t,n].map(function(e){var t=e.toString(16);return 1===t.length?"0".concat(t):t}).join("");return"#".concat(r)},colorRgbToHsl:function(e,t,n){e/=255,t/=255,n/=255;var r,i=Math.max(e,t,n),a=Math.min(e,t,n),o=i-a;0===o?r=0:i===e?r=(t-n)/o%6:i===t?r=(n-e)/o+2:i===n&&(r=(e-t)/o+4);var s=(a+i)/2;return[60*r,0===o?0:o/(1-Math.abs(2*s-1)),s]},colorHslToRgb:function(e,t,n){var r,i=(1-Math.abs(2*n-1))*t,a=e/60,o=i*(1-Math.abs(a%2-1));Number.isNaN(e)||void 0===e?r=[0,0,0]:a<=1?r=[i,o,0]:a<=2?r=[o,i,0]:a<=3?r=[0,i,o]:a<=4?r=[0,o,i]:a<=5?r=[o,0,i]:a<=6&&(r=[i,0,o]);var s=n-i/2;return r.map(function(e){return Math.max(0,Math.min(255,Math.round(255*(e+s))))})},colorThemeCSSProperties:function(){for(var e,t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];if(1===r.length?(e=r[0],t=M.colorHexToRgb(e)):3===r.length&&(t=r,e=M.colorRgbToHex.apply(M,k(t))),!t)return{};var a=M.colorRgbToHsl.apply(M,k(t)),o=[a[0],a[1],Math.max(0,a[2]-.08)],s=[a[0],a[1],Math.max(0,a[2]+.08)],l=M.colorRgbToHex.apply(M,k(M.colorHslToRgb.apply(M,o))),c=M.colorRgbToHex.apply(M,k(M.colorHslToRgb.apply(M,s)));return{"--f7-theme-color":e,"--f7-theme-color-rgb":t.join(", "),"--f7-theme-color-shade":l,"--f7-theme-color-tint":c}}},R=M,L=function(){var e=i.navigator.platform,t=i.navigator.userAgent,n={ios:!1,android:!1,androidChrome:!1,desktop:!1,windowsPhone:!1,iphone:!1,iphoneX:!1,ipod:!1,ipad:!1,edge:!1,ie:!1,firefox:!1,macos:!1,windows:!1,cordova:!(!i.cordova&&!i.phonegap),phonegap:!(!i.cordova&&!i.phonegap)},a=i.screen.width,o=i.screen.height,s=t.match(/(Windows Phone);?[\s\/]+([\d.]+)?/),l=t.match(/(Android);?[\s\/]+([\d.]+)?/),c=t.match(/(iPad).*OS\s([\d_]+)/),u=t.match(/(iPod)(.*OS\s([\d_]+))?/),h=!c&&t.match(/(iPhone\sOS|iOS)\s([\d_]+)/),d=h&&(375===a&&812===o||414===a&&896===o),p=0<=t.indexOf("MSIE ")||0<=t.indexOf("Trident/"),f=0<=t.indexOf("Edge/"),m=0<=t.indexOf("Gecko/")&&0<=t.indexOf("Firefox/"),v="MacIntel"===e,g="Win32"===e;if(n.ie=p,n.edge=f,n.firefox=m,s&&(n.os="windows",n.osVersion=s[2],n.windowsPhone=!0),l&&!g&&(n.os="android",n.osVersion=l[2],n.android=!0,n.androidChrome=0<=t.toLowerCase().indexOf("chrome")),(c||h||u)&&(n.os="ios",n.ios=!0),h&&!u&&(n.osVersion=h[2].replace(/_/g,"."),n.iphone=!0,n.iphoneX=d),c&&(n.osVersion=c[2].replace(/_/g,"."),n.ipad=!0),u&&(n.osVersion=u[3]?u[3].replace(/_/g,"."):null,n.iphone=!0),n.ios&&n.osVersion&&0<=t.indexOf("Version/")&&"10"===n.osVersion.split(".")[0]&&(n.osVersion=t.toLowerCase().split("version/")[1].split(" ")[0]),n.webView=!(!(h||c||u)||!t.match(/.*AppleWebKit(?!.*Safari)/i)&&!i.navigator.standalone)||i.matchMedia&&i.matchMedia("(display-mode: standalone)").matches,n.webview=n.webView,n.standalone=n.webView,n.desktop=!(n.os||n.android||n.webView),n.desktop&&(n.macos=v,n.windows=g),n.os&&"ios"===n.os){var y=n.osVersion.split("."),b=r.querySelector('meta[name="viewport"]');n.minimalUi=!n.webView&&(u||h)&&(1*y[0]==7?1<=1*y[1]:7<1*y[0])&&b&&0<=b.getAttribute("content").indexOf("minimal-ui")}var w=r.querySelector('meta[name="apple-mobile-web-app-status-bar-style"]');return n.needsStatusbarOverlay=function(){return!!(n.standalone&&n.ios&&w&&"black-translucent"===w.content)||!(!(n.webView||n.android&&n.cordova)||i.innerWidth*i.innerHeight!=i.screen.width*i.screen.height)&&(!n.iphoneX||90!==i.orientation&&-90!==i.orientation)},n.statusbar=n.needsStatusbarOverlay(),n.pixelRatio=i.devicePixelRatio||1,n}();function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var B=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.eventsParents=t,this.eventsListeners={}}var t,n;return t=e,(n=[{key:"on",value:function(e,t,n){var r=this;if("function"!=typeof t)return r;var i=n?"unshift":"push";return e.split(" ").forEach(function(e){r.eventsListeners[e]||(r.eventsListeners[e]=[]),r.eventsListeners[e][i](t)}),r}},{key:"once",value:function(e,t,n){var r=this;if("function"!=typeof t)return r;function i(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];t.apply(r,a),r.off(e,i),i.f7proxy&&delete i.f7proxy}return i.f7proxy=t,r.on(e,i,n)}},{key:"off",value:function(e,t){var n=this;return n.eventsListeners&&e.split(" ").forEach(function(e){void 0===t?n.eventsListeners[e]=[]:n.eventsListeners[e]&&n.eventsListeners[e].forEach(function(r,i){(r===t||r.f7proxy&&r.f7proxy===t)&&n.eventsListeners[e].splice(i,1)})}),n}},{key:"emit",value:function(){var e,t,n,r,i=this;if(!i.eventsListeners)return i;for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];r="string"==typeof o[0]||Array.isArray(o[0])?(e=o[0],t=o.slice(1,o.length),(n=i).eventsParents):(e=o[0].events,t=o[0].data,n=o[0].context||i,o[0].local?[]:o[0].parents||i.eventsParents);var l=Array.isArray(e)?e:e.split(" "),c=l.map(function(e){return e.replace("local::","")}),u=l.filter(function(e){return e.indexOf("local::")<0});return c.forEach(function(e){if(i.eventsListeners&&i.eventsListeners[e]){var r=[];i.eventsListeners[e].forEach(function(e){r.push(e)}),r.forEach(function(e){e.apply(n,t)})}}),r&&0<r.length&&r.forEach(function(e){e.emit.apply(e,[u].concat(function(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(t)))}),i}}])&&F(t.prototype,n),e}();function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U(e,t){return(U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var H=function(e){function t(){var e,n,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);var a=q(e=!(n=V(t).call(this,i))||"object"!==j(n)&&"function"!=typeof n?q(this):n);return a.params=r,a.params&&a.params.on&&Object.keys(a.params.on).forEach(function(e){a.on(e,a.params.on[e])}),e}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}(t,B),n=t,i=[{key:"installModule",value:function(e){var t=this;t.prototype.modules||(t.prototype.modules={});var n=e.name||"".concat(Object.keys(t.prototype.modules).length,"_").concat(R.now());if((t.prototype.modules[n]=e).proto&&Object.keys(e.proto).forEach(function(n){t.prototype[n]=e.proto[n]}),e.static&&Object.keys(e.static).forEach(function(n){t[n]=e.static[n]}),e.install){for(var r=arguments.length,i=new Array(1<r?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];e.install.apply(t,i)}return t}},{key:"use",value:function(e){var t=this;if(Array.isArray(e))return e.forEach(function(e){return t.installModule(e)}),t;for(var n=arguments.length,r=new Array(1<n?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t.installModule.apply(t,[e].concat(r))}},{key:"components",set:function(e){this.use&&this.use(e)}}],(r=[{key:"useModuleParams",value:function(e,t){if(e.params){var n={};Object.keys(e.params).forEach(function(e){void 0!==t[e]&&(n[e]=R.extend({},t[e]))}),R.extend(t,e.params),Object.keys(n).forEach(function(e){R.extend(t[e],n[e])})}}},{key:"useModulesParams",value:function(e){var t=this;t.modules&&Object.keys(t.modules).forEach(function(n){var r=t.modules[n];r.params&&R.extend(e,r.params)})}},{key:"useModule",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=this;if(n.modules){var r="string"==typeof e?n.modules[e]:e;r&&(r.instance&&Object.keys(r.instance).forEach(function(e){var t=r.instance[e];n[e]="function"==typeof t?t.bind(n):t}),r.on&&n.on&&Object.keys(r.on).forEach(function(e){n.on(e,r.on[e])}),r.vnode&&(n.vnodeHooks||(n.vnodeHooks={}),Object.keys(r.vnode).forEach(function(e){Object.keys(r.vnode[e]).forEach(function(t){var i=r.vnode[e][t];n.vnodeHooks[t]||(n.vnodeHooks[t]={}),n.vnodeHooks[t][e]||(n.vnodeHooks[t][e]=[]),n.vnodeHooks[t][e].push(i.bind(n))})})),r.create&&r.create.bind(n)(t))}}},{key:"useModules",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=this;t.modules&&Object.keys(t.modules).forEach(function(n){var r=e[n]||{};t.useModule(n,r)})}}])&&$(n.prototype,r),i&&$(n,i),t}();function z(e,t,n){return(z=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&function(e,t){(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(i,n.prototype),i}).apply(null,arguments)}var W=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultSelector,n=e.constructor,r=e.domProp,i=e.app,a=e.addMethods,o={create:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return z(n,i?[i].concat(t):t)},get:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:t;if(e instanceof n)return e;var i=f(e);return 0!==i.length?i[0][r]:void 0},destroy:function(e){var t=o.get(e);if(t&&t.destroy)return t.destroy()}};return a&&Array.isArray(a)&&a.forEach(function(e){o[e]=function(){for(var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:t,r=o.get(n),i=arguments.length,a=new Array(1<i?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];if(r&&r[e])return r[e].apply(r,a)}}),o},K=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultSelector,n=e.constructor,r=e.app;return R.extend(W({defaultSelector:t,constructor:n,app:r,domProp:"f7Modal"}),{open:function(e,t){var i=f(e),a=i[0].f7Modal;return a||(a=new n(r,{el:i})),a.open(t)},close:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:t,i=1<arguments.length?arguments[1]:void 0,a=f(e);if(0!==a.length){var o=a[0].f7Modal;return o||(o=new n(r,{el:a})),o.close(i)}}})},G=[];function Q(e){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function X(e,t){return!t||"object"!==Q(t)&&"function"!=typeof t?Z(e):t}function J(e){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ee(e,t){return(ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var te=function(e){function t(e){var n;if(function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),n=X(this,J(t).call(this,e)),t.instance)throw new Error("Framework7 is already initialized and can't be initialized more than once");var a=R.extend({},e),o=Z(n);t.instance=o;var s={version:"1.0.0",id:"io.framework7.testapp",root:"body",theme:"auto",language:i.navigator.language,routes:[],name:"Framework7",lazyModulesPath:null,initOnDeviceReady:!0,init:!0};o.useModulesParams(s),o.params=R.extend(s,e);var l=f(o.params.root);return R.extend(o,{id:o.params.id,name:o.params.name,version:o.params.version,routes:o.params.routes,language:o.params.language,root:l,rtl:"rtl"===l.css("direction"),theme:"auto"===o.params.theme?L.ios?"ios":"md":o.params.theme,passedParams:a}),o.root&&o.root[0]&&(o.root[0].f7=o),o.useModules(),o.initData(),o.params.init&&(L.cordova&&o.params.initOnDeviceReady?f(r).on("deviceready",function(){o.init()}):o.init()),X(n,o)}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ee(e,t)}(t,H),n=t,o=[{key:"Dom7",get:function(){return f}},{key:"$",get:function(){return f}},{key:"Template7",get:function(){return m.a}},{key:"Class",get:function(){return H}},{key:"Events",get:function(){return B}}],(a=[{key:"initData",value:function(){var e=this;e.data={},e.params.data&&"function"==typeof e.params.data?R.extend(e.data,e.params.data.bind(e)()):e.params.data&&R.extend(e.data,e.params.data),e.methods={},e.params.methods&&Object.keys(e.params.methods).forEach(function(t){"function"==typeof e.params.methods[t]?e.methods[t]=e.params.methods[t].bind(e):e.methods[t]=e.params.methods[t]})}},{key:"init",value:function(){var e=this;return e.initialized||(e.root.addClass("framework7-initializing"),e.rtl&&f("html").attr("dir","rtl"),e.root.addClass("framework7-root"),f("html").removeClass("ios md").addClass(e.theme),R.nextFrame(function(){e.root.removeClass("framework7-initializing")}),e.initialized=!0,e.emit("init")),e}},{key:"loadModule",value:function(){return t.loadModule.apply(t,arguments)}},{key:"loadModules",value:function(){return t.loadModules.apply(t,arguments)}},{key:"getVnodeHooks",value:function(e,t){return this.vnodeHooks&&this.vnodeHooks[e]&&this.vnodeHooks[e][t]||[]}},{key:"$",get:function(){return f}},{key:"t7",get:function(){return m.a}}])&&Y(n.prototype,a),o&&Y(n,o),t}();te.ModalMethods=K,te.ConstructorMethods=W,te.loadModule=function(e){var t=this;return new Promise(function(n,r){var i,a,o,s=t.instance;if(e){if("string"==typeof e){var l=e.match(/([a-z0-9-]*)/i);if(e.indexOf(".")<0&&l&&l[0].length===e.length){if(!s||s&&!s.params.lazyModulesPath)return void r(new Error('Framework7: "lazyModulesPath" app parameter must be specified to fetch module by name'));i="".concat(s.params.lazyModulesPath,"/").concat(e,".js")}else i=e}else"function"==typeof e?o=e:a=e;if(o){var c=o(t,!1);if(!c)return void r(new Error("Framework7: Can't find Framework7 component in specified component function"));if(t.prototype.modules&&t.prototype.modules[c.name])return void n();p(c),n()}if(a){var u=a;if(!u)return void r(new Error("Framework7: Can't find Framework7 component in specified component"));if(t.prototype.modules&&t.prototype.modules[u.name])return void n();p(u),n()}if(i){if(0<=G.indexOf(i))return void n();G.push(i);var h=new Promise(function(e,n){t.request.get(i,function(r){var a=R.id(),o="f7_component_loader_callback_".concat(a),s=document.createElement("script");s.innerHTML="window.".concat(o," = function (Framework7, Framework7AutoInstallComponent) {return ").concat(r.trim(),"}"),f("head").append(s);var l=window[o];delete window[o],f(s).remove();var c=l(t,!1);c?(t.prototype.modules&&t.prototype.modules[c.name]||p(c),e()):n(new Error("Framework7: Can't find Framework7 component in ".concat(i," file")))},function(e,t){n(e,t)})}),d=new Promise(function(e){t.request.get(i.replace(".js",s.rtl?".rtl.css":".css"),function(t){var n=document.createElement("style");n.innerHTML=t,f("head").append(n),e()},function(){e()})});Promise.all([h,d]).then(function(){n()}).catch(function(e){r(e)})}}else r(new Error("Framework7: Lazy module must be specified"));function p(e){t.use(e),s&&(s.useModuleParams(e,s.params),s.useModule(e))}})},te.loadModules=function(e){return Promise.all(e.map(function(e){return te.loadModule(e)}))};var ne=te,re={},ie=0;function ae(e){var t=R.extend({},re);"beforeCreate beforeOpen beforeSend error complete success statusCode".split(" ").forEach(function(e){delete t[e]});var n=R.extend({url:i.location.toString(),method:"GET",data:!1,async:!0,cache:!0,user:"",password:"",headers:{},xhrFields:{},statusCode:{},processData:!0,dataType:"text",contentType:"application/x-www-form-urlencoded",timeout:0},t),a=R.extend({},n,e);function o(e){for(var t,n,r=arguments.length,i=new Array(1<r?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return re[e]&&(t=re[e].apply(re,i)),a[e]&&(n=a[e].apply(a,i)),"boolean"!=typeof t&&(t=!0),"boolean"!=typeof n&&(n=!0),t&&n}if(!1!==o("beforeCreate",a)){a.type&&(a.method=a.type);var s,l=0<=a.url.indexOf("?")?"&":"?",c=a.method.toUpperCase();if("GET"!==c&&"HEAD"!==c&&"OPTIONS"!==c&&"DELETE"!==c||!a.data||(s="string"==typeof a.data?0<=a.data.indexOf("?")?a.data.split("?")[1]:a.data:R.serializeObject(a.data)).length&&(a.url+=l+s,"?"===l&&(l="&")),"json"===a.dataType&&0<=a.url.indexOf("callback=")){var u,h="f7jsonp_".concat(Date.now()+(ie+=1)),d=a.url.split("callback="),p="".concat(d[0],"callback=").concat(h);if(0<=d[1].indexOf("&")){var f=d[1].split("&").filter(function(e){return 0<e.indexOf("=")}).join("&");0<f.length&&(p+="&".concat(f))}var m=r.createElement("script");return m.type="text/javascript",m.onerror=function(){clearTimeout(u),o("error",null,"scripterror"),o("complete",null,"scripterror")},m.src=p,i[h]=function(e){clearTimeout(u),o("success",e),m.parentNode.removeChild(m),m=null,delete i[h]},r.querySelector("head").appendChild(m),void(0<a.timeout&&(u=setTimeout(function(){m.parentNode.removeChild(m),o("error",m=null,"timeout")},a.timeout)))}"GET"!==c&&"HEAD"!==c&&"OPTIONS"!==c&&"DELETE"!==c||!1===a.cache&&(a.url+="".concat(l,"_nocache").concat(Date.now()));var v=new XMLHttpRequest;if(v.requestUrl=a.url,v.requestParameters=a,!1===o("beforeOpen",v,a))return v;v.open(c,a.url,a.async,a.user,a.password);var g,y=null;if(("POST"===c||"PUT"===c||"PATCH"===c)&&a.data)if(a.processData)if(0<=[ArrayBuffer,Blob,Document,FormData].indexOf(a.data.constructor))y=a.data;else{var b="---------------------------".concat(Date.now().toString(16));"multipart/form-data"===a.contentType?v.setRequestHeader("Content-Type","multipart/form-data; boundary=".concat(b)):v.setRequestHeader("Content-Type",a.contentType),y="";var w=R.serializeObject(a.data);if("multipart/form-data"===a.contentType){w=w.split("&");for(var E=[],C=0;C<w.length;C+=1)E.push('Content-Disposition: form-data; name="'.concat(w[C].split("=")[0],'"\r\n\r\n').concat(w[C].split("=")[1],"\r\n"));y="--".concat(b,"\r\n").concat(E.join("--".concat(b,"\r\n")),"--").concat(b,"--\r\n")}else y="application/json"===a.contentType?JSON.stringify(a.data):w}else y=a.data,v.setRequestHeader("Content-Type",a.contentType);return a.headers&&Object.keys(a.headers).forEach(function(e){v.setRequestHeader(e,a.headers[e])}),void 0===a.crossDomain&&(a.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(a.url)&&RegExp.$2!==i.location.host),a.crossDomain||v.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.xhrFields&&R.extend(v,a.xhrFields),v.onload=function(){var e;if(g&&clearTimeout(g),200<=v.status&&v.status<300||0===v.status)if("json"===a.dataType){var t;try{e=JSON.parse(v.responseText)}catch(e){t=!0}t?o("error",v,"parseerror"):o("success",e,v.status,v)}else o("success",e="text"===v.responseType||""===v.responseType?v.responseText:v.response,v.status,v);else o("error",v,v.status);a.statusCode&&(re.statusCode&&re.statusCode[v.status]&&re.statusCode[v.status](v),a.statusCode[v.status]&&a.statusCode[v.status](v)),o("complete",v,v.status)},v.onerror=function(){g&&clearTimeout(g),o("error",v,v.status),o("complete",v,"error")},0<a.timeout&&(v.onabort=function(){g&&clearTimeout(g)},g=setTimeout(function(){v.abort(),o("error",v,"timeout"),o("complete",v,"timeout")},a.timeout)),!1===o("beforeSend",v,a)?v:(v.send(y),v)}}function oe(e){for(var t=[],n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=arguments.length,l=new Array(1<s?s-1:0),c=1;c<s;c++)l[c-1]=arguments[c];o="function"==typeof l[1]?(n=l[0],i=l[1],a=l[2],l[3]):(n=l[0],r=l[1],i=l[2],a=l[3],l[4]),[i,a].forEach(function(e){"string"==typeof e&&((o=e)===i?i=void 0:a=void 0)});var u={url:n,method:"post"===e||"postJSON"===e?"POST":"GET",data:r,success:i,error:a,dataType:o=o||("json"===e||"postJSON"===e?"json":void 0)};return"postJSON"===e&&R.extend(u,{contentType:"application/json",processData:!1,crossDomain:!0,data:"string"==typeof r?r:JSON.stringify(r)}),ae(u)}function se(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n[0],a=n[1],o=n[2];return new Promise(function(t,n){oe(e,i,a,function(e){t(e)},function(e,t){n(t)},o)})}Object.assign(ae,{get:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return oe.apply(void 0,["get"].concat(t))},post:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return oe.apply(void 0,["post"].concat(t))},json:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return oe.apply(void 0,["json"].concat(t))},getJSON:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return oe.apply(void 0,["json"].concat(t))},postJSON:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return oe.apply(void 0,["postJSON"].concat(t))}}),ae.promise=function(e){return new Promise(function(t,n){ae(Object.assign(e,{success:function(e){t(e)},error:function(e,t){n(t)}}))})},Object.assign(ae.promise,{get:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return se.apply(void 0,["get"].concat(t))},post:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return se.apply(void 0,["post"].concat(t))},json:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return se.apply(void 0,["json"].concat(t))},getJSON:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return se.apply(void 0,["json"].concat(t))},postJSON:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return se.apply(void 0,["postJSON"].concat(t))}}),ae.setup=function(e){e.type&&!e.method&&R.extend(e,{method:e.type}),R.extend(re,e)};var le,ce,ue,he=ae,de=(ue=r.createElement("div"),{touch:!!(0<i.navigator.maxTouchPoints||"ontouchstart"in i||i.DocumentTouch&&r instanceof i.DocumentTouch),pointerEvents:!!(i.navigator.pointerEnabled||i.PointerEvent||"maxTouchPoints"in i.navigator&&0<i.navigator.maxTouchPoints),prefixedPointerEvents:!!i.navigator.msPointerEnabled,transition:(ce=ue.style,"transition"in ce||"webkitTransition"in ce||"MozTransition"in ce),transforms3d:i.Modernizr&&!0===i.Modernizr.csstransforms3d||(le=ue.style,"webkitPerspective"in le||"MozPerspective"in le||"OPerspective"in le||"MsPerspective"in le||"perspective"in le),flexbox:function(){for(var e=r.createElement("div").style,t="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" "),n=0;n<t.length;n+=1)if(t[n]in e)return!0;return!1}(),observer:"MutationObserver"in i||"WebkitMutationObserver"in i,passiveListener:function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});i.addEventListener("testPassiveListener",null,t)}catch(e){}return e}(),gestures:"ongesturestart"in i,intersectionObserver:"IntersectionObserver"in i}),pe={name:"device",proto:{device:L},static:{device:L},on:{init:function(){var e=[],t=r.querySelector("html"),n=r.querySelector('meta[name="apple-mobile-web-app-status-bar-style"]');if(t){if(L.standalone&&L.ios&&n&&"black-translucent"===n.content&&e.push("device-full-viewport"),e.push("device-pixel-ratio-".concat(Math.floor(L.pixelRatio))),2<=L.pixelRatio&&e.push("device-retina"),L.os){if(e.push("device-".concat(L.os),"device-".concat(L.os,"-").concat(L.osVersion.split(".")[0]),"device-".concat(L.os,"-").concat(L.osVersion.replace(/\./g,"-"))),"ios"===L.os){for(var i=parseInt(L.osVersion.split(".")[0],10)-1;6<=i;i-=1)e.push("device-ios-gt-".concat(i));L.iphoneX&&e.push("device-iphone-x")}}else L.desktop&&(e.push("device-desktop"),L.macos?e.push("device-macos"):L.windows&&e.push("device-windows"));(L.cordova||L.phonegap)&&e.push("device-cordova"),e.forEach(function(e){t.classList.add(e)})}}}},fe={name:"support",proto:{support:de},static:{support:de},on:{init:function(){var e=r.querySelector("html");e&&[].forEach(function(t){e.classList.add(t)})}}},me={name:"utils",proto:{utils:R},static:{utils:R}},ve={name:"resize",instance:{getSize:function(){if(!this.root[0])return{width:0,height:0,left:0,top:0};var e=this.root.offset(),t=[this.root[0].offsetWidth,this.root[0].offsetHeight,e.left,e.top],n=t[0],r=t[1],i=t[2],a=t[3];return{width:this.width=n,height:this.height=r,left:this.left=i,top:this.top=a}}},on:{init:function(){var e=this;e.getSize(),i.addEventListener("resize",function(){e.emit("resize")},!1),i.addEventListener("orientationchange",function(){e.emit("orientationchange")})},orientationchange:function(){this.device&&this.device.minimalUi&&(90!==i.orientation&&-90!==i.orientation||(r.body.scrollTop=0)),this.device.ipad&&(r.body.scrollLeft=0,setTimeout(function(){r.body.scrollLeft=0},0))},resize:function(){this.getSize()}}},ge={name:"request",proto:{request:he},static:{request:he}},ye={name:"touch",params:{touch:{fastClicks:!1,fastClicksDistanceThreshold:10,fastClicksDelayBetweenClicks:50,fastClicksExclude:"",disableContextMenu:!1,tapHold:!1,tapHoldDelay:750,tapHoldPreventClicks:!0,activeState:!0,activeStateElements:"a, button, label, span, .actions-button, .stepper-button, .stepper-button-plus, .stepper-button-minus, .card-expandable, .menu-item",mdTouchRipple:!0,iosTouchRipple:!1,touchRippleElements:".ripple, .link, .item-link, .list-button, .links-list a, .button, button, .input-clear-button, .dialog-button, .tab-link, .item-radio, .item-checkbox, .actions-button, .searchbar-disable-button, .fab a, .checkbox, .radio, .data-table .sortable-cell:not(.input-cell), .notification-close-button, .stepper-button, .stepper-button-minus, .stepper-button-plus, .menu-item-content"}},instance:{touchEvents:{start:de.touch?"touchstart":"mousedown",move:de.touch?"touchmove":"mousemove",end:de.touch?"touchend":"mouseup"}},on:{init:function(){var e,t,n,a,o,s,l,c,u,h,d,p,m,v,g,y,b,w,E,C=this,S=C.params.touch,_=S["".concat(C.theme,"TouchRipple")];function T(e){var t,n=f(e),r=n.parents(S.activeStateElements);return n.is(S.activeStateElements)&&(t=n),0<r.length&&(t=t?t.add(r):r),t||n}function k(e){return 0<e.parents(".page-content").length}function x(){m&&m.addClass("active-state")}function I(){m&&(m.removeClass("active-state"),m=null)}function O(e,t,n){e&&(b=C.touchRipple.create(e,t,n))}function P(){b&&(b.remove(),w=b=void 0)}function A(n){var r;(w=function(e){var t=S.touchRippleElements,n=f(e);if(n.is(t))return!n.hasClass("no-ripple")&&n;if(0<n.parents(t).length){var r=n.parents(t).eq(0);return!r.hasClass("no-ripple")&&r}return!1}(n))&&0!==w.length?(S.fastClicks?0!==(r=w.parents(".page-content")).length&&("yes"!==r.prop("scrollHandlerSet")&&(r.on("scroll",function(){clearTimeout(v),clearTimeout(E)}),r.prop("scrollHandlerSet","yes")),1):k(w))?E=setTimeout(function(){O(w,e,t)},80):O(w,e,t):w=void 0}function D(){clearTimeout(E),P()}function N(){b?P():w&&!u?(clearTimeout(E),O(w,e,t),setTimeout(P,0)):P()}function M(e,t){C.emit({events:e,data:[t]})}function R(e){M("touchstart touchstart:active",e)}function F(e){M("touchmove touchmove:active",e)}function B(e){M("touchend touchend:active",e)}function j(e){M("touchstart:passive",e)}function $(e){M("touchmove:passive",e)}function V(e){M("touchend:passive",e)}L.ios&&L.webView&&i.addEventListener("touchstart",function(){});var q=!!de.passiveListener&&{passive:!0},U=!!de.passiveListener&&{passive:!1};r.addEventListener("click",function(e){M("click",e)},!0),de.passiveListener?(r.addEventListener(C.touchEvents.start,R,U),r.addEventListener(C.touchEvents.move,F,U),r.addEventListener(C.touchEvents.end,B,U),r.addEventListener(C.touchEvents.start,j,q),r.addEventListener(C.touchEvents.move,$,q),r.addEventListener(C.touchEvents.end,V,q)):(r.addEventListener(C.touchEvents.start,function(e){R(e),j(e)},!1),r.addEventListener(C.touchEvents.move,function(e){F(e),$(e)},!1),r.addEventListener(C.touchEvents.end,function(e){B(e),V(e)},!1)),de.touch?(S.fastClicks?(C.on("click",function(e){var t,n,i,s,l=!1;return o?(a=null,!(o=!1)):"submit"===e.target.type&&0===e.detail||"file"===e.target.type||(a||(t=e.target,n="input select textarea label".split(" "),t.nodeName&&0<=n.indexOf(t.nodeName.toLowerCase())||(l=!0)),g||(l=!0),r.activeElement===a&&(l=!0),e.forwardedTouchEvent&&(l=!0),e.cancelable||(l=!0),S.tapHold&&S.tapHoldPreventClicks&&h&&(l=!1),l||(e.stopImmediatePropagation(),e.stopPropagation(),a?(s=!0,((i=f(a)).is("label")||0<i.parents("label").length)&&(s=!L.android&&!(!L.ios||!i.is("input"))),(s||u)&&e.preventDefault()):e.preventDefault(),a=null),y=setTimeout(function(){g=!1},L.ios||L.androidChrome?100:400),S.tapHold&&(d=setTimeout(function(){h=!1},L.ios||L.androidChrome?100:400)),l)}),C.on("touchstart",function(p){var b,w,E,C,k=this;if(h=u=!1,1<p.targetTouches.length)return m&&I(),!0;if(1<p.touches.length&&m&&I(),S.tapHold&&(d&&clearTimeout(d),d=setTimeout(function(){p&&p.touches&&1<p.touches.length||(h=!0,p.preventDefault(),f(p.target).trigger("taphold"))},S.tapHoldDelay)),y&&clearTimeout(y),b=p.target,w=f(b),!(g=!("input"===b.nodeName.toLowerCase()&&("file"===b.type||"range"===b.type)||"select"===b.nodeName.toLowerCase()&&L.android||w.hasClass("no-fastclick")||0<w.parents(".no-fastclick").length||S.fastClicksExclude&&0<w.closest(S.fastClicksExclude).length)))return!(o=!1);if(L.ios||L.android&&"getSelection"in i){var O=i.getSelection();if(O.rangeCount&&O.focusNode!==r.body&&(!O.isCollapsed||r.activeElement===O.focusNode))return s=!0;s=!1}return L.android&&(E=p.target,C="button input textarea select".split(" "),!r.activeElement||E===r.activeElement||r.activeElement===r.body||0<=C.indexOf(E.nodeName.toLowerCase())||r.activeElement.blur()),o=!0,a=p.target,n=(new Date).getTime(),e=p.targetTouches[0].pageX,t=p.targetTouches[0].pageY,L.ios&&(l=void 0,f(a).parents().each(function(){var e=k;e.scrollHeight>e.offsetHeight&&!l&&((l=e).f7ScrollTop=l.scrollTop)})),n-c<S.fastClicksDelayBetweenClicks&&p.preventDefault(),S.activeState&&(m=T(a),v=setTimeout(x,0)),_&&A(a),!0}),C.on("touchmove",function(n){if(o){var r=S.fastClicksDistanceThreshold;if(r){var i=n.targetTouches[0].pageX,s=n.targetTouches[0].pageY;(Math.abs(i-e)>r||Math.abs(s-t)>r)&&(u=!0)}else u=!0;u&&(o=!1,u=!(a=null),S.tapHold&&clearTimeout(d),S.activeState&&(clearTimeout(v),I()),_&&D())}}),C.on("touchend",function(e){clearTimeout(v),clearTimeout(d);var t,n,u,p,f=(new Date).getTime();if(!o)return!s&&g&&(L.android&&!e.cancelable||!e.cancelable||e.preventDefault()),S.activeState&&I(),_&&N(),!0;if(r.activeElement===e.target)return S.activeState&&I(),_&&N(),!0;if(s||e.preventDefault(),f-c<S.fastClicksDelayBetweenClicks)return setTimeout(I,0),_&&N(),!0;if(c=f,o=!1,L.ios&&l&&l.scrollTop!==l.f7ScrollTop)return!1;if(S.activeState&&(x(),setTimeout(I,0)),_&&N(),function(e){if(r.activeElement===e)return!1;var t=e.nodeName.toLowerCase(),n="button checkbox file image radio submit".split(" ");return!e.disabled&&!e.readOnly&&("textarea"===t||("select"===t?!L.android:"input"===t&&n.indexOf(e.type)<0))}(a)){if(L.ios&&L.webView)return a.focus(),!1;a.focus()}return r.activeElement&&a!==r.activeElement&&r.activeElement!==r.body&&"label"!==a.nodeName.toLowerCase()&&r.activeElement.blur(),e.preventDefault(),S.tapHoldPreventClicks&&h||(n=(t=e).changedTouches[0],u=r.createEvent("MouseEvents"),p="click",L.android&&"select"===a.nodeName.toLowerCase()&&(p="mousedown"),u.initMouseEvent(p,!0,!0,i,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),u.forwardedTouchEvent=!0,C.device.ios&&i.navigator.standalone?setTimeout(function(){(a=r.elementFromPoint(t.changedTouches[0].clientX,t.changedTouches[0].clientY)).dispatchEvent(u)},10):a.dispatchEvent(u)),!1})):(C.on("click",function(e){var t=p;return a&&e.target!==a&&(t=!0),S.tapHold&&S.tapHoldPreventClicks&&h&&(t=!0),t&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault()),S.tapHold&&(d=setTimeout(function(){h=!1},L.ios||L.androidChrome?100:400)),p=!1,a=null,!t}),C.on("touchstart",function(n){return p=h=u=!1,1<n.targetTouches.length?m&&I():(1<n.touches.length&&m&&I(),S.tapHold&&(d&&clearTimeout(d),d=setTimeout(function(){n&&n.touches&&1<n.touches.length||(h=!0,n.preventDefault(),p=!0,f(n.target).trigger("taphold"))},S.tapHoldDelay)),a=n.target,e=n.targetTouches[0].pageX,t=n.targetTouches[0].pageY,S.activeState&&(k(m=T(a))?v=setTimeout(x,80):x()),_&&A(a)),!0}),C.on("touchmove",function(n){var r=S.fastClicks?S.fastClicksDistanceThreshold:0;if(r){var i=n.targetTouches[0].pageX,a=n.targetTouches[0].pageY;(Math.abs(i-e)>r||Math.abs(a-t)>r)&&(u=!0)}else u=!0;u&&(p=!0,S.tapHold&&clearTimeout(d),S.activeState&&(clearTimeout(v),I()),_&&D())}),C.on("touchend",function(e){return clearTimeout(v),clearTimeout(d),r.activeElement===e.target?(S.activeState&&I(),_&&N(),!0):(S.activeState&&(x(),setTimeout(I,0)),_&&N(),!((S.tapHoldPreventClicks&&h||p)&&(e.cancelable&&e.preventDefault(),p=!0)))})),r.addEventListener("touchcancel",function(){o=!1,a=null,clearTimeout(v),clearTimeout(d),S.activeState&&I(),_&&N()},{passive:!0})):S.activeState&&(C.on("touchstart",function(n){T(n.target).addClass("active-state"),"which"in n&&3===n.which&&setTimeout(function(){f(".active-state").removeClass("active-state")},0),_&&(e=n.pageX,t=n.pageY,A(n.target,n.pageX,n.pageY))}),C.on("touchmove",function(){f(".active-state").removeClass("active-state"),_&&D()}),C.on("touchend",function(){f(".active-state").removeClass("active-state"),_&&N()})),r.addEventListener("contextmenu",function(e){S.disableContextMenu&&(L.ios||L.android||L.cordova)&&e.preventDefault(),_&&(m&&I(),N())})}}},be=n(39),we=n.n(be);function Ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ce={queue:[],clearQueue:function(){0!==Ce.queue.length&&Ce.queue.shift()()},routerQueue:[],clearRouterQueue:function(){if(0!==Ce.routerQueue.length){var e=Ce.routerQueue.pop(),t=e.router,n=e.stateUrl,r=e.action,i=t.params.animate;!1===t.params.pushStateAnimate&&(i=!1),"back"===r&&t.back({animate:i,pushState:!1}),"load"===r&&t.navigate(n,{animate:i,pushState:!1})}},handle:function(e){if(!Ce.blockPopstate){var t=e.state;Ce.previousState=Ce.state,Ce.state=t,Ce.allowChange=!0,Ce.clearQueue(),(t=Ce.state)||(t={}),this.views.forEach(function(e){var n=e.router,r=t[e.id];if(!r&&e.params.pushState&&(r={url:e.router.history[0]}),r){var i=r.url||void 0,a=n.params.animate;!1===n.params.pushStateAnimate&&(a=!1),i!==n.url&&(0<=n.history.indexOf(i)?n.allowPageChange?n.back({animate:a,pushState:!1}):Ce.routerQueue.push({action:"back",router:n}):n.allowPageChange?n.navigate(i,{animate:a,pushState:!1}):Ce.routerQueue.unshift({action:"load",stateUrl:i,router:n}))}})}},initViewState:function(e,t){var n=R.extend({},Ce.state||{},Ee({},e,t));Ce.state=n,i.history.replaceState(n,"")},push:function(e,t,n){if(Ce.allowChange){Ce.previousState=Ce.state;var r=R.extend({},Ce.previousState||{},Ee({},e,t));Ce.state=r,i.history.pushState(r,"",n)}else Ce.queue.push(function(){Ce.push(e,t,n)})},replace:function(e,t,n){if(Ce.allowChange){Ce.previousState=Ce.state;var r=R.extend({},Ce.previousState||{},Ee({},e,t));Ce.state=r,i.history.replaceState(r,"",n)}else Ce.queue.push(function(){Ce.replace(e,t,n)})},go:function(e){Ce.allowChange=!1,i.history.go(e)},back:function(){Ce.allowChange=!1,i.history.back()},allowChange:!0,previousState:{},state:i.history.state,blockPopstate:!0,init:function(e){f(i).on("load",function(){setTimeout(function(){Ce.blockPopstate=!1},0)}),r.readyState&&"complete"===r.readyState&&(Ce.blockPopstate=!1),f(i).on("popstate",Ce.handle.bind(e))}},Se=Ce,_e=function(e,t,n){var r=this,i=t.route.redirect;if(n.initial&&r.params.pushState&&(n.replaceState=!0,n.history=!0),"function"!=typeof i)return r[e](i,n);r.allowPageChange=!1;var a=i.call(r,t,function(t){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};r.allowPageChange=!0,r[e](t,R.extend({},n,i))},function(){r.allowPageChange=!0});return a&&"string"==typeof a?(r.allowPageChange=!0,r[e](a,n)):r};function Te(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ke(e,t,n,r,i,a,o){var s=[];Array.isArray(n)?s.push.apply(s,Te(n)):n&&"function"==typeof n&&s.push(n),t&&(Array.isArray(t)?s.push.apply(s,Te(t)):s.push(t)),function t(){0!==s.length?s.shift().call(e,r,i,function(){t()},function(){o()}):a()}()}var xe=function(e,t,n,r){var i=this;function a(){e&&e.route&&(i.params.routesBeforeEnter||e.route.beforeEnter)?(i.allowPageChange=!1,ke(i,i.params.routesBeforeEnter,e.route.beforeEnter,e,t,function(){i.allowPageChange=!0,n()},function(){r()})):n()}t&&t.route&&(i.params.routesBeforeLeave||t.route.beforeLeave)?(i.allowPageChange=!1,ke(i,i.params.routesBeforeLeave,t.route.beforeLeave,e,t,function(){i.allowPageChange=!0,a()},function(){r()})):a()},Ie=function(e,t){if(!e.view)throw new Error("Framework7: it is not allowed to use router methods on global app router. Use router methods only on related View, e.g. app.views.main.router.".concat(t,"(...)"))};function Oe(e){return(Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pe(e){return(Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function De(e,t){return!t||"object"!==Pe(t)&&"function"!=typeof t?Me(e):t}function Ne(e){return(Ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Me(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Re(e,t){return(Re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Le=function(e){function t(e,n){var i;!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);var a=Me(i=De(this,Ne(t).call(this,{},[void 0===n?e:n])));a.isAppRouter=void 0===n,a.isAppRouter?R.extend(!1,a,{app:e,params:e.params.view,routes:e.routes||[],cache:e.cache}):R.extend(!1,a,{app:e,view:n,viewId:n.id,params:n.params,routes:n.routes,$el:n.$el,el:n.el,$navbarEl:n.$navbarEl,navbarEl:n.navbarEl,history:n.history,scrollHistory:n.scrollHistory,cache:e.cache,dynamicNavbar:"ios"===e.theme&&n.params.iosDynamicNavbar,separateNavbar:"ios"===e.theme&&n.params.iosDynamicNavbar&&n.params.iosSeparateDynamicNavbar,initialPages:[],initialNavbars:[]}),a.useModules(),a.tempDom=r.createElement("div"),a.allowPageChange=!0;var o={},s={};return Object.defineProperty(a,"currentRoute",{enumerable:!0,configurable:!0,set:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};s=R.extend({},o),(o=e)&&(a.url=o.url,a.emit("routeChange",e,s,a))},get:function(){return o}}),Object.defineProperty(a,"previousRoute",{enumerable:!0,configurable:!0,get:function(){return s},set:function(e){s=e}}),De(i,a)}var n,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Re(e,t)}(t,H),n=t,(a=[{key:"animatableNavElements",value:function(e,t,n,r,i){var a,o,s=this.dynamicNavbar,l=this.separateNavbar,c=this.params.iosAnimateNavbarBackIcon;function u(e,t){var n,r=e.hasClass("sliding")||t.hasClass("sliding"),i=e.hasClass("subnavbar"),a=!r||!i,o=e.find(".back .icon");return r&&c&&e.hasClass("left")&&0<o.length&&o.next("span").length&&(e=o.next("span"),n=!0),{$el:e,isIconLabel:n,leftOffset:e[0].f7NavbarLeftOffset,rightOffset:e[0].f7NavbarRightOffset,isSliding:r,isSubnavbar:i,needsOpacityTransition:a}}return s&&(a=[],o=[],e.children(".left, .right, .title, .subnavbar").each(function(t,o){var s=f(o);s.hasClass("left")&&r&&"forward"===i&&l||s.hasClass("title")&&n||a.push(u(s,e))}),t.hasClass("navbar-master")&&0<this.params.masterDetailBreakpoint&&this.app.width>=this.params.masterDetailBreakpoint||t.children(".left, .right, .title, .subnavbar").each(function(e,a){var s=f(a);s.hasClass("left")&&n&&!r&&"forward"===i&&l||s.hasClass("left")&&n&&"backward"===i&&l||s.hasClass("title")&&r||o.push(u(s,t))}),[o,a].forEach(function(e){e.forEach(function(t){var n=t,r=t.isSliding,i=t.$el,s=e===o?a:o;r&&i.hasClass("title")&&s&&s.forEach(function(e){if(e.isIconLabel){var t=e.$el[0];n.leftOffset+=t&&t.offsetLeft||0}})})})),{newNavEls:a,oldNavEls:o}}},{key:"animate",value:function(e,t,n,r,i,a){var o=this;if(o.params.animateCustom)o.params.animateCustom.apply(o,[e,t,n,r,i,a]);else{var s,l,c,u,h,d,p=o.dynamicNavbar,f="ios"===o.app.theme,m="router-transition-".concat(i," router-transition");if(f&&p){h=n&&n.hasClass("navbar-inner-large"),d=r&&r.hasClass("navbar-inner-large"),c=h&&!n.hasClass("navbar-inner-large-collapsed"),u=d&&!r.hasClass("navbar-inner-large-collapsed");var v=o.animatableNavElements(r,n,u,c,i);s=v.newNavEls,l=v.oldNavEls}("forward"===i?t:e).animationEnd(function(){o.dynamicNavbar&&(r&&(r.removeClass("router-navbar-transition-to-large router-navbar-transition-from-large"),r.addClass("navbar-no-title-large-transition"),R.nextFrame(function(){r.removeClass("navbar-no-title-large-transition")})),n&&n.removeClass("router-navbar-transition-to-large router-navbar-transition-from-large"),r.hasClass("sliding")?r.find(".title, .left, .right, .left .icon, .subnavbar").transform(""):r.find(".sliding").transform(""),n.hasClass("sliding")?n.find(".title, .left, .right, .left .icon, .subnavbar").transform(""):n.find(".sliding").transform("")),o.$el.removeClass(m),a&&a()}),p?(g(0),R.nextFrame(function(){g(1),o.$el.addClass(m)})):o.$el.addClass(m)}function g(e){f&&p&&(1===e&&(u&&(r.addClass("router-navbar-transition-to-large"),n.addClass("router-navbar-transition-to-large")),c&&(r.addClass("router-navbar-transition-from-large"),n.addClass("router-navbar-transition-from-large"))),s.forEach(function(t){var n=t.$el,r="forward"===i?t.rightOffset:t.leftOffset;t.isSliding&&(t.isSubnavbar&&d?n[0].style.setProperty("transform","translate3d(".concat(r*(1-e),"px, calc(-1 * var(--f7-navbar-large-collapse-progress) * var(--f7-navbar-large-title-height)), 0)"),"important"):n.transform("translate3d(".concat(r*(1-e),"px,0,0)")))}),l.forEach(function(t){var n=t.$el,r="forward"===i?t.leftOffset:t.rightOffset;t.isSliding&&(t.isSubnavbar&&h?n.transform("translate3d(".concat(r*e,"px, calc(-1 * var(--f7-navbar-large-collapse-progress) * var(--f7-navbar-large-title-height)), 0)")):n.transform("translate3d(".concat(r*e,"px,0,0)")))}))}}},{key:"removeModal",value:function(e){this.removeEl(e)}},{key:"removeTabContent",value:function(e){f(e).html("")}},{key:"removeNavbar",value:function(e){this.removeEl(e)}},{key:"removePage",value:function(e){var t=f(e),n=t&&t[0]&&t[0].f7Page;n&&n.route&&n.route.route&&n.route.route.keepAlive?t.remove():this.removeEl(e)}},{key:"removeEl",value:function(e){if(e){var t=f(e);0!==t.length&&(t.find(".tab").each(function(e,t){f(t).children().each(function(e,t){t.f7Component&&(f(t).trigger("tab:beforeremove"),t.f7Component.$destroy())})}),t[0].f7Component&&t[0].f7Component.$destroy&&t[0].f7Component.$destroy(),this.params.removeElements&&(this.params.removeElementsWithTimeout?setTimeout(function(){t.remove()},this.params.removeElementsTimeout):t.remove()))}}},{key:"getPageEl",value:function(e){if("string"==typeof e)this.tempDom.innerHTML=e;else{if(f(e).hasClass("page"))return e;this.tempDom.innerHTML="",f(this.tempDom).append(e)}return this.findElement(".page",this.tempDom)}},{key:"findElement",value:function(e,t,n){var r=this.view,i=this.app,a=f(t),o=e;n&&(o+=":not(.stacked)");var s=a.find(o).filter(function(e,t){return 0===f(t).parents(".popup, .dialog, .popover, .actions-modal, .sheet-modal, .login-screen, .page").length});return 1<s.length&&("string"==typeof r.selector&&(s=a.find("".concat(r.selector," ").concat(o))),1<s.length&&(s=a.find(".".concat(i.params.viewMainClass," ").concat(o)))),1===s.length?s:(n||(s=this.findElement(o,a,!0)),s&&1===s.length?s:s&&1<s.length?f(s[0]):void 0)}},{key:"flattenRoutes",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.routes,t=this,n=[];return e.forEach(function(e){var r=!1;if("tabs"in e&&e.tabs){var i=e.tabs.map(function(t){var n=R.extend({},e,{path:"".concat(e.path,"/").concat(t.path).replace("///","/").replace("//","/"),parentPath:e.path,tab:t});return delete n.tabs,delete n.routes,n});r=!0,n=n.concat(t.flattenRoutes(i))}if("detailRoutes"in e){var a=e.detailRoutes.map(function(t){var n=R.extend({},t);return n.masterRoute=e,n.masterRoutePath=e.path,n});n=n.concat(e,t.flattenRoutes(a))}if("routes"in e){var o=e.routes.map(function(t){var n=R.extend({},t);return n.path="".concat(e.path,"/").concat(n.path).replace("///","/").replace("//","/"),n});n=r?n.concat(t.flattenRoutes(o)):n.concat(e,t.flattenRoutes(o))}"routes"in e||"tabs"in e&&e.tabs||"detailRoutes"in e||n.push(e)}),n}},{key:"parseRouteUrl",value:function(e){if(!e)return{};var t=R.parseUrlQuery(e),n=e.split("#")[1],r=e.split("#")[0].split("?")[0];return{query:t,hash:n,params:{},url:e,path:r}}},{key:"constructRouteUrl",value:function(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=n.params,i=n.query,a=e.path,o=we.a.compile(a);try{t=o(r||{})}catch(e){throw new Error("Framework7: error constructing route URL from passed params:\nRoute: ".concat(a,"\n").concat(e.toString()))}return i&&(t+="?".concat("string"==typeof i?i:R.serializeObject(i))),t}},{key:"findTabRoute",value:function(e){var t,n=f(e),r=this.currentRoute.route.parentPath,i=n.attr("id");return this.flattenRoutes(this.routes).forEach(function(e){e.parentPath===r&&e.tab&&e.tab.id===i&&(t=e)}),t}},{key:"findRouteByKey",value:function(e,t){var n,r=this.routes;return this.flattenRoutes(r).forEach(function(r){n||r[e]===t&&(n=r)}),n}},{key:"findMatchingRoute",value:function(e){if(e){var t,n=this.routes,r=this.flattenRoutes(n),i=this.parseRouteUrl(e),a=i.path,o=i.query,s=i.hash,l=i.params;return r.forEach(function(n){if(!t){var r,i,c=[],u=[n.path];n.alias&&("string"==typeof n.alias?u.push(n.alias):Array.isArray(n.alias)&&n.alias.forEach(function(e){u.push(e)})),u.forEach(function(e){r||(r=we()(e,c).exec(a))}),r&&(c.forEach(function(e,t){if("number"!=typeof e.name){var n=r[t+1];l[e.name]=n}}),n.parentPath&&(i=a.split("/").slice(0,n.parentPath.split("/").length-1).join("/")),t={query:o,hash:s,params:l,url:e,path:a,parentPath:i,route:n,name:n.name})}}),t}}},{key:"replaceRequestUrlParams",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=e;return"string"==typeof n&&0<=n.indexOf("{{")&&t&&t.route&&t.route.params&&Object.keys(t.route.params).length&&Object.keys(t.route.params).forEach(function(e){var r=new RegExp("{{".concat(e,"}}"),"g");n=n.replace(r,t.route.params[e]||"")}),n}},{key:"removeFromXhrCache",value:function(e){for(var t=this.cache.xhr,n=!1,r=0;r<t.length;r+=1)t[r].url===e&&(n=r);!1!==n&&t.splice(n,1)}},{key:"xhrRequest",value:function(e,t){var n=this,r=n.params,i=t.ignoreCache,a=e,o=0<=a.indexOf("?");return r.passRouteQueryToRequest&&t&&t.route&&t.route.query&&Object.keys(t.route.query).length&&(a+="".concat(o?"&":"?").concat(R.serializeObject(t.route.query)),o=!0),r.passRouteParamsToRequest&&t&&t.route&&t.route.params&&Object.keys(t.route.params).length&&(a+="".concat(o?"&":"?").concat(R.serializeObject(t.route.params)),o=!0),0<=a.indexOf("{{")&&(a=n.replaceRequestUrlParams(a,t)),r.xhrCacheIgnoreGetParameters&&0<=a.indexOf("?")&&(a=a.split("?")[0]),new Promise(function(e,o){if(r.xhrCache&&!i&&a.indexOf("nocache")<0&&r.xhrCacheIgnore.indexOf(a)<0)for(var s=0;s<n.cache.xhr.length;s+=1){var l=n.cache.xhr[s];if(l.url===a&&R.now()-l.time<r.xhrCacheDuration)return void e(l.content)}n.xhr=n.app.request({url:a,method:"GET",beforeSend:function(e){n.emit("routerAjaxStart",e,t)},complete:function(i,s){n.emit("routerAjaxComplete",i),"error"!==s&&"timeout"!==s&&200<=i.status&&i.status<300||0===i.status?(r.xhrCache&&""!==i.responseText&&(n.removeFromXhrCache(a),n.cache.xhr.push({url:a,time:R.now(),content:i.responseText})),n.emit("routerAjaxSuccess",i,t),e(i.responseText)):(n.emit("routerAjaxError",i,t),o(i))},error:function(e){n.emit("routerAjaxError",e,t),o(e)}})})}},{key:"removeThemeElements",value:function(e){var t=this.app.theme;f(e).find(".".concat("md"===t?"ios":"md","-only, .if-").concat("md"===t?"ios":"md")).remove()}},{key:"getPageData",value:function(e,t,n,r){var i,a,o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{},s=5<arguments.length?arguments[5]:void 0,l=f(e).eq(0),c=f(t).eq(0),u=l[0].f7Page||{};if(("next"===n&&"current"===r||"current"===n&&"previous"===r)&&(i="forward"),("current"===n&&"next"===r||"previous"===n&&"current"===r)&&(i="backward"),u&&!u.fromPage){var h=f(s);h.length&&(a=h[0].f7Page)}(a=u.pageFrom||a)&&a.pageFrom&&(a.pageFrom=null);var d={app:this.app,view:this.view,router:this,$el:l,el:l[0],$pageEl:l,pageEl:l[0],$navbarEl:c,navbarEl:c[0],name:l.attr("data-name"),position:n,from:n,to:r,direction:i,route:u.route?u.route:o,pageFrom:a};return l[0].f7Page=d}},{key:"pageCallback",value:function(e,t,n,r,i){var a=5<arguments.length&&void 0!==arguments[5]?arguments[5]:{},o=6<arguments.length?arguments[6]:void 0;if(t){var s=this,l=f(t);if(l.length){var c=f(n),u=a.route,h=s.params.restoreScrollTopOnBack&&!(0<s.params.masterDetailBreakpoint&&l.hasClass("page-master")&&s.app.width>=s.params.masterDetailBreakpoint),d=l[0].f7Page&&l[0].f7Page.route&&l[0].f7Page.route.route&&l[0].f7Page.route.route.keepAlive;"beforeRemove"===e&&d&&(e="beforeUnmount");var p="page".concat(e[0].toUpperCase()+e.slice(1,e.length)),m="page:".concat(e.toLowerCase()),v={};(v="beforeRemove"===e&&l[0].f7Page?R.extend(l[0].f7Page,{from:r,to:i,position:r}):s.getPageData(l[0],c[0],r,i,u,o)).swipeBack=!!a.swipeBack;var g=a.route?a.route.route:{},y=g.on,b=void 0===y?{}:y,w=g.once,E=void 0===w?{}:w;if(a.on&&R.extend(b,a.on),a.once&&R.extend(E,a.once),"mounted"===e&&_(),"init"===e){if(h&&("previous"===r||!r)&&"current"===i&&s.scrollHistory[v.route.url]&&!l.hasClass("no-restore-scroll")){var C=l.find(".page-content");0<C.length&&(C=C.filter(function(e,t){return 0===f(t).parents(".tab:not(.tab-active)").length&&!f(t).is(".tab:not(.tab-active)")})),C.scrollTop(s.scrollHistory[v.route.url])}if(_(),l[0].f7PageInitialized)return l.trigger("page:reinit",v),void s.emit("pageReinit",v);l[0].f7PageInitialized=!0}if(h&&"beforeOut"===e&&"current"===r&&"previous"===i){var S=l.find(".page-content");0<S.length&&(S=S.filter(function(e,t){return 0===f(t).parents(".tab:not(.tab-active)").length&&!f(t).is(".tab:not(.tab-active)")})),s.scrollHistory[v.route.url]=S.scrollTop()}h&&"beforeOut"===e&&"current"===r&&"next"===i&&delete s.scrollHistory[v.route.url],l.trigger(m,v),s.emit(p,v),"beforeRemove"!==e&&"beforeUnmount"!==e||(l[0].f7RouteEventsAttached&&(l[0].f7RouteEventsOn&&Object.keys(l[0].f7RouteEventsOn).forEach(function(e){l.off(R.eventNameToColonCase(e),l[0].f7RouteEventsOn[e])}),l[0].f7RouteEventsOnce&&Object.keys(l[0].f7RouteEventsOnce).forEach(function(e){l.off(R.eventNameToColonCase(e),l[0].f7RouteEventsOnce[e])}),l[0].f7RouteEventsAttached=null,l[0].f7RouteEventsOn=null,l[0].f7RouteEventsOnce=null,delete l[0].f7RouteEventsAttached,delete l[0].f7RouteEventsOn,delete l[0].f7RouteEventsOnce),d||(l[0].f7Page&&l[0].f7Page.navbarEl&&delete l[0].f7Page.navbarEl.f7Page,l[0].f7Page=null))}}function _(){l[0].f7RouteEventsAttached||(l[0].f7RouteEventsAttached=!0,b&&0<Object.keys(b).length&&(l[0].f7RouteEventsOn=b,Object.keys(b).forEach(function(e){b[e]=b[e].bind(s),l.on(R.eventNameToColonCase(e),b[e])})),E&&0<Object.keys(E).length&&(l[0].f7RouteEventsOnce=E,Object.keys(E).forEach(function(e){E[e]=E[e].bind(s),l.once(R.eventNameToColonCase(e),E[e])})))}}},{key:"saveHistory",value:function(){this.view.history=this.history,this.params.pushState&&(i.localStorage["f7router-".concat(this.view.id,"-history")]=JSON.stringify(this.history))}},{key:"restoreHistory",value:function(){this.params.pushState&&i.localStorage["f7router-".concat(this.view.id,"-history")]&&(this.history=JSON.parse(i.localStorage["f7router-".concat(this.view.id,"-history")]),this.view.history=this.history)}},{key:"clearHistory",value:function(){this.history=[],this.view&&(this.view.history=[]),this.saveHistory()}},{key:"updateCurrentUrl",value:function(e){var t=this;Ie(t,"updateCurrentUrl"),t.history.length?t.history[t.history.length-1]=e:t.history.push(e);var n=t.parseRouteUrl(e),r=n.query,i=n.hash,a=n.params,o=n.url,s=n.path;if(t.currentRoute&&R.extend(t.currentRoute,{query:r,hash:i,params:a,url:o,path:s}),t.params.pushState){var l=t.params.pushStateRoot||"";Se.replace(t.view.id,{url:e},l+t.params.pushStateSeparator+e)}t.saveHistory(),t.emit("routeUrlUpdate",t.currentRoute,t)}},{key:"init",value:function(){var e=this,t=e.app,n=e.view;(n&&e.params.iosSwipeBack&&"ios"===t.theme||n&&e.params.mdSwipeBack&&"md"===t.theme)&&function(e){var t,n,r,i,a,o,s,l,c,u,h=e,d=h.$el,p=h.$navbarEl,m=h.app,v=h.params,g=!1,y=!1,b={},w=[],E=[],C=!0,S=[],_=[],T=v["".concat(m.theme,"SwipeBackAnimateShadow")],k=v["".concat(m.theme,"SwipeBackAnimateOpacity")],x=v["".concat(m.theme,"SwipeBackActiveArea")],I=v["".concat(m.theme,"SwipeBackThreshold")],O=m.rtl?"right center":"left center";function P(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.progress,n=e.reset,r=e.transition,i=["overflow","transform","transform-origin","opacity"],a=0;a<c.length;a+=1){var o=c[a];if(o&&o.el){!0===r&&o.el.classList.add("navbar-page-transitioning"),!1===r&&o.el.classList.remove("navbar-page-transitioning");for(var s=0;s<i.length;s+=1){var l=i[s];o[l]&&(n?o.el.style[l]="":"function"==typeof o[l]?o.el.style[l]=o[l](t):o.el.style[l]=o[l])}}}}function A(e){var n=v["".concat(m.theme,"SwipeBack")];!C||!n||g||m.swipeout&&m.swipeout.el||!h.allowPageChange||0<f(e.target).closest(".range-slider, .calendar-months").length||0<f(e.target).closest(".page-master, .page-master-detail").length&&0<v.masterDetailBreakpoint&&m.width>=v.masterDetailBreakpoint||(g=!(y=!1),t=void 0,b.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,b.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,i=R.now(),a=h.dynamicNavbar,o=h.separateNavbar)}function D(e){if(g){var i="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,u="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY;if(void 0===t&&(t=!!(t||Math.abs(u-b.y)>Math.abs(i-b.x))||i<b.x&&!m.rtl||i>b.x&&m.rtl),t||e.f7PreventSwipeBack||m.preventSwipeBack)g=!1;else{if(!y){var C=!1,A=f(e.target),D=A.closest(".swipeout");if(0<D.length&&(!m.rtl&&0<D.find(".swipeout-actions-left").length&&(C=!0),m.rtl&&0<D.find(".swipeout-actions-right").length&&(C=!0)),((w=A.closest(".page")).hasClass("no-swipeback")||0<A.closest(".no-swipeback, .card-opened").length)&&(C=!0),E=d.find(".page-previous:not(.stacked)"),b.x,d.offset().left,n=d.width(),(m.rtl?b.x<d.offset().left-d[0].scrollLeft+(n-x):b.x-d.offset().left>x)&&(C=!0),0!==E.length&&0!==w.length||(C=!0),C)return void(g=!1);T&&0===(s=w.find(".page-shadow-effect")).length&&(s=f('<div class="page-shadow-effect"></div>'),w.append(s)),k&&0===(l=E.find(".page-opacity-effect")).length&&(l=f('<div class="page-opacity-effect"></div>'),E.append(l)),a&&(_=o?(S=p.find(".navbar-current:not(.stacked)"),p.find(".navbar-previous:not(.stacked)")):(S=w.children(".navbar").children(".navbar-inner"),E.children(".navbar").children(".navbar-inner")),R=[],F=m.rtl?-1:1,B=S.hasClass("navbar-inner-large"),j=_.hasClass("navbar-inner-large"),$=B&&!S.hasClass("navbar-inner-large-collapsed"),V=j&&!_.hasClass("navbar-inner-large-collapsed"),q=S.children(".left, .title, .right, .subnavbar, .fading, .title-large"),U=_.children(".left, .title, .right, .subnavbar, .fading, .title-large"),v.iosAnimateNavbarBackIcon&&(N=S.hasClass("sliding")?S.children(".left").find(".back .icon + span").eq(0):S.children(".left.sliding").find(".back .icon + span").eq(0),M=_.hasClass("sliding")?_.children(".left").find(".back .icon + span").eq(0):_.children(".left.sliding").find(".back .icon + span").eq(0),N.length&&U.each(function(e,t){f(t).hasClass("title")&&(t.f7NavbarLeftOffset+=N.prev(".icon")[0].offsetWidth)})),q.each(function(e,t){var n=f(t),r=n.hasClass("subnavbar"),i=n.hasClass("left"),a=n.hasClass("title");if($||!n.hasClass(".title-large")){var s={el:t};if($){if(a)return;if(n.hasClass("title-large")){if(!o)return;return void(V?(R.indexOf(s)<0&&R.push(s),s.overflow="visible",s.transform="translateX(100%)",n.find(".title-large-text, .title-large-inner").each(function(e,t){R.push({el:t,transform:function(e){return"translateX(".concat(100*e*F-100,"%)")}})})):(R.indexOf(s)<0&&R.push(s),s.overflow="hidden",s.transform=function(e){return"translateY(calc(".concat(-e," * var(--f7-navbar-large-title-height)))")},n.find(".title-large-text, .title-large-inner").each(function(e,t){R.push({el:t,transform:function(e){return"translateX(".concat(100*e*F,"%) translateY(calc(").concat(e," * var(--f7-navbar-large-title-height)))")}})})))}}if(V){if(!$&&n.hasClass("title-large")){if(!o)return;R.indexOf(s)<0&&R.push(s),s.opacity=0}if(i&&o)return R.indexOf(s)<0&&R.push(s),s.opacity=function(e){return 1-Math.pow(e,.33)},void n.find(".back span").each(function(e,t){R.push({el:t,"transform-origin":O,transform:function(e){return"translateY(calc(var(--f7-navbar-height) * ".concat(e,")) scale(").concat(1+1*e,")")}})})}if(!n.hasClass("title-large")){var l=n.hasClass("sliding")||S.hasClass("sliding");if(R.indexOf(s)<0&&R.push(s),(!r||r&&!l)&&(s.opacity=function(e){return 1-Math.pow(e,.33)}),l){var c=s;if(i&&N.length&&v.iosAnimateNavbarBackIcon){var u={el:N[0]};c=u,R.push(u)}c.transform=function(e){var t=e*c.el.f7NavbarRightOffset;return 1===L.pixelRatio&&(t=Math.round(t)),"translate3d(".concat(t,r&&B&&o?"px, calc(-1 * var(--f7-navbar-large-collapse-progress) * var(--f7-navbar-large-title-height)), 0)":"px,0,0)")}}}}}),U.each(function(e,t){var n=f(t),r=n.hasClass("subnavbar"),i=n.hasClass("left"),a=n.hasClass("title"),s={el:t};if(V){if(a)return;if(R.indexOf(s)<0&&R.push(s),n.hasClass("title-large")){if(!o)return;return $?(s.opacity=1,s.overflow="visible",s.transform="translateY(0)",n.find(".title-large-text").each(function(e,t){R.push({el:t,"transform-origin":O,opacity:function(e){return Math.pow(e,3)},transform:function(e){return"translateY(calc(".concat(1*e-1," * var(--f7-navbar-large-title-height))) scale(").concat(.5+.5*e,")")}})})):(s.transform=function(e){return"translateY(calc(".concat(e-1," * var(--f7-navbar-large-title-height)))")},s.opacity=1,s.overflow="hidden",n.find(".title-large-text").each(function(e,t){R.push({el:t,"transform-origin":O,opacity:function(e){return Math.pow(e,3)},transform:function(e){return"scale(".concat(.5+.5*e,")")}})})),void n.find(".title-large-inner").each(function(e,t){R.push({el:t,"transform-origin":O,opacity:function(e){return Math.pow(e,3)},transform:function(e){return"translateX(".concat(-100*(1-e)*F,"%)")}})})}}if(!n.hasClass("title-large")){var l=n.hasClass("sliding")||_.hasClass("sliding");if(R.indexOf(s)<0&&R.push(s),(!r||r&&!l)&&(s.opacity=function(e){return Math.pow(e,3)}),l){var c=s;if(i&&M.length&&v.iosAnimateNavbarBackIcon){var u={el:N[0]};c=u,R.push(u)}c.transform=function(e){var t=c.el.f7NavbarLeftOffset*(1-e);return 1===L.pixelRatio&&(t=Math.round(t)),"translate3d(".concat(t,r&&j&&o?"px, calc(-1 * var(--f7-navbar-large-collapse-progress) * var(--f7-navbar-large-title-height)), 0)":"px,0,0)")}}}}),c=R),0<f(".sheet.modal-in").length&&m.sheet&&m.sheet.close(f(".sheet.modal-in"))}var N,M,R,F,B,j,$,V,q,U;e.f7PreventPanelSwipe=!0,y=!0,m.preventSwipePanelBySwipeBack=!0,e.preventDefault();var H=m.rtl?-1:1;(r=(i-b.x-I)*H)<0&&(r=0);var z=Math.min(Math.max(r/n,0),1),W={percentage:z,progress:z,currentPageEl:w[0],previousPageEl:E[0],currentNavbarEl:S[0],previousNavbarEl:_[0]};d.trigger("swipeback:move",W),h.emit("swipebackMove",W);var K=r*H,G=(r/5-n/5)*H;G=m.rtl?(K=Math.max(K,-n),Math.max(G,0)):(K=Math.min(K,n),Math.min(G,0)),1===L.pixelRatio&&(K=Math.round(K),G=Math.round(G)),h.swipeBackActive=!0,f([w[0],E[0]]).addClass("page-swipeback-active"),w.transform("translate3d(".concat(K,"px,0,0)")),T&&(s[0].style.opacity=1-1*z),"md"!==m.theme&&E.transform("translate3d(".concat(G,"px,0,0)")),k&&(l[0].style.opacity=1-1*z),a&&P({progress:z})}}}function N(){if(m.preventSwipePanelBySwipeBack=!1,g&&y){if(y=g=!1,h.swipeBackActive=!1,f([w[0],E[0]]).removeClass("page-swipeback-active"),0===r)return f([w[0],E[0]]).transform(""),s&&0<s.length&&s.remove(),l&&0<l.length&&l.remove(),void(a&&P({reset:!0}));var e=R.now()-i,t=!1;(e<300&&10<r||300<=e&&n/2<r)&&(w.removeClass("page-current").addClass("page-next".concat("md"===m.theme?" page-next-on-right":"")),E.removeClass("page-previous").addClass("page-current").removeAttr("aria-hidden"),s&&(s[0].style.opacity=""),l&&(l[0].style.opacity=""),a&&(S.removeClass("navbar-current").addClass("navbar-next"),_.removeClass("navbar-previous").addClass("navbar-current").removeAttr("aria-hidden")),t=!0),f([w[0],E[0]]).addClass("page-transitioning page-transitioning-swipeback").transform(""),a&&P({progress:t?1:0,transition:!0}),C=!1,h.allowPageChange=!1;var c={currentPageEl:w[0],previousPageEl:E[0],currentNavbarEl:S[0],previousNavbarEl:_[0]};t?(h.currentRoute=E[0].f7Page.route,h.currentPage=E[0],h.pageCallback("beforeOut",w,S,"current","next",{route:w[0].f7Page.route,swipeBack:!0}),h.pageCallback("beforeIn",E,_,"previous","current",{route:E[0].f7Page.route,swipeBack:!0}),d.trigger("swipeback:beforechange",c),h.emit("swipebackBeforeChange",c)):(d.trigger("swipeback:beforereset",c),h.emit("swipebackBeforeReset",c)),w.transitionEnd(function(){f([w[0],E[0]]).removeClass("page-transitioning page-transitioning-swipeback"),a&&P({reset:!0,transition:!1}),C=!0,h.allowPageChange=!0,t?(1===h.history.length&&h.history.unshift(h.url),h.history.pop(),h.saveHistory(),v.pushState&&Se.back(),h.pageCallback("afterOut",w,S,"current","next",{route:w[0].f7Page.route,swipeBack:!0}),h.pageCallback("afterIn",E,_,"previous","current",{route:E[0].f7Page.route,swipeBack:!0}),v.stackPages&&0<=h.initialPages.indexOf(w[0])?(w.addClass("stacked"),o&&S.addClass("stacked")):(h.pageCallback("beforeRemove",w,S,"next",{swipeBack:!0}),h.removePage(w),o&&h.removeNavbar(S)),d.trigger("swipeback:afterchange",c),h.emit("swipebackAfterChange",c),h.emit("routeChanged",h.currentRoute,h.previousRoute,h),v.preloadPreviousPage&&h.back(h.history[h.history.length-2],{preload:!0})):(d.trigger("swipeback:afterreset",c),h.emit("swipebackAfterReset",c)),s&&0<s.length&&s.remove(),l&&0<l.length&&l.remove()})}else y=g=!1}u=!("touchstart"!==m.touchEvents.start||!de.passiveListener)&&{passive:!0,capture:!1},d.on(m.touchEvents.start,A,u),m.on("touchmove:active",D),m.on("touchend:passive",N),h.on("routerDestroy",function(){var e=!("touchstart"!==m.touchEvents.start||!de.passiveListener)&&{passive:!0,capture:!1};d.off(m.touchEvents.start,A,e),m.off("touchmove:active",D),m.off("touchend:passive",N)})}(e),e.dynamicNavbar&&!e.separateNavbar&&e.$el.addClass("router-dynamic-navbar-inside");var a,o,s,l=e.params.url,c=r.location.href.split(r.location.origin)[1],u=e.params,h=u.pushState,d=u.pushStateOnLoad,p=u.pushStateSeparator,m=u.pushStateAnimateOnLoad,v=e.params.pushStateRoot;i.cordova&&h&&!p&&!v&&r.location.pathname.indexOf("index.html")&&(console.warn("Framework7: wrong or not complete pushState configuration, trying to guess pushStateRoot"),v=r.location.pathname.split("index.html")[0]),h&&d?(v&&0<=c.indexOf(v)&&""===(c=c.split(v)[1])&&(c="/"),l=0<p.length&&0<=c.indexOf(p)?c.split(p)[1]:c,e.restoreHistory(),0<=e.history.indexOf(l)?e.history=e.history.slice(0,e.history.indexOf(l)+1):e.params.url===l?e.history=[l]:Se.state&&Se.state[n.id]&&Se.state[n.id].url===e.history[e.history.length-1]?l=e.history[e.history.length-1]:e.history=[c.split(p)[0]||"/",l],1<e.history.length?a=!0:e.history=[],e.saveHistory()):(l||(l=c),r.location.search&&l.indexOf("?")<0&&(l+=r.location.search),r.location.hash&&l.indexOf("#")<0&&(l+=r.location.hash)),1<e.history.length?(o=e.findMatchingRoute(e.history[0]))||(o=R.extend(e.parseRouteUrl(e.history[0]),{route:{url:e.history[0],path:e.history[0].split("?")[0]}})):(o=e.findMatchingRoute(l))||(o=R.extend(e.parseRouteUrl(l),{route:{url:l,path:l.split("?")[0]}})),e.params.stackPages&&e.$el.children(".page").each(function(t,n){var r=f(n);e.initialPages.push(r[0]),e.separateNavbar&&0<r.children(".navbar").length&&e.initialNavbars.push(r.children(".navbar").find(".navbar-inner")[0])}),0===e.$el.children(".page:not(.stacked)").length&&l?e.navigate(l,{initial:!0,reloadCurrent:!0,pushState:!1}):(e.currentRoute=o,e.$el.children(".page:not(.stacked)").each(function(t,n){var i,a=f(n);a.addClass("page-current"),e.separateNavbar&&(0<(i=a.children(".navbar").children(".navbar-inner")).length?(e.$navbarEl.parents(r).length||e.$el.prepend(e.$navbarEl),i.addClass("navbar-current"),e.$navbarEl.append(i),i.children(".title-large").length&&i.addClass("navbar-inner-large"),a.children(".navbar").remove()):(e.$navbarEl.addClass("navbar-hidden"),i.children(".title-large").length&&e.$navbarEl.addClass("navbar-hidden navbar-large-hidden"))),e.currentRoute&&e.currentRoute.route&&e.currentRoute.route.master&&0<e.params.masterDetailBreakpoint&&(a.addClass("page-master"),a.trigger("page:role",{role:"master"}),i&&i.length&&i.addClass("navbar-master"));var o={route:e.currentRoute};e.currentRoute&&e.currentRoute.route&&e.currentRoute.route.options&&R.extend(o,e.currentRoute.route.options),e.currentPageEl=a[0],e.separateNavbar&&i.length&&(e.currentNavbarEl=i[0]),e.removeThemeElements(a),e.separateNavbar&&i.length&&e.removeThemeElements(i),o.route.route.tab&&(s=!0,e.tabLoad(o.route.route.tab,R.extend({},o))),e.pageCallback("init",a,i,"current",void 0,o)}),a&&e.navigate(l,{initial:!0,pushState:!1,history:!1,animate:m,once:{pageAfterIn:function(){(e.params.preloadPreviousPage||e.params["".concat(t.theme,"SwipeBack")])&&2<e.history.length&&e.back({preload:!0})}}}),a||s||(e.history.push(l),e.saveHistory())),!(l&&h&&d)||Se.state&&Se.state[n.id]||Se.initViewState(n.id,{url:l}),e.emit("local::init routerInit",e)}},{key:"destroy",value:function(){var e=this;e.emit("local::destroy routerDestroy",e),Object.keys(e).forEach(function(t){e[t]=null,delete e[t]}),e=null}}])&&Ae(n.prototype,a),t}();Le.prototype.forward=function(e){var t,n,i,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},o=this,s=f(e),l=o.app,c=o.view,u=R.extend(!1,{animate:o.params.animate,pushState:!0,replaceState:!1,history:!0,reloadCurrent:o.params.reloadPages,reloadPrevious:!1,reloadAll:!1,clearPreviousHistory:!1,reloadDetail:o.params.reloadDetail,on:{}},a),h=0<o.params.masterDetailBreakpoint,d=h&&u.route&&u.route.route&&!0===u.route.route.master,p=o.currentRoute.modal;if(p||"popup popover sheet loginScreen actions customModal panel".split(" ").forEach(function(e){o.currentRoute&&o.currentRoute.route&&o.currentRoute.route[e]&&(p=!0,i=e)}),p){var m=o.currentRoute.modal||o.currentRoute.route.modalInstance||l[i].get(),v=o.history[o.history.length-2],g=o.findMatchingRoute(v);!g&&v&&(g={url:v,path:v.split("?")[0],query:R.parseUrlQuery(v),route:{path:v.split("?")[0],url:v}}),o.modalRemove(m)}var y,b,w,E,C=o.dynamicNavbar,S=o.separateNavbar,_=o.$el,T=s,k=u.reloadPrevious||u.reloadCurrent||u.reloadAll;if(o.allowPageChange=!1,0===T.length)return o.allowPageChange=!0,o;T.length&&o.removeThemeElements(T),C&&(w=T.children(".navbar").children(".navbar-inner"),S&&(b=o.$navbarEl,0<w.length&&T.children(".navbar").remove(),0===w.length&&T[0]&&T[0].f7Page&&(w=T[0].f7Page.$navbarEl))),u.route&&u.route.route&&u.route.route.keepAlive&&!u.route.route.keepAliveData&&(u.route.route.keepAliveData={pageEl:s[0]});var x,I,O,P=_.children(".page:not(.stacked)").filter(function(e,t){return t!==T[0]});if(S&&(x=b.children(".navbar-inner:not(.stacked)").filter(function(e,t){return t!==w[0]})),u.reloadPrevious&&P.length<2)return o.allowPageChange=!0,o;if(h&&!u.reloadAll){for(var A=0;A<P.length;A+=1)t||!P[A].classList.contains("page-master")||(t=P[A]);if((I=!d&&t)&&t)for(var D=0;D<P.length;D+=1)P[D].classList.contains("page-master-detail")&&(n=P[D]);O=I&&u.reloadDetail&&l.width>=o.params.masterDetailBreakpoint&&t}var N="next";if(u.reloadCurrent||u.reloadAll||O?N="current":u.reloadPrevious&&(N="previous"),T.addClass("page-".concat(N).concat(d?" page-master":"").concat(I?" page-master-detail":"")).removeClass("stacked").trigger("page:unstack").trigger("page:position",{position:N}),(d||I)&&T.trigger("page:role",{role:d?"master":"detail"}),C&&w.length&&w.addClass("navbar-".concat(N).concat(d?" navbar-master":"").concat(I?" navbar-master-detail":"")).removeClass("stacked"),u.reloadCurrent||O)y=P.eq(P.length-1),S&&(E=f(l.navbar.getElByPage(y)));else if(u.reloadPrevious)y=P.eq(P.length-2),S&&(E=f(l.navbar.getElByPage(y)));else if(u.reloadAll)y=P.filter(function(e,t){return t!==T[0]}),S&&(E=x.filter(function(e,t){return t!==w[0]}));else{if(1<P.length){var M=0;for(M=0;M<P.length-1;M+=1)if(t&&P[M]===t)P.eq(M).addClass("page-master-stacked"),P.eq(M).trigger("page:masterstack"),S&&f(l.navbar.getElByPage(t)).addClass("navbar-master-stacked");else{var L=l.navbar.getElByPage(P.eq(M));o.params.stackPages?(P.eq(M).addClass("stacked"),P.eq(M).trigger("page:stack"),S&&f(L).addClass("stacked")):(o.pageCallback("beforeRemove",P[M],x&&x[M],"previous",void 0,u),o.removePage(P[M]),S&&L&&o.removeNavbar(L))}}y=_.children(".page:not(.stacked)").filter(function(e,t){return t!==T[0]}),S&&(E=b.children(".navbar-inner:not(.stacked)").filter(function(e,t){return t!==w[0]}))}if(C&&!S&&(E=y.children(".navbar").children(".navbar-inner")),I&&!u.reloadAll&&((1<y.length||O)&&(y=y.filter(function(e,t){return!t.classList.contains("page-master")})),E&&(1<E.length||O)&&(E=E.filter(function(e,t){return!t.classList.contains("navbar-master")}))),o.params.pushState&&(u.pushState||u.replaceState)&&!u.reloadPrevious){var F=o.params.pushStateRoot||"";Se[u.reloadCurrent||O&&n||u.reloadAll||u.replaceState?"replace":"push"](c.id,{url:u.route.url},F+o.params.pushStateSeparator+u.route.url)}u.reloadPrevious||(o.currentPageEl=T[0],C&&w.length?o.currentNavbarEl=w[0]:delete o.currentNavbarEl,o.currentRoute=u.route);var B=u.route.url;u.history&&(0<((u.reloadCurrent||O&&n)&&o.history.length)||u.replaceState?o.history[o.history.length-(u.reloadPrevious?2:1)]=B:u.reloadPrevious?o.history[o.history.length-2]=B:u.reloadAll?o.history=[B]:o.history.push(B)),o.saveHistory();var j=0<T.parents(r).length,$=T[0].f7Component;if(u.reloadPrevious?($&&!j?$.$mount(function(e){f(e).insertBefore(y)}):T.insertBefore(y),S&&w.length&&(w.children(".title-large").length&&w.addClass("navbar-inner-large"),E.length?w.insertBefore(E):(o.$navbarEl.parents(r).length||o.$el.prepend(o.$navbarEl),b.append(w)))):(y.next(".page")[0]!==T[0]&&($&&!j?$.$mount(function(e){_.append(e)}):_.append(T[0])),S&&w.length&&(w.children(".title-large").length&&w.addClass("navbar-inner-large"),o.$navbarEl.parents(r).length||o.$el.prepend(o.$navbarEl),b.append(w[0]))),j?u.route&&u.route.route&&u.route.route.keepAlive&&!T[0].f7PageMounted&&(T[0].f7PageMounted=!0,o.pageCallback("mounted",T,w,N,k?N:"current",u,y)):o.pageCallback("mounted",T,w,N,k?N:"current",u,y),(u.reloadCurrent||O)&&0<y.length?o.params.stackPages&&0<=o.initialPages.indexOf(y[0])?(y.addClass("stacked"),y.trigger("page:stack"),S&&E.addClass("stacked")):(o.pageCallback("beforeRemove",y,E,"previous",void 0,u),o.removePage(y),S&&E&&E.length&&o.removeNavbar(E)):u.reloadAll?y.each(function(e,t){var n=f(t),r=f(l.navbar.getElByPage(n));o.params.stackPages&&0<=o.initialPages.indexOf(n[0])?(n.addClass("stacked"),n.trigger("page:stack"),S&&r.addClass("stacked")):(o.pageCallback("beforeRemove",n,E&&E.eq(e),"previous",void 0,u),o.removePage(n),S&&r.length&&o.removeNavbar(r))}):u.reloadPrevious&&(o.params.stackPages&&0<=o.initialPages.indexOf(y[0])?(y.addClass("stacked"),y.trigger("page:stack"),S&&E.addClass("stacked")):(o.pageCallback("beforeRemove",y,E,"previous",void 0,u),o.removePage(y),S&&E&&E.length&&o.removeNavbar(E))),u.route.route.tab&&o.tabLoad(u.route.route.tab,R.extend({},u,{history:!1,pushState:!1})),o.pageCallback("init",T,w,N,k?N:"current",u,y),u.reloadCurrent||u.reloadAll||O)return o.allowPageChange=!0,o.pageCallback("beforeIn",T,w,N,"current",u),o.pageCallback("afterIn",T,w,N,"current",u),u.reloadCurrent&&u.clearPreviousHistory&&o.clearPreviousHistory(),O&&(t.classList.add("page-previous"),t.classList.remove("page-current"),f(t).trigger("page:position",{position:"previous"}),t.f7Page&&t.f7Page.navbarEl&&(t.f7Page.navbarEl.classList.add("navbar-previous"),t.f7Page.navbarEl.classList.remove("navbar-current"))),o;if(u.reloadPrevious)return o.allowPageChange=!0,o;function V(){var e="page-previous page-current page-next",t="navbar-previous navbar-current navbar-next";T.removeClass(e).addClass("page-current").removeAttr("aria-hidden").trigger("page:position",{position:"current"}),y.removeClass(e).addClass("page-previous").trigger("page:position",{position:"previous"}),y.hasClass("page-master")||y.attr("aria-hidden","true"),C&&(w.removeClass(t).addClass("navbar-current").removeAttr("aria-hidden"),E.removeClass(t).addClass("navbar-previous"),E.hasClass("navbar-master")||E.attr("aria-hidden","true")),o.allowPageChange=!0,o.pageCallback("afterIn",T,w,"next","current",u),o.pageCallback("afterOut",y,E,"current","previous",u);var n=(o.params.preloadPreviousPage||("ios"===l.theme?o.params.iosSwipeBack:o.params.mdSwipeBack))&&!d;n||(T.hasClass("smart-select-page")||T.hasClass("photo-browser-page")||T.hasClass("autocomplete-page"))&&(n=!0),n||(o.params.stackPages?(y.addClass("stacked"),y.trigger("page:stack"),S&&E.addClass("stacked")):T.attr("data-name")&&"smart-select-page"===T.attr("data-name")||(o.pageCallback("beforeRemove",y,E,"previous",void 0,u),o.removePage(y),S&&E.length&&o.removeNavbar(E))),u.clearPreviousHistory&&o.clearPreviousHistory(),o.emit("routeChanged",o.currentRoute,o.previousRoute,o),o.params.pushState&&Se.clearRouterQueue()}function q(){var e="page-previous page-current page-next",t="navbar-previous navbar-current navbar-next";y.removeClass(e).addClass("page-current").removeAttr("aria-hidden").trigger("page:position",{position:"current"}),T.removeClass(e).addClass("page-next").removeAttr("aria-hidden").trigger("page:position",{position:"next"}),C&&(E.removeClass(t).addClass("navbar-current").removeAttr("aria-hidden"),w.removeClass(t).addClass("navbar-next").removeAttr("aria-hidden"))}if(o.pageCallback("beforeIn",T,w,"next","current",u),o.pageCallback("beforeOut",y,E,"current","previous",u),!u.animate||d&&l.width>=o.params.masterDetailBreakpoint)V();else{var U="md"===o.app.theme?o.params.mdPageLoadDelay:o.params.iosPageLoadDelay;U?setTimeout(function(){q(),o.animate(y,T,E,w,"forward",function(){V()})},U):(q(),o.animate(y,T,E,w,"forward",function(){V()}))}return o},Le.prototype.load=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length?arguments[2]:void 0,r=this;if(!r.allowPageChange&&!n)return r;var i=e,a=t,o=i.url,s=i.content,l=i.el,c=i.pageName,u=i.template,h=i.templateUrl,d=i.component,p=i.componentUrl;if(!a.reloadCurrent&&a.route&&a.route.route&&a.route.route.parentPath&&r.currentRoute.route&&r.currentRoute.route.parentPath===a.route.route.parentPath){if(a.route.url===r.url)return!(r.allowPageChange=!0);var f=Object.keys(a.route.params).length===Object.keys(r.currentRoute.params).length;if(f&&Object.keys(a.route.params).forEach(function(e){e in r.currentRoute.params&&r.currentRoute.params[e]===a.route.params[e]||(f=!1)}),f)return!!a.route.route.tab&&r.tabLoad(a.route.route.tab,a);if(!f&&a.route.route.tab&&r.currentRoute.route.tab&&r.currentRoute.parentPath===a.route.parentPath)return r.tabLoad(a.route.route.tab,a)}if(a.route&&a.route.url&&r.url===a.route.url&&!a.reloadCurrent&&!a.reloadPrevious&&!r.params.allowDuplicateUrls)return!(r.allowPageChange=!0);function m(e,t){return r.forward(e,R.extend(a,t))}function v(){return r.allowPageChange=!0,r}if(!a.route&&o&&(a.route=r.parseRouteUrl(o),R.extend(a.route,{route:{url:o,path:o}})),(o||h||p)&&(r.allowPageChange=!1),s)r.forward(r.getPageEl(s),a);else if(u||h)try{r.pageTemplateLoader(u,h,a,m,v)}catch(e){throw r.allowPageChange=!0,e}else if(l)r.forward(r.getPageEl(l),a);else if(c)r.forward(r.$el.children('.page[data-name="'.concat(c,'"]')).eq(0),a);else if(d||p)try{r.pageComponentLoader(r.el,d,p,a,m,v)}catch(e){throw r.allowPageChange=!0,e}else o&&(r.xhr&&(r.xhr.abort(),r.xhr=!1),r.xhrRequest(o,a).then(function(e){r.forward(r.getPageEl(e),a)}).catch(function(){r.allowPageChange=!0}));return r},Le.prototype.navigate=function(e){var t,n,r,i,a,o,s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},l=this;if(l.swipeBackActive)return l;if("string"==typeof e?t=e:(t=e.url,n=e.route,r=e.name,i=e.query,a=e.params),r){if(!(o=l.findRouteByKey("name",r)))throw new Error('Framework7: route with name "'.concat(r,'" not found'));if(t=l.constructRouteUrl(o,{params:a,query:i}))return l.navigate(t,s);throw new Error("Framework7: can't construct URL for route with name \"".concat(r,'"'))}var c=l.app;if(Ie(l,"navigate"),"#"===t||""===t)return l;var u=t.replace("./","");if("/"!==u[0]&&0!==u.indexOf("#")){var h=l.currentRoute.parentPath||l.currentRoute.path;u=((h?"".concat(h,"/"):"/")+u).replace("///","/").replace("//","/")}if(!(o=n?R.extend(l.parseRouteUrl(u),{route:R.extend({},n)}):l.findMatchingRoute(u)))return l;if(o.route.redirect)return _e.call(l,"navigate",o,s);var d={};function p(){var e=!1;"popup popover sheet loginScreen actions customModal panel".split(" ").forEach(function(t){o.route[t]&&!e&&(e=!0,l.modalLoad(t,o,d))}),o.route.keepAlive&&o.route.keepAliveData&&(l.load({el:o.route.keepAliveData.pageEl},d,!1),e=!0),"url content component pageName el componentUrl template templateUrl".split(" ").forEach(function(t){var n,r,i;o.route[t]&&!e&&(e=!0,l.load((n={},r=t,i=o.route[t],r in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,n),d,!1))}),e||o.route.async&&(l.allowPageChange=!1,o.route.async.call(l,d.route,l.currentRoute,function(e,t){var n=l.allowPageChange=!1;t&&t.context&&(o.context?o.context=R.extend({},o.context,t.context):o.context=t.context,d.route.context=o.context),"popup popover sheet loginScreen actions customModal panel".split(" ").forEach(function(r){if(e[r]){n=!0;var i=R.extend({},o,{route:e});l.allowPageChange=!0,l.modalLoad(r,i,R.extend(d,t))}}),n||l.load(e,R.extend(d,t),!0)},function(){l.allowPageChange=!0}))}function f(){l.allowPageChange=!0}if(o.route.options?R.extend(d,o.route.options,s):R.extend(d,s),d.route=o,d&&d.context&&(o.context=d.context,d.route.context=d.context),0<l.params.masterDetailBreakpoint&&o.route.masterRoute){var m=!0;if(l.currentRoute&&l.currentRoute.route&&(!l.currentRoute.route.master||l.currentRoute.route!==o.route.masterRoute&&l.currentRoute.route.path!==o.route.masterRoute.path||(m=!1),!l.currentRoute.route.masterRoute||l.currentRoute.route.masterRoute!==o.route.masterRoute&&l.currentRoute.route.masterRoute.path!==o.route.masterRoute.path||(m=!1)),m)return l.navigate(o.route.masterRoute.path,{animate:!1,reloadAll:s.reloadAll,reloadCurrent:s.reloadCurrent,reloadPrevious:s.reloadPrevious,once:{pageAfterIn:function(){l.navigate(e,R.extend({},s,{animate:!1,reloadAll:!1,reloadCurrent:!1,reloadPrevious:!1}))}}}),l}return xe.call(l,o,l.currentRoute,function(){o.route.modules?c.loadModules(Array.isArray(o.route.modules)?o.route.modules:[o.route.modules]).then(function(){p()}).catch(function(){f()}):p()},function(){f()}),l},Le.prototype.refreshPage=function(){return Ie(this,"refreshPage"),this.navigate(this.currentRoute.url,{ignoreCache:!0,reloadCurrent:!0})},Le.prototype.tabLoad=function(e){var t,n,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=this,a=R.extend({animate:i.params.animate,pushState:!0,history:!0,parentPageEl:null,preload:!1,on:{}},r);a.route&&(a.preload||a.route===i.currentRoute||(n=i.previousRoute,i.currentRoute=a.route),a.preload?(t=a.route,n=i.currentRoute):(t=i.currentRoute,n||(n=i.previousRoute)),i.params.pushState&&a.pushState&&!a.reloadPrevious&&Se.replace(i.view.id,{url:a.route.url},(i.params.pushStateRoot||"")+i.params.pushStateSeparator+a.route.url),a.history&&(i.history[Math.max(i.history.length-1,0)]=a.route.url,i.saveHistory()));var o,s=f(a.parentPageEl||i.currentPageEl);o=s.length&&s.find("#".concat(e.id)).length?s.find("#".concat(e.id)).eq(0):i.view.selector?"".concat(i.view.selector," #").concat(e.id):"#".concat(e.id);var l,c=i.app.tab.show({tabEl:o,animate:a.animate,tabRoute:a.route}),u=c.$newTabEl,h=c.$oldTabEl,d=c.animated,p=c.onTabsChanged;if(u&&0<u.parents(".page").length&&a.route){var m=u.parents(".page")[0].f7Page;m&&a.route&&(m.route=a.route)}if(u[0].f7RouterTabLoaded)return h&&h.length&&(d?p(function(){i.emit("routeChanged",i.currentRoute,i.previousRoute,i)}):i.emit("routeChanged",i.currentRoute,i.previousRoute,i)),i;function v(t,n){var r=t.url,a=t.content,o=t.el,s=t.template,l=t.templateUrl,c=t.component,m=t.componentUrl;function v(t){i.allowPageChange=!0,t&&("string"==typeof t?u.html(t):(u.html(""),t.f7Component?t.f7Component.$mount(function(e){u.append(e)}):u.append(t)),u[0].f7RouterTabLoaded=!0,function(t){i.removeThemeElements(u);var n=u;"string"!=typeof t&&(n=f(t)),n.trigger("tab:init tab:mounted",e),i.emit("tabInit tabMounted",u[0],e),h&&h.length&&(d?p(function(){i.emit("routeChanged",i.currentRoute,i.previousRoute,i),i.params.unloadTabContent&&i.tabRemove(h,u,e)}):(i.emit("routeChanged",i.currentRoute,i.previousRoute,i),i.params.unloadTabContent&&i.tabRemove(h,u,e)))}(t))}function g(){return i.allowPageChange=!0,i}if(a)v(a);else if(s||l)try{i.tabTemplateLoader(s,l,n,v,g)}catch(t){throw i.allowPageChange=!0,t}else if(o)v(o);else if(c||m)try{i.tabComponentLoader(u[0],c,m,n,v,g)}catch(t){throw i.allowPageChange=!0,t}else r&&(i.xhr&&(i.xhr.abort(),i.xhr=!1),i.xhrRequest(r,n).then(function(e){v(e)}).catch(function(){i.allowPageChange=!0}))}return"url content component el componentUrl template templateUrl".split(" ").forEach(function(t){var n,r,i;e[t]&&(l=!0,v((n={},i=e[r=t],r in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,n),a))}),e.async?e.async.call(i,t,n,function(e,t){v(e,R.extend(a,t))},function(){i.allowPageChange=!0}):l||(i.allowPageChange=!0),i},Le.prototype.tabRemove=function(e,t,n){var r;e[0]&&(e[0].f7RouterTabLoaded=!1,delete e[0].f7RouterTabLoaded),e.children().each(function(e,t){t.f7Component&&(r=!0,f(t).trigger("tab:beforeremove",n),t.f7Component.$destroy())}),r||e.trigger("tab:beforeremove",n),this.emit("tabBeforeRemove",e[0],t[0],n),this.removeTabContent(e[0],n)},Le.prototype.modalLoad=function(e,t){var n,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},i=this,a=i.app,o="panel"===e,s=o?"panel":"modal",l=R.extend({animate:i.params.animate,pushState:!0,history:!0,on:{}},r),c=R.extend({},t.route[e]),u=t.route;function h(){var n=a[e].create(c),r=(u.modalInstance=n).el;function h(){n.close()}n.on("".concat(s,"Open"),function(){r||(i.removeThemeElements(n.el),n.$el.trigger("".concat(e.toLowerCase(),":init ").concat(e.toLowerCase(),":mounted"),t,n),i.emit("".concat(o?"":"modalInit"," ").concat(e,"Init ").concat(e,"Mounted"),n.el,t,n)),i.once("swipeBackMove",h)}),n.on("".concat(s,"Close"),function(){i.off("swipeBackMove",h),n.closeByRouter||i.back()}),n.on("".concat(s,"Closed"),function(){n.$el.trigger("".concat(e.toLowerCase(),":beforeremove"),t,n),n.emit("".concat(o?"":"modalBeforeRemove ").concat(e,"BeforeRemove"),n.el,t,n);var r=n.el.f7Component;r&&r.$destroy(),R.nextTick(function(){(r||c.component)&&i.removeModal(n.el),n.destroy(),delete n.route,delete u.modalInstance})}),l.route&&(i.params.pushState&&l.pushState&&Se.push(i.view.id,{url:l.route.url,modal:e},(i.params.pushStateRoot||"")+i.params.pushStateSeparator+l.route.url),l.route!==i.currentRoute&&(n.route=R.extend(l.route,{modal:n}),i.currentRoute=n.route),l.history&&(i.history.push(l.route.url),i.saveHistory())),r&&(i.removeThemeElements(n.el),n.$el.trigger("".concat(e.toLowerCase(),":init ").concat(e.toLowerCase(),":mounted"),t,n),i.emit("".concat(s,"Init ").concat(e,"Init ").concat(e,"Mounted"),n.el,t,n)),n.open()}function d(e,t){var n=e.url,r=e.content,o=e.template,s=e.templateUrl,l=e.component,u=e.componentUrl;function d(e){e&&("string"==typeof e?c.content=e:e.f7Component?e.f7Component.$mount(function(e){c.el=e,a.root.append(e)}):c.el=e,h())}function p(){return i.allowPageChange=!0,i}if(r)d(r);else if(o||s)try{i.modalTemplateLoader(o,s,t,d,p)}catch(e){throw i.allowPageChange=!0,e}else if(l||u)try{i.modalComponentLoader(a.root[0],l,u,t,d,p)}catch(e){throw i.allowPageChange=!0,e}else n?(i.xhr&&(i.xhr.abort(),i.xhr=!1),i.xhrRequest(n,t).then(function(e){c.content=e,h()}).catch(function(){i.allowPageChange=!0})):h()}return"url content component el componentUrl template templateUrl".split(" ").forEach(function(e){var t,r,i;c[e]&&!n&&(n=!0,d((t={},i=c[r=e],r in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t),l))}),n||"actions"!==e||h(),c.async&&c.async.call(i,l.route,i.currentRoute,function(e,t){d(e,R.extend(l,t))},function(){i.allowPageChange=!0}),i},Le.prototype.modalRemove=function(e){R.extend(e,{closeByRouter:!0}),e.close()},Le.prototype.backward=function(e,t){var n,i,a,o,s,l,c=this,u=f(e),h=c.app,d=c.view,p=R.extend({animate:c.params.animate,pushState:!0},t),m=0<c.params.masterDetailBreakpoint,v=m&&p.route&&p.route.route&&!0===p.route.route.master,g=c.dynamicNavbar,y=c.separateNavbar,b=u,w=c.$el.children(".page-current"),E=m&&w.hasClass("page-master");if(b.length&&c.removeThemeElements(b),g&&(a=b.children(".navbar").children(".navbar-inner"),o=y?(i=c.$navbarEl,0<a.length&&b.children(".navbar").remove(),0===a.length&&b[0]&&b[0].f7Page&&(a=b[0].f7Page.$navbarEl),i.find(".navbar-current")):w.children(".navbar").children(".navbar-inner")),c.allowPageChange=!1,0===b.length||0===w.length)return c.allowPageChange=!0,c;if(c.removeThemeElements(b),p.route&&p.route.route&&p.route.route.keepAlive&&!p.route.route.keepAliveData&&(p.route.route.keepAliveData={pageEl:u[0]}),m){for(var C=c.$el.children(".page:not(.stacked)").filter(function(e,t){return t!==b[0]}),S=0;S<C.length;S+=1)n||!C[S].classList.contains("page-master")||(n=C[S]);s=!v&&n&&c.history.indexOf(p.route.url)>c.history.indexOf(n.f7Page.route.url)}if(b.addClass("page-previous".concat(v?" page-master":"").concat(s?" page-master-detail":"")).removeClass("stacked").removeAttr("aria-hidden").trigger("page:unstack").trigger("page:position",{position:"previous"}),(v||s)&&b.trigger("page:role",{role:v?"master":"detail"}),g&&0<a.length&&a.addClass("navbar-previous".concat(v?" navbar-master":"").concat(s?" navbar-master-detail":"")).removeClass("stacked").removeAttr("aria-hidden"),p.force&&(0<w.prev(".page-previous:not(.stacked)").length||0===w.prev(".page-previous").length))if(0<=c.history.indexOf(p.route.url)?(l=c.history.length-c.history.indexOf(p.route.url)-1,c.history=c.history.slice(0,c.history.indexOf(p.route.url)+2),d.history=c.history):c.history[[c.history.length-2]]?c.history[c.history.length-2]=p.route.url:c.history.unshift(c.url),l&&c.params.stackPages)w.prevAll(".page-previous").each(function(e,t){var n,r=f(t);y&&(n=f(h.navbar.getElByPage(r))),r[0]!==b[0]&&r.index()>b.index()&&(0<=c.initialPages.indexOf(r[0])?(r.addClass("stacked"),r.trigger("page:stack"),y&&n.addClass("stacked")):(c.pageCallback("beforeRemove",r,n,"previous",void 0,p),c.removePage(r),y&&0<n.length&&c.removeNavbar(n)))});else{var _,T=w.prev(".page-previous:not(.stacked)");y&&(_=f(h.navbar.getElByPage(T))),c.params.stackPages&&0<=c.initialPages.indexOf(T[0])?(T.addClass("stacked"),T.trigger("page:stack"),_.addClass("stacked")):0<T.length&&(c.pageCallback("beforeRemove",T,_,"previous",void 0,p),c.removePage(T),y&&_.length&&c.removeNavbar(_))}var k,x,I=0<b.parents(r).length,O=b[0].f7Component;function P(){0===b.next(w).length&&(!I&&O?O.$mount(function(e){f(e).insertBefore(w)}):b.insertBefore(w)),y&&a.length&&(a.children(".title-large").length&&a.addClass("navbar-inner-large"),a.insertBefore(o),0<o.length?a.insertBefore(o):(c.$navbarEl.parents(r).length||c.$el.prepend(c.$navbarEl),i.append(a))),I?p.route&&p.route.route&&p.route.route.keepAlive&&!b[0].f7PageMounted&&(b[0].f7PageMounted=!0,c.pageCallback("mounted",b,a,"previous","current",p,w)):c.pageCallback("mounted",b,a,"previous","current",p,w)}if(p.preload){P(),p.route.route.tab&&c.tabLoad(p.route.route.tab,R.extend({},p,{history:!1,pushState:!1,preload:!0})),v&&(b.removeClass("page-master-stacked").trigger("page:masterunstack"),y&&f(h.navbar.getElByPage(b)).removeClass("navbar-master-stacked")),c.pageCallback("init",b,a,"previous","current",p,w);var A=b.prevAll(".page-previous:not(.stacked):not(.page-master)");return 0<A.length&&A.each(function(e,t){var n,r=f(t);y&&(n=f(h.navbar.getElByPage(r))),c.params.stackPages&&0<=c.initialPages.indexOf(t)?(r.addClass("stacked"),r.trigger("page:stack"),y&&n.addClass("stacked")):(c.pageCallback("beforeRemove",r,n,"previous",void 0),c.removePage(r),y&&n.length&&c.removeNavbar(n))}),c.allowPageChange=!0,c}function D(){var e="page-previous page-current page-next",t="navbar-previous navbar-current navbar-next";b.removeClass(e).addClass("page-current").removeAttr("aria-hidden").trigger("page:position",{position:"current"}),w.removeClass(e).addClass("page-next").attr("aria-hidden","true").trigger("page:position",{position:"next"}),g&&(a.removeClass(t).addClass("navbar-current").removeAttr("aria-hidden"),o.removeClass(t).addClass("navbar-next").attr("aria-hidden","true")),c.pageCallback("afterIn",b,a,"previous","current",p),c.pageCallback("afterOut",w,o,"current","next",p),c.params.stackPages&&0<=c.initialPages.indexOf(w[0])?(w.addClass("stacked"),w.trigger("page:stack"),y&&o.addClass("stacked")):(c.pageCallback("beforeRemove",w,o,"next",void 0,p),c.removePage(w),y&&o.length&&c.removeNavbar(o)),c.allowPageChange=!0,c.emit("routeChanged",c.currentRoute,c.previousRoute,c),(c.params.preloadPreviousPage||("ios"===h.theme?c.params.iosSwipeBack:c.params.mdSwipeBack))&&c.history[c.history.length-2]&&!v&&c.back(c.history[c.history.length-2],{preload:!0}),c.params.pushState&&Se.clearRouterQueue()}return L.ie||L.edge||L.firefox&&!L.ios||c.params.pushState&&p.pushState&&(l?Se.go(-l):Se.back()),1===c.history.length&&c.history.unshift(c.url),c.history.pop(),c.saveHistory(),c.currentPageEl=b[0],g&&a.length?c.currentNavbarEl=a[0]:delete c.currentNavbarEl,c.currentRoute=p.route,(L.ie||L.edge||L.firefox&&!L.ios)&&c.params.pushState&&p.pushState&&(l?Se.go(-l):Se.back()),P(),p.route.route.tab&&c.tabLoad(p.route.route.tab,R.extend({},p,{history:!1,pushState:!1})),c.pageCallback("init",b,a,"previous","current",p,w),c.pageCallback("beforeIn",b,a,"previous","current",p),c.pageCallback("beforeOut",w,o,"current","next",p),!p.animate||E&&h.width>=c.params.masterDetailBreakpoint?D():(k="page-previous page-current page-next",x="navbar-previous navbar-current navbar-next",w.removeClass(k).addClass("page-current").trigger("page:position",{position:"current"}),b.removeClass(k).addClass("page-previous").removeAttr("aria-hidden").trigger("page:position",{position:"previous"}),g&&(o.removeClass(x).addClass("navbar-current"),a.removeClass(x).addClass("navbar-previous").removeAttr("aria-hidden")),c.animate(w,b,o,a,"backward",function(){D()})),c},Le.prototype.loadBack=function(e,t,n){var r=this;if(!r.allowPageChange&&!n)return r;var i=e,a=t,o=i.url,s=i.content,l=i.el,c=i.pageName,u=i.template,h=i.templateUrl,d=i.component,p=i.componentUrl;if(a.route.url&&r.url===a.route.url&&!a.reloadCurrent&&!a.reloadPrevious&&!r.params.allowDuplicateUrls)return!1;function f(e,t){return r.backward(e,R.extend(a,t))}function m(){return r.allowPageChange=!0,r}if(!a.route&&o&&(a.route=r.parseRouteUrl(o)),(o||h||p)&&(r.allowPageChange=!1),s)r.backward(r.getPageEl(s),a);else if(u||h)try{r.pageTemplateLoader(u,h,a,f,m)}catch(e){throw r.allowPageChange=!0,e}else if(l)r.backward(r.getPageEl(l),a);else if(c)r.backward(r.$el.children('.page[data-name="'.concat(c,'"]')).eq(0),a);else if(d||p)try{r.pageComponentLoader(r.el,d,p,a,f,m)}catch(e){throw r.allowPageChange=!0,e}else o&&(r.xhr&&(r.xhr.abort(),r.xhr=!1),r.xhrRequest(o,a).then(function(e){r.backward(r.getPageEl(e),a)}).catch(function(){r.allowPageChange=!0}));return r},Le.prototype.back=function(){var e,t,n,r=this;if(r.swipeBackActive)return r;var i=t="object"===Oe(arguments.length<=0?void 0:arguments[0])?(arguments.length<=0?void 0:arguments[0])||{}:(e=arguments.length<=0?void 0:arguments[0],(arguments.length<=1?void 0:arguments[1])||{}),a=i.name,o=i.params,s=i.query;if(a){if(!(n=r.findRouteByKey("name",a)))throw new Error('Framework7: route with name "'.concat(a,'" not found'));if(e=r.constructRouteUrl(n,{params:o,query:s}))return r.back(e,R.extend({},t,{name:null,params:null,query:null}));throw new Error("Framework7: can't construct URL for route with name \"".concat(a,'"'))}var l=r.app;Ie(r,"back");var c,u=r.currentRoute.modal;if(u||"popup popover sheet loginScreen actions customModal panel".split(" ").forEach(function(e){r.currentRoute.route[e]&&(u=!0,c=e)}),u){var h,d=r.currentRoute.modal||r.currentRoute.route.modalInstance||l[c].get(),p=r.history[r.history.length-2];if(d&&d.$el){var f=d.$el.prevAll(".modal-in");f.length&&f[0].f7Modal&&(h=f[0].f7Modal.route)}if(h||(h=r.findMatchingRoute(p)),!h&&p&&(h={url:p,path:p.split("?")[0],query:R.parseUrlQuery(p),route:{path:p.split("?")[0],url:p}}),!(e&&0!==e.replace(/[# ]/g,"").trim().length||h&&d))return r;var m=t.force&&h&&e;return h&&d?(r.params.pushState&&!1!==t.pushState&&Se.back(),r.currentRoute=h,r.history.pop(),r.saveHistory(),r.modalRemove(d),m&&r.navigate(e,{reloadCurrent:!0})):d&&(r.modalRemove(d),e&&r.navigate(e,{reloadCurrent:!0})),r}var v,g=r.$el.children(".page-current").prevAll(".page-previous:not(.page-master)").eq(0);if(0<r.params.masterDetailBreakpoint){var y=r.$el.children(".page-current").prevAll(".page-master").eq(0);if(y.length){var b=r.history[r.history.length-2],w=r.findMatchingRoute(b);w&&w.route===y[0].f7Page.route.route&&(g=y,t.preload||(v=l.width>=r.params.masterDetailBreakpoint))}}if(!t.force&&g.length&&!v){if(r.params.pushState&&g[0].f7Page&&r.history[r.history.length-2]!==g[0].f7Page.route.url)return r.back(r.history[r.history.length-2],R.extend(t,{force:!0})),r;var E=g[0].f7Page.route;return xe.call(r,E,r.currentRoute,function(){r.loadBack({el:g},R.extend(t,{route:E}))},function(){}),r}if("#"===e&&(e=void 0),e&&"/"!==e[0]&&0!==e.indexOf("#")&&(e=((r.path||"/")+e).replace("//","/")),!e&&1<r.history.length&&(e=r.history[r.history.length-2]),v&&!t.force&&r.history[r.history.length-3])return r.back(r.history[r.history.length-3],R.extend({},t||{},{force:!0,animate:!1}));if(v&&!t.force)return r;if((n=r.findMatchingRoute(e))||e&&(n={url:e,path:e.split("?")[0],query:R.parseUrlQuery(e),route:{path:e.split("?")[0],url:e}}),!n)return r;if(n.route.redirect)return _e.call(r,"back",n,t);var C,S={};if(n.route.options?R.extend(S,n.route.options,t):R.extend(S,t),S.route=n,S&&S.context&&(n.context=S.context,S.route.context=S.context),S.force&&r.params.stackPages&&(r.$el.children(".page-previous.stacked").each(function(e,t){t.f7Page&&t.f7Page.route&&t.f7Page.route.url===n.url&&(C=!0,r.loadBack({el:t},S))}),C))return r;function _(){var e=!1;n.route.keepAlive&&n.route.keepAliveData&&(r.loadBack({el:n.route.keepAliveData.pageEl},S),e=!0),"url content component pageName el componentUrl template templateUrl".split(" ").forEach(function(t){var i,a,o;n.route[t]&&!e&&(e=!0,r.loadBack((i={},a=t,o=n.route[t],a in i?Object.defineProperty(i,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[a]=o,i),S))}),e||n.route.async&&(r.allowPageChange=!1,n.route.async.call(r,n,r.currentRoute,function(e,t){r.allowPageChange=!1,t&&t.context&&(n.context?n.context=R.extend({},n.context,t.context):n.context=t.context,S.route.context=n.context),r.loadBack(e,R.extend(S,t),!0)},function(){r.allowPageChange=!0}))}function T(){r.allowPageChange=!0}return S.preload?_():xe.call(r,n,r.currentRoute,function(){n.route.modules?l.loadModules(Array.isArray(n.route.modules)?n.route.modules:[n.route.modules]).then(function(){_()}).catch(function(){T()}):_()},function(){T()}),r},Le.prototype.clearPreviousPages=function(){var e=this;Ie(e,"clearPreviousPages");var t=e.app,n=e.separateNavbar;e.$el.children(".page").filter(function(t,n){return!(!e.currentRoute||!e.currentRoute.modal&&!e.currentRoute.panel)||n!==e.currentPageEl}).each(function(r,i){var a=f(i),o=f(t.navbar.getElByPage(a));e.params.stackPages&&0<=e.initialPages.indexOf(a[0])?(a.addClass("stacked"),n&&o.addClass("stacked")):(e.pageCallback("beforeRemove",a,o,"previous",void 0,{}),e.removePage(a),n&&o.length&&e.removeNavbar(o))})},Le.prototype.clearPreviousHistory=function(){Ie(this,"clearPreviousHistory");var e=this.history[this.history.length-1];this.clearPreviousPages(),this.history=[e],this.view.history=[e],this.saveHistory()};var Fe=Le,Be={name:"router",static:{Router:Fe},instance:{cache:{xhr:[],templates:[],components:[]}},create:function(){this.app?this.params.router&&(this.router=new Fe(this.app,this)):this.router=new Fe(this)}};function je(e){return(je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ve(e,t){return!t||"object"!==je(t)&&"function"!=typeof t?Ue(e):t}function qe(e){return(qe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ue(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function He(e,t){return(He=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ze=function(e){function t(e,n){var r,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),r=Ve(this,qe(t).call(this,i,[e]));var a,o,s,l=e,c=f(n),u=Ue(r);return u.params=R.extend({routes:[],routesAdd:[]},l.params.view,i),0<u.params.routes.length?u.routes=u.params.routes:u.routes=[].concat(l.routes,u.params.routesAdd),a="string"==typeof n?n:(c.attr("id")?"#".concat(c.attr("id")):"")+(c.attr("class")?".".concat(c.attr("class").replace(/ /g,".").replace(".active","")):""),"ios"===l.theme&&u.params.iosDynamicNavbar&&u.params.iosSeparateDynamicNavbar&&0===(o=c.children(".navbar").eq(0)).length&&(o=f('<div class="navbar"></div>')),R.extend(!1,u,{app:l,$el:c,el:c[0],name:u.params.name,main:u.params.main||c.hasClass("view-main"),$navbarEl:o,navbarEl:o?o[0]:void 0,selector:a,history:[],scrollHistory:{}}),(c[0].f7View=u).useModules(),l.views.push(u),u.main&&(l.views.main=u),u.name&&(l.views[u.name]=u),u.index=l.views.indexOf(u),s=u.name?"view_".concat(u.name):u.main?"view_main":"view_".concat(u.index),u.id=s,l.initialized?u.init():l.on("init",function(){u.init()}),Ve(r,u)}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&He(e,t)}(t,H),n=t,(r=[{key:"destroy",value:function(){var e=this,t=e.app;e.$el.trigger("view:beforedestroy",e),e.emit("local::beforeDestroy viewBeforeDestroy",e),t.off("resize",e.checkmasterDetailBreakpoint),e.main?(t.views.main=null,delete t.views.main):e.name&&(t.views[e.name]=null,delete t.views[e.name]),e.$el[0].f7View=null,delete e.$el[0].f7View,t.views.splice(t.views.indexOf(e),1),e.params.router&&e.router&&e.router.destroy(),e.emit("local::destroy viewDestroy",e),Object.keys(e).forEach(function(t){e[t]=null,delete e[t]}),e=null}},{key:"checkmasterDetailBreakpoint",value:function(){var e=this,t=e.app,n=e.$el.hasClass("view-master-detail");t.width>=e.params.masterDetailBreakpoint?(e.$el.addClass("view-master-detail"),n||(e.emit("local::masterDetailBreakpoint viewMasterDetailBreakpoint"),e.$el.trigger("view:masterDetailBreakpoint",e))):(e.$el.removeClass("view-master-detail"),n&&(e.emit("local::masterDetailBreakpoint viewMasterDetailBreakpoint"),e.$el.trigger("view:masterDetailBreakpoint",e)))}},{key:"initMasterDetail",value:function(){var e=this.app;this.checkmasterDetailBreakpoint=this.checkmasterDetailBreakpoint.bind(this),this.checkmasterDetailBreakpoint(),e.on("resize",this.checkmasterDetailBreakpoint)}},{key:"init",value:function(){this.params.router&&(0<this.params.masterDetailBreakpoint&&this.initMasterDetail(),this.router.init(),this.$el.trigger("view:init",this),this.emit("local::init viewInit",this))}}])&&$e(n.prototype,r),t}();ze.use(Be);var We=ze,Ke={name:"clicks",params:{clicks:{externalLinks:".external"}},on:{init:function(){var e;(e=this).on("click",function(t){var n=f(t.target),r=n.closest("a"),a=0<r.length,o=a&&r.attr("href"),s=a&&r.hasClass("tab-link")&&(r.attr("data-tab")||o&&0===o.indexOf("#"));if(a&&(r.is(e.params.clicks.externalLinks)||o&&0<=o.indexOf("javascript:"))){var l=r.attr("target");o&&i.cordova&&i.cordova.InAppBrowser&&("_system"===l||"_blank"===l)&&(t.preventDefault(),i.cordova.InAppBrowser.open(o,l))}else{Object.keys(e.modules).forEach(function(r){var i=e.modules[r].clicks;i&&Object.keys(i).forEach(function(r){var a=n.closest(r).eq(0);0<a.length&&i[r].call(e,a,a.dataset(),t)})});var c={};if(a&&(t.preventDefault(),c=r.dataset()),!r.hasClass("prevent-router")&&!r.hasClass("router-prevent")&&(o&&0<o.length&&"#"!==o&&!s||r.hasClass("back"))){var u;if(c.view?u=f(c.view)[0].f7View:(u=n.parents(".view")[0]&&n.parents(".view")[0].f7View,!r.hasClass("back")&&u&&u.params.linksView&&("string"==typeof u.params.linksView?u=f(u.params.linksView)[0].f7View:u.params.linksView instanceof We&&(u=u.params.linksView))),u||e.views.main&&(u=e.views.main),!u||!u.router)return;if(c.context&&"string"==typeof c.context)try{c.context=JSON.parse(c.context)}catch(r){}r[0].f7RouteProps&&(c.props=r[0].f7RouteProps),r.hasClass("back")?u.router.back(o,c):u.router.navigate(o,c)}}})}}},Ge={name:"routerTemplateLoader",proto:{templateLoader:function(e,t,n,r,i){var a=this;function o(e){var t,o;try{if("function"==typeof(o=n.context||{}))o=o.call(a);else if("string"==typeof o)try{o=JSON.parse(o)}catch(e){throw i(),e}t="function"==typeof e?e(o):m.a.compile(e)(R.extend({},o||{},{$app:a.app,$root:R.extend({},a.app.data,a.app.methods),$route:n.route,$f7route:n.route,$router:a,$f7router:a,$theme:{ios:"ios"===a.app.theme,md:"md"===a.app.theme}}))}catch(e){throw i(),e}r(t,{context:o})}t?(a.xhr&&(a.xhr.abort(),a.xhr=!1),a.xhrRequest(t,n).then(function(e){o(e)}).catch(function(){i()})):o(e)},modalTemplateLoader:function(e,t,n,r,i){return this.templateLoader(e,t,n,function(e){r(e)},i)},tabTemplateLoader:function(e,t,n,r,i){return this.templateLoader(e,t,n,function(e){r(e)},i)},pageTemplateLoader:function(e,t,n,r,i){var a=this;return a.templateLoader(e,t,n,function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};r(a.getPageEl(e),t)},i)}}},Qe={name:"routerComponentLoader",proto:{componentLoader:function(e,t){var n,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},i=3<arguments.length?arguments[3]:void 0,a=4<arguments.length?arguments[4]:void 0,o=this,s=o.app,l="string"==typeof e?e:t,c=o.replaceRequestUrlParams(l,r);function u(e){var t=r.context||{};if("function"==typeof t)t=t.call(o);else if("string"==typeof t)try{t=JSON.parse(t)}catch(e){throw a(),e}var n=R.merge({},t,{$route:r.route,$f7route:r.route,$router:o,$f7router:o,$theme:{ios:"ios"===s.theme,md:"md"===s.theme}}),l=s.component.create(e,n);i(l.el)}c&&o.cache.components.forEach(function(e){e.url===c&&(n=e.component)}),c&&n?u(n):c&&!n?(o.xhr&&(o.xhr.abort(),o.xhr=!1),o.xhrRequest(l,r).then(function(e){var t=s.component.parse(e);o.cache.components.push({url:c,component:t}),u(t)}).catch(function(e){throw a(),e})):u(e)},modalComponentLoader:function(e,t,n,r,i,a){this.componentLoader(t,n,r,function(e){i(e)},a)},tabComponentLoader:function(e,t,n,r,i,a){this.componentLoader(t,n,r,function(e){i(e)},a)},pageComponentLoader:function(e,t,n,r,i,a){this.componentLoader(t,n,r,function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};i(e,t)},a)}}},Ye={name:"history",static:{history:Se},on:{init:function(){Se.init(this)}}},Xe="f7storage-",Je={get:function(e){return new Promise(function(t,n){try{t(JSON.parse(i.localStorage.getItem("".concat(Xe).concat(e))))}catch(t){n(t)}})},set:function(e,t){return new Promise(function(n,r){try{i.localStorage.setItem("".concat(Xe).concat(e),JSON.stringify(t)),n()}catch(n){r(n)}})},remove:function(e){return new Promise(function(t,n){try{i.localStorage.removeItem("".concat(Xe).concat(e)),t()}catch(t){n(t)}})},clear:function(){},length:function(){},keys:function(){return new Promise(function(e,t){try{e(Object.keys(i.localStorage).filter(function(e){return 0===e.indexOf(Xe)}).map(function(e){return e.replace(Xe,"")}))}catch(e){t(e)}})},forEach:function(e){return new Promise(function(t,n){try{Object.keys(i.localStorage).filter(function(e){return 0===e.indexOf(Xe)}).forEach(function(t,n){var r=t.replace(Xe,"");Je.get(r).then(function(t){e(r,t,n)})}),t()}catch(t){n(t)}})}},Ze={name:"storage",static:{Storage:Je,storage:Je}};function et(e,t,n,r,i){return{sel:e,data:t,children:n,text:r,elm:i,key:void 0===t?void 0:t.key}}var tt=et,nt=Array.isArray;function rt(e){return"string"==typeof e||"number"==typeof e}var it=function(e,t,n){var r,i,a,o={};if(void 0!==n?(o=t,nt(n)?r=n:rt(n)?i=n:n&&n.sel&&(r=[n])):void 0!==t&&(nt(t)?r=t:rt(t)?i=t:t&&t.sel?r=[t]:o=t),nt(r))for(a=0;a<r.length;++a)rt(r[a])&&(r[a]=et(void 0,void 0,void 0,r[a],void 0));return"s"!==e[0]||"v"!==e[1]||"g"!==e[2]||3!==e.length&&"."!==e[3]&&"#"!==e[3]||function e(t,n,r){if(t.ns="http://www.w3.org/2000/svg","foreignObject"!==r&&void 0!==n)for(var i=0;i<n.length;++i){var a=n[i].data;void 0!==a&&e(a,n[i].children,n[i].sel)}}(o,r,e),et(e,o,r,i,void 0)};function at(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var ot="area base br col command embed hr img input keygen link menuitem meta param source track wbr".split(" "),st="hidden checked disabled readonly selected autocomplete autofocus autoplay required multiple value".split(" "),lt="hidden checked disabled readonly selected autocomplete autofocus autoplay required multiple readOnly".split(" "),ct=r.createElement("div");function ut(e,t,n,r,a){if(1!==e.nodeType)return 3===e.nodeType?e.textContent:null;var o=e.nodeName.toLowerCase();return it(o,function(e,t,n,r,a){var o={context:t},s=e.attributes;Array.prototype.forEach.call(s,function(e){var n=e.name,r=e.value;if(0<=st.indexOf(n))o.props||(o.props={}),"readonly"===n&&(n="readOnly"),0<=lt.indexOf(n)?o.props[n]=!1!==r:o.props[n]=r;else if("key"===n)o.key=r;else if(0===n.indexOf("@")){o.on||(o.on={});var s=n.substr(1),l=!1,c=!1,u=!1;0<=s.indexOf(".")&&s.split(".").forEach(function(e,t){0===t?s=e:("stop"===e&&(l=!0),"prevent"===e&&(c=!0),"once"===e&&(u=!0))}),o.on[s]=function(e,t){var n,r,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},o=a.stop,s=a.prevent,l=a.once,c=!1,u=[],h=!0;if(0<=(n=e.indexOf("(")<0?e:e.split("(")[0]).indexOf("."))n.split(".").forEach(function(e,a){if(0!==a||"this"!==e){if(0===a&&"window"===e)return r=i,void(h=!1);if(r||(r=t),!r[e])throw new Error("Framework7: Component doesn't have method \"".concat(n.split(".").slice(0,a+1).join("."),'"'));r=r[e]}});else{if(!t[n])throw new Error("Framework7: Component doesn't have method \"".concat(n,'"'));r=t[n]}return h&&(r=r.bind(t)),function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var h=i[0];l&&c||(o&&h.stopPropagation(),s&&h.preventDefault(),c=!0,e.indexOf("(")<0?u=i:e.split("(")[1].split(")")[0].split(",").forEach(function(e){var n=e.trim();if(isNaN(n))if("true"===n)n=!0;else if("false"===n)n=!1;else if("null"===n)n=null;else if("undefined"===n)n=void 0;else if('"'===n[0])n=n.replace(/"/g,"");else if("'"===n[0])n=n.replace(/'/g,"");else if(0<n.indexOf(".")){var r;n.split(".").forEach(function(e){r||(r=t),r=r[e]}),n=r}else n=t[n];else n=parseFloat(n);u.push(n)}),r.apply(void 0,at(u)))}}(r,t,{stop:l,prevent:c,once:u})}else if("style"===n)if(0<=r.indexOf("{")&&0<=r.indexOf("}"))try{o.style=JSON.parse(r)}catch(e){o.attrs||(o.attrs={}),o.attrs.style=r}else o.attrs||(o.attrs={}),o.attrs.style=r;else o.attrs||(o.attrs={}),o.attrs[n]=r,"id"!==n||o.key||a||(o.key=r)});var l=function(e,t,n,r){var i={};if(!e||!e.attrs||!e.attrs.class)return i;var a=e.attrs.class,o=[],s=[],l=[],c=[];return a.split(" ").forEach(function(e){n||o.push.apply(o,at(t.getVnodeHooks("insert",e))),s.push.apply(s,at(t.getVnodeHooks("destroy",e))),l.push.apply(l,at(t.getVnodeHooks("update",e))),c.push.apply(c,at(t.getVnodeHooks("postpatch",e)))}),r&&!n&&c.push(function(e,t){var n=t||e;n&&n.data&&n.data.context&&n.data.context.$options.updated&&n.data.context.$options.updated()}),0===o.length&&0===s.length&&0===l.length&&0===c.length||(o.length&&(i.insert=function(e){o.forEach(function(t){return t(e)})}),s.length&&(i.destroy=function(e){s.forEach(function(t){return t(e)})}),l.length&&(i.update=function(e,t){l.forEach(function(n){return n(e,t)})}),c.length&&(i.postpatch=function(e,t){c.forEach(function(n){return n(e,t)})})),i}(o,n,r,a);return l.prepatch=function(e,t){e&&t&&e&&e.data&&e.data.props&&Object.keys(e.data.props).forEach(function(n){lt.indexOf(n)<0||(t.data||(t.data={}),t.data.props||(t.data.props={}),!0!==e.data.props[n]||n in t.data.props||(t.data.props[n]=!1))})},l&&(o.hook=l),o}(e,t,n,r,a),0<=ot.indexOf(o)?[]:function(e,t,n,r){for(var i=[],a=e.childNodes,o=0;o<a.length;o+=1){var s=ut(a[o],t,n,r);s&&i.push(s)}return i}(e,t,n,r))}var ht=function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",n=1<arguments.length?arguments[1]:void 0,r=2<arguments.length?arguments[2]:void 0,i=3<arguments.length?arguments[3]:void 0;ct.innerHTML=t.trim();for(var a=0;a<ct.childNodes.length;a+=1)e||1!==ct.childNodes[a].nodeType||(e=ct.childNodes[a]);var o=ut(e,n,r,i,!0);return ct.innerHTML="",o},dt={createElement:function(e){return document.createElement(e)},createElementNS:function(e,t){return document.createElementNS(e,t)},createTextNode:function(e){return document.createTextNode(e)},createComment:function(e){return document.createComment(e)},insertBefore:function(e,t,n){e.insertBefore(t,n)},removeChild:function(e,t){e&&e.removeChild(t)},appendChild:function(e,t){e.appendChild(t)},parentNode:function(e){return e.parentNode},nextSibling:function(e){return e.nextSibling},tagName:function(e){return e.tagName},setTextContent:function(e,t){e.textContent=t},getTextContent:function(e){return e.textContent},isElement:function(e){return 1===e.nodeType},isText:function(e){return 3===e.nodeType},isComment:function(e){return 8===e.nodeType}};function pt(e){return void 0===e}function ft(e){return void 0!==e}var mt=tt("",{},[],void 0,void 0);function vt(e,t){return e.key===t.key&&e.sel===t.sel}function gt(e,t,n){var r,i,a,o={};for(r=t;r<=n;++r)null!=(a=e[r])&&void 0!==(i=a.key)&&(o[i]=r);return o}var yt=["create","update","remove","destroy","pre","post"];function bt(e,t){var n,r=t.elm,i=e.data.attrs,a=t.data.attrs;if((i||a)&&i!==a){for(n in i=i||{},a=a||{}){var o=a[n];i[n]!==o&&(!0===o?r.setAttribute(n,""):!1===o?r.removeAttribute(n):120!==n.charCodeAt(0)?r.setAttribute(n,o):58===n.charCodeAt(3)?r.setAttributeNS("http://www.w3.org/XML/1998/namespace",n,o):58===n.charCodeAt(5)?r.setAttributeNS("http://www.w3.org/1999/xlink",n,o):r.setAttribute(n,o))}for(n in i)n in a||r.removeAttribute(n)}}var wt={create:bt,update:bt};function Et(e,t){var n,r,i=t.elm,a=e.data.props,o=t.data.props;if((a||o)&&a!==o){for(n in o=o||{},a=a||{})o[n]||delete i[n];for(n in o)r=o[n],a[n]===r||"value"===n&&i[n]===r||(i[n]=r)}}var Ct={create:Et,update:Et},St="undefined"!=typeof window&&window.requestAnimationFrame||setTimeout,_t=function(e){St(function(){St(e)})};function Tt(e,t,n){_t(function(){e[t]=n})}function kt(e,t){var n,r,i=t.elm,a=e.data.style,o=t.data.style;if((a||o)&&a!==o){o=o||{};var s="delayed"in(a=a||{});for(r in a)o[r]||("-"===r[0]&&"-"===r[1]?i.style.removeProperty(r):i.style[r]="");for(r in o)if(n=o[r],"delayed"===r&&o.delayed)for(var l in o.delayed)n=o.delayed[l],s&&n===a.delayed[l]||Tt(i.style,l,n);else"remove"!==r&&n!==a[r]&&("-"===r[0]&&"-"===r[1]?i.style.setProperty(r,n):i.style[r]=n)}}function xt(e,t,n){var r,i,a,o=e.type,s=n.data.on;s&&s[o]&&(i=e,a=t,"function"==typeof(r=s[o])&&r.apply(void 0,[i].concat(function(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(a))))}function It(e,t){var n=e.data.on,r=e.listener,i=e.elm,a=t&&t.data.on,o=t&&t.elm;if(n!==a&&(n&&r&&(a?Object.keys(n).forEach(function(e){a[e]||f(i).off(e,r)}):Object.keys(n).forEach(function(e){f(i).off(e,r)})),a)){var s=e.listener||function e(t){for(var n=arguments.length,r=new Array(1<n?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];xt(t,r,e.vnode)};(t.listener=s).vnode=t,n?Object.keys(a).forEach(function(e){n[e]||f(o).on(e,s)}):Object.keys(a).forEach(function(e){f(o).on(e,s)})}}var Ot=function(e,t){var n,r,i={},a=dt;for(n=0;n<yt.length;++n)for(i[yt[n]]=[],r=0;r<e.length;++r){var o=e[r][yt[n]];void 0!==o&&i[yt[n]].push(o)}function s(e,t){return function(){if(0==--t){var n=a.parentNode(e);a.removeChild(n,e)}}}function l(e,t){var n,r=e.data;void 0!==r&&ft(n=r.hook)&&ft(n=n.init)&&(n(e),r=e.data);var o=e.children,s=e.sel;if("!"===s)pt(e.text)&&(e.text=""),e.elm=a.createComment(e.text);else if(void 0!==s){var c=s.indexOf("#"),u=s.indexOf(".",c),h=0<c?c:s.length,d=0<u?u:s.length,p=-1!==c||-1!==u?s.slice(0,Math.min(h,d)):s,f=e.elm=ft(r)&&ft(n=r.ns)?a.createElementNS(n,p):a.createElement(p);for(h<d&&f.setAttribute("id",s.slice(h+1,d)),0<u&&f.setAttribute("class",s.slice(d+1).replace(/\./g," ")),n=0;n<i.create.length;++n)i.create[n](mt,e);if(nt(o))for(n=0;n<o.length;++n){var m=o[n];null!=m&&a.appendChild(f,l(m,t))}else rt(e.text)&&a.appendChild(f,a.createTextNode(e.text));ft(n=e.data.hook)&&(n.create&&n.create(mt,e),n.insert&&t.push(e))}else e.elm=a.createTextNode(e.text);return e.elm}function c(e,t,n,r,i,o){for(;r<=i;++r){var s=n[r];null!=s&&a.insertBefore(e,l(s,o),t)}}function u(e){var t,n,r=e.data;if(void 0!==r){for(ft(t=r.hook)&&ft(t=t.destroy)&&t(e),t=0;t<i.destroy.length;++t)i.destroy[t](e);if(void 0!==e.children)for(n=0;n<e.children.length;++n)null!=(t=e.children[n])&&"string"!=typeof t&&u(t)}}function h(e,t,n,r){for(;n<=r;++n){var o=void 0,l=void 0,c=void 0,h=t[n];if(null!=h)if(ft(h.sel)){for(u(h),l=i.remove.length+1,c=s(h.elm,l),o=0;o<i.remove.length;++o)i.remove[o](h,c);ft(o=h.data)&&ft(o=o.hook)&&ft(o=o.remove)?o(h,c):c()}else a.removeChild(e,h.elm)}}return function(e,t){var n,r,o,s,u,d,p=[];for(n=0;n<i.pre.length;++n)i.pre[n]();for(void 0===e.sel&&(u=(s=e).id?"#"+s.id:"",d=s.className?"."+s.className.split(" ").join("."):"",e=tt(a.tagName(s).toLowerCase()+u+d,{},[],void 0,s)),vt(e,t)?function e(t,n,r){var o,s;ft(o=n.data)&&ft(s=o.hook)&&ft(o=s.prepatch)&&o(t,n);var u=n.elm=t.elm,d=t.children,p=n.children;if(t!==n){if(void 0!==n.data){for(o=0;o<i.update.length;++o)i.update[o](t,n);ft(o=n.data.hook)&&ft(o=o.update)&&o(t,n)}pt(n.text)?ft(d)&&ft(p)?d!==p&&function(t,n,r,i){for(var o,s,u,d=0,p=0,f=n.length-1,m=n[0],v=n[f],g=r.length-1,y=r[0],b=r[g];d<=f&&p<=g;)null==m?m=n[++d]:null==v?v=n[--f]:null==y?y=r[++p]:null==b?b=r[--g]:vt(m,y)?(e(m,y,i),m=n[++d],y=r[++p]):vt(v,b)?(e(v,b,i),v=n[--f],b=r[--g]):vt(m,b)?(e(m,b,i),a.insertBefore(t,m.elm,a.nextSibling(v.elm)),m=n[++d],b=r[--g]):(vt(v,y)?(e(v,y,i),a.insertBefore(t,v.elm,m.elm),v=n[--f]):(void 0===o&&(o=gt(n,d,f)),pt(s=o[y.key])?a.insertBefore(t,l(y,i),m.elm):(u=n[s]).sel!==y.sel?a.insertBefore(t,l(y,i),m.elm):(e(u,y,i),n[s]=void 0,a.insertBefore(t,u.elm,m.elm))),y=r[++p]);(d<=f||p<=g)&&(f<d?c(t,null==r[g+1]?null:r[g+1].elm,r,p,g,i):h(t,n,d,f))}(u,d,p,r):ft(p)?(ft(t.text)&&a.setTextContent(u,""),c(u,null,p,0,p.length-1,r)):ft(d)?h(u,d,0,d.length-1):ft(t.text)&&a.setTextContent(u,""):t.text!==n.text&&a.setTextContent(u,n.text),ft(s)&&ft(o=s.postpatch)&&o(t,n)}}(e,t,p):(r=e.elm,o=a.parentNode(r),l(t,p),null!==o&&(a.insertBefore(o,t.elm,a.nextSibling(r)),h(o,[e],0,0))),n=0;n<p.length;++n)p[n].data.hook.insert(p[n]);for(n=0;n<i.post.length;++n)i.post[n]();return t}}([wt,Ct,{create:kt,update:kt,destroy:function(e){var t,n,r=e.elm,i=e.data.style;if(i&&(t=i.destroy))for(n in t)r.style[n]=t[n]},remove:function(e,t){var n=e.data.style;if(n&&n.remove){var r,i=e.elm,a=0,o=n.remove,s=0,l=[];for(r in o)l.push(r),i.style[r]=o[r];for(var c=getComputedStyle(i)["transition-property"].split(", ");a<c.length;++a)-1!==l.indexOf(c[a])&&s++;i.addEventListener("transitionend",function(e){e.target===i&&--s,0===s&&t()})}else t()}},{create:It,update:It,destroy:It}]);function Pt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var At=function(){function e(t,n){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);var o=R.id(),s=R.merge(this,a,{$:f,$$:f,$dom7:f,$app:t,$f7:t,$options:R.extend({id:o},n)}),l=s.$options;Object.defineProperty(s,"$root",{enumerable:!0,configurable:!0,get:function(){var e=R.merge({},t.data,t.methods);return i&&i.Proxy&&(e=new i.Proxy(e,{set:function(e,n,r){t.data[n]=r},deleteProperty:function(e,n){delete t.data[n],delete t.methods[n]},has:function(e,n){return n in t.data||n in t.methods}})),e},set:function(){}}),"beforeCreate created beforeMount mounted beforeDestroy destroyed updated".split(" ").forEach(function(e){l[e]&&(l[e]=l[e].bind(s))}),l.data&&(l.data=l.data.bind(s),R.extend(s,l.data())),l.render&&(l.render=l.render.bind(s)),l.methods&&Object.keys(l.methods).forEach(function(e){s[e]=l.methods[e].bind(s)}),l.on&&Object.keys(l.on).forEach(function(e){l.on[e]=l.on[e].bind(s)}),l.once&&Object.keys(l.once).forEach(function(e){l.once[e]=l.once[e].bind(s)}),l.beforeCreate&&l.beforeCreate();var c=s.$render();return c&&"string"==typeof c?(c=c.trim(),s.$vnode=ht(c,s,t,!0),s.el=r.createElement("div"),Ot(s.el,s.$vnode)):c&&(s.el=c),s.$el=f(s.el),l.style&&(s.$styleEl=r.createElement("style"),s.$styleEl.innerHTML=l.style,l.styleScoped&&s.el.setAttribute("data-f7-".concat(l.id),"")),s.$attachEvents(),l.created&&l.created(),s.el.f7Component=s}var t,n;return t=e,(n=[{key:"$attachEvents",value:function(){var e=this.$options,t=this.$el;e.on&&Object.keys(e.on).forEach(function(n){t.on(R.eventNameToColonCase(n),e.on[n])}),e.once&&Object.keys(e.once).forEach(function(n){t.once(R.eventNameToColonCase(n),e.once[n])})}},{key:"$detachEvents",value:function(){var e=this.$options,t=this.$el;e.on&&Object.keys(e.on).forEach(function(n){t.off(R.eventNameToColonCase(n),e.on[n])}),e.once&&Object.keys(e.once).forEach(function(n){t.off(R.eventNameToColonCase(n),e.once[n])})}},{key:"$render",value:function(){var e=this.$options,t="";if(e.render)t=e.render();else if(e.template)if("string"==typeof e.template)try{t=m.a.compile(e.template)(this)}catch(e){throw e}else t=e.template(this);return t}},{key:"$forceUpdate",value:function(){var e=this.$render();if(e&&"string"==typeof e){e=e.trim();var t=ht(e,this,this.$app);this.$vnode=Ot(this.$vnode,t)}}},{key:"$setState",value:function(e){R.merge(this,e),this.$forceUpdate()}},{key:"$mount",value:function(e){this.$options.beforeMount&&this.$options.beforeMount(),this.$styleEl&&f("head").append(this.$styleEl),e&&e(this.el),this.$options.mounted&&this.$options.mounted()}},{key:"$destroy",value:function(){var e=this;e.$options.beforeDestroy&&e.$options.beforeDestroy(),e.$styleEl&&f(e.$styleEl).remove(),e.$detachEvents(),e.$options.destroyed&&e.$options.destroyed(),e.el&&e.el.f7Component&&(e.el.f7Component=null,delete e.el.f7Component),e.$vnode&&(e.$vnode=Ot(e.$vnode,{sel:e.$vnode.sel,data:{}})),R.deleteProps(e)}}])&&Pt(t.prototype,n),e}(),Dt={name:"component",create:function(){var e=this;e.component={parse:function(e){return function(e){var t,n=R.id(),a="f7_component_create_callback_".concat(n),o="f7_component_render_callback_".concat(n),s=e.match(/<template([ ]?)([a-z0-9-]*)>/),l=s[2]||"t7";s&&(t=e.split(/<template[ ]?[a-z0-9-]*>/).filter(function(e,t){return 0<t}).join("<template>").split("</template>").filter(function(e,t,n){return t<n.length-1}).join("</template>").replace(/{{#raw}}([ \n]*)<template/g,"{{#raw}}<template").replace(/\/template>([ \n]*){{\/raw}}/g,"/template>{{/raw}}").replace(/([ \n])<template/g,"$1{{#raw}}<template").replace(/\/template>([ \n])/g,"/template>{{/raw}}$1"));var c,u,h=null,d=!1;if(0<=e.indexOf("<style>")?h=e.split("<style>")[1].split("</style>")[0]:0<=e.indexOf("<style scoped>")&&(d=!0,h=(h=e.split("<style scoped>")[1].split("</style>")[0]).split("\n").map(function(e){return 0===e.trim().indexOf("@")?e:0<=e.indexOf("{")?0<=e.indexOf("{{this}}")?e.replace("{{this}}","[data-f7-".concat(n,"]")):"[data-f7-".concat(n,"] ").concat(e.trim()):e}).join("\n")),0<=e.indexOf("<script>")){var p=e.split("<script>");c=p[p.length-1].split("<\/script>")[0].trim()}else c="return {}";c&&c.trim()||(c="return {}"),c="window.".concat(a," = function () {").concat(c,"}"),(u=r.createElement("script")).innerHTML=c,f("head").append(u);var v=i[a]();if(f(u).remove(),i[a]=null,delete i[a],v.template||v.render||(v.template=t,v.templateType=l),v.template&&("t7"===v.templateType&&(v.template=m.a.compile(v.template)),"es"===v.templateType)){var g="window.".concat(o," = function () {\n        return function render() {\n          return `").concat(v.template,"`;\n        }\n      }");(u=r.createElement("script")).innerHTML=g,f("head").append(u),v.render=i[o](),f(u).remove(),i[o]=null,delete i[o]}return h&&(v.style=h,v.styleScoped=d),v.id=n,v}(e)},create:function(t,n){return new At(e,t,n)}}}},Nt={registrations:[],register:function(e,t){var n=this;return"serviceWorker"in window.navigator&&n.serviceWorker.container?new Promise(function(r,i){n.serviceWorker.container.register(e,t?{scope:t}:{}).then(function(e){Nt.registrations.push(e),n.emit("serviceWorkerRegisterSuccess",e),r(e)}).catch(function(e){n.emit("serviceWorkerRegisterError",e),i(e)})}):new Promise(function(e,t){t(new Error("Service worker is not supported"))})},unregister:function(e){var t,n=this;return"serviceWorker"in window.navigator&&n.serviceWorker.container?(t=e?Array.isArray(e)?e:[e]:Nt.registrations,Promise.all(t.map(function(e){return new Promise(function(t,r){e.unregister().then(function(){0<=Nt.registrations.indexOf(e)&&Nt.registrations.splice(Nt.registrations.indexOf(e),1),n.emit("serviceWorkerUnregisterSuccess",e),t()}).catch(function(t){n.emit("serviceWorkerUnregisterError",e,t),r(t)})})}))):new Promise(function(e,t){t(new Error("Service worker is not supported"))})}},Mt={name:"sw",params:{serviceWorker:{path:void 0,scope:void 0}},create:function(){R.extend(this,{serviceWorker:{container:"serviceWorker"in window.navigator?window.navigator.serviceWorker:void 0,registrations:Nt.registrations,register:Nt.register.bind(this),unregister:Nt.unregister.bind(this)}})},on:{init:function(){if("serviceWorker"in window.navigator){var e=this;if(e.serviceWorker.container){var t=e.params.serviceWorker.path,n=e.params.serviceWorker.scope;!t||Array.isArray(t)&&!t.length||(Array.isArray(t)?t:[t]).forEach(function(t){e.serviceWorker.register(t,n)})}}}}},Rt={hide:function(){f("html").removeClass("with-statusbar"),L.cordova&&i.StatusBar&&i.StatusBar.hide()},show:function(){if(L.cordova&&i.StatusBar)return i.StatusBar.show(),void R.nextTick(function(){L.needsStatusbarOverlay()&&f("html").addClass("with-statusbar")});f("html").addClass("with-statusbar")},onClick:function(){var e;(e=0<f(".popup.modal-in").length?f(".popup.modal-in").find(".page:not(.page-previous):not(.page-next):not(.cached)").find(".page-content"):0<f(".panel.panel-active").length?f(".panel.panel-active").find(".page:not(.page-previous):not(.page-next):not(.cached)").find(".page-content"):0<f(".views > .view.tab-active").length?f(".views > .view.tab-active").find(".page:not(.page-previous):not(.page-next):not(.cached)").find(".page-content"):0<f(".views").length?f(".views").find(".page:not(.page-previous):not(.page-next):not(.cached)").find(".page-content"):this.root.children(".view").find(".page:not(.page-previous):not(.page-next):not(.cached)").find(".page-content"))&&0<e.length&&(e.hasClass("tab")&&(e=e.parent(".tabs").children(".page-content.tab-active")),0<e.length&&e.scrollTop(0,300))},setTextColor:function(e){L.cordova&&i.StatusBar&&("white"===e?i.StatusBar.styleLightContent():i.StatusBar.styleDefault())},setIosTextColor:function(e){L.ios&&Rt.setTextColor(e)},setBackgroundColor:function(e){f(".statusbar").css("background-color",e),L.cordova&&i.StatusBar&&i.StatusBar.backgroundColorByHexString(e)},isVisible:function(){return!(!L.cordova||!i.StatusBar)&&i.StatusBar.isVisible},overlaysWebView:function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];L.cordova&&i.StatusBar&&(i.StatusBar.overlaysWebView(e),e?f("html").addClass("with-statusbar"):f("html").removeClass("with-statusbar"))},checkOverlay:function(){L.needsStatusbarOverlay()?f("html").addClass("with-statusbar"):f("html").removeClass("with-statusbar")},init:function(){var e=this.params.statusbar;e.enabled&&("auto"===e.overlay?(L.needsStatusbarOverlay()?f("html").addClass("with-statusbar"):f("html").removeClass("with-statusbar"),L.ios&&(L.cordova||L.webView)&&(0===i.orientation&&this.once("resize",function(){Rt.checkOverlay()}),f(r).on("resume",function(){Rt.checkOverlay()},!1),this.on(L.ios?"orientationchange":"orientationchange resize",function(){Rt.checkOverlay()}))):!0===e.overlay?f("html").addClass("with-statusbar"):!1===e.overlay&&f("html").removeClass("with-statusbar"),L.cordova&&i.StatusBar&&(e.scrollTopOnClick&&f(i).on("statusTap",Rt.onClick.bind(this)),L.ios&&(e.iosOverlaysWebView?i.StatusBar.overlaysWebView(!0):i.StatusBar.overlaysWebView(!1),"white"===e.iosTextColor?i.StatusBar.styleLightContent():i.StatusBar.styleDefault()),L.android&&(e.androidOverlaysWebView?i.StatusBar.overlaysWebView(!0):i.StatusBar.overlaysWebView(!1),"white"===e.androidTextColor?i.StatusBar.styleLightContent():i.StatusBar.styleDefault())),e.iosBackgroundColor&&L.ios&&Rt.setBackgroundColor(e.iosBackgroundColor),(e.materialBackgroundColor||e.androidBackgroundColor)&&L.android&&Rt.setBackgroundColor(e.materialBackgroundColor||e.androidBackgroundColor))}},Lt={name:"statusbar",params:{statusbar:{enabled:!0,overlay:"auto",scrollTopOnClick:!0,iosOverlaysWebView:!0,iosTextColor:"black",iosBackgroundColor:null,androidOverlaysWebView:!1,androidTextColor:"black",androidBackgroundColor:null}},create:function(){R.extend(this,{statusbar:{checkOverlay:Rt.checkOverlay,hide:Rt.hide,show:Rt.show,overlaysWebView:Rt.overlaysWebView,setTextColor:Rt.setTextColor,setBackgroundColor:Rt.setBackgroundColor,isVisible:Rt.isVisible,init:Rt.init.bind(this)}})},on:{init:function(){Rt.init.call(this)}},clicks:{".statusbar":function(){this.params.statusbar.enabled&&this.params.statusbar.scrollTopOnClick&&Rt.onClick.call(this)}}},Ft={name:"view",params:{view:{name:void 0,main:!1,router:!0,linksView:null,stackPages:!1,xhrCache:!0,xhrCacheIgnore:[],xhrCacheIgnoreGetParameters:!1,xhrCacheDuration:6e5,preloadPreviousPage:!0,allowDuplicateUrls:!1,reloadPages:!1,reloadDetail:!1,masterDetailBreakpoint:0,removeElements:!0,removeElementsWithTimeout:!1,removeElementsTimeout:0,restoreScrollTopOnBack:!0,unloadTabContent:!0,passRouteQueryToRequest:!0,passRouteParamsToRequest:!1,iosSwipeBack:!0,iosSwipeBackAnimateShadow:!0,iosSwipeBackAnimateOpacity:!0,iosSwipeBackActiveArea:30,iosSwipeBackThreshold:0,mdSwipeBack:!1,mdSwipeBackAnimateShadow:!0,mdSwipeBackAnimateOpacity:!1,mdSwipeBackActiveArea:30,mdSwipeBackThreshold:0,pushState:!1,pushStateRoot:void 0,pushStateAnimate:!0,pushStateAnimateOnLoad:!1,pushStateSeparator:"#!",pushStateOnLoad:!0,animate:!0,iosDynamicNavbar:!0,iosSeparateDynamicNavbar:!0,iosAnimateNavbarBackIcon:!0,iosPageLoadDelay:0,mdPageLoadDelay:0,routesBeforeEnter:null,routesBeforeLeave:null}},static:{View:We},create:function(){var e=this;R.extend(e,{views:R.extend([],{create:function(t,n){return new We(e,t,n)},get:function(e){var t=f(e);if(t.length&&t[0].f7View)return t[0].f7View}})}),Object.defineProperty(e.views,"current",{enumerable:!0,configurable:!0,get:function(){return function(e){var t=f(".popover.modal-in .view"),n=f(".popup.modal-in .view"),r=f(".panel.panel-active .view"),i=f(".views");0===i.length&&(i=e.root);var a=i.children(".view");if(1<a.length&&a.hasClass("tab")&&(a=i.children(".view.tab-active")),0<t.length&&t[0].f7View)return t[0].f7View;if(0<n.length&&n[0].f7View)return n[0].f7View;if(0<r.length&&r[0].f7View)return r[0].f7View;if(0<a.length){if(1===a.length&&a[0].f7View)return a[0].f7View;if(1<a.length)return e.views.main}}(e)}}),e.view=e.views},on:{init:function(){var e=this;f(".view-init").each(function(t,n){if(!n.f7View){var r=f(n).dataset();e.views.create(n,r)}})},modalOpen:function(e){var t=this;e.$el.find(".view-init").each(function(e,n){if(!n.f7View){var r=f(n).dataset();t.views.create(n,r)}})},modalBeforeDestroy:function(e){e&&e.$el&&e.$el.find(".view-init").each(function(e,t){var n=t.f7View;n&&n.destroy()})}}},Bt={size:function(e){var t=this;if("md"!==t.theme||t.params.navbar.mdCenterTitle){var n=f(e);if(n.hasClass("navbar"))n=n.children(".navbar-inner").each(function(e,n){t.navbar.size(n)});else if(!(n.hasClass("stacked")||0<n.parents(".stacked").length||0<n.parents(".tab:not(.tab-active)").length||0<n.parents(".popup:not(.modal-in)").length)){"md"===t.theme&&t.params.navbar.mdCenterTitle&&n.addClass("navbar-inner-centered-title"),"ios"!==t.theme||t.params.navbar.iosCenterTitle||n.addClass("navbar-inner-left-title");var r,i,a,o,s=n.parents(".view").eq(0),l=t.rtl?n.children(".right"):n.children(".left"),c=t.rtl?n.children(".left"):n.children(".right"),u=n.children(".title"),h=n.children(".subnavbar"),d=0===l.length,p=0===c.length,m=d?0:l.outerWidth(!0),v=p?0:c.outerWidth(!0),g=u.outerWidth(!0),y=n.styles(),b=n[0].offsetWidth,w=b-parseInt(y.paddingLeft,10)-parseInt(y.paddingRight,10),E=n.hasClass("navbar-previous"),C=n.hasClass("sliding"),S=0,_=0;0<s.length&&s[0].f7View&&(i=(r=s[0].f7View.router)&&r.dynamicNavbar,r&&r.separateNavbar||(_=(S=b)/5)),p&&(a=w-g),d&&(a=0),d||p||(a=(w-v-g+m)/2);var T=(w-g)/2;o=g<w-m-v?(T<m&&(T=m),w-v<T+g&&(T=w-v-g),T-a):0;var k=t.rtl?-1:1;if(i&&"ios"===t.theme){if(u.hasClass("sliding")||0<u.length&&C){var x=-(a+o)*k+_,I=(w-a-o-g)*k-S;if(E&&r&&r.params.iosAnimateNavbarBackIcon){var O=n.parent().find(".navbar-current").children(".left.sliding").find(".back .icon ~ span");0<O.length&&(x+=O[0].offsetLeft)}u[0].f7NavbarLeftOffset=x,u[0].f7NavbarRightOffset=I}if(!d&&(l.hasClass("sliding")||C))if(t.rtl)l[0].f7NavbarLeftOffset=-(w-l[0].offsetWidth)/2*k,l[0].f7NavbarRightOffset=m*k;else if(l[0].f7NavbarLeftOffset=-m+_,l[0].f7NavbarRightOffset=(w-l[0].offsetWidth)/2-S,r&&r.params.iosAnimateNavbarBackIcon&&0<l.find(".back .icon").length&&l.find(".back .icon ~ span").length){var P=l[0].f7NavbarLeftOffset,A=l[0].f7NavbarRightOffset;l[0].f7NavbarLeftOffset=0,l[0].f7NavbarRightOffset=0,l.find(".back .icon ~ span")[0].f7NavbarLeftOffset=P,l.find(".back .icon ~ span")[0].f7NavbarRightOffset=A-l.find(".back .icon")[0].offsetWidth}p||!c.hasClass("sliding")&&!C||(t.rtl?(c[0].f7NavbarLeftOffset=-v*k,c[0].f7NavbarRightOffset=(w-c[0].offsetWidth)/2*k):(c[0].f7NavbarLeftOffset=-(w-c[0].offsetWidth)/2+_,c[0].f7NavbarRightOffset=v-S)),h.length&&(h.hasClass("sliding")||C)&&(h[0].f7NavbarLeftOffset=t.rtl?h[0].offsetWidth:-h[0].offsetWidth+_,h[0].f7NavbarRightOffset=-h[0].f7NavbarLeftOffset-S+_)}if("ios"===t.theme&&t.params.navbar.iosCenterTitle||"md"===t.theme&&t.params.navbar.mdCenterTitle){var D=o;t.rtl&&d&&p&&0<u.length&&(D=-D),u.css({left:"".concat(D,"px")})}}}},hide:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=f(e);if(n.hasClass("navbar-inner")&&(n=n.parents(".navbar")),n.length&&!n.hasClass("navbar-hidden")){var r="navbar-hidden".concat(t?" navbar-transitioning":"");("ios"===this.theme?n.find(".navbar-current .title-large").length:n.find(".title-large").length)&&(r+=" navbar-large-hidden"),n.transitionEnd(function(){n.removeClass("navbar-transitioning")}),n.addClass(r)}},show:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:".navbar-hidden",t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=f(e);n.hasClass("navbar-inner")&&(n=n.parents(".navbar")),n.length&&n.hasClass("navbar-hidden")&&(t&&(n.addClass("navbar-transitioning"),n.transitionEnd(function(){n.removeClass("navbar-transitioning")})),n.removeClass("navbar-hidden navbar-large-hidden"))},getElByPage:function(e){var t,n,r;if(e.$navbarEl||e.$el?t=(r=e).$el:0<(t=f(e)).length&&(r=t[0].f7Page),r&&r.$navbarEl&&0<r.$navbarEl.length?n=r.$navbarEl:t&&(n=t.children(".navbar").children(".navbar-inner")),n&&(!n||0!==n.length))return n[0]},getPageByEl:function(e){var t,n=f(e);if(!(n.hasClass("navbar")&&1<(n=n.find(".navbar-inner")).length))return n.parents(".page").length?n.parents(".page")[0]:(n.parents(".view").find(".page").each(function(e,r){r&&r.f7Page&&r.f7Page.navbarEl&&n[0]===r.f7Page.navbarEl&&(t=r)}),t)},collapseLargeTitle:function(e){var t=f(e);if(!(t.hasClass("navbar")&&(1<(t=t.find(".navbar-inner-large")).length&&(t=f(e).find(".navbar-inner-large.navbar-current")),1<t.length||!t.length))){var n=f(this.navbar.getPageByEl(t));t.addClass("navbar-inner-large-collapsed"),n.eq(0).addClass("page-with-navbar-large-collapsed").trigger("page:navbarlargecollapsed"),"md"===this.theme&&t.parents(".navbar").addClass("navbar-large-collapsed")}},expandLargeTitle:function(e){var t=f(e);if(!(t.hasClass("navbar")&&(1<(t=t.find(".navbar-inner-large")).length&&(t=f(e).find(".navbar-inner-large.navbar-current")),1<t.length||!t.length))){var n=f(this.navbar.getPageByEl(t));t.removeClass("navbar-inner-large-collapsed"),n.eq(0).removeClass("page-with-navbar-large-collapsed").trigger("page:navbarlargeexpanded"),"md"===this.theme&&t.parents(".navbar").removeClass("navbar-large-collapsed")}},toggleLargeTitle:function(e){var t=f(e);t.hasClass("navbar")&&(1<(t=t.find(".navbar-inner-large")).length&&(t=f(e).find(".navbar-inner-large.navbar-current")),1<t.length||!t.length)||(t.hasClass("navbar-inner-large-collapsed")?this.navbar.expandLargeTitle(t):this.navbar.collapseLargeTitle(t))},initNavbarOnScroll:function(e,t,n,r){var i,a,o,s,l,c,u,h,d,p,m,v,g,y=this,b=f(e),w=f(t),E="md"===y.theme?w.parents(".navbar"):f(t||y.navbar.getElByPage(e)).closest(".navbar"),C=w.find(".title-large").length||w.hasClass(".navbar-inner-large"),S=44,_=y.params.navbar.snapPageScrollToLargeTitle;(r||n&&C)&&((d=w.css("--f7-navbar-large-title-height"))&&0<=d.indexOf("px")?(d=parseInt(d,10),Number.isNaN(d)&&(d="ios"===y.theme?52:48)):d="ios"===y.theme?52:48),n&&C&&(S+=d);var T=70,k=300;function x(){w.hasClass("with-searchbar-expandable-enabled")||!m||a<0||(d/2<=a&&a<d?f(m).scrollTop(d,100):a<d&&f(m).scrollTop(0,200))}function I(){var e;a=(m=this).scrollTop,p=a,r&&(e=Math.min(Math.max(a/d,0),1),w.hasClass("with-searchbar-expandable-enabled")||(h=w.hasClass("navbar-inner-large-collapsed"),0===e&&h?(y.navbar.expandLargeTitle(w[0]),w[0].style.removeProperty("--f7-navbar-large-collapse-progress"),b[0].style.removeProperty("--f7-navbar-large-collapse-progress"),w[0].style.overflow="","md"===y.theme&&E[0].style.removeProperty("--f7-navbar-large-collapse-progress")):1!==e||h?1===e&&h||0===e&&!h?(w[0].style.removeProperty("--f7-navbar-large-collapse-progress"),w[0].style.overflow="",b[0].style.removeProperty("--f7-navbar-large-collapse-progress"),"md"===y.theme&&E[0].style.removeProperty("--f7-navbar-large-collapse-progress")):(w[0].style.setProperty("--f7-navbar-large-collapse-progress",e),w[0].style.overflow="visible",b[0].style.setProperty("--f7-navbar-large-collapse-progress",e),"md"===y.theme&&E[0].style.setProperty("--f7-navbar-large-collapse-progress",e)):(y.navbar.collapseLargeTitle(w[0]),w[0].style.removeProperty("--f7-navbar-large-collapse-progress"),w[0].style.overflow="",b[0].style.removeProperty("--f7-navbar-large-collapse-progress"),"md"===y.theme&&E[0].style.removeProperty("--f7-navbar-large-collapse-progress")),_&&(de.touch?g&&(clearTimeout(g),g=null,g=setTimeout(function(){x(),clearTimeout(g),g=null},T)):(clearTimeout(v),v=setTimeout(function(){x()},k))))),b.hasClass("page-previous")||n&&(o=m.scrollHeight,s=m.offsetHeight,l=o<=a+s,u=E.hasClass("navbar-hidden"),l?y.params.navbar.showOnPageScrollEnd&&(c="show"):c=a<i?y.params.navbar.showOnPageScrollTop||a<=S?"show":"hide":S<a?"hide":"show","show"===c&&u?(y.navbar.show(E),u=!1):"hide"!==c||u||(y.navbar.hide(E),u=!0),i=a)}function O(){p=!1}function P(){clearTimeout(g),g=null,g=setTimeout(function(){!1!==p&&(x(),clearTimeout(g),g=null)},T)}b.on("scroll",".page-content",I,!0),de.touch&&r&&_&&(y.on("touchstart:passive",O),y.on("touchend:passive",P)),r&&b.find(".page-content").each(function(e,t){0<t.scrollTop&&I.call(t)}),b[0].f7DetachNavbarScrollHandlers=function(){delete b[0].f7DetachNavbarScrollHandlers,b.off("scroll",".page-content",I,!0),de.touch&&r&&_&&(y.off("touchstart:passive",O),y.off("touchend:passive",P))}}},jt={name:"navbar",create:function(){var e=this;R.extend(e,{navbar:{size:Bt.size.bind(e),hide:Bt.hide.bind(e),show:Bt.show.bind(e),getElByPage:Bt.getElByPage.bind(e),getPageByEl:Bt.getPageByEl.bind(e),collapseLargeTitle:Bt.collapseLargeTitle.bind(e),expandLargeTitle:Bt.expandLargeTitle.bind(e),toggleLargeTitle:Bt.toggleLargeTitle.bind(e),initNavbarOnScroll:Bt.initNavbarOnScroll.bind(e)}})},params:{navbar:{scrollTopOnTitleClick:!0,iosCenterTitle:!0,mdCenterTitle:!1,hideOnPageScroll:!1,showOnPageScrollEnd:!0,showOnPageScrollTop:!0,collapseLargeTitleOnScroll:!0,snapPageScrollToLargeTitle:!0}},on:{"panelBreakpoint resize viewMasterDetailBreakpoint":function(){var e=this;f(".navbar").each(function(t,n){e.navbar.size(n)})},pageBeforeRemove:function(e){e.$el[0].f7DetachNavbarScrollHandlers&&e.$el[0].f7DetachNavbarScrollHandlers()},pageBeforeIn:function(e){if("ios"===this.theme){var t,n=e.$el.parents(".view")[0].f7View,r=this.navbar.getElByPage(e);if(t=r?f(r).parents(".navbar"):e.$el.parents(".view").children(".navbar"),e.$el.hasClass("no-navbar")||n.router.dynamicNavbar&&!r){var i=!!(e.pageFrom&&0<e.router.history.length);this.navbar.hide(t,i)}else this.navbar.show(t)}},pageReinit:function(e){var t=f(this.navbar.getElByPage(e));t&&0!==t.length&&this.navbar.size(t)},pageInit:function(e){var t,n,r=f(this.navbar.getElByPage(e));r&&0!==r.length&&(this.navbar.size(r),0<r.children(".title-large").length&&r.addClass("navbar-inner-large"),r.hasClass("navbar-inner-large")&&(this.params.navbar.collapseLargeTitleOnScroll&&(t=!0),"md"===this.theme&&r.parents(".navbar").addClass("navbar-large"),e.$el.addClass("page-with-navbar-large")),(this.params.navbar.hideOnPageScroll||e.$el.find(".hide-navbar-on-scroll").length||e.$el.hasClass("hide-navbar-on-scroll")||e.$el.find(".hide-bars-on-scroll").length||e.$el.hasClass("hide-bars-on-scroll"))&&(n=!(e.$el.find(".keep-navbar-on-scroll").length||e.$el.hasClass("keep-navbar-on-scroll")||e.$el.find(".keep-bars-on-scroll").length||e.$el.hasClass("keep-bars-on-scroll"))),(t||n)&&this.navbar.initNavbarOnScroll(e.el,r[0],n,t))},modalOpen:function(e){var t=this;"ios"===t.theme&&!t.params.navbar.iosCenterTitle||"md"===t.theme&&!t.params.navbar.mdCenterTitle||e.$el.find(".navbar:not(.navbar-previous):not(.stacked)").each(function(e,n){t.navbar.size(n)})},panelOpen:function(e){var t=this;"ios"===t.theme&&!t.params.navbar.iosCenterTitle||"md"===t.theme&&!t.params.navbar.mdCenterTitle||e.$el.find(".navbar:not(.navbar-previous):not(.stacked)").each(function(e,n){t.navbar.size(n)})},panelSwipeOpen:function(e){var t=this;"ios"===t.theme&&!t.params.navbar.iosCenterTitle||"md"===t.theme&&!t.params.navbar.mdCenterTitle||e.$el.find(".navbar:not(.navbar-previous):not(.stacked)").each(function(e,n){t.navbar.size(n)})},tabShow:function(e){var t=this;"ios"===t.theme&&!t.params.navbar.iosCenterTitle||"md"===t.theme&&!t.params.navbar.mdCenterTitle||f(e).find(".navbar:not(.navbar-previous):not(.stacked)").each(function(e,n){t.navbar.size(n)})}},clicks:{".navbar .title":function(e){if(this.params.navbar.scrollTopOnTitleClick&&!(0<e.closest("a").length)){var t,n=e.parents(".navbar");0===(t=n.parents(".page-content")).length&&(0<n.parents(".page").length&&(t=n.parents(".page").find(".page-content")),0===t.length&&0<n.nextAll(".page-current:not(.stacked)").length&&(t=n.nextAll(".page-current:not(.stacked)").find(".page-content"))),t&&0<t.length&&(t.hasClass("tab")&&(t=t.parent(".tabs").children(".page-content.tab-active")),0<t.length&&t.scrollTop(0,300))}}},vnode:{"navbar-inner":{postpatch:function(e){"ios"===this.theme&&!this.params.navbar.iosCenterTitle||"md"===this.theme&&!this.params.navbar.mdCenterTitle||this.navbar.size(e.elm)}}}},$t={setHighlight:function(e){if("md"===this.theme){var t=f(e);if(0!==t.length&&(t.hasClass("tabbar")||t.hasClass("tabbar-labels"))){var n=t.find(".tab-link-highlight"),r=t.find(".tab-link").length;if(0!==r){0===n.length?(t.children(".toolbar-inner").append('<span class="tab-link-highlight"></span>'),n=t.find(".tab-link-highlight")):n.next().length&&t.children(".toolbar-inner").append(n);var i,a,o=t.find(".tab-link-active");if(t.hasClass("tabbar-scrollable")&&o&&o[0])i="".concat(o[0].offsetWidth,"px"),a="".concat(o[0].offsetLeft,"px");else{var s=o.index();i="".concat(100/r,"%"),a="".concat(100*(this.rtl?-s:s),"%")}R.nextFrame(function(){n.css("width",i).transform("translate3d(".concat(a,",0,0)"))})}else n.remove()}}},init:function(e){this.toolbar.setHighlight(e)},hide:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=f(e);if(!n.hasClass("toolbar-hidden")){var r="toolbar-hidden".concat(t?" toolbar-transitioning":"");n.transitionEnd(function(){n.removeClass("toolbar-transitioning")}),n.addClass(r)}},show:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=f(e);n.hasClass("toolbar-hidden")&&(t&&(n.addClass("toolbar-transitioning"),n.transitionEnd(function(){n.removeClass("toolbar-transitioning")})),n.removeClass("toolbar-hidden"))},initHideToolbarOnScroll:function(e){var t,n,r,i,a,o,s,l=this,c=f(e),u=c.parents(".view").children(".toolbar");function h(){c.hasClass("page-previous")||(n=this.scrollTop,r=this.scrollHeight,i=this.offsetHeight,a=r<=n+i,s=u.hasClass("toolbar-hidden"),a?l.params.toolbar.showOnPageScrollEnd&&(o="show"):o=n<t?l.params.toolbar.showOnPageScrollTop||n<=44?"show":"hide":44<n?"hide":"show","show"===o&&s?(l.toolbar.show(u),s=!1):"hide"!==o||s||(l.toolbar.hide(u),s=!0),t=n)}0===u.length&&(u=c.find(".toolbar")),0===u.length&&(u=c.parents(".views").children(".tabbar, .tabbar-labels")),0!==u.length&&(c.on("scroll",".page-content",h,!0),c[0].f7ScrollToolbarHandler=h)}},Vt={name:"toolbar",create:function(){R.extend(this,{toolbar:{hide:$t.hide.bind(this),show:$t.show.bind(this),setHighlight:$t.setHighlight.bind(this),initHideToolbarOnScroll:$t.initHideToolbarOnScroll.bind(this),init:$t.init.bind(this)}})},params:{toolbar:{hideOnPageScroll:!1,showOnPageScrollEnd:!0,showOnPageScrollTop:!0}},on:{pageBeforeRemove:function(e){e.$el[0].f7ScrollToolbarHandler&&e.$el.off("scroll",".page-content",e.$el[0].f7ScrollToolbarHandler,!0)},pageBeforeIn:function(e){var t=e.$el.parents(".view").children(".toolbar");0===t.length&&(t=e.$el.parents(".views").children(".tabbar, .tabbar-labels")),0===t.length&&(t=e.$el.find(".toolbar")),0!==t.length&&(e.$el.hasClass("no-toolbar")?this.toolbar.hide(t):this.toolbar.show(t))},pageInit:function(e){var t=this;if(e.$el.find(".tabbar, .tabbar-labels").each(function(e,n){t.toolbar.init(n)}),t.params.toolbar.hideOnPageScroll||e.$el.find(".hide-toolbar-on-scroll").length||e.$el.hasClass("hide-toolbar-on-scroll")||e.$el.find(".hide-bars-on-scroll").length||e.$el.hasClass("hide-bars-on-scroll")){if(e.$el.find(".keep-toolbar-on-scroll").length||e.$el.hasClass("keep-toolbar-on-scroll")||e.$el.find(".keep-bars-on-scroll").length||e.$el.hasClass("keep-bars-on-scroll"))return;t.toolbar.initHideToolbarOnScroll(e.el)}},init:function(){var e=this;e.root.find(".tabbar, .tabbar-labels").each(function(t,n){e.toolbar.init(n)})}}};function qt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ut=function(){function e(t,n,r){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);var i=this;if(t){var a=t[0].getBoundingClientRect(),o={x:n-a.left,y:r-a.top},s=a.width,l=a.height,c=Math.max(Math.pow(Math.pow(l,2)+Math.pow(s,2),.5),48);return i.$rippleWaveEl=f('<div class="ripple-wave" style="width: '.concat(c,"px; height: ").concat(c,"px; margin-top:-").concat(c/2,"px; margin-left:-").concat(c/2,"px; left:").concat(o.x,"px; top:").concat(o.y,'px;"></div>')),t.prepend(i.$rippleWaveEl),i.rippleTransform="translate3d(".concat(s/2-o.x,"px, ").concat(l/2-o.y,"px, 0) scale(1)"),R.nextFrame(function(){i&&i.$rippleWaveEl&&i.$rippleWaveEl.transform(i.rippleTransform)}),i}}var t,n;return t=e,(n=[{key:"onRemove",value:function(){var e=this;e.$rippleWaveEl&&e.$rippleWaveEl.remove(),Object.keys(e).forEach(function(t){e[t]=null,delete e[t]}),e=null}},{key:"remove",value:function(){var e=this;if(!e.removing){var t=this.$rippleWaveEl,n=this.rippleTransform,r=R.nextTick(function(){e.onRemove()},400);e.removing=!0,t.addClass("ripple-wave-fill").transform(n.replace("scale(1)","scale(1.01)")).transitionEnd(function(){clearTimeout(r),R.nextFrame(function(){t.addClass("ripple-wave-out").transform(n.replace("scale(1)","scale(1.01)")),r=R.nextTick(function(){e.onRemove()},700),t.transitionEnd(function(){clearTimeout(r),e.onRemove()})})})}}}])&&qt(t.prototype,n),e}();function Ht(e,t,n){return(Ht=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&function(e,t){(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(i,n.prototype),i}).apply(null,arguments)}var zt={name:"touch-ripple",static:{TouchRipple:Ut},create:function(){this.touchRipple={create:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ht(Ut,t)}}}};function Wt(e){return(Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gt(e,t){return!t||"object"!==Wt(t)&&"function"!=typeof t?Yt(e):t}function Qt(e){return(Qt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xt(e,t){return(Xt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Jt=[],Zt=[],en=function(e){function t(e,n){var r;!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);var i=Yt(r=Gt(this,Qt(t).call(this,n,[e]))),a={};return i.useModulesParams(a),i.params=R.extend(a,n),i.opened=!1,i.useModules(),Gt(r,Yt(r))}var n,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xt(e,t)}(t,H),n=t,(i=[{key:"onOpen",value:function(){this.opened=!0,Jt.push(this),f("html").addClass("with-modal-".concat(this.type.toLowerCase())),this.$el.trigger("modal:open ".concat(this.type.toLowerCase(),":open"),this),this.emit("local::open modalOpen ".concat(this.type,"Open"),this)}},{key:"onOpened",value:function(){this.$el.trigger("modal:opened ".concat(this.type.toLowerCase(),":opened"),this),this.emit("local::opened modalOpened ".concat(this.type,"Opened"),this)}},{key:"onClose",value:function(){var e=this;e.opened=!1,e.type&&e.$el&&(Jt.splice(Jt.indexOf(e),1),f("html").removeClass("with-modal-".concat(e.type.toLowerCase())),e.$el.trigger("modal:close ".concat(e.type.toLowerCase(),":close"),e),e.emit("local::close modalClose ".concat(e.type,"Close"),e))}},{key:"onClosed",value:function(){var e=this;e.type&&e.$el&&(e.$el.removeClass("modal-out"),e.$el.hide(),e.$el.trigger("modal:closed ".concat(e.type.toLowerCase(),":closed"),e),e.emit("local::closed modalClosed ".concat(e.type,"Closed"),e))}},{key:"open",value:function(e){var t,n=this,i=n.app,a=n.$el,o=n.$backdropEl,s=n.type,l=!0;if(void 0!==e?l=e:void 0!==n.params.animate&&(l=n.params.animate),!a||a.hasClass("modal-in"))return n;if("dialog"===s&&i.params.modal.queueDialogs&&(0<f(".dialog.modal-in").length?t=!0:0<Jt.length&&Jt.forEach(function(e){"dialog"===e.type&&(t=!0)}),t))return Zt.push(n),n;var c=a.parent(),u=0<a.parents(r).length;function h(){a.hasClass("modal-out")?n.onClosed():a.hasClass("modal-in")&&n.onOpened()}return i.params.modal.moveToRoot&&!c.is(i.root)&&(i.root.append(a),n.once("".concat(s,"Closed"),function(){u?c.append(a):a.remove()})),a.show(),n._clientLeft=a[0].clientLeft,l?(o&&(o.removeClass("not-animated"),o.addClass("backdrop-in")),a.animationEnd(function(){h()}),a.transitionEnd(function(){h()}),a.removeClass("modal-out not-animated").addClass("modal-in"),n.onOpen()):(o&&o.addClass("backdrop-in not-animated"),a.removeClass("modal-out").addClass("modal-in not-animated"),n.onOpen(),n.onOpened()),n}},{key:"close",value:function(e){var t=this,n=t.$el,r=t.$backdropEl,i=!0;if(void 0!==e?i=e:void 0!==t.params.animate&&(i=t.params.animate),!n||!n.hasClass("modal-in"))return t;if(r){var a=!0;"popup"===t.type&&t.$el.prevAll(".popup.modal-in").each(function(e,n){var r=n.f7Modal;r&&r.params.closeByBackdropClick&&r.params.backdrop&&r.backdropEl===t.backdropEl&&(a=!1)}),a&&(r[i?"removeClass":"addClass"]("not-animated"),r.removeClass("backdrop-in"))}function o(){n.hasClass("modal-out")?t.onClosed():n.hasClass("modal-in")&&t.onOpened()}return n[i?"removeClass":"addClass"]("not-animated"),i?(n.animationEnd(function(){o()}),n.transitionEnd(function(){o()}),n.removeClass("modal-in").addClass("modal-out"),t.onClose()):(n.addClass("not-animated").removeClass("modal-in").addClass("modal-out"),t.onClose(),t.onClosed()),"dialog"===t.type&&0!==Zt.length&&Zt.shift().open(),t}},{key:"destroy",value:function(){var e=this;e.destroyed||(e.emit("local::beforeDestroy modalBeforeDestroy ".concat(e.type,"BeforeDestroy"),e),e.$el&&(e.$el.trigger("modal:beforedestroy ".concat(e.type.toLowerCase(),":beforedestroy"),e),e.$el.length&&e.$el[0].f7Modal&&delete e.$el[0].f7Modal),R.deleteProps(e),e.destroyed=!0)}}])&&Kt(n.prototype,i),t}();function tn(e){return(tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nn(e,t){return!t||"object"!==tn(t)&&"function"!=typeof t?an(e):t}function rn(e){return(rn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function an(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function on(e,t){return(on=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var sn=function(e){function t(e,n){var r;!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);var i,a,o=R.extend({backdrop:!0,closeByBackdropClick:!0,on:{}},n),s=an(r=nn(this,rn(t).call(this,e,o)));if(s.params=o,(i=s.params.el?f(s.params.el):f(s.params.content))&&0<i.length&&i[0].f7Modal)return nn(r,i[0].f7Modal);if(0===i.length)return nn(r,s.destroy());function l(e){s&&!s.destroyed&&a&&e.target===a[0]&&s.close()}return s.params.backdrop&&0===(a=e.root.children(".custom-modal-backdrop")).length&&(a=f('<div class="custom-modal-backdrop"></div>'),e.root.append(a)),s.on("customModalOpened",function(){s.params.closeByBackdropClick&&s.params.backdrop&&e.on("click",l)}),s.on("customModalClose",function(){s.params.closeByBackdropClick&&s.params.backdrop&&e.off("click",l)}),R.extend(s,{app:e,$el:i,el:i[0],$backdropEl:a,backdropEl:a&&a[0],type:"customModal"}),nn(r,i[0].f7Modal=s)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&on(e,t)}(t,en),t}(),ln={name:"modal",static:{Modal:en,CustomModal:sn},create:function(){var e=this;e.customModal={create:function(t){return new sn(e,t)}}},params:{modal:{moveToRoot:!0,queueDialogs:!0}}};function cn(e){return(cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function un(e,t){return!t||"object"!==cn(t)&&"function"!=typeof t?dn(e):t}function hn(e){return(hn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pn(e,t){return(pn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var fn=function(e){function t(e,n){var i;!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);var a=R.extend({title:e.params.dialog.title,text:void 0,content:"",buttons:[],verticalButtons:!1,onClick:void 0,cssClass:void 0,destroyOnClose:!1,on:{}},n);void 0===a.closeByBackdropClick&&(a.closeByBackdropClick=e.params.dialog.closeByBackdropClick);var o,s=dn(i=un(this,hn(t).call(this,e,a))),l=a.title,c=a.text,u=a.content,h=a.buttons,d=a.verticalButtons,p=a.cssClass;if(s.params=a,s.params.el)o=f(s.params.el);else{var m=["dialog"];0===h.length&&m.push("dialog-no-buttons"),0<h.length&&m.push("dialog-buttons-".concat(h.length)),d&&m.push("dialog-buttons-vertical"),p&&m.push(p);var v="";0<h.length&&(v='\n          <div class="dialog-buttons">\n            '.concat(h.map(function(e){return'\n              <span class="dialog-button'.concat(e.bold?" dialog-button-bold":"").concat(e.color?" color-".concat(e.color):"").concat(e.cssClass?" ".concat(e.cssClass):"",'">').concat(e.text,"</span>\n            ")}).join(""),"\n          </div>\n        "));var g='\n        <div class="'.concat(m.join(" "),'">\n          <div class="dialog-inner">\n            ').concat(l?'<div class="dialog-title">'.concat(l,"</div>"):"","\n            ").concat(c?'<div class="dialog-text">'.concat(c,"</div>"):"","\n            ").concat(u,"\n          </div>\n          ").concat(v,"\n        </div>\n      ");o=f(g)}if(o&&0<o.length&&o[0].f7Modal)return un(i,o[0].f7Modal);if(0===o.length)return un(i,s.destroy());var y,b=e.root.children(".dialog-backdrop");function w(e){var t=f(this).index(),n=h[t];n.onClick&&n.onClick(s,e),s.params.onClick&&s.params.onClick(s,t),!1!==n.close&&s.close()}function E(e){var t=e.keyCode;h.forEach(function(n,i){n.keyCodes&&0<=n.keyCodes.indexOf(t)&&(r.activeElement&&r.activeElement.blur(),n.onClick&&n.onClick(s,e),s.params.onClick&&s.params.onClick(s,i),!1!==n.close&&s.close())})}function C(e){var t=e.target;0===f(t).closest(s.el).length&&s.params.closeByBackdropClick&&s.backdropEl&&s.backdropEl===t&&s.close()}return 0===b.length&&(b=f('<div class="dialog-backdrop"></div>'),e.root.append(b)),h&&0<h.length&&(s.on("open",function(){o.find(".dialog-button").each(function(e,t){h[e].keyCodes&&(y=!0),f(t).on("click",w)}),!y||e.device.ios||e.device.android||e.device.cordova||f(r).on("keydown",E)}),s.on("close",function(){o.find(".dialog-button").each(function(e,t){f(t).off("click",w)}),!y||e.device.ios||e.device.android||e.device.cordova||f(r).off("keydown",E),y=!1})),R.extend(s,{app:e,$el:o,el:o[0],$backdropEl:b,backdropEl:b[0],type:"dialog",setProgress:function(t,n){return e.progressbar.set(o.find(".progressbar"),t,n),s},setText:function(e){var t=o.find(".dialog-text");return 0===t.length&&(t=f('<div class="dialog-text"></div>'),void 0!==l?t.insertAfter(o.find(".dialog-title")):o.find(".dialog-inner").prepend(t)),t.html(e),s.params.text=e,s},setTitle:function(e){var t=o.find(".dialog-title");return 0===t.length&&(t=f('<div class="dialog-title"></div>'),o.find(".dialog-inner").prepend(t)),t.html(e),s.params.title=e,s}}),s.on("opened",function(){s.params.closeByBackdropClick&&e.on("click",C)}),s.on("close",function(){s.params.closeByBackdropClick&&e.off("click",C)}),(o[0].f7Modal=s).params.destroyOnClose&&s.once("closed",function(){setTimeout(function(){s.destroy()},0)}),un(i,s)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pn(e,t)}(t,en),t}(),mn={name:"dialog",params:{dialog:{title:void 0,buttonOk:"OK",buttonCancel:"Cancel",usernamePlaceholder:"Username",passwordPlaceholder:"Password",preloaderTitle:"Loading... ",progressTitle:"Loading... ",closeByBackdropClick:!1,destroyPredefinedDialogs:!0,keyboardActions:!0}},static:{Dialog:fn},create:function(){var e=this;function t(){return e.params.dialog.title||e.name}var n=e.params.dialog.destroyPredefinedDialogs,r=e.params.dialog.keyboardActions;e.dialog=R.extend(K({app:e,constructor:fn,defaultSelector:".dialog.modal-in"}),{alert:function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];var s=a[0],l=a[1],c=a[2];return 2===a.length&&"function"==typeof a[1]&&(s=a[0],c=a[1],l=a[2]),new fn(e,{title:void 0===l?t():l,text:s,buttons:[{text:e.params.dialog.buttonOk,bold:!0,onClick:c,keyCodes:r?[13,27]:null}],destroyOnClose:n}).open()},prompt:function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];var s=a[0],l=a[1],c=a[2],u=a[3],h=a[4];return"function"==typeof a[1]&&(s=a[0],c=a[1],u=a[2],h=a[3],l=a[4]),h=null==h?"":h,new fn(e,{title:void 0===l?t():l,text:s,content:'<div class="dialog-input-field input"><input type="text" class="dialog-input" value="'.concat(h,'"></div>'),buttons:[{text:e.params.dialog.buttonCancel,keyCodes:r?[27]:null},{text:e.params.dialog.buttonOk,bold:!0,keyCodes:r?[13]:null}],onClick:function(e,t){var n=e.$el.find(".dialog-input").val();0===t&&u&&u(n),1===t&&c&&c(n)},destroyOnClose:n}).open()},confirm:function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];var s=a[0],l=a[1],c=a[2],u=a[3];return"function"==typeof a[1]&&(s=a[0],c=a[1],u=a[2],l=a[3]),new fn(e,{title:void 0===l?t():l,text:s,buttons:[{text:e.params.dialog.buttonCancel,onClick:u,keyCodes:r?[27]:null},{text:e.params.dialog.buttonOk,bold:!0,onClick:c,keyCodes:r?[13]:null}],destroyOnClose:n}).open()},login:function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];var s=a[0],l=a[1],c=a[2],u=a[3];return"function"==typeof a[1]&&(s=a[0],c=a[1],u=a[2],l=a[3]),new fn(e,{title:void 0===l?t():l,text:s,content:'\n              <div class="dialog-input-field dialog-input-double input">\n                <input type="text" name="dialog-username" placeholder="'.concat(e.params.dialog.usernamePlaceholder,'" class="dialog-input">\n              </div>\n              <div class="dialog-input-field dialog-input-double input">\n                <input type="password" name="dialog-password" placeholder="').concat(e.params.dialog.passwordPlaceholder,'" class="dialog-input">\n              </div>'),buttons:[{text:e.params.dialog.buttonCancel,keyCodes:r?[27]:null},{text:e.params.dialog.buttonOk,bold:!0,keyCodes:r?[13]:null}],onClick:function(e,t){var n=e.$el.find('[name="dialog-username"]').val(),r=e.$el.find('[name="dialog-password"]').val();0===t&&u&&u(n,r),1===t&&c&&c(n,r)},destroyOnClose:n}).open()},password:function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];var s=a[0],l=a[1],c=a[2],u=a[3];return"function"==typeof a[1]&&(s=a[0],c=a[1],u=a[2],l=a[3]),new fn(e,{title:void 0===l?t():l,text:s,content:'\n              <div class="dialog-input-field input">\n                <input type="password" name="dialog-password" placeholder="'.concat(e.params.dialog.passwordPlaceholder,'" class="dialog-input">\n              </div>'),buttons:[{text:e.params.dialog.buttonCancel,keyCodes:r?[27]:null},{text:e.params.dialog.buttonOk,bold:!0,keyCodes:r?[13]:null}],onClick:function(e,t){var n=e.$el.find('[name="dialog-password"]').val();0===t&&u&&u(n),1===t&&c&&c(n)},destroyOnClose:n}).open()},preloader:function(t,r){var i=R["".concat(e.theme,"PreloaderContent")]||"";return new fn(e,{title:null==t?e.params.dialog.preloaderTitle:t,content:'<div class="preloader'.concat(r?" color-".concat(r):"",'">').concat(i,"</div>"),cssClass:"dialog-preloader",destroyOnClose:n}).open()},progress:function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var a=r[0],o=r[1],s=r[2];2===r.length?"number"==typeof r[0]?(o=r[0],s=r[1],a=r[2]):"string"==typeof r[0]&&"string"==typeof r[1]&&(a=r[0],s=r[1],o=r[2]):1===r.length&&"number"==typeof r[0]&&(o=r[0],a=r[1],s=r[2]);var l=void 0===o,c=new fn(e,{title:void 0===a?e.params.dialog.progressTitle:a,cssClass:"dialog-progress",content:'\n              <div class="progressbar'.concat(l?"-infinite":"").concat(s?" color-".concat(s):"",'">\n                ').concat(l?"":"<span></span>","\n              </div>\n            "),destroyOnClose:n});return l||c.setProgress(o),c.open()}})}};function vn(e){return(vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gn(e,t){return!t||"object"!==vn(t)&&"function"!=typeof t?bn(e):t}function yn(e){return(yn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wn(e,t){return(wn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var En=function(e){function t(e,n){var r;!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);var i,a,o=R.extend({on:{}},e.params.popup,n),s=bn(r=gn(this,yn(t).call(this,e,o)));if(s.params=o,(i=s.params.el?f(s.params.el):f(s.params.content))&&0<i.length&&i[0].f7Modal)return gn(r,i[0].f7Modal);if(0===i.length)return gn(r,s.destroy());function l(e){var t=e.target;if(0===f(t).closest(s.el).length&&s.params&&s.params.closeByBackdropClick&&s.params.backdrop&&s.backdropEl&&s.backdropEl===t){var n=!0;s.$el.nextAll(".popup.modal-in").each(function(e,t){var r=t.f7Modal;r&&r.params.closeByBackdropClick&&r.params.backdrop&&r.backdropEl===s.backdropEl&&(n=!1)}),n&&s.close()}}return s.params.backdrop&&0===(a=e.root.children(".popup-backdrop")).length&&(a=f('<div class="popup-backdrop"></div>'),e.root.append(a)),R.extend(s,{app:e,$el:i,el:i[0],$backdropEl:a,backdropEl:a&&a[0],type:"popup"}),s.on("popupOpened",function(){s.params.closeByBackdropClick&&e.on("click",l)}),s.on("popupClose",function(){s.params.closeByBackdropClick&&e.off("click",l)}),gn(r,i[0].f7Modal=s)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wn(e,t)}(t,en),t}(),Cn={name:"popup",params:{popup:{backdrop:!0,closeByBackdropClick:!0}},static:{Popup:En},create:function(){this.popup=K({app:this,constructor:En,defaultSelector:".popup.modal-in"})},clicks:{".popup-open":function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.popup.open(t.popup,t.animate)},".popup-close":function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.popup.close(t.popup,t.animate)}}};function Sn(e){return(Sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _n(e,t){return!t||"object"!==Sn(t)&&"function"!=typeof t?kn(e):t}function Tn(e){return(Tn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xn(e,t){return(xn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var In=function(e){function t(e,n){var r;!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);var i,a=R.extend({on:{}},n),o=kn(r=_n(this,Tn(t).call(this,e,a)));return o.params=a,(i=o.params.el?f(o.params.el):f(o.params.content))&&0<i.length&&i[0].f7Modal?_n(r,i[0].f7Modal):0===i.length?_n(r,o.destroy()):(R.extend(o,{app:e,$el:i,el:i[0],type:"loginScreen"}),_n(r,i[0].f7Modal=o))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xn(e,t)}(t,en),t}(),On={name:"loginScreen",static:{LoginScreen:In},create:function(){this.loginScreen=K({app:this,constructor:In,defaultSelector:".login-screen.modal-in"})},clicks:{".login-screen-open":function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.loginScreen.open(t.loginScreen,t.animate)},".login-screen-close":function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.loginScreen.close(t.loginScreen,t.animate)}}};function Pn(e){return(Pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function An(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dn(e,t){return!t||"object"!==Pn(t)&&"function"!=typeof t?Mn(e):t}function Nn(e){return(Nn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rn(e,t){return(Rn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ln=function(e){function t(e,n){var r;!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);var i,a=R.extend({on:{}},e.params.popover,n),o=Mn(r=Dn(this,Nn(t).call(this,e,a)));if(o.params=a,(i=o.params.el?f(o.params.el):f(o.params.content))&&0<i.length&&i[0].f7Modal)return Dn(r,i[0].f7Modal);var s,l,c=f(o.params.targetEl).eq(0);if(0===i.length)return Dn(r,o.destroy());o.params.backdrop&&0===(s=e.root.children(".popover-backdrop")).length&&(s=f('<div class="popover-backdrop"></div>'),e.root.append(s)),0===i.find(".popover-angle").length?(l=f('<div class="popover-angle"></div>'),i.prepend(l)):l=i.find(".popover-angle");var u=o.open;function h(){o.resize()}function d(e){var t=e.target;0===f(t).closest(o.el).length&&(o.params.closeByBackdropClick&&o.params.backdrop&&o.backdropEl&&o.backdropEl===t?o.close():o.params.closeByOutsideClick&&o.close())}return R.extend(o,{app:e,$el:i,el:i[0],$targetEl:c,targetEl:c[0],$angleEl:l,angleEl:l[0],$backdropEl:s,backdropEl:s&&s[0],type:"popover",open:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1];return"boolean"==typeof t[0]&&(i=t[0],r=t[1]),r&&(o.$targetEl=f(r),o.targetEl=o.$targetEl[0]),u.call(o,i)}}),o.on("popoverOpen",function(){o.resize(),e.on("resize",h),o.on("popoverClose popoverBeforeDestroy",function(){e.off("resize",h)})}),o.on("popoverOpened",function(){(o.params.closeByOutsideClick||o.params.closeByBackdropClick)&&e.on("click",d)}),o.on("popoverClose",function(){(o.params.closeByOutsideClick||o.params.closeByBackdropClick)&&e.off("click",d)}),Dn(r,i[0].f7Modal=o)}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rn(e,t)}(t,en),n=t,(r=[{key:"resize",value:function(){var e=this.app,t=this.$el,n=this.$targetEl,r=this.$angleEl,i=this.params,a=i.targetX,o=i.targetY;t.css({left:"",top:""});var s,l,c,u,h,d,p=[t.width(),t.height()],f=p[0],m=p[1],v=0;if("ios"===e.theme?(r.removeClass("on-left on-right on-top on-bottom").css({left:"",top:""}),v=r.width()/2):t.removeClass("popover-on-left popover-on-right popover-on-top popover-on-bottom").css({left:"",top:""}),n&&0<n.length){c=n.outerWidth(),u=n.outerHeight();var g=n.offset();h=g.left-e.left,d=g.top-e.top;var y=n.parents(".page");0<y.length&&(d-=y[0].scrollTop)}else void 0!==a&&"undefined"!==o&&(h=a,d=o,c=this.params.targetWidth||0,u=this.params.targetHeight||0);var b=0,w=0,E=0,C="md"===e.theme?"bottom":"top";"md"===e.theme?(m<e.height-d-u?(C="bottom",w=d):m<d?(w=d-m+u,C="top"):(C="bottom",w=d),w<=0?w=8:w+m>=e.height&&(w=e.height-m-8),(b=h+c-f-8)+f>=e.width-8&&(b=h+c-f-8),b<8&&(b=8),"top"===C&&t.addClass("popover-on-top"),"bottom"===C&&t.addClass("popover-on-bottom")):(m+v<d?w=d-m-v:m+v<e.height-d-u?(C="bottom",w=d+u+v):(C="middle",(E=w=u/2+d-m/2)<=0?w=5:w+m>=e.height&&(w=e.height-m-5),E-=w),"top"===C||"bottom"===C?((E=b=c/2+h-f/2)<5&&(b=5),b+f>e.width&&(b=e.width-f-5),b<0&&(b=0),"top"===C&&r.addClass("on-bottom"),"bottom"===C&&r.addClass("on-top"),s=f/2-v+(E-=b),s=Math.max(Math.min(s,f-2*v-13),13),r.css({left:"".concat(s,"px")})):"middle"===C&&(b=h-f-v,r.addClass("on-right"),(b<5||b+f>e.width)&&(b<5&&(b=h+c+v),b+f>e.width&&(b=e.width-f-5),r.removeClass("on-right").addClass("on-left")),l=m/2-v+E,l=Math.max(Math.min(l,m-2*v-13),13),r.css({top:"".concat(l,"px")}))),t.css({top:"".concat(w,"px"),left:"".concat(b,"px")})}}])&&An(n.prototype,r),t}(),Fn={name:"popover",params:{popover:{closeByBackdropClick:!0,closeByOutsideClick:!0,backdrop:!0}},static:{Popover:Ln},create:function(){var e=this;e.popover=R.extend(K({app:e,constructor:Ln,defaultSelector:".popover.modal-in"}),{open:function(t,n,r){var i=f(t),a=i[0].f7Modal;return a||(a=new Ln(e,{el:i,targetEl:n})),a.open(n,r)}})},clicks:{".popover-open":function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.popover.open(t.popover,e,t.animate)},".popover-close":function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.popover.close(t.popover,t.animate)}}};function Bn(e){return(Bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $n(e,t){return!t||"object"!==Bn(t)&&"function"!=typeof t?qn(e):t}function Vn(e){return(Vn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Un(e,t){return(Un=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Hn=function(e){function t(e,n){var r;!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);var i,a,o,s=R.extend({on:{}},e.params.actions,n),l=qn(r=$n(this,Vn(t).call(this,e,s)));if(l.params=s,l.params.buttons&&(i=l.params.buttons,Array.isArray(i[0])||(i=[i])),l.groups=i,l.params.el?a=f(l.params.el):l.params.content?a=f(l.params.content):l.params.buttons&&(l.params.convertToPopover&&(l.popoverHtml=l.renderPopover()),l.actionsHtml=l.render()),a&&0<a.length&&a[0].f7Modal)return $n(r,a[0].f7Modal);if(a&&0===a.length&&!l.actionsHtml&&!l.popoverHtml)return $n(r,l.destroy());l.params.backdrop&&0===(o=e.root.children(".actions-backdrop")).length&&(o=f('<div class="actions-backdrop"></div>'),e.root.append(o));var c,u=l.open,h=l.close;function d(e){var t,n;if(n=f(this).hasClass("list-button")?(t=f(this).parents("li").index(),f(this).parents(".list").index()):(t=f(this).index(),f(this).parents(".actions-group").index()),void 0!==i){var r=i[n][t];r.onClick&&r.onClick(l,e),l.params.onClick&&l.params.onClick(l,e),!1!==r.close&&l.close()}}function p(e){var t=e.target;0===f(t).closest(l.el).length&&(l.params.closeByBackdropClick&&l.params.backdrop&&l.backdropEl&&l.backdropEl===t?l.close():l.params.closeByOutsideClick&&l.close())}return l.open=function(t){var n=!1,r=l.params,i=r.targetEl,a=r.targetX,o=r.targetY,s=r.targetWidth,h=r.targetHeight;return l.params.convertToPopover&&(i||void 0!==a&&void 0!==o)&&(l.params.forceToPopover||e.device.ios&&e.device.ipad||768<=e.width)&&(n=!0),n&&l.popoverHtml?((c=e.popover.create({content:l.popoverHtml,backdrop:l.params.backdrop,targetEl:i,targetX:a,targetY:o,targetWidth:s,targetHeight:h})).open(t),c.once("popoverOpened",function(){c.$el.find(".list-button").each(function(e,t){f(t).on("click",d)})}),c.once("popoverClosed",function(){c.$el.find(".list-button").each(function(e,t){f(t).off("click",d)}),R.nextTick(function(){c.destroy(),c=void 0})})):(l.$el=l.actionsHtml?f(l.actionsHtml):l.$el,(l.$el[0].f7Modal=l).groups&&(l.$el.find(".actions-button").each(function(e,t){f(t).on("click",d)}),l.once("actionsClosed",function(){l.$el.find(".actions-button").each(function(e,t){f(t).off("click",d)})})),l.el=l.$el[0],u.call(l,t)),l},l.close=function(e){return c?c.close(e):h.call(l,e),l},R.extend(l,{app:e,$el:a,el:a?a[0]:void 0,$backdropEl:o,backdropEl:o&&o[0],type:"actions"}),l.on("opened",function(){(l.params.closeByBackdropClick||l.params.closeByOutsideClick)&&e.on("click",p)}),l.on("close",function(){(l.params.closeByBackdropClick||l.params.closeByOutsideClick)&&e.off("click",p)}),a&&(a[0].f7Modal=l),$n(r,l)}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Un(e,t)}(t,en),n=t,(r=[{key:"render",value:function(){if(this.params.render)return this.params.render.call(this,this);var e=this.groups;return'\n      <div class="actions-modal'.concat(this.params.grid?" actions-grid":"",'">\n        ').concat(e.map(function(e){return'<div class="actions-group">\n            '.concat(e.map(function(e){var t=["actions-".concat(e.label?"label":"button")],n=e.color,r=e.bg,i=e.bold,a=e.disabled,o=e.label,s=e.text,l=e.icon;return n&&t.push("color-".concat(n)),r&&t.push("bg-color-".concat(r)),i&&t.push("actions-button-bold"),a&&t.push("disabled"),o?'<div class="'.concat(t.join(" "),'">').concat(s,"</div>"):'\n                <div class="'.concat(t.join(" "),'">\n                  ').concat(l?'<div class="actions-button-media">'.concat(l,"</div>"):"",'\n                  <div class="actions-button-text">').concat(s,"</div>\n                </div>").trim()}).join(""),"\n          </div>")}).join(""),"\n      </div>\n    ").trim()}},{key:"renderPopover",value:function(){if(this.params.renderPopover)return this.params.renderPopover.call(this,this);var e=this.groups;return'\n      <div class="popover popover-from-actions">\n        <div class="popover-inner">\n          '.concat(e.map(function(e){return'\n            <div class="list">\n              <ul>\n                '.concat(e.map(function(e){var t=[],n=e.color,r=e.bg,i=e.bold,a=e.disabled,o=e.label,s=e.text,l=e.icon;return n&&t.push("color-".concat(n)),r&&t.push("bg-color-".concat(r)),i&&t.push("popover-from-actions-bold"),a&&t.push("disabled"),o?(t.push("popover-from-actions-label"),'<li class="'.concat(t.join(" "),'">').concat(s,"</li>")):l?(t.push("item-link item-content"),'\n                      <li>\n                        <a class="'.concat(t.join(" "),'">\n                          <div class="item-media">\n                            ').concat(l,'\n                          </div>\n                          <div class="item-inner">\n                            <div class="item-title">\n                              ').concat(s,"\n                            </div>\n                          </div>\n                        </a>\n                      </li>\n                    ")):(t.push("list-button"),'\n                    <li>\n                      <a href="#" class="'.concat(t.join(" "),'">').concat(s,"</a>\n                    </li>\n                  "))}).join(""),"\n              </ul>\n            </div>\n          ")}).join(""),"\n        </div>\n      </div>\n    ").trim()}}])&&jn(n.prototype,r),t}(),zn={name:"actions",params:{actions:{convertToPopover:!0,forceToPopover:!1,closeByBackdropClick:!0,render:null,renderPopover:null,backdrop:!0}},static:{Actions:Hn},create:function(){this.actions=K({app:this,constructor:Hn,defaultSelector:".actions-modal.modal-in"})},clicks:{".actions-open":function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.actions.open(t.actions,t.animate)},".actions-close":function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.actions.close(t.actions,t.animate)}}};function Wn(e){return(Wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kn(e,t){return!t||"object"!==Wn(t)&&"function"!=typeof t?Qn(e):t}function Gn(e){return(Gn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yn(e,t){return(Yn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Xn=function(e){function t(e,n){var r;!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);var i,a,o,s=R.extend({on:{}},e.params.sheet,n),l=Qn(r=Kn(this,Gn(t).call(this,e,s)));if(l.params=s,(i=l.params.el?f(l.params.el):f(l.params.content))&&0<i.length&&i[0].f7Modal)return Kn(r,i[0].f7Modal);if(0===i.length)return Kn(r,l.destroy());function c(e){var t=e.target;0===f(t).closest(l.el).length&&(l.params.closeByBackdropClick&&l.params.backdrop&&l.backdropEl&&l.backdropEl===t?l.close():l.params.closeByOutsideClick&&l.close())}return l.params.backdrop&&0===(a=e.root.children(".sheet-backdrop")).length&&(a=f('<div class="sheet-backdrop"></div>'),e.root.append(a)),l.on("sheetOpen",function(){l.params.scrollToEl&&function(){var e=f(l.params.scrollToEl).eq(0);if(0!==e.length&&0!==(o=e.parents(".page-content")).length){var t,n=parseInt(o.css("padding-top"),10),r=parseInt(o.css("padding-bottom"),10),a=o[0].offsetHeight-n-i.height(),s=o[0].scrollHeight-n-i.height(),c=o.scrollTop(),u=e.offset().top-n+e[0].offsetHeight;if(a<u){var h=c+u-a;s<h+a&&(t=h+a-s+r,a===s&&(t=i.height()),o.css({"padding-bottom":"".concat(t,"px")})),o.scrollTop(h,300)}}}()}),l.on("sheetOpened",function(){(l.params.closeByOutsideClick||l.params.closeByBackdropClick)&&e.on("click",c)}),l.on("sheetClose",function(){l.params.scrollToEl&&o&&0<o.length&&o.css({"padding-bottom":""}),(l.params.closeByOutsideClick||l.params.closeByBackdropClick)&&e.off("click",c)}),R.extend(l,{app:e,$el:i,el:i[0],$backdropEl:a,backdropEl:a&&a[0],type:"sheet"}),Kn(r,i[0].f7Modal=l)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yn(e,t)}(t,en),t}(),Jn={name:"sheet",params:{sheet:{closeByBackdropClick:!0,closeByOutsideClick:!1}},static:{Sheet:Xn},create:function(){this.passedParams.sheet&&void 0!==this.passedParams.sheet.backdrop||(this.params.sheet.backdrop="md"===this.theme),this.sheet=R.extend({},K({app:this,constructor:Xn,defaultSelector:".sheet-modal.modal-in"}))},clicks:{".sheet-open":function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};0<f(".sheet-modal.modal-in").length&&t.sheet&&f(t.sheet)[0]!==f(".sheet-modal.modal-in")[0]&&this.sheet.close(".sheet-modal.modal-in"),this.sheet.open(t.sheet,t.animate)},".sheet-close":function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.sheet.close(t.sheet,t.animate)}}};function Zn(e){return(Zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function er(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tr(e,t){return!t||"object"!==Zn(t)&&"function"!=typeof t?rr(e):t}function nr(e){return(nr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ir(e,t){return(ir=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ar=function(e){function t(e,n){var r;!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);var a=R.extend({on:{}},e.params.toast,n),o=rr(r=tr(this,nr(t).call(this,e,a)));o.app=e,o.params=a;var s,l,c=o.params,u=c.closeButton,h=c.closeTimeout;if(o.params.el)s=f(o.params.el);else{var d=o.render();s=f(d)}return s&&0<s.length&&s[0].f7Modal?tr(r,s[0].f7Modal):0===s.length?tr(r,o.destroy()):(R.extend(o,{$el:s,el:s[0],type:"toast"}),s[0].f7Modal=o,u&&(s.find(".toast-button").on("click",function(){o.emit("local::closeButtonClick toastCloseButtonClick",o),o.close()}),o.on("beforeDestroy",function(){s.find(".toast-button").off("click")})),o.on("open",function(){f(".toast.modal-in").each(function(t,n){var r=e.toast.get(n);n!==o.el&&r&&r.close()}),h&&(l=R.nextTick(function(){o.close()},h))}),o.on("close",function(){i.clearTimeout(l)}),o.params.destroyOnClose&&o.once("closed",function(){setTimeout(function(){o.destroy()},0)}),tr(r,o))}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ir(e,t)}(t,en),n=t,(r=[{key:"render",value:function(){if(this.params.render)return this.params.render.call(this,this);var e=this.params,t=e.position,n=e.cssClass,r=e.icon,i=e.text,a=e.closeButton,o=e.closeButtonColor,s=e.closeButtonText;return'\n      <div class="toast toast-'.concat(t," ").concat(n||""," ").concat(r?"toast-with-icon":"",'">\n        <div class="toast-content">\n          ').concat(r?'<div class="toast-icon">'.concat(r,"</div>"):"",'\n          <div class="toast-text">').concat(i,"</div>\n          ").concat(a&&!r?'\n          <a class="toast-button button '.concat(o?"color-".concat(o):"",'">').concat(s,"</a>\n          ").trim():"","\n        </div>\n      </div>\n    ").trim()}}])&&er(n.prototype,r),t}(),or={name:"toast",static:{Toast:ar},create:function(){var e=this;e.toast=R.extend({},K({app:e,constructor:ar,defaultSelector:".toast.modal-in"}),{show:function(t){return R.extend(t,{destroyOnClose:!0}),new ar(e,t).open()}})},params:{toast:{icon:null,text:null,position:"bottom",closeButton:!1,closeButtonColor:null,closeButtonText:"Ok",closeTimeout:null,cssClass:null,render:null}}},sr={init:function(e){var t=f(e);0===t.length||0<t.children(".preloader-inner").length||0<t.children(".preloader-inner-line").length||t.append(R["".concat(this.theme,"PreloaderContent")])},visible:!1,show:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"white";if(!sr.visible){var t=R["".concat(this.theme,"PreloaderContent")]||"";f("html").addClass("with-modal-preloader"),this.root.append('\n      <div class="preloader-backdrop"></div>\n      <div class="preloader-modal">\n        <div class="preloader color-'.concat(e,'">').concat(t,"</div>\n      </div>\n    ")),sr.visible=!0}},hide:function(){sr.visible&&(f("html").removeClass("with-modal-preloader"),this.root.find(".preloader-backdrop, .preloader-modal").remove(),sr.visible=!1)}},lr={name:"preloader",create:function(){R.extend(this,{preloader:{init:sr.init.bind(this),show:sr.show.bind(this),hide:sr.hide.bind(this)}})},on:{photoBrowserOpen:function(e){var t=this;e.$el.find(".preloader").each(function(e,n){t.preloader.init(n)})},pageInit:function(e){var t=this;e.$el.find(".preloader").each(function(e,n){t.preloader.init(n)})}},vnode:{preloader:{insert:function(e){var t=e.elm;this.preloader.init(t)}}}};function cr(e){return(cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ur={set:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],a=t[2];if("number"==typeof t[0]&&(i=t[0],a=t[1],r=this.root),null==i)return r;i||(i=0);var o=f(r||this.root);if(0===o.length)return r;var s,l=Math.min(Math.max(i,0),100);if(0===(s=o.hasClass("progressbar")?o.eq(0):o.children(".progressbar")).length||s.hasClass("progressbar-infinite"))return s;var c=s.children("span");return 0===c.length&&(c=f("<span></span>"),s.append(c)),c.transition(void 0!==a?a:"").transform("translate3d(".concat(-100+l,"%,0,0)")),s[0]},show:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],a=t[2],o="determined";2===t.length?"string"!=typeof t[0]&&"object"!==cr(t[0])||"string"!=typeof t[1]?"number"==typeof t[0]&&"string"==typeof t[1]&&(i=t[0],a=t[1],r=this.root):(r=t[0],a=t[1],i=t[2],o="infinite"):1===t.length?"number"==typeof t[0]?(r=this.root,i=t[0]):"string"==typeof t[0]&&(o="infinite",r=this.root,a=t[0]):0===t.length&&(o="infinite",r=this.root);var s,l=f(r);if(0!==l.length)return l.hasClass("progressbar")||l.hasClass("progressbar-infinite")?s=l:0===(s=l.children(".progressbar:not(.progressbar-out), .progressbar-infinite:not(.progressbar-out)")).length&&(s=f('\n          <span class="progressbar'.concat("infinite"===o?"-infinite":"").concat(a?" color-".concat(a):"",' progressbar-in">\n            ').concat("infinite"===o?"":"<span></span>","\n          </span>")),l.append(s)),void 0!==i&&this.progressbar.set(s,i),s[0]},hide:function(e){var t,n=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],r=f(e||this.root);if(0!==r.length)return 0===(t=r.hasClass("progressbar")||r.hasClass("progressbar-infinite")?r:r.children(".progressbar, .progressbar-infinite")).length||!t.hasClass("progressbar-in")||t.hasClass("progressbar-out")||t.removeClass("progressbar-in").addClass("progressbar-out").animationEnd(function(){n&&t.remove()}),t}},hr={name:"progressbar",create:function(){R.extend(this,{progressbar:{set:ur.set.bind(this),show:ur.show.bind(this),hide:ur.hide.bind(this)}})},on:{pageInit:function(e){var t=this;e.$el.find(".progressbar").each(function(e,n){var r=f(n);t.progressbar.set(r,r.attr("data-progress"))})}}},dr={init:function(){var e,t,n,i,a,o,s,l,c,u,h,d,p,m,v,g,y,b,w,E,C=this,S=!!C.support.passiveListener&&{passive:!1,capture:!1};f(r).on(C.touchEvents.start,".list.sortable .sortable-handler",function(r){e=!(t=!1),n="touchstart"===r.type?r.targetTouches[0].pageY:r.pageY,a=f(this).parent("li"),p=a.index(),s=a.parents(".sortable");var i=a.parents(".list-group");i.length&&i.parents(s).length&&(s=i),o=s.children("ul").children("li"),C.panel&&(C.panel.allowOpen=!1),C.swipeout&&(C.swipeout.allow=!1)},S),C.on("touchmove:active",function(r){if(e&&a){var p="touchmove"===r.type?r.targetTouches[0].pageY:r.pageY;if(!t){m=a.parents(".page"),v=a.parents(".page-content");var C=parseInt(v.css("padding-top"),10),S=parseInt(v.css("padding-bottom"),10);E=v[0].scrollTop,y=m.offset().top+C,g=m.height()-C-S,a.addClass("sorting"),s.addClass("sortable-sorting"),b=a[0].offsetTop,c=a[0].offsetTop,u=a.parent().height()-b-a.height(),l=a[0].offsetHeight,w=a.offset().top}t=!0,r.preventDefault(),r.f7PreventSwipePanel=!0,i=p-n;var _=v[0].scrollTop-E,T=Math.min(Math.max(i+_,-c),u);a.transform("translate3d(0,".concat(T,"px,0)"));var k,x=!0;i+_+44<-c&&(x=!1),u<i+_-44&&(x=!1),h=d=void 0,x&&(y+g<w+i+l+44&&(k=w+i+l+44-(y+g)),w+i<y+44&&(k=w+i-y-44),k&&(v[0].scrollTop+=k)),o.each(function(e,t){var n=f(t);if(n[0]!==a[0]){var r=n[0].offsetTop,i=n.height(),o=b+T;r-i/2<=o&&a.index()<n.index()?(n.transform("translate3d(0, ".concat(-l,"px,0)")),h=n,d=void 0):o<=r+i/2&&a.index()>n.index()?(n.transform("translate3d(0, ".concat(l,"px,0)")),h=void 0,d||(d=n)):n.transform("translate3d(0, 0%,0)")}})}}),C.on("touchend:passive",function(){if(!e||!t)return t=e=!1,void(e&&!t&&(C.panel&&(C.panel.allowOpen=!0),C.swipeout&&(C.swipeout.allow=!0)));var n;if(C.panel&&(C.panel.allowOpen=!0),C.swipeout&&(C.swipeout.allow=!0),o.transform(""),a.removeClass("sorting"),s.removeClass("sortable-sorting"),h?n=h.index():d&&(n=d.index()),C.params.sortable.moveElements&&(h&&a.insertAfter(h),d&&a.insertBefore(d)),(h||d)&&s.hasClass("virtual-list")){void 0===(p=a[0].f7VirtualListIndex)&&(p=a.attr("data-virtual-list-index")),d?void 0===(n=d[0].f7VirtualListIndex)&&(n=d.attr("data-virtual-list-index")):void 0===(n=h[0].f7VirtualListIndex)&&(n=h.attr("data-virtual-list-index")),n=null!==n?parseInt(n,10):void 0;var r=s[0].f7VirtualList;r&&r.moveItem(p,n)}void 0===n||Number.isNaN(n)||n===p||(a.trigger("sortable:sort",{from:p,to:n}),C.emit("sortableSort",a[0],{from:p,to:n})),h=d=void 0,t=e=!1})},enable:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:".list.sortable",t=f(e);0!==t.length&&(t.addClass("sortable-enabled"),t.trigger("sortable:enable"),this.emit("sortableEnable",t[0]))},disable:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:".list.sortable",t=f(e);0!==t.length&&(t.removeClass("sortable-enabled"),t.trigger("sortable:disable"),this.emit("sortableDisable",t[0]))},toggle:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:".list.sortable",t=f(e);0!==t.length&&(t.hasClass("sortable-enabled")?this.sortable.disable(t):this.sortable.enable(t))}},pr={name:"sortable",params:{sortable:{moveElements:!0}},create:function(){R.extend(this,{sortable:{init:dr.init.bind(this),enable:dr.enable.bind(this),disable:dr.disable.bind(this),toggle:dr.toggle.bind(this)}})},on:{init:function(){this.params.sortable&&this.sortable.init()}},clicks:{".sortable-enable":function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.sortable.enable(t.sortable)},".sortable-disable":function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.sortable.disable(t.sortable)},".sortable-toggle":function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.sortable.toggle(t.sortable)}}},fr={init:function(){var e,t,n,i,a,o,s,l,c,u,h,d,p,m,v,g,y,b,w,E,C,S=this,_={},T=!!S.support.passiveListener&&{passive:!0};S.on("touchstart",function(e){if(fr.el){var t=f(e.target);f(fr.el).is(t[0])||t.parents(".swipeout").is(fr.el)||t.hasClass("modal-in")||0<(t.attr("class")||"").indexOf("-backdrop")||t.hasClass("actions-modal")||0<t.parents(".actions-modal.modal-in, .dialog.modal-in").length||S.swipeout.close(fr.el)}}),f(r).on(S.touchEvents.start,"li.swipeout",function(r){fr.allow&&(e=!(t=!1),n=void 0,_.x="touchstart"===r.type?r.targetTouches[0].pageX:r.pageX,_.y="touchstart"===r.type?r.targetTouches[0].pageY:r.pageY,i=(new Date).getTime(),o=f(this))},T),S.on("touchmove:active",function(r){if(e){var i="touchmove"===r.type?r.targetTouches[0].pageX:r.pageX,T="touchmove"===r.type?r.targetTouches[0].pageY:r.pageY;if(void 0===n&&(n=!!(n||Math.abs(T-_.y)>Math.abs(i-_.x))),n)e=!1;else{if(!t){if(0<f(".list.sortable-opened").length)return;s=o.find(".swipeout-content"),l=o.find(".swipeout-actions-right"),c=o.find(".swipeout-actions-left"),b=w=g=v=h=u=null,0<c.length&&(u=c.outerWidth(),v=c.children("a"),b=c.find(".swipeout-overswipe")),0<l.length&&(h=l.outerWidth(),g=l.children("a"),w=l.find(".swipeout-overswipe")),(p=o.hasClass("swipeout-opened"))&&(m=0<o.find(".swipeout-actions-left.swipeout-actions-opened").length?"left":"right"),o.removeClass("swipeout-transitioning"),S.params.swipeout.noFollow||(o.find(".swipeout-actions-opened").removeClass("swipeout-actions-opened"),o.removeClass("swipeout-opened"))}if(t=!0,r.preventDefault(),a=i-_.x,d=a,p&&("right"===m?d-=h:d+=u),0<d&&0===c.length||d<0&&0===l.length){if(!p)return t=e=!1,s.transform(""),g&&0<g.length&&g.transform(""),void(v&&0<v.length&&v.transform(""));d=0}var k,x;if(d<0?y="to-left":0<d?y="to-right":y||(y="to-left"),r.f7PreventSwipePanel=!0,S.params.swipeout.noFollow)return p?("right"===m&&0<a&&S.swipeout.close(o),"left"===m&&a<0&&S.swipeout.close(o)):(a<0&&0<l.length&&S.swipeout.open(o,"right"),0<a&&0<c.length&&S.swipeout.open(o,"left")),void(t=e=!1);if(C=E=!1,0<l.length){var I=d;x=I/h,I<-h&&(I=-h-Math.pow(-I-h,.8),d=I,0<w.length&&(C=!0)),"to-left"!==y&&(I=x=0),g.each(function(e,t){var n=f(t);void 0===t.f7SwipeoutButtonOffset&&(n[0].f7SwipeoutButtonOffset=t.offsetLeft),k=t.f7SwipeoutButtonOffset,0<w.length&&n.hasClass("swipeout-overswipe")&&"to-left"===y&&(n.css({left:"".concat(C?-k:0,"px")}),C?(n.hasClass("swipeout-overswipe-active")||(o.trigger("swipeout:overswipeenter"),S.emit("swipeoutOverswipeEnter",o[0])),n.addClass("swipeout-overswipe-active")):(n.hasClass("swipeout-overswipe-active")&&(o.trigger("swipeout:overswipeexit"),S.emit("swipeoutOverswipeExit",o[0])),n.removeClass("swipeout-overswipe-active"))),n.transform("translate3d(".concat(I-k*(1+Math.max(x,-1)),"px,0,0)"))})}if(0<c.length){var O=d;x=O/u,u<O&&(O=u+Math.pow(O-u,.8),d=O,0<b.length&&(E=!0)),"to-right"!==y&&(x=O=0),v.each(function(e,t){var n=f(t);void 0===t.f7SwipeoutButtonOffset&&(n[0].f7SwipeoutButtonOffset=u-t.offsetLeft-t.offsetWidth),k=t.f7SwipeoutButtonOffset,0<b.length&&n.hasClass("swipeout-overswipe")&&"to-right"===y&&(n.css({left:"".concat(E?k:0,"px")}),E?(n.hasClass("swipeout-overswipe-active")||(o.trigger("swipeout:overswipeenter"),S.emit("swipeoutOverswipeEnter",o[0])),n.addClass("swipeout-overswipe-active")):(n.hasClass("swipeout-overswipe-active")&&(o.trigger("swipeout:overswipeexit"),S.emit("swipeoutOverswipeExit",o[0])),n.removeClass("swipeout-overswipe-active"))),1<v.length&&n.css("z-index",v.length-e),n.transform("translate3d(".concat(O+k*(1-Math.min(x,1)),"px,0,0)"))})}o.trigger("swipeout",x),S.emit("swipeout",o[0],x),s.transform("translate3d(".concat(d,"px,0,0)"))}}}),S.on("touchend:passive",function(){if(e&&t){t=e=!1;var n,r,m,b,w=(new Date).getTime()-i,_="to-left"===y?l:c,T="to-left"===y?h:u;if(n=w<300&&(a<-10&&"to-left"===y||10<a&&"to-right"===y)||300<=w&&Math.abs(d)>T/2?"open":"close",w<300&&(0===Math.abs(d)&&(n="close"),Math.abs(d)===T&&(n="open")),"open"===n){fr.el=o[0],o.trigger("swipeout:open"),S.emit("swipeoutOpen",o[0]),o.addClass("swipeout-opened swipeout-transitioning");var k="to-left"===y?-T:T;if(s.transform("translate3d(".concat(k,"px,0,0)")),_.addClass("swipeout-actions-opened"),r="to-left"===y?g:v)for(m=0;m<r.length;m+=1)f(r[m]).transform("translate3d(".concat(k,"px,0,0)"));C&&l.find(".swipeout-overswipe")[0].click(),E&&c.find(".swipeout-overswipe")[0].click()}else o.trigger("swipeout:close"),S.emit("swipeoutClose",o[0]),fr.el=void 0,o.addClass("swipeout-transitioning").removeClass("swipeout-opened"),s.transform(""),_.removeClass("swipeout-actions-opened");v&&0<v.length&&v!==r&&v.each(function(e,t){var n=f(t);void 0===(b=t.f7SwipeoutButtonOffset)&&(n[0].f7SwipeoutButtonOffset=u-t.offsetLeft-t.offsetWidth),n.transform("translate3d(".concat(b,"px,0,0)"))}),g&&0<g.length&&g!==r&&g.each(function(e,t){var n=f(t);void 0===(b=t.f7SwipeoutButtonOffset)&&(n[0].f7SwipeoutButtonOffset=t.offsetLeft),n.transform("translate3d(".concat(-b,"px,0,0)"))}),s.transitionEnd(function(){p&&"open"===n||!p&&"close"===n||(o.trigger("open"===n?"swipeout:opened":"swipeout:closed"),S.emit("open"===n?"swipeoutOpened":"swipeoutClosed",o[0]),o.removeClass("swipeout-transitioning"),p&&"close"===n&&(0<l.length&&g.transform(""),0<c.length&&v.transform("")))})}else t=e=!1})},allow:!0,el:void 0,open:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0],a=n[1],o=n[2];"function"==typeof n[1]&&(i=n[0],o=n[1],a=n[2]);var s=f(i).eq(0);if(0!==s.length&&s.hasClass("swipeout")&&!s.hasClass("swipeout-opened")){a||(a=0<s.find(".swipeout-actions-right").length?"right":"left");var l=s.find(".swipeout-actions-".concat(a)),c=s.find(".swipeout-content");if(0!==l.length){s.trigger("swipeout:open").addClass("swipeout-opened").removeClass("swipeout-transitioning"),e.emit("swipeoutOpen",s[0]),l.addClass("swipeout-actions-opened");var u=l.children("a"),h=l.outerWidth(),d="right"===a?-h:h;1<u.length&&u.each(function(e,t){var n=f(t);"right"===a?n.transform("translate3d(".concat(-t.offsetLeft,"px,0,0)")):n.css("z-index",u.length-e).transform("translate3d(".concat(h-t.offsetWidth-t.offsetLeft,"px,0,0)"))}),s.addClass("swipeout-transitioning"),c.transitionEnd(function(){s.trigger("swipeout:opened"),e.emit("swipeoutOpened",s[0]),o&&o.call(s[0])}),R.nextFrame(function(){u.transform("translate3d(".concat(d,"px,0,0)")),c.transform("translate3d(".concat(d,"px,0,0)"))}),fr.el=s[0]}}},close:function(e,t){var n=this,r=f(e).eq(0);if(0!==r.length&&r.hasClass("swipeout-opened")){var i,a=r.find(".swipeout-actions-opened").hasClass("swipeout-actions-right")?"right":"left",o=r.find(".swipeout-actions-opened").removeClass("swipeout-actions-opened"),s=o.children("a"),l=o.outerWidth();fr.allow=!1,r.trigger("swipeout:close"),n.emit("swipeoutClose",r[0]),r.removeClass("swipeout-opened").addClass("swipeout-transitioning"),r.find(".swipeout-content").transform("").transitionEnd(c),i=setTimeout(c,500),s.each(function(e,t){var n=f(t);"right"===a?n.transform("translate3d(".concat(-t.offsetLeft,"px,0,0)")):n.transform("translate3d(".concat(l-t.offsetWidth-t.offsetLeft,"px,0,0)")),n.css({left:"0px"}).removeClass("swipeout-overswipe-active")}),fr.el&&fr.el===r[0]&&(fr.el=void 0)}function c(){fr.allow=!0,r.hasClass("swipeout-opened")||(r.removeClass("swipeout-transitioning"),s.transform(""),r.trigger("swipeout:closed"),n.emit("swipeoutClosed",r[0]),t&&t.call(r[0]),i&&clearTimeout(i))}},delete:function(e,t){var n=this,r=f(e).eq(0);0!==r.length&&(fr.el=void 0,r.trigger("swipeout:delete"),n.emit("swipeoutDelete",r[0]),r.css({height:"".concat(r.outerHeight(),"px")}),r.transitionEnd(function(){if(r.trigger("swipeout:deleted"),n.emit("swipeoutDeleted",r[0]),t&&t.call(r[0]),0<r.parents(".virtual-list").length){var e=r.parents(".virtual-list")[0].f7VirtualList,i=r[0].f7VirtualListIndex;e&&void 0!==i&&e.deleteItem(i)}else n.params.swipeout.removeElements?n.params.swipeout.removeElementsWithTimeout?setTimeout(function(){r.remove()},n.params.swipeout.removeElementsTimeout):r.remove():r.removeClass("swipeout-deleting swipeout-transitioning")}),R.nextFrame(function(){r.addClass("swipeout-deleting swipeout-transitioning").css({height:"0px"}).find(".swipeout-content").transform("translate3d(-100%,0,0)")}))}},mr={name:"swipeout",params:{swipeout:{actionsNoFold:!1,noFollow:!1,removeElements:!0,removeElementsWithTimeout:!1,removeElementsTimeout:0}},create:function(){R.extend(this,{swipeout:{init:fr.init.bind(this),open:fr.open.bind(this),close:fr.close.bind(this),delete:fr.delete.bind(this)}}),Object.defineProperty(this.swipeout,"el",{enumerable:!0,configurable:!0,get:function(){return fr.el},set:function(e){fr.el=e}}),Object.defineProperty(this.swipeout,"allow",{enumerable:!0,configurable:!0,get:function(){return fr.allow},set:function(e){fr.allow=e}})},clicks:{".swipeout-open":function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.swipeout.open(t.swipeout,t.side)},".swipeout-close":function(e){var t=e.closest(".swipeout");0!==t.length&&this.swipeout.close(t)},".swipeout-delete":function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=this,r=e.closest(".swipeout");if(0!==r.length){var i=t.confirm,a=t.confirmTitle;t.confirm?n.dialog.confirm(i,a,function(){n.swipeout.delete(r)}):n.swipeout.delete(r)}}},on:{init:function(){this.params.swipeout&&this.swipeout.init()}}},vr={toggleClicked:function(e){var t=e.closest(".accordion-item").eq(0);t.length||(t=e.parents("li").eq(0));var n=e.parents(".accordion-item-content").eq(0);n.length&&n.parents(t).length||1<e.parents("li").length&&e.parents("li")[0]!==t[0]||this.accordion.toggle(t)},open:function(e){var t=this,n=f(e),r=!1;function i(){r=!0}if(n.trigger("accordion:beforeopen",{prevent:i},i),t.emit("accordionBeforeOpen",n[0],i),!r){var a=n.parents(".accordion-list").eq(0),o=n.children(".accordion-item-content");if(o.removeAttr("aria-hidden"),0===o.length&&(o=n.find(".accordion-item-content")),0!==o.length){var s=0<a.length&&n.parent().children(".accordion-item-opened");0<s.length&&t.accordion.close(s),o.transitionEnd(function(){n.hasClass("accordion-item-opened")?(o.transition(0),o.css("height","auto"),R.nextFrame(function(){o.transition(""),n.trigger("accordion:opened"),t.emit("accordionOpened",n[0])})):(o.css("height",""),n.trigger("accordion:closed"),t.emit("accordionClosed",n[0]))}),o.css("height","".concat(o[0].scrollHeight,"px")),n.trigger("accordion:open"),n.addClass("accordion-item-opened"),t.emit("accordionOpen",n[0])}}},close:function(e){var t=this,n=f(e),r=!1;function i(){r=!0}if(n.trigger("accordion:beforeclose",{prevent:i},i),t.emit("accordionBeforeClose",n[0],i),!r){var a=n.children(".accordion-item-content");0===a.length&&(a=n.find(".accordion-item-content")),n.removeClass("accordion-item-opened"),a.attr("aria-hidden",!0),a.transition(0),a.css("height","".concat(a[0].scrollHeight,"px")),a.transitionEnd(function(){n.hasClass("accordion-item-opened")?(a.transition(0),a.css("height","auto"),R.nextFrame(function(){a.transition(""),n.trigger("accordion:opened"),t.emit("accordionOpened",n[0])})):(a.css("height",""),n.trigger("accordion:closed"),t.emit("accordionClosed",n[0]))}),R.nextFrame(function(){a.transition(""),a.css("height",""),n.trigger("accordion:close"),t.emit("accordionClose",n[0])})}},toggle:function(e){var t=f(e);0!==t.length&&(t.hasClass("accordion-item-opened")?this.accordion.close(e):this.accordion.open(e))}},gr={name:"accordion",create:function(){R.extend(this,{accordion:{open:vr.open.bind(this),close:vr.close.bind(this),toggle:vr.toggle.bind(this)}})},clicks:{".accordion-item .item-link, .accordion-item-toggle, .links-list.accordion-list > ul > li > a":function(e){vr.toggleClicked.call(this,e)}}};function yr(e){return(yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function br(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wr(e,t){return!t||"object"!==yr(t)&&"function"!=typeof t?Cr(e):t}function Er(e){return(Er=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Cr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sr(e,t){return(Sr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _r=function(e){function t(e){var n,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);var a=Cr(n=wr(this,Er(t).call(this,i,[e]))),o={cols:1,height:"md"===e.theme?48:44,cache:!0,dynamicHeightBufferSize:1,showFilteredItemsOnly:!1,renderExternal:void 0,setListHeight:!0,searchByItem:void 0,searchAll:void 0,itemTemplate:void 0,ul:null,createUl:!0,renderItem:function(e){return'\n          <li>\n            <div class="item-content">\n              <div class="item-inner">\n                <div class="item-title">'.concat(e,"</div>\n              </div>\n            </div>\n          </li>\n        ").trim()},on:{}};if(a.useModulesParams(o),a.params=R.extend(o,i),void 0!==a.params.height&&a.params.height||(a.params.height="md"===e.theme?48:44),a.$el=f(i.el),a.el=a.$el[0],0===a.$el.length)return wr(n,void 0);(a.$el[0].f7VirtualList=a).items=a.params.items,a.params.showFilteredItemsOnly&&(a.filteredItems=[]),a.params.itemTemplate?"string"==typeof a.params.itemTemplate?a.renderItem=e.t7.compile(a.params.itemTemplate):"function"==typeof a.params.itemTemplate&&(a.renderItem=a.params.itemTemplate):a.params.renderItem&&(a.renderItem=a.params.renderItem),a.$pageContentEl=a.$el.parents(".page-content"),a.pageContentEl=a.$pageContentEl[0],void 0!==a.params.updatableScroll?a.updatableScroll=a.params.updatableScroll:(a.updatableScroll=!0,L.ios&&L.osVersion.split(".")[0]<8&&(a.updatableScroll=!1));var s,l=a.params.ul;a.$ul=l?f(a.params.ul):a.$el.children("ul"),0===a.$ul.length&&a.params.createUl&&(a.$el.append("<ul></ul>"),a.$ul=a.$el.children("ul")),a.ul=a.$ul[0],s=a.ul||a.params.createUl?a.$ul:a.$el,R.extend(a,{$itemsWrapEl:s,itemsWrapEl:s[0],domCache:{},displayDomCache:{},tempDomElement:r.createElement("ul"),lastRepaintY:null,fragment:r.createDocumentFragment(),pageHeight:void 0,rowsPerScreen:void 0,rowsBefore:void 0,rowsAfter:void 0,rowsToRender:void 0,maxBufferHeight:0,listHeight:void 0,dynamicHeight:"function"==typeof a.params.height}),a.useModules();var c,u,h,d,p=a.handleScroll.bind(a),m=a.handleResize.bind(a);return a.attachEvents=function(){c=a.$el.parents(".page").eq(0),u=a.$el.parents(".tab").eq(0),h=a.$el.parents(".panel").eq(0),d=a.$el.parents(".popup").eq(0),a.$pageContentEl.on("scroll",p),c&&c.on("page:reinit",m),u&&u.on("tab:show",m),h&&h.on("panel:open",m),d&&d.on("popup:open",m),e.on("resize",m)},a.detachEvents=function(){a.$pageContentEl.off("scroll",p),c&&c.off("page:reinit",m),u&&u.off("tab:show",m),h&&h.off("panel:open",m),d&&d.off("popup:open",m),e.off("resize",m)},a.init(),wr(n,a)}var n,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sr(e,t)}(t,H),n=t,(i=[{key:"setListSize",value:function(){var e=this,t=e.filteredItems||e.items;if(e.pageHeight=e.$pageContentEl[0].offsetHeight,e.dynamicHeight){e.listHeight=0,e.heights=[];for(var n=0;n<t.length;n+=1){var r=e.params.height(t[n]);e.listHeight+=r,e.heights.push(r)}}else e.listHeight=Math.ceil(t.length/e.params.cols)*e.params.height,e.rowsPerScreen=Math.ceil(e.pageHeight/e.params.height),e.rowsBefore=e.params.rowsBefore||2*e.rowsPerScreen,e.rowsAfter=e.params.rowsAfter||e.rowsPerScreen,e.rowsToRender=e.rowsPerScreen+e.rowsBefore+e.rowsAfter,e.maxBufferHeight=e.rowsBefore/2*e.params.height;(e.updatableScroll||e.params.setListHeight)&&e.$itemsWrapEl.css({height:"".concat(e.listHeight,"px")})}},{key:"render",value:function(e,t){var n=this;e&&(n.lastRepaintY=null);var r=-(n.$el[0].getBoundingClientRect().top-n.$pageContentEl[0].getBoundingClientRect().top);if(void 0!==t&&(r=t),null===n.lastRepaintY||Math.abs(r-n.lastRepaintY)>n.maxBufferHeight||!n.updatableScroll&&n.$pageContentEl[0].scrollTop+n.pageHeight>=n.$pageContentEl[0].scrollHeight){n.lastRepaintY=r;var i,a,o,s=n.filteredItems||n.items,l=0,c=0;if(n.dynamicHeight){var u,h=0;n.maxBufferHeight=n.pageHeight;for(var d=0;d<n.heights.length;d+=1)u=n.heights[d],void 0===i&&(h+u>=r-2*n.pageHeight*n.params.dynamicHeightBufferSize?i=d:l+=u),void 0===a&&((h+u>=r+2*n.pageHeight*n.params.dynamicHeightBufferSize||d===n.heights.length-1)&&(a=d+1),c+=u),h+=u;a=Math.min(a,s.length)}else(i=(parseInt(r/n.params.height,10)-n.rowsBefore)*n.params.cols)<0&&(i=0),a=Math.min(i+n.rowsToRender*n.params.cols,s.length);var p,f=[];for(n.reachEnd=!1,p=i;p<a;p+=1){var m=void 0,v=n.items.indexOf(s[p]);p===i&&(n.currentFromIndex=v),p===a-1&&(n.currentToIndex=v),n.filteredItems?n.items[v]===n.filteredItems[n.filteredItems.length-1]&&(n.reachEnd=!0):v===n.items.length-1&&(n.reachEnd=!0),n.params.renderExternal?f.push(s[p]):n.domCache[v]?(m=n.domCache[v]).f7VirtualListIndex=v:(n.renderItem?n.tempDomElement.innerHTML=n.renderItem(s[p],v).trim():n.tempDomElement.innerHTML=s[p].toString().trim(),m=n.tempDomElement.childNodes[0],n.params.cache&&(n.domCache[v]=m),m.f7VirtualListIndex=v),p===i&&(o=n.dynamicHeight?l:p*n.params.height/n.params.cols),n.params.renderExternal||(m.style.top="".concat(o,"px"),n.emit("local::itemBeforeInsert vlItemBeforeInsert",n,m,s[p]),n.fragment.appendChild(m))}n.updatableScroll||(n.dynamicHeight?n.itemsWrapEl.style.height="".concat(c,"px"):n.itemsWrapEl.style.height="".concat(p*n.params.height/n.params.cols,"px")),n.params.renderExternal?s&&0===s.length&&(n.reachEnd=!0):(n.emit("local::beforeClear vlBeforeClear",n,n.fragment),n.itemsWrapEl.innerHTML="",n.emit("local::itemsBeforeInsert vlItemsBeforeInsert",n,n.fragment),s&&0===s.length?(n.reachEnd=!0,n.params.emptyTemplate&&(n.itemsWrapEl.innerHTML=n.params.emptyTemplate)):n.itemsWrapEl.appendChild(n.fragment),n.emit("local::itemsAfterInsert vlItemsAfterInsert",n,n.fragment)),void 0!==t&&e&&n.$pageContentEl.scrollTop(t,0),n.params.renderExternal&&n.params.renderExternal(n,{fromIndex:i,toIndex:a,listHeight:n.listHeight,topPosition:o,items:f})}}},{key:"filterItems",value:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];this.filteredItems=[];for(var n=0;n<e.length;n+=1)this.filteredItems.push(this.items[e[n]]);t&&(this.$pageContentEl[0].scrollTop=0),this.update()}},{key:"resetFilter",value:function(){this.params.showFilteredItemsOnly?this.filteredItems=[]:(this.filteredItems=null,delete this.filteredItems),this.update()}},{key:"scrollToItem",value:function(e){if(e>this.items.length)return!1;var t=0;if(this.dynamicHeight)for(var n=0;n<e;n+=1)t+=this.heights[n];else t=e*this.params.height;var r=this.$el[0].offsetTop;return this.render(!0,r+t-parseInt(this.$pageContentEl.css("padding-top"),10)),!0}},{key:"handleScroll",value:function(){this.render()}},{key:"isVisible",value:function(){return!!(this.el.offsetWidth||this.el.offsetHeight||this.el.getClientRects().length)}},{key:"handleResize",value:function(){this.isVisible()&&(this.setListSize(),this.render(!0))}},{key:"appendItems",value:function(e){for(var t=0;t<e.length;t+=1)this.items.push(e[t]);this.update()}},{key:"appendItem",value:function(e){this.appendItems([e])}},{key:"replaceAllItems",value:function(e){this.items=e,delete this.filteredItems,this.domCache={},this.update()}},{key:"replaceItem",value:function(e,t){this.items[e]=t,this.params.cache&&delete this.domCache[e],this.update()}},{key:"prependItems",value:function(e){for(var t=this,n=e.length-1;0<=n;n-=1)t.items.unshift(e[n]);if(t.params.cache){var r={};Object.keys(t.domCache).forEach(function(n){r[parseInt(n,10)+e.length]=t.domCache[n]}),t.domCache=r}t.update()}},{key:"prependItem",value:function(e){this.prependItems([e])}},{key:"moveItem",value:function(e,t){var n=this,r=e,i=t;if(r!==i){var a=n.items.splice(r,1)[0];if(i>=n.items.length?(n.items.push(a),i=n.items.length-1):n.items.splice(i,0,a),n.params.cache){var o={};Object.keys(n.domCache).forEach(function(e){var t=parseInt(e,10),a=r<i?r:i,s=r<i?i:r,l=r<i?-1:1;(t<a||s<t)&&(o[t]=n.domCache[t]),t===a&&(o[s]=n.domCache[t]),a<t&&t<=s&&(o[t+l]=n.domCache[t])}),n.domCache=o}n.update()}}},{key:"insertItemBefore",value:function(e,t){var n=this;if(0!==e)if(e>=n.items.length)n.appendItem(t);else{if(n.items.splice(e,0,t),n.params.cache){var r={};Object.keys(n.domCache).forEach(function(t){var i=parseInt(t,10);e<=i&&(r[i+1]=n.domCache[i])}),n.domCache=r}n.update()}else n.prependItem(t)}},{key:"deleteItems",value:function(e){for(var t,n=this,r=0,i=function(i){var a=e[i];void 0!==t&&t<a&&(r=-i),a+=r,t=e[i];var o=n.items.splice(a,1)[0];if(n.filteredItems&&0<=n.filteredItems.indexOf(o)&&n.filteredItems.splice(n.filteredItems.indexOf(o),1),n.params.cache){var s={};Object.keys(n.domCache).forEach(function(e){var t=parseInt(e,10);t===a?delete n.domCache[a]:parseInt(e,10)>a?s[t-1]=n.domCache[e]:s[t]=n.domCache[e]}),n.domCache=s}},a=0;a<e.length;a+=1)i(a);n.update()}},{key:"deleteAllItems",value:function(){this.items=[],delete this.filteredItems,this.params.cache&&(this.domCache={}),this.update()}},{key:"deleteItem",value:function(e){this.deleteItems([e])}},{key:"clearCache",value:function(){this.domCache={}}},{key:"update",value:function(e){e&&this.params.cache&&(this.domCache={}),this.setListSize(),this.render(!0)}},{key:"init",value:function(){this.attachEvents(),this.setListSize(),this.render()}},{key:"destroy",value:function(){var e=this;e.detachEvents(),e.$el[0].f7VirtualList=null,delete e.$el[0].f7VirtualList,R.deleteProps(e),e=null}}])&&br(n.prototype,i),t}(),Tr={name:"virtualList",static:{VirtualList:_r},create:function(){this.virtualList=W({defaultSelector:".virtual-list",constructor:_r,app:this,domProp:"f7VirtualList"})}};function kr(e){return(kr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ir(e,t){return!t||"object"!==kr(t)&&"function"!=typeof t?Pr(e):t}function Or(e){return(Or=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ar(e,t){return(Ar=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Dr=function(e){function t(e){var n,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);var i,a,o,s,l=Pr(n=Ir(this,Or(t).call(this,r,[e]))),c={el:null,listEl:null,indexes:"auto",iosItemHeight:14,mdItemHeight:14,scrollList:!0,label:!1,renderItem:function(e,t){return"\n          <li>".concat(e,"</li>\n        ").trim()},renderSkipPlaceholder:function(){return'<li class="list-index-skip-placeholder"></li>'},on:{}};if(l.useModulesParams(c),l.params=R.extend(c,r),!l.params.el)return Ir(n,l);if((i=f(l.params.el))[0].f7ListIndex)return Ir(n,i[0].f7ListIndex);if(0===(s=i.find("ul")).length&&(s=f("<ul></ul>"),i.append(s)),l.params.listEl&&(a=f(l.params.listEl)),"auto"===l.params.indexes&&!a)return Ir(n,l);function u(){var e={index:l};l.calcSize(),e!==l.height&&l.render()}function h(e){var t=f(e.target).closest("li");if(t.length){var n=t.index();if(0<l.skipRate){var r=n/(t.siblings("li").length-1);n=Math.round((l.indexes.length-1)*r)}var i=l.indexes[n];l.$el.trigger("listindex:click",i,n),l.emit("local::click listIndexClick",l,i,n),l.$el.trigger("listindex:select",i,n),l.emit("local::select listIndexSelect",l,i,n),l.$listEl&&l.params.scrollList&&l.scrollListToIndex(i,n)}}a?o=a.parents(".page-content").eq(0):0===(o=i.siblings(".page-content").eq(0)).length&&(o=i.parents(".page").eq(0).find(".page-content").eq(0)),i[0].f7ListIndex=l,R.extend(l,{app:e,$el:i,el:i&&i[0],$ul:s,ul:s&&s[0],$listEl:a,listEl:a&&a[0],$pageContentEl:o,pageContentEl:o&&o[0],indexes:r.indexes,height:0,skipRate:0}),l.useModules();var d,p,m,v,g,y={},b=null;function w(e){var t=s.children();t.length&&(m=t[0].getBoundingClientRect().top,v=t[t.length-1].getBoundingClientRect().top+t[0].offsetHeight,y.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,y.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,p=!(d=!0),b=null)}function E(e){if(d){!p&&l.params.label&&(g=f('<span class="list-index-label"></span>'),i.append(g)),p=!0;var t="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY;e.preventDefault();var n=(t-m)/(v-m);n=Math.min(Math.max(n,0),1);var r=Math.round((l.indexes.length-1)*n),a=l.indexes[r],o=v-m,s=(l.height-o)/2+(1-n)*o;r!==b&&(l.params.label&&g.html(a).transform("translateY(-".concat(s,"px)")),l.$listEl&&l.params.scrollList&&l.scrollListToIndex(a,r)),b=r,l.$el.trigger("listindex:select",l),l.emit("local::select listIndexSelect",l,a,r)}}function C(){d&&(p=d=!1,l.params.label&&(g&&g.remove(),g=void 0))}var S=!!e.support.passiveListener&&{passive:!0};return l.attachEvents=function(){i.parents(".tab").on("tab:show",u),i.parents(".page").on("page:reinit",u),i.parents(".panel").on("panel:open",u),i.parents(".sheet-modal, .actions-modal, .popup, .popover, .login-screen, .dialog, .toast").on("modal:open",u),e.on("resize",u),i.on("click",h),i.on(e.touchEvents.start,w,S),e.on("touchmove:active",E),e.on("touchend:passive",C)},l.detachEvents=function(){i.parents(".tab").off("tab:show",u),i.parents(".page").off("page:reinit",u),i.parents(".panel").off("panel:open",u),i.parents(".sheet-modal, .actions-modal, .popup, .popover, .login-screen, .dialog, .toast").off("modal:open",u),e.off("resize",u),i.off("click",h),i.off(e.touchEvents.start,w,S),e.off("touchmove:active",E),e.off("touchend:passive",C)},l.init(),Ir(n,l)}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ar(e,t)}(t,H),n=t,(r=[{key:"scrollListToIndex",value:function(e,t){var n,r=this.$listEl,i=this.$pageContentEl;if(!r||!i||0===i.length)return this;if(r.find(".list-group-title, .item-divider").each(function(t,r){if(!n){var i=f(r);i.text()===e&&(n=i)}}),!n||0===n.length)return this;var a=n.parent().offset().top,o=parseInt(i.css("padding-top"),10),s=i[0].scrollTop,l=n.offset().top;return a<=o?i.scrollTop(a+s-o):i.scrollTop(l+s-o),this}},{key:"renderSkipPlaceholder",value:function(){return this.params.renderSkipPlaceholder.call(this)}},{key:"renderItem",value:function(e,t){return this.params.renderItem.call(this,e,t)}},{key:"render",value:function(){var e,t=this,n=t.$ul,r=t.indexes,i=t.skipRate,a=r.map(function(n,r){if(r%i!=0&&0<i)return e=!0,"";var a=t.renderItem(n,r);return e&&(a=t.renderSkipPlaceholder()+a),e=!1,a}).join("");return n.html(a),t}},{key:"calcSize",value:function(){var e=this.app,t=this.params,n=this.el,r=this.indexes,i=n.offsetHeight,a="ios"===e.theme?t.iosItemHeight:t.mdItemHeight,o=Math.floor(i/a),s=r.length,l=0;return o<s&&(l=Math.ceil((2*s-1)/o)),this.height=i,this.skipRate=l,this}},{key:"calcIndexes",value:function(){var e=this;return"auto"===e.params.indexes?(e.indexes=[],e.$listEl.find(".list-group-title, .item-divider").each(function(t,n){var r=f(n).text();e.indexes.indexOf(r)<0&&e.indexes.push(r)})):e.indexes=e.params.indexes,e}},{key:"update",value:function(){return this.calcIndexes(),this.calcSize(),this.render(),this}},{key:"init",value:function(){this.calcIndexes(),this.calcSize(),this.render(),this.attachEvents()}},{key:"destroy",value:function(){var e=this;e.$el.trigger("listindex:beforedestroy",e),e.emit("local::beforeDestroy listIndexBeforeDestroy",e),e.detachEvents(),e.$el[0]&&(e.$el[0].f7ListIndex=null,delete e.$el[0].f7ListIndex),R.deleteProps(e),e=null}}])&&xr(n.prototype,r),t}(),Nr={name:"listIndex",static:{ListIndex:Dr},create:function(){this.listIndex=W({defaultSelector:".list-index",constructor:Dr,app:this,domProp:"f7ListIndex"})},on:{tabMounted:function(e){var t=this;f(e).find(".list-index-init").each(function(e,n){var r=R.extend(f(n).dataset(),{el:n});t.listIndex.create(r)})},tabBeforeRemove:function(e){f(e).find(".list-index-init").each(function(e,t){t.f7ListIndex&&t.f7ListIndex.destroy()})},pageInit:function(e){var t=this;e.$el.find(".list-index-init").each(function(e,n){var r=R.extend(f(n).dataset(),{el:n});t.listIndex.create(r)})},pageBeforeRemove:function(e){e.$el.find(".list-index-init").each(function(e,t){t.f7ListIndex&&t.f7ListIndex.destroy()})}},vnode:{"list-index-init":{insert:function(e){var t=e.elm,n=R.extend(f(t).dataset(),{el:t});this.listIndex.create(n)},destroy:function(e){var t=e.elm;t.f7ListIndex&&t.f7ListIndex.destroy()}}}},Mr={show:function(){for(var e,t,n,r,i=this,a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];1===o.length&&o[0].constructor===Object?(e=o[0].tabEl,t=o[0].tabLinkEl,n=o[0].animate,r=o[0].tabRoute):(e=o[0],t=o[1],n=o[2],r=o[3],"boolean"==typeof o[1]&&(e=o[0],n=o[1],t=o[2],r=o[3],2<o.length&&t.constructor===Object&&(e=o[0],n=o[1],r=o[2],t=o[3]))),void 0===n&&(n=!0);var l,c=f(e);if(r&&c[0]&&(c[0].f7TabRoute=r),0===c.length||c.hasClass("tab-active"))return{$newTabEl:c,newTabEl:c[0]};t&&(l=f(t));var u=c.parent(".tabs");if(0===u.length)return{$newTabEl:c,newTabEl:c[0]};i.swipeout&&(i.swipeout.allowOpen=!0);var h=[];function d(){h.forEach(function(e){e()})}var p,m=!1;if(u.parent().hasClass("tabs-animated-wrap")){u.parent()[n?"removeClass":"addClass"]("not-animated");var v=parseFloat(u.css("transition-duration").replace(",","."));n&&v&&(u.transitionEnd(d),m=!0);var g=100*(i.rtl?c.index():-c.index());u.transform("translate3d(".concat(g,"%,0,0)"))}u.parent().hasClass("tabs-swipeable-wrap")&&i.swiper&&((p=u.parent()[0].swiper)&&p.activeIndex!==c.index()?(m=!0,p.once("slideChangeTransitionEnd",function(){d()}).slideTo(c.index(),n?void 0:0)):p&&p.animating&&(m=!0,p.once("slideChangeTransitionEnd",function(){d()})));var y=u.children(".tab-active");if(y.removeClass("tab-active"),(!p||p&&!p.animating||p&&r)&&(y.trigger("tab:hide"),i.emit("tabHide",y[0])),c.addClass("tab-active"),(!p||p&&!p.animating||p&&r)&&(c.trigger("tab:show"),i.emit("tabShow",c[0])),!l&&((!(l=f("string"==typeof e?'.tab-link[href="'.concat(e,'"]'):'.tab-link[href="#'.concat(c.attr("id"),'"]')))||l&&0===l.length)&&f("[data-tab]").each(function(e,t){c.is(f(t).attr("data-tab"))&&(l=f(t))}),r&&(!l||l&&0===l.length)&&0===(l=f('[data-route-tab-id="'.concat(r.route.tab.id,'"]'))).length&&(l=f('.tab-link[href="'.concat(r.url,'"]'))),1<l.length&&c.parents(".page").length&&(l=l.filter(function(e,t){return f(t).parents(".page")[0]===c.parents(".page")[0]}),"ios"===i.theme&&0===l.length&&r))){var b=c.parents(".page"),w=f(i.navbar.getElByPage(b));0===(l=w.find('[data-route-tab-id="'.concat(r.route.tab.id,'"]'))).length&&(l=w.find('.tab-link[href="'.concat(r.url,'"]')))}if(0<l.length){var E;if(y&&0<y.length){var C=y.attr("id");C&&(!(E=f('.tab-link[href="#'.concat(C,'"]')))||E&&0===E.length)&&(E=f('.tab-link[data-route-tab-id="'.concat(C,'"]'))),(!E||E&&0===E.length)&&f("[data-tab]").each(function(e,t){y.is(f(t).attr("data-tab"))&&(E=f(t))}),(!E||E&&0===E.length)&&(E=l.siblings(".tab-link-active"))}else r&&(E=l.siblings(".tab-link-active"));if(E&&1<E.length&&y&&y.parents(".page").length&&(E=E.filter(function(e,t){return f(t).parents(".page")[0]===y.parents(".page")[0]})),E&&0<E.length&&E.removeClass("tab-link-active"),l&&0<l.length&&(l.addClass("tab-link-active"),"md"===i.theme&&i.toolbar)){var S=l.parents(".tabbar, .tabbar-labels");0<S.length&&i.toolbar.setHighlight(S)}}return{$newTabEl:c,newTabEl:c[0],$oldTabEl:y,oldTabEl:y[0],onTabsChanged:function(e){h.push(e)},animated:m}}},Rr={name:"tabs",create:function(){R.extend(this,{tab:{show:Mr.show.bind(this)}})},clicks:{".tab-link":function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};(e.attr("href")&&0===e.attr("href").indexOf("#")||e.attr("data-tab"))&&this.tab.show({tabEl:t.tab||e.attr("href"),tabLinkEl:e,animate:t.animate})}}};function Lr(e){return(Lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Br(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jr(e,t){return!t||"object"!==Lr(t)&&"function"!=typeof t?Vr(e):t}function $r(e){return($r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qr(e,t){return(qr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ur=function(e){function t(e){var n,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);var i=Vr(n=jr(this,$r(t).call(this,r,[e]))),a=r.el;!a&&r.content&&(a=r.content);var o=f(a);if(0===o.length)return jr(n,i);if(o[0].f7Panel)return jr(n,o[0].f7Panel);o[0].f7Panel=i;var s=r.opened,l=r.side,c=r.effect;if(void 0===s&&(s=o.hasClass("panel-active")),void 0===l&&(l=o.hasClass("panel-left")?"left":"right"),void 0===c&&(c=o.hasClass("panel-cover")?"cover":"reveal"),e.panel[l])throw new Error("Framework7: Can't create panel; app already has a ".concat(l," panel!"));R.extend(e.panel,Fr({},l,i));var u=f(".panel-backdrop");return 0===u.length&&(u=f('<div class="panel-backdrop"></div>')).insertBefore(o),R.extend(i,{app:e,side:l,effect:c,$el:o,el:o[0],opened:s,$backdropEl:u,backdropEl:u[0]}),i.useModules(),i.init(),jr(n,i)}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qr(e,t)}(t,H),n=t,(r=[{key:"init",value:function(){var e=this.app;e.params.panel["".concat(this.side,"Breakpoint")]&&this.initBreakpoints(),(e.params.panel.swipe===this.side||"both"===e.params.panel.swipe||e.params.panel.swipe&&e.params.panel.swipe!==this.side&&e.params.panel.swipeCloseOpposite)&&this.initSwipePanel()}},{key:"getViewEl",value:function(){var e=this.app;return 0<e.root.children(".views").length?e.root.children(".views")[0]:e.root.children(".view")[0]}},{key:"setBreakpoint",value:function(){var e=this,t=e.app,n=e.side,r=e.$el,i=f(e.getViewEl()),a=t.params.panel["".concat(n,"Breakpoint")],o=r.hasClass("panel-visible-by-breakpoint");t.width>=a?o||(f("html").removeClass("with-panel-".concat(n,"-reveal with-panel-").concat(n,"-cover with-panel")),r.css("display","").addClass("panel-visible-by-breakpoint").removeClass("panel-active"),e.onOpen(),e.onOpened(),i.css(Fr({},"margin-".concat(n),"".concat(r.width(),"px"))),t.allowPanelOpen=!0,t.emit("local::breakpoint panelBreakpoint"),e.$el.trigger("panel:breakpoint",e)):o&&(r.css("display","").removeClass("panel-visible-by-breakpoint panel-active"),e.onClose(),e.onClosed(),i.css(Fr({},"margin-".concat(n),"")),t.emit("local::breakpoint panelBreakpoint"),e.$el.trigger("panel:breakpoint",e))}},{key:"initBreakpoints",value:function(){var e=this,t=e.app;return e.resizeHandler=function(){e.setBreakpoint()},t.params.panel["".concat(e.side,"Breakpoint")]&&t.on("resize",e.resizeHandler),e.setBreakpoint(),e}},{key:"initSwipePanel",value:function(){!function(e){var t=e.app;R.extend(e,{swipeable:!0,swipeInitialized:!0});var n,r,i,a,o,s,l,c,u,h,d,p=t.params.panel,m=e.$el,v=e.$backdropEl,g=e.side,y=e.effect,b={},w=0;function E(s){if(e.swipeable&&t.panel.allowOpen&&(p.swipe||p.swipeOnlyClose)&&!r&&!(0<f(".modal-in:not(.toast):not(.notification), .photo-browser-in").length)&&(n=t.panel["left"===g?"right":"left"]||{},(e.opened||!n.opened)&&(p.swipeCloseOpposite||p.swipeOnlyClose||!n.opened)&&(!s.target||"input"!==s.target.nodeName.toLowerCase()||"range"!==s.target.type)&&!(0<f(s.target).closest(".range-slider, .tabs-swipeable-wrap, .calendar-months, .no-swipe-panel, .card-opened").length)&&(b.x="touchstart"===s.type?s.targetTouches[0].pageX:s.pageX,b.y="touchstart"===s.type?s.targetTouches[0].pageY:s.pageY,(!p.swipeOnlyClose||e.opened)&&("both"===p.swipe||!p.swipeCloseOpposite||p.swipe===g||e.opened)))){if(p.swipeActiveArea&&!e.opened){if("left"===g&&b.x>p.swipeActiveArea)return;if("right"===g&&b.x<t.width-p.swipeActiveArea)return}if(p.swipeCloseActiveAreaSide&&e.opened){if("left"===g&&b.x<m[0].offsetWidth-p.swipeCloseActiveAreaSide)return;if("right"===g&&b.x>t.width-m[0].offsetWidth+p.swipeCloseActiveAreaSide)return}w=0,d=f(e.getViewEl()),r=!(i=!1),a=void 0,o=R.now(),h=void 0}}function C(n){if(r&&!((w+=1)<2))if(n.f7PreventSwipePanel||t.preventSwipePanelBySwipeBack||t.preventSwipePanel)r=!1;else{var f="touchmove"===n.type?n.targetTouches[0].pageX:n.pageX,E="touchmove"===n.type?n.targetTouches[0].pageY:n.pageY;if(void 0===a&&(a=!!(a||Math.abs(E-b.y)>Math.abs(f-b.x))),a)r=!1;else{if(!h){if(h=f>b.x?"to-right":"to-left","both"===p.swipe&&0<p.swipeActiveArea&&!e.opened){if("left"===g&&b.x>p.swipeActiveArea)return void(r=!1);if("right"===g&&b.x<t.width-p.swipeActiveArea)return void(r=!1)}if(m.hasClass("panel-visible-by-breakpoint"))return void(r=!1);if("left"===g&&"to-left"===h&&!m.hasClass("panel-active")||"right"===g&&"to-right"===h&&!m.hasClass("panel-active"))return void(r=!1)}var C=e.opened?0:-p.swipeThreshold;if("right"===g&&(C=-C),p.swipeNoFollow){var S,_=f-b.x,T=(new Date).getTime()-o;return!e.opened&&("left"===g&&-C<_||"right"===g&&C<-_)&&(S=!0),e.opened&&("left"===g&&_<0||"right"===g&&0<_)&&(S=!0),void(S&&(T<300&&("to-left"===h&&("right"===g&&t.panel.open(g),"left"===g&&m.hasClass("panel-active")&&t.panel.close()),"to-right"===h&&("left"===g&&t.panel.open(g),"right"===g&&m.hasClass("panel-active")&&t.panel.close())),i=r=!1))}i||(e.opened||(m.show(),v.show(),m.trigger("panel:swipeopen",e),e.emit("local::swipeOpen panelSwipeOpen",e)),u=m[0].offsetWidth,m.transition(0)),i=!0,n.preventDefault(),s=f-b.x+C,"right"===g?"cover"===y?((l=s+(e.opened?0:u))<0&&(l=0),u<l&&(l=u)):(0<(l=s-(e.opened?u:0))&&(l=0),l<-u&&(l=-u)):((l=s+(e.opened?u:0))<0&&(l=0),u<l&&(l=u)),"reveal"===y?(d.transform("translate3d(".concat(l,"px,0,0)")).transition(0),v.transform("translate3d(".concat(l,"px,0,0)")).transition(0)):("left"===g&&(l-=u),m.transform("translate3d(".concat(l,"px,0,0)")).transition(0),v.transition(0),c=1-Math.abs(l/u),v.css({opacity:c})),m.trigger("panel:swipe",e,Math.abs(l/u)),e.emit("local::swipe panelSwipe",e,Math.abs(l/u))}}}function S(){if(r&&i){i=r=!1;var t,n=(new Date).getTime()-o,a=0===l||Math.abs(l)===u,c=p.swipeThreshold||0;if("swap"==(t=e.opened?"cover"===y?0===l?"reset":n<300&&0<Math.abs(l)?"swap":300<=n&&Math.abs(l)<u/2?"reset":"swap":l===-u?"reset":n<300&&0<=Math.abs(l)||300<=n&&Math.abs(l)<=u/2?"left"===g&&l===u?"reset":"swap":"reset":Math.abs(s)<c?"reset":"cover"===y?0===l?"swap":n<300&&0<Math.abs(l)?"swap":300<=n&&Math.abs(l)<u/2?"swap":"reset":0===l?"reset":n<300&&0<Math.abs(l)||300<=n&&Math.abs(l)>=u/2?"swap":"reset")&&(e.opened?e.close(!a):e.open(!a)),"reset"===t&&!e.opened)if(a)m.css({display:""});else{var h="reveal"===y?d:m;f("html").addClass("with-panel-transitioning"),h.transitionEnd(function(){m.hasClass("panel-active")||(m.css({display:""}),f("html").removeClass("with-panel-transitioning"))})}"reveal"===y&&R.nextFrame(function(){d.transition(""),d.transform("")}),m.transition("").transform(""),v.css({display:""}).transform("").transition("").css("opacity","")}else i=r=!1}t.on("touchstart:passive",E),t.on("touchmove:active",C),t.on("touchend:passive",S),e.on("panelDestroy",function(){t.off("touchstart:passive",E),t.off("touchmove:active",C),t.off("touchend:passive",S)})}(this)}},{key:"destroy",value:function(){var e=this,t=e.app;e.$el&&(e.emit("local::beforeDestroy panelBeforeDestroy",e),e.$el.trigger("panel:beforedestroy",e),e.resizeHandler&&t.off("resize",e.resizeHandler),e.$el.trigger("panel:destroy",e),e.emit("local::destroy panelDestroy"),delete t.panel[e.side],e.el&&(e.el.f7Panel=null,delete e.el.f7Panel),R.deleteProps(e),e=null)}},{key:"open",value:function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],t=this,n=t.app;if(!n.panel.allowOpen)return!1;var r=t.side,i=t.effect,a=t.$el,o=t.$backdropEl,s=t.opened,l=a.parent(),c=0<a.parents(document).length;if(!l.is(n.root)||a.prevAll(".views, .view").length){var u=n.root.children(".panel, .views, .view").eq(0),h=n.root.children(".statusbar").eq(0);u.length?a.insertBefore(u):h.length?a.insertAfter(u):n.root.prepend(a),o&&o.length&&(!o.parent().is(n.root)&&0===o.nextAll(".panel").length||o.parent().is(n.root)&&0===o.nextAll(".panel").length)&&o.insertBefore(a),t.once("panelClosed",function(){c?l.append(a):a.remove()})}if(s||a.hasClass("panel-visible-by-breakpoint")||a.hasClass("panel-active"))return!1;n.panel.close("left"===r?"right":"left",e),n.panel.allowOpen=!1,a[e?"removeClass":"addClass"]("not-animated"),a.css({display:"block"}).addClass("panel-active"),o[e?"removeClass":"addClass"]("not-animated"),o.show(),t._clientLeft=a[0].clientLeft,f("html").addClass("with-panel with-panel-".concat(r,"-").concat(i)),t.onOpen();var d="reveal"===i?a.nextAll(".view, .views").eq(0):a;return e?function e(){d.transitionEnd(function(n){f(n.target).is(d)?(a.hasClass("panel-active")?t.onOpened():t.onClosed(),o.css({display:""})):e()})}():(t.onOpened(),o.css({display:""})),!0}},{key:"close",value:function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],t=this,n=t.app,r=t.side,i=t.effect,a=t.$el,o=t.$backdropEl;if(!t.opened||a.hasClass("panel-visible-by-breakpoint")||!a.hasClass("panel-active"))return!1;a[e?"removeClass":"addClass"]("not-animated"),a.removeClass("panel-active"),o[e?"removeClass":"addClass"]("not-animated");var s="reveal"===i?a.nextAll(".view, .views").eq(0):a;return t.onClose(),n.panel.allowOpen=!1,e?(s.transitionEnd(function(){a.hasClass("panel-active")||(a.css({display:""}),f("html").removeClass("with-panel-transitioning"),t.onClosed())}),f("html").removeClass("with-panel with-panel-".concat(r,"-").concat(i)).addClass("with-panel-transitioning")):(a.css({display:""}),a.removeClass("not-animated"),f("html").removeClass("with-panel with-panel-transitioning with-panel-".concat(r,"-").concat(i)),t.onClosed()),!0}},{key:"onOpen",value:function(){this.opened=!0,this.$el.trigger("panel:open",this),this.emit("local::open panelOpen",this)}},{key:"onOpened",value:function(){this.app.panel.allowOpen=!0,this.$el.trigger("panel:opened",this),this.emit("local::opened panelOpened",this)}},{key:"onClose",value:function(){this.opened=!1,this.$el.addClass("panel-closing"),this.$el.trigger("panel:close",this),this.emit("local::close panelClose",this)}},{key:"onClosed",value:function(){this.app.panel.allowOpen=!0,this.$el.removeClass("panel-closing"),this.$el.trigger("panel:closed",this),this.emit("local::closed panelClosed",this)}}])&&Br(n.prototype,r),t}(),Hr={name:"panel",params:{panel:{leftBreakpoint:0,rightBreakpoint:0,swipe:void 0,swipeActiveArea:0,swipeCloseActiveAreaSide:0,swipeCloseOpposite:!0,swipeOnlyClose:!1,swipeNoFollow:!1,swipeThreshold:0,closeByBackdropClick:!0}},static:{Panel:Ur},instance:{panel:{allowOpen:!0}},create:function(){var e=this;R.extend(e.panel,{disableSwipe:function(){var t,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"both",r=[];"string"==typeof n?"both"===n?(t="both",r=[e.panel.left,e.panel.right]):(t=n,r.push(e.panel[t])):r=[n],r.forEach(function(e){e&&R.extend(e,{swipeable:!1})})},enableSwipe:function(){var t,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"both",r=[];"string"==typeof n?(t=n,"left"===e.params.panel.swipe&&"right"===t||"right"===e.params.panel.swipe&&"left"===t||"both"===t?(t="both",e.params.panel.swipe=t,r=[e.panel.left,e.panel.right]):(e.params.panel.swipe=t,r.push(e.panel[t]))):n&&r.push(n),r.length&&r.forEach(function(e){e&&(e.swipeInitialized?R.extend(e,{swipeable:!0}):e.initSwipePanel())})},create:function(t){return new Ur(e,t)},open:function(t,n){var r=t;if(!r){if(1<f(".panel").length)return!1;r=f(".panel").hasClass("panel-left")?"left":"right"}if(!r)return!1;if(e.panel[r])return e.panel[r].open(n);var i=f(".panel-".concat(r));return 0<i.length&&e.panel.create({el:i}).open(n)},close:function(t,n){var r,i;return i?r=f(".panel-".concat(i=t)):i=(r=f(".panel.panel-active")).hasClass("panel-left")?"left":"right",!!i&&(e.panel[i]?e.panel[i].close(n):0<r.length&&e.panel.create({el:r}).close(n))},get:function(t){var n=t;if(!n){if(1<f(".panel").length)return;n=f(".panel").hasClass("panel-left")?"left":"right"}if(n){if(e.panel[n])return e.panel[n];var r=f(".panel-".concat(n));return 0<r.length?e.panel.create({el:r}):void 0}}})},on:{init:function(){var e=this;f(".panel").each(function(t,n){var r=f(n).hasClass("panel-left")?"left":"right";e.panel[r]=e.panel.create({el:n,side:r})})}},clicks:{".panel-open":function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n="left";("right"===t.panel||1===f(".panel").length&&f(".panel").hasClass("panel-right"))&&(n="right"),this.panel.open(n,t.animate)},".panel-close":function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=t.panel;this.panel.close(n,t.animate)},".panel-backdrop":function(){var e=f(".panel-active"),t=e[0]&&e[0].f7Panel;e.trigger("panel:backdrop-click"),t&&t.emit("backdropClick",t),this.emit("panelBackdropClick",t||e[0]),this.params.panel.closeByBackdropClick&&this.panel.close()}}},zr={open:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:".card-expandable",t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=this;if(!f(".card-opened").length){var r=f(e).eq(0);if(r&&r.length&&!(r.hasClass("card-opened")||r.hasClass("card-opening")||r.hasClass("card-closing"))){var i,a=r.parents(".page").eq(0);if(a.length&&(r.trigger("card:beforeopen",{prevent:q}),n.emit("cardBeforeOpen",r[0],q),!i)){var o,s,l;n.params.card.backrop&&((o=r.parents(".page-content").find(".card-backdrop")).length||(o=f('<div class="card-backdrop"></div>'),r.parents(".page-content").append(o))),n.params.card.hideNavbarOnOpen&&((s=a.children(".navbar")).length||a[0].f7Page&&(s=a[0].f7Page.$navbarEl)),n.params.card.hideToolbarOnOpen&&((l=a.children(".toolbar")).length||(l=a.parents(".view").children(".toolbar")),l.length||(l=a.parents(".views").children(".toolbar")));var c,u=r.css("transform");u&&u.match(/[2-9]/)&&(c=!0);var h=r.children(".card-content"),d=f(document.createElement("div")).addClass("card-expandable-size");r.append(d);var p,m,v=r[0].offsetWidth,g=r[0].offsetHeight,y=a[0].offsetWidth,b=a[0].offsetHeight,w=d[0].offsetWidth||y,E=d[0].offsetHeight||b,C=w/v,S=E/g,_=r.offset(),T=a.offset();_.left-=T.left,_.top-=T.top,c?(p=r[0].offsetLeft,m=r[0].offsetTop-r.parents(".page-content")[0].scrollTop):(p=_.left,m=_.top-a.offset().top,n.rtl&&(p-=r[0].scrollLeft)),m-=(b-E)/2;var k=w-v-(p-=(y-w)/2);if(n.rtl){var x=[k,p];p=x[0],k=x[1]}var I,O,P,A,D,N,M,R,L,F,B,j=E-g-m,$=(k-p)/2,V=(j-m)/2;n.params.card.hideNavbarOnOpen&&s&&s.length&&n.navbar.hide(s,t),n.params.card.hideToolbarOnOpen&&l&&l.length&&n.toolbar.hide(l,t),o&&o.removeClass("card-backdrop-out").addClass("card-backdrop-in"),r.removeClass("card-transitioning"),t&&r.addClass("card-opening"),r.trigger("card:open"),n.emit("cardOpen",r[0]),h.css({width:"".concat(w,"px"),height:"".concat(E,"px")}).transform("translate3d(".concat(n.rtl?p+$:-p-$,"px, 0px, 0) scale(").concat(1/C,", ").concat(1/S,")")),r.transform("translate3d(".concat($,"px, ").concat(V,"px, 0) scale(").concat(C,", ").concat(S,")")),t?r.transitionEnd(function(){U()}):U(),a.addClass("page-with-card-opened"),r[0].detachEventHandlers=function(){n.off("resize",H),de.touch&&n.params.card.swipeToClose&&(n.off("touchstart:passive",z),n.off("touchmove:active",W),n.off("touchend:passive",K))},n.on("resize",H),de.touch&&n.params.card.swipeToClose&&(n.on("touchstart:passive",z),n.on("touchmove:active",W),n.on("touchend:passive",K))}}}function q(){i=!0}function U(){r.addClass("card-opened"),r.removeClass("card-opening"),r.trigger("card:opened"),n.emit("cardOpened",r[0])}function H(){if(r.removeClass("card-transitioning"),v=r[0].offsetWidth,g=r[0].offsetHeight,y=a[0].offsetWidth,b=a[0].offsetHeight,w=d[0].offsetWidth||y,E=d[0].offsetHeight||b,C=w/v,S=E/g,r.transform("translate3d(0px, 0px, 0) scale(1)"),_=r.offset(),T=a.offset(),_.left-=T.left,_.top-=T.top,p=_.left-(y-w)/2,n.rtl&&(p-=r[0].scrollLeft),m=_.top-(b-E)/2,k=w-v-p,j=E-g-m,n.rtl){var e=[k,p];p=e[0],k=e[1]}$=(k-p)/2,V=(j-m)/2,r.transform("translate3d(".concat($,"px, ").concat(V,"px, 0) scale(").concat(C,", ").concat(S,")")),h.css({width:"".concat(w,"px"),height:"".concat(E,"px")}).transform("translate3d(".concat(n.rtl?p+$:-p-$,"px, 0px, 0) scale(").concat(1/C,", ").concat(1/S,")"))}function z(e){f(e.target).closest(r).length&&r.hasClass("card-opened")&&(I=h.scrollTop(),O=!0,A=e.targetTouches[0].pageX,D=e.targetTouches[0].pageY,R=void 0,B=F=!1)}function W(e){O&&(N=e.targetTouches[0].pageX,M=e.targetTouches[0].pageY,void 0===R&&(R=!!(R||Math.abs(M-D)>Math.abs(N-A))),B||F||(!R&&e.targetTouches[0].clientX<=50?B=!0:F=!0),!B&&!F||F&&0!==I?P=O=!0:(P||r.removeClass("card-transitioning"),P=!0,(0<(L=F?Math.max((M-D)/150,0):Math.max((N-A)/(v/2),0))&&F||B)&&(F&&n.device.ios&&(h.css("-webkit-overflow-scrolling","auto"),h.scrollTop(0)),e.preventDefault()),1<L&&(L=Math.pow(L,.3)),(F?1.3:1.1)<L?(P=O=!1,n.card.close(r)):r.transform("translate3d(".concat($,"px, ").concat(V,"px, 0) scale(").concat(C*(1-.2*L),", ").concat(S*(1-.2*L),")"))))}function K(){O&&P&&(P=O=!1,n.device.ios&&h.css("-webkit-overflow-scrolling",""),.8<=L?n.card.close(r):r.addClass("card-transitioning").transform("translate3d(".concat($,"px, ").concat(V,"px, 0) scale(").concat(C,", ").concat(S,")")))}},close:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:".card-expandable.card-opened",t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=this,r=f(e).eq(0);if(r&&r.length&&r.hasClass("card-opened")&&!r.hasClass("card-opening")&&!r.hasClass("card-closing")){var i,a,o,s=r.children(".card-content"),l=r.parents(".page").eq(0);l.length&&(n.params.card.backrop&&(o=r.parents(".page-content").find(".card-backdrop")),n.params.card.hideNavbarOnOpen&&((i=l.children(".navbar")).length||l[0].f7Page&&(i=l[0].f7Page.$navbarEl),i&&i.length&&n.navbar.show(i,t)),n.params.card.hideToolbarOnOpen&&((a=l.children(".toolbar")).length||(a=l.parents(".view").children(".toolbar")),a.length||(a=l.parents(".views").children(".toolbar")),a&&a.length&&n.toolbar.show(a,t)),l.removeClass("page-with-card-opened"),o&&o.length&&o.removeClass("card-backdrop-in").addClass("card-backdrop-out"),r.removeClass("card-opened card-transitioning"),t?r.addClass("card-closing"):r.addClass("card-no-transition"),r.transform(""),r.trigger("card:close"),n.emit("cardClose",r[0]),s.css({width:"",height:""}).transform("").scrollTop(0,t?300:0),t?s.transitionEnd(function(){c()}):c(),r[0].detachEventHandlers&&(r[0].detachEventHandlers(),delete r[0].detachEventHandlers))}function c(){r.removeClass("card-closing card-no-transition"),r.trigger("card:closed"),r.find(".card-expandable-size").remove(),n.emit("cardClosed",r[0])}},toggle:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:".card-expandable",t=1<arguments.length?arguments[1]:void 0,n=f(e).eq(0);n.length&&(n.hasClass("card-opened")?this.card.close(n,t):this.card.open(n,t))}},Wr={name:"card",params:{card:{hideNavbarOnOpen:!0,hideToolbarOnOpen:!0,swipeToClose:!0,closeByBackdropClick:!0,backrop:!0}},create:function(){R.extend(this,{card:{open:zr.open.bind(this),close:zr.close.bind(this),toggle:zr.toggle.bind(this)}})},on:{pageBeforeIn:function(e){if(this.params.card.hideNavbarOnOpen&&e.navbarEl&&e.$el.find(".card-opened.card-expandable").length&&this.navbar.hide(e.navbarEl),this.params.card.hideToolbarOnOpen&&e.$el.find(".card-opened.card-expandable").length){var t=e.$el.children(".toolbar");t.length||(t=e.$el.parents(".view").children(".toolbar")),t.length||(t=e.$el.parents(".views").children(".toolbar")),t&&t.length&&this.toolbar.hide(t)}}},clicks:{".card-close":function(e,t){this.card.close(t.card)},".card-open":function(e,t){this.card.open(t.card)},".card-expandable":function(e,t,n){e.hasClass("card-opened")||e.hasClass("card-opening")||e.hasClass("card-closing")||f(n.target).closest(".card-prevent-open").length||this.card.open(e)},".card-backdrop-in":function(){var e=!1;this.params.card.closeByBackdropClick&&(e=!0);var t=f(".card-opened");t.length&&("true"===t.attr("data-close-on-backdrop-click")?e=!0:"false"===t.attr("data-close-on-backdrop-click")&&(e=!1),e&&this.card.close(t))}}},Kr={store:function(e,t){var n=e,r=f(e);r.length&&r.is("form")&&r.attr("id")&&(n=r.attr("id")),this.form.data["form-".concat(n)]=t;try{i.localStorage["f7form-".concat(n)]=JSON.stringify(t)}catch(e){throw e}},get:function(e){var t=e,n=f(e);n.length&&n.is("form")&&n.attr("id")&&(t=n.attr("id"));try{if(i.localStorage["f7form-".concat(t)])return JSON.parse(i.localStorage["f7form-".concat(t)])}catch(e){throw e}if(this.form.data["form-".concat(t)])return this.form.data["form-".concat(t)]},remove:function(e){var t=e,n=f(e);n.length&&n.is("form")&&n.attr("id")&&(t=n.attr("id")),this.form.data["form-".concat(t)]&&(this.form.data["form-".concat(t)]="",delete this.form.data["form-".concat(t)]);try{i.localStorage["f7form-".concat(t)]&&(i.localStorage["f7form-".concat(t)]="",i.localStorage.removeItem("f7form-".concat(t)))}catch(e){throw e}}},Gr={init:function(e){var t=this,n=f(e),r=n.attr("id");if(r){var i=t.form.getFormData(r);i&&t.form.fillFromData(n,i),n.on("change submit",function(){var e=t.form.convertToData(n);e&&(t.form.storeFormData(r,e),n.trigger("form:storedata",e),t.emit("formStoreData",n[0],e))})}},destroy:function(e){f(e).off("change submit")}},Qr={name:"form",create:function(){R.extend(this,{form:{data:{},storeFormData:Kr.store.bind(this),getFormData:Kr.get.bind(this),removeFormData:Kr.remove.bind(this),convertToData:function(e){var t=f(e).eq(0);if(0!==t.length){var n={},r=["submit","image","button","file"],i=[];return t.find("input, select, textarea").each(function(e,a){var o=f(a);if(!o.hasClass("ignore-store-data")&&!o.hasClass("no-store-data")){var s=o.attr("name"),l=o.attr("type"),c=a.nodeName.toLowerCase();if(!(0<=r.indexOf(l))&&!(0<=i.indexOf(s))&&s)if("select"===c&&o.prop("multiple"))i.push(s),n[s]=[],t.find('select[name="'.concat(s,'"] option')).each(function(e,t){t.selected&&n[s].push(t.value)});else switch(l){case"checkbox":i.push(s),n[s]=[],t.find('input[name="'.concat(s,'"]')).each(function(e,t){t.checked&&n[s].push(t.value)});break;case"radio":i.push(s),t.find('input[name="'.concat(s,'"]')).each(function(e,t){t.checked&&(n[s]=t.value)});break;default:n[s]=o.val()}}}),t.trigger("form:todata",n),this.emit("formToData",t[0],n),n}}.bind(this),fillFromData:function(e,t){var n=f(e).eq(0);if(n.length){var r=t,i=n.attr("id");if(!r&&i&&(r=this.form.getFormData(i)),r){var a=["submit","image","button","file"],o=[];n.find("input, select, textarea").each(function(e,t){var i=f(t);if(!i.hasClass("ignore-store-data")&&!i.hasClass("no-store-data")){var s=i.attr("name"),l=i.attr("type"),c=t.nodeName.toLowerCase();if(void 0!==r[s]&&null!==r[s]&&!(0<=a.indexOf(l))&&!(0<=o.indexOf(s))&&s){if("select"===c&&i.prop("multiple"))o.push(s),n.find('select[name="'.concat(s,'"] option')).each(function(e,t){var n=t;0<=r[s].indexOf(t.value)?n.selected=!0:n.selected=!1});else switch(l){case"checkbox":o.push(s),n.find('input[name="'.concat(s,'"]')).each(function(e,t){var n=t;0<=r[s].indexOf(t.value)?n.checked=!0:n.checked=!1});break;case"radio":o.push(s),n.find('input[name="'.concat(s,'"]')).each(function(e,t){var n=t;r[s]===t.value?n.checked=!0:n.checked=!1});break;default:i.val(r[s])}"select"!==c&&"input"!==c&&"textarea"!==c||i.trigger("change","fromdata")}}}),n.trigger("form:fromdata",r),this.emit("formFromData",n[0],r)}}}.bind(this),storage:{init:Gr.init.bind(this),destroy:Gr.destroy.bind(this)}}})},on:{init:function(){(function(){var e=this;f(r).on("submit change","form.form-ajax-submit, form.form-ajax-submit-onchange",function(t,n){var r=f(this);if(("change"!==t.type||r.hasClass("form-ajax-submit-onchange"))&&("submit"===t.type&&t.preventDefault(),"change"!==t.type||"fromdata"!==n)){var a,o=(r.attr("method")||"GET").toUpperCase(),s=r.prop("enctype")||r.attr("enctype"),l=r.attr("action");l&&(a="POST"===o?"application/x-www-form-urlencoded"===s?e.form.convertToData(r[0]):new i.FormData(r[0]):R.serializeObject(e.form.convertToData(r[0])),e.request({method:o,url:l,contentType:s,data:a,beforeSend:function(t){r.trigger("formajax:beforesend",a,t),e.emit("formAjaxBeforeSend",r[0],a,t)},error:function(t){r.trigger("formajax:error",a,t),e.emit("formAjaxError",r[0],a,t)},complete:function(t){r.trigger("formajax:complete",a,t),e.emit("formAjaxComplete",r[0],a,t)},success:function(t,n,i){r.trigger("formajax:success",a,i),e.emit("formAjaxSuccess",r[0],a,i)}}))}})}).call(this)},tabBeforeRemove:function(e){var t=this;f(e).find(".form-store-data").each(function(e,n){t.form.storage.destroy(n)})},tabMounted:function(e){var t=this;f(e).find(".form-store-data").each(function(e,n){t.form.storage.init(n)})},pageBeforeRemove:function(e){var t=this;e.$el.find(".form-store-data").each(function(e,n){t.form.storage.destroy(n)})},pageInit:function(e){var t=this;e.$el.find(".form-store-data").each(function(e,n){t.form.storage.init(n)})}}},Yr={ignoreTypes:["checkbox","button","submit","range","radio","image"],createTextareaResizableShadow:function(){var e=f(r.createElement("textarea"));e.addClass("textarea-resizable-shadow"),e.prop({disabled:!0,readonly:!0}),Yr.textareaResizableShadow=e},textareaResizableShadow:void 0,resizeTextarea:function(e){var t=f(e);Yr.textareaResizableShadow||Yr.createTextareaResizableShadow();var n=Yr.textareaResizableShadow;if(t.length&&t.hasClass("resizable")){0===Yr.textareaResizableShadow.parents().length&&this.root.append(n);var r=i.getComputedStyle(t[0]);"padding-top padding-bottom padding-left padding-right margin-left margin-right margin-top margin-bottom width font-size font-family font-style font-weight line-height font-variant text-transform letter-spacing border box-sizing display".split(" ").forEach(function(e){var t=r[e];0<="font-size line-height letter-spacing width".split(" ").indexOf(e)&&(t=t.replace(",",".")),n.css(e,t)});var a=t[0].clientHeight;n.val("");var o=n[0].scrollHeight;n.val(t.val()),n.css("height",0);var s=n[0].scrollHeight;a!==s&&(o<s?(t.css("height","".concat(s,"px")),t.trigger("textarea:resize",{initialHeight:o,currentHeight:a,scrollHeight:s})):s<a&&(t.css("height",""),t.trigger("textarea:resize",{initialHeight:o,currentHeight:a,scrollHeight:s})))}},validate:function(e){var t=f(e);if(t.length){var n=t.parents(".item-input"),r=t.parents(".input"),i=t[0].validity,a=t.dataset().errorMessage||t[0].validationMessage||"";if(i)if(i.valid)n.removeClass("item-input-invalid item-input-with-error-message"),r.removeClass("input-invalid input-with-error-message"),t.removeClass("input-invalid");else{var o=t.nextAll(".item-input-error-message, .input-error-message");a&&(0===o.length&&(o=f('<div class="'.concat(r.length?"input-error-message":"item-input-error-message",'"></div>'))).insertAfter(t),o.text(a)),0<o.length&&(n.addClass("item-input-with-error-message"),r.addClass("input-with-error-message")),n.addClass("item-input-invalid"),r.addClass("input-invalid"),t.addClass("input-invalid")}}},validateInputs:function(e){var t=this;f(e).find("input, textarea, select").each(function(e,n){t.input.validate(n)})},focus:function(e){var t=f(e),n=t.attr("type");0<=Yr.ignoreTypes.indexOf(n)||(t.parents(".item-input").addClass("item-input-focused"),t.parents(".input").addClass("input-focused"),t.addClass("input-focused"))},blur:function(e){var t=f(e);t.parents(".item-input").removeClass("item-input-focused"),t.parents(".input").removeClass("input-focused"),t.removeClass("input-focused")},checkEmptyState:function(e){var t=f(e);if(t.is("input, select, textarea")||(t=t.find("input, select, textarea").eq(0)),t.length){var n=t.val(),r=t.parents(".item-input"),i=t.parents(".input");n&&"string"==typeof n&&""!==n.trim()||Array.isArray(n)&&0<n.length?(r.addClass("item-input-with-value"),i.addClass("input-with-value"),t.addClass("input-with-value"),t.trigger("input:notempty")):(r.removeClass("item-input-with-value"),i.removeClass("input-with-value"),t.removeClass("input-with-value"),t.trigger("input:empty"))}},scrollIntoView:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length?arguments[2]:void 0,r=3<arguments.length?arguments[3]:void 0,i=f(e),a=i.parents(".page-content, .panel").eq(0);if(!a.length)return!1;var o=a[0].offsetHeight,s=a[0].scrollTop,l=parseInt(a.css("padding-top"),10),c=parseInt(a.css("padding-bottom"),10),u=a.offset().top-s,h=i.offset().top-u,d=h+s-l,p=h+s-o+c+i[0].offsetHeight,m=d+(p-d)/2;return d<s?(a.scrollTop(n?m:d,t),!0):s<p?(a.scrollTop(n?m:p,t),!0):(r&&a.scrollTop(n?m:p,t),!1)},init:function(){var e=this;Yr.createTextareaResizableShadow(),f(r).on("click",".input-clear-button",function(){var e=f(this).siblings("input, textarea").eq(0),t=e.val();e.val("").trigger("input change").focus().trigger("input:clear",t)}),f(r).on("change input","input, textarea, select",function(){var t=f(this),n=t.attr("type"),r=t[0].nodeName.toLowerCase();0<=Yr.ignoreTypes.indexOf(n)||(e.input.checkEmptyState(t),null!==t.attr("data-validate-on-blur")||!t.dataset().validate&&null===t.attr("validate")||e.input.validate(t),"textarea"===r&&t.hasClass("resizable")&&e.input.resizeTextarea(t))},!0),f(r).on("focus","input, textarea, select",function(){var t=this;e.params.input.scrollIntoViewOnFocus&&(L.android?f(i).once("resize",function(){r&&r.activeElement===t&&e.input.scrollIntoView(t,e.params.input.scrollIntoViewDuration,e.params.input.scrollIntoViewCentered,e.params.input.scrollIntoViewAlways)}):e.input.scrollIntoView(t,e.params.input.scrollIntoViewDuration,e.params.input.scrollIntoViewCentered,e.params.input.scrollIntoViewAlways)),e.input.focus(t)},!0),f(r).on("blur","input, textarea, select",function(){var t=f(this),n=t[0].nodeName.toLowerCase();e.input.blur(t),(t.dataset().validate||null!==t.attr("validate")||null!==t.attr("data-validate-on-blur"))&&e.input.validate(t),"textarea"===n&&t.hasClass("resizable")&&Yr.textareaResizableShadow&&Yr.textareaResizableShadow.remove()},!0),f(r).on("invalid","input, textarea, select",function(t){var n=f(this);null!==n.attr("data-validate-on-blur")||!n.dataset().validate&&null===n.attr("validate")||(t.preventDefault(),e.input.validate(n))},!0)}},Xr={name:"input",params:{input:{scrollIntoViewOnFocus:L.android,scrollIntoViewCentered:!1,scrollIntoViewDuration:0,scrollIntoViewAlways:!1}},create:function(){R.extend(this,{input:{scrollIntoView:Yr.scrollIntoView.bind(this),focus:Yr.focus.bind(this),blur:Yr.blur.bind(this),validate:Yr.validate.bind(this),validateInputs:Yr.validateInputs.bind(this),checkEmptyState:Yr.checkEmptyState.bind(this),resizeTextarea:Yr.resizeTextarea.bind(this),init:Yr.init.bind(this)}})},on:{init:function(){this.input.init()},tabMounted:function(e){var t=this,n=f(e);n.find(".item-input, .input").each(function(e,n){f(n).find("input, select, textarea").each(function(e,n){var r=f(n);0<=Yr.ignoreTypes.indexOf(r.attr("type"))||t.input.checkEmptyState(r)})}),n.find("textarea.resizable").each(function(e,n){t.input.resizeTextarea(n)})},pageInit:function(e){var t=this,n=e.$el;n.find(".item-input, .input").each(function(e,n){f(n).find("input, select, textarea").each(function(e,n){var r=f(n);0<=Yr.ignoreTypes.indexOf(r.attr("type"))||t.input.checkEmptyState(r)})}),n.find("textarea.resizable").each(function(e,n){t.input.resizeTextarea(n)})}}};function Jr(e){return(Jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ei(e,t){return!t||"object"!==Jr(t)&&"function"!=typeof t?ni(e):t}function ti(e){return(ti=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ni(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ri(e,t){return(ri=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ii=function(e){function t(e){var n,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);var i=ni(n=ei(this,ti(t).call(this,r,[e]))),a={};i.useModulesParams(a),i.params=R.extend(a,r);var o=i.params.el;if(!o)return ei(n,i);var s=f(o);if(0===s.length)return ei(n,i);if(s[0].f7Toggle)return ei(n,s[0].f7Toggle);var l,c=s.children('input[type="checkbox"]');R.extend(i,{app:e,$el:s,el:s[0],$inputEl:c,inputEl:c[0],disabled:s.hasClass("disabled")||c.hasClass("disabled")||c.attr("disabled")||c[0].disabled}),Object.defineProperty(i,"checked",{enumerable:!0,configurable:!0,set:function(e){i&&void 0!==i.$inputEl&&i.checked!==e&&(c[0].checked=e,i.$inputEl.trigger("change"))},get:function(){return c[0].checked}}),s[0].f7Toggle=i;var u,h,d,p,m,v={};function g(e){l||i.disabled||(v.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,v.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,l=!(h=0),u=void 0,p=R.now(),m=i.checked,d=s[0].offsetWidth,R.nextTick(function(){l&&s.addClass("toggle-active-state")}))}function y(t){if(l&&!i.disabled){var n,r="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,a="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY,o=e.rtl?-1:1;void 0===u&&(u=!!(u||Math.abs(a-v.y)>Math.abs(r-v.x))),u?l=!1:(t.preventDefault(),(h=r-v.x)*o<0&&Math.abs(h)>d/3&&m&&(n=!0),0<h*o&&Math.abs(h)>d/3&&!m&&(n=!0),n&&(v.x=r,i.checked=!m,m=!m))}}function b(){if(!l||i.disabled)return u&&s.removeClass("toggle-active-state"),void(l=!1);var t,n=e.rtl?-1:1;l=!1,s.removeClass("toggle-active-state"),R.now()-p<300&&(h*n<0&&m&&(t=!0),0<h*n&&!m&&(t=!0),t&&(i.checked=!m))}function w(){i.$el.trigger("toggle:change",i),i.emit("local::change toggleChange",i)}return i.attachEvents=function(){if(de.touch){var t=!!de.passiveListener&&{passive:!0};s.on(e.touchEvents.start,g,t),e.on("touchmove",y),e.on("touchend:passive",b)}i.$inputEl.on("change",w)},i.detachEvents=function(){if(de.touch){var t=!!de.passiveListener&&{passive:!0};s.off(e.touchEvents.start,g,t),e.off("touchmove",y),e.off("touchend:passive",b)}i.$inputEl.off("change",w)},i.useModules(),i.init(),n}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ri(e,t)}(t,H),n=t,(r=[{key:"toggle",value:function(){this.checked=!this.checked}},{key:"init",value:function(){this.attachEvents()}},{key:"destroy",value:function(){var e=this;e.$el.trigger("toggle:beforedestroy",e),e.emit("local::beforeDestroy toggleBeforeDestroy",e),delete e.$el[0].f7Toggle,e.detachEvents(),R.deleteProps(e),e=null}}])&&Zr(n.prototype,r),t}(),ai={name:"toggle",create:function(){this.toggle=W({defaultSelector:".toggle",constructor:ii,app:this,domProp:"f7Toggle"})},static:{Toggle:ii},on:{tabMounted:function(e){var t=this;f(e).find(".toggle-init").each(function(e,n){return t.toggle.create({el:n})})},tabBeforeRemove:function(e){f(e).find(".toggle-init").each(function(e,t){t.f7Toggle&&t.f7Toggle.destroy()})},pageInit:function(e){var t=this;e.$el.find(".toggle-init").each(function(e,n){return t.toggle.create({el:n})})},pageBeforeRemove:function(e){e.$el.find(".toggle-init").each(function(e,t){t.f7Toggle&&t.f7Toggle.destroy()})}},vnode:{"toggle-init":{insert:function(e){var t=e.elm;this.toggle.create({el:t})},destroy:function(e){var t=e.elm;t.f7Toggle&&t.f7Toggle.destroy()}}}};function oi(e){return(oi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function si(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function li(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ci(e,t){return!t||"object"!==oi(t)&&"function"!=typeof t?hi(e):t}function ui(e){return(ui=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function di(e,t){return(di=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var pi=function(e){function t(e,n){var r;!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);var i=hi(r=ci(this,ui(t).call(this,n,[e]))),a={el:null,inputEl:null,dual:!1,step:1,label:!1,min:0,max:100,value:0,draggableBar:!0,vertical:!1,verticalReversed:!1,formatLabel:null,scale:!1,scaleSteps:5,scaleSubSteps:0,formatScaleLabel:null};i.useModulesParams(a),i.params=R.extend(a,n);var o=i.params.el;if(!o)return ci(r,i);var s=f(o);if(0===s.length)return ci(r,i);if(s[0].f7Range)return ci(r,s[0].f7Range);var l,c=s.dataset();"step min max value scaleSteps scaleSubSteps".split(" ").forEach(function(e){void 0===n[e]&&void 0!==c[e]&&(i.params[e]=parseFloat(c[e]))}),"dual label vertical verticalReversed scale".split(" ").forEach(function(e){void 0===n[e]&&void 0!==c[e]&&(i.params[e]=c[e])}),i.params.value||(void 0!==c.value&&(i.params.value=c.value),void 0!==c.valueLeft&&void 0!==c.valueRight&&(i.params.value=[parseFloat(c.valueLeft),parseFloat(c.valueRight)])),i.params.dual||(i.params.inputEl?l=f(i.params.inputEl):s.find('input[type="range"]').length&&(l=s.find('input[type="range"]').eq(0)));var u=i.params,h=u.dual,d=u.step,p=u.label,m=u.min,v=u.max,g=u.value,y=u.vertical,b=u.verticalReversed,w=u.scale,E=u.scaleSteps,C=u.scaleSubSteps;R.extend(i,{app:e,$el:s,el:s[0],$inputEl:l,inputEl:l?l[0]:void 0,dual:h,step:d,label:p,min:m,max:v,value:g,previousValue:g,vertical:y,verticalReversed:b,scale:w,scaleSteps:E,scaleSubSteps:C}),l&&("step min max".split(" ").forEach(function(e){!n[e]&&l.attr(e)&&(i.params[e]=parseFloat(l.attr(e)),i[e]=parseFloat(l.attr(e)))}),void 0!==l.val()&&(i.params.value=parseFloat(l.val()),i.value=parseFloat(l.val()))),i.dual&&s.addClass("range-slider-dual"),i.label&&s.addClass("range-slider-label"),i.vertical?(s.addClass("range-slider-vertical"),i.verticalReversed&&s.addClass("range-slider-vertical-reversed")):s.addClass("range-slider-horizontal");var S=f('<div class="range-bar"></div>'),_=f('<div class="range-bar-active"></div>');S.append(_);var T='\n      <div class="range-knob-wrap">\n        <div class="range-knob"></div>\n        '.concat(i.label?'<div class="range-knob-label"></div>':"","\n      </div>\n    "),k=[f(T)];i.dual&&k.push(f(T)),s.append(S),k.forEach(function(e){s.append(e)});var x,I,O=[];i.label&&(O.push(k[0].find(".range-knob-label")),i.dual&&O.push(k[1].find(".range-knob-label"))),i.scale&&1<i.scaleSteps&&(x=f('\n        <div class="range-scale">\n          '.concat(i.renderScale(),"\n        </div>\n      ")),s.append(x)),R.extend(i,{knobs:k,labels:O,$barEl:S,$barActiveEl:_,$scaleEl:x}),s[0].f7Range=i;var P,A,D,N,M,L,F,B,j,$,V={};function q(){F=!0}function U(e){if(!I&&(i.params.draggableBar||0!==f(e.target).closest(".range-knob").length)){var t;F=!1,V.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,V.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,I=!0,P=void 0,A=s.offset(),D=A.left,N=A.top,i.vertical?(t=(V.y-N)/i.rangeHeight,i.verticalReversed||(t=1-t)):t=i.app.rtl?(D+i.rangeWidth-V.x)/i.rangeWidth:(V.x-D)/i.rangeWidth;var n=t*(i.max-i.min)+i.min;n=i.dual?Math.abs(i.value[0]-n)<Math.abs(i.value[1]-n)?(L=0,M=i.knobs[0],[n,i.value[1]]):(L=1,M=i.knobs[1],[i.value[0],n]):(M=i.knobs[0],t*(i.max-i.min)+i.min),R.nextTick(function(){I&&M.addClass("range-knob-active-state")},70),i.on("change",q),i.setValue(n,!0)}}function H(e){if(I){var t="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,n="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY;if(void 0===P&&(P=i.vertical?!(P||Math.abs(n-V.y)>Math.abs(t-V.x)):!!(P||Math.abs(n-V.y)>Math.abs(t-V.x))),P)I=!1;else{var r;e.preventDefault(),i.vertical?(r=(n-N)/i.rangeHeight,i.verticalReversed||(r=1-r)):r=i.app.rtl?(D+i.rangeWidth-t)/i.rangeWidth:(t-D)/i.rangeWidth;var a,o,s=r*(i.max-i.min)+i.min;i.dual&&(0===L?(a=s,(o=i.value[1])<a&&(o=a)):(o=s)<(a=i.value[0])&&(a=o),s=[a,o]),i.setValue(s,!0)}}}function z(){if(!I)return P&&M.removeClass("range-knob-active-state"),void(I=!1);i.off("change",q),I=!1,M.removeClass("range-knob-active-state"),F&&i.$inputEl&&!i.dual&&i.$inputEl.trigger("change"),F=!1,void 0!==i.previousValue&&(i.dual&&(i.previousValue[0]!==i.value[0]||i.previousValue[1]!==i.value[1])||!i.dual&&i.previousValue!==i.value)&&(i.$el.trigger("range:changed",i,i.value),i.emit("local::changed rangeChanged",i,i.value))}function W(){i.calcSize(),i.layout()}return i.attachEvents=function(){var t=!!de.passiveListener&&{passive:!0};i.$el.on(e.touchEvents.start,U,t),e.on("touchmove",H),e.on("touchend:passive",z),e.on("tabShow",W),e.on("resize",W),(B=i.$el.parents(".sheet-modal, .actions-modal, .popup, .popover, .login-screen, .dialog, .toast")).on("modal:open",W),(j=i.$el.parents(".panel")).on("panel:open",W),($=i.$el.parents(".page").eq(0)).on("page:reinit",W)},i.detachEvents=function(){var t=!!de.passiveListener&&{passive:!0};i.$el.off(e.touchEvents.start,U,t),e.off("touchmove",H),e.off("touchend:passive",z),e.off("tabShow",W),e.off("resize",W),B&&B.off("modal:open",W),j&&j.off("panel:open",W),$&&$.off("page:reinit",W),$=j=B=null},i.useModules(),i.init(),ci(r,i)}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&di(e,t)}(t,H),n=t,(r=[{key:"calcSize",value:function(){if(this.vertical){var e=this.$el.outerHeight();if(0===e)return;this.rangeHeight=e,this.knobHeight=this.knobs[0].outerHeight()}else{var t=this.$el.outerWidth();if(0===t)return;this.rangeWidth=t,this.knobWidth=this.knobs[0].outerWidth()}}},{key:"layout",value:function(){var e=this,t=e.app,n=e.knobWidth,r=e.knobHeight,i=e.rangeWidth,a=e.rangeHeight,o=e.min,s=e.max,l=e.knobs,c=e.$barActiveEl,u=e.value,h=e.label,d=e.labels,p=e.vertical,f=e.verticalReversed,m=p?r:n,v=p?a:i,g=p?f?"top":"bottom":t.rtl?"right":"left";if(e.dual){var y,b=[(u[0]-o)/(s-o),(u[1]-o)/(s-o)];c.css((si(y={},g,"".concat(100*b[0],"%")),si(y,p?"height":"width","".concat(100*(b[1]-b[0]),"%")),y)),l.forEach(function(n,r){var i=v*b[r];if("ios"===t.theme){var a=v*b[r]-m/2;a<0&&(i=m/2),v<a+m&&(i=v-m/2)}n.css(g,"".concat(i,"px")),h&&d[r].text(e.formatLabel(u[r],d[r][0]))})}else{var w=(u-o)/(s-o);c.css(p?"height":"width","".concat(100*w,"%"));var E=v*w;if("ios"===t.theme){var C=v*w-m/2;C<0&&(E=m/2),v<C+m&&(E=v-m/2)}l[0].css(g,"".concat(E,"px")),h&&d[0].text(e.formatLabel(u,d[0][0]))}e.dual&&0<=u.indexOf(o)||!e.dual&&u===o?e.$el.addClass("range-slider-min"):e.$el.removeClass("range-slider-min"),e.dual&&0<=u.indexOf(s)||!e.dual&&u===s?e.$el.addClass("range-slider-max"):e.$el.removeClass("range-slider-max")}},{key:"setValue",value:function(e,t){var n,r,i=this,a=i.step,o=i.min,s=i.max;if(i.dual){r=[i.value[0],i.value[1]];var l=e;if(Array.isArray(l)||(l=[e,e]),e[0]>e[1]&&(l=[l[0],l[0]]),(l=l.map(function(e){return Math.max(Math.min(Math.round(e/a)*a,s),o)}))[0]===i.value[0]&&l[1]===i.value[1])return i;l.forEach(function(e,t){i.value[t]=e}),n=r[0]!==l[0]||r[1]!==l[1],i.layout()}else{r=i.value;var c=Math.max(Math.min(Math.round(e/a)*a,s),o);i.value=c,i.layout(),n=r!==c}return n&&(i.previousValue=r),n&&(i.$el.trigger("range:change",i,i.value),i.$inputEl&&!i.dual&&(i.$inputEl.val(i.value),t?i.$inputEl.trigger("input"):i.$inputEl.trigger("input change")),t||(i.$el.trigger("range:changed",i,i.value),i.emit("local::changed rangeChanged",i,i.value)),i.emit("local::change rangeChange",i,i.value)),i}},{key:"getValue",value:function(){return this.value}},{key:"formatLabel",value:function(e,t){return this.params.formatLabel?this.params.formatLabel.call(this,e,t):e}},{key:"formatScaleLabel",value:function(e){return this.params.formatScaleLabel?this.params.formatScaleLabel.call(this,e):e}},{key:"renderScale",value:function(){var e=this,t=e.app,n=e.verticalReversed,r=e.vertical?n?"top":"bottom":t.rtl?"right":"left",i="";return Array.from({length:e.scaleSteps+1}).forEach(function(t,n){var a=(e.max-e.min)/e.scaleSteps,o=e.min+a*n,s=(o-e.min)/(e.max-e.min);i+='<div class="range-scale-step" style="'.concat(r,": ").concat(100*s,'%">').concat(e.formatScaleLabel(o),"</div>"),e.scaleSubSteps&&1<e.scaleSubSteps&&n<e.scaleSteps&&Array.from({length:e.scaleSubSteps-1}).forEach(function(t,n){var s=a/e.scaleSubSteps,l=(o+s*(n+1)-e.min)/(e.max-e.min);i+='<div class="range-scale-step range-scale-substep" style="'.concat(r,": ").concat(100*l,'%"></div>')})}),i}},{key:"updateScale",value:function(){var e=this;if(!e.scale||e.scaleSteps<2)return e.$scaleEl&&e.$scaleEl.remove(),void delete e.$scaleEl;e.$scaleEl||(e.$scaleEl=f('<div class="range-scale"></div>'),e.$el.append(e.$scaleEl)),e.$scaleEl.html(e.renderScale())}},{key:"init",value:function(){return this.calcSize(),this.layout(),this.attachEvents(),this}},{key:"destroy",value:function(){var e=this;e.$el.trigger("range:beforedestroy",e),e.emit("local::beforeDestroy rangeBeforeDestroy",e),delete e.$el[0].f7Range,e.detachEvents(),R.deleteProps(e),e=null}}])&&li(n.prototype,r),t}(),fi={name:"range",create:function(){var e=this;e.range=R.extend(W({defaultSelector:".range-slider",constructor:pi,app:e,domProp:"f7Range"}),{getValue:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:".range-slider",n=e.range.get(t);if(n)return n.getValue()},setValue:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:".range-slider",n=1<arguments.length?arguments[1]:void 0,r=e.range.get(t);if(r)return r.setValue(n)}})},static:{Range:pi},on:{tabMounted:function(e){var t=this;f(e).find(".range-slider-init").each(function(e,n){return new pi(t,{el:n})})},tabBeforeRemove:function(e){f(e).find(".range-slider-init").each(function(e,t){t.f7Range&&t.f7Range.destroy()})},pageInit:function(e){var t=this;e.$el.find(".range-slider-init").each(function(e,n){return new pi(t,{el:n})})},pageBeforeRemove:function(e){e.$el.find(".range-slider-init").each(function(e,t){t.f7Range&&t.f7Range.destroy()})}},vnode:{"range-slider-init":{insert:function(e){var t=e.elm;this.range.create({el:t})},destroy:function(e){var t=e.elm;t.f7Range&&t.f7Range.destroy()}}}};function mi(e){return(mi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gi(e,t){return!t||"object"!==mi(t)&&"function"!=typeof t?bi(e):t}function yi(e){return(yi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wi(e,t){return(wi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ei=function(e){function t(e,n){var r;!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);var i=bi(r=gi(this,yi(t).call(this,n,[e]))),a={el:null,inputEl:null,valueEl:null,value:0,formatValue:null,step:1,min:0,max:100,watchInput:!0,autorepeat:!1,autorepeatDynamic:!1,wraps:!1,manualInputMode:!1,decimalPoint:4,buttonsEndInputMode:!0};i.useModulesParams(a),i.params=R.extend(a,n),i.params.value<i.params.min&&(i.params.value=i.params.min),i.params.value>i.params.max&&(i.params.value=i.params.max);var o=i.params.el;if(!o)return gi(r,i);var s,l,c=f(o);if(0===c.length)return gi(r,i);if(c[0].f7Stepper)return gi(r,c[0].f7Stepper);if(i.params.inputEl?s=f(i.params.inputEl):c.find(".stepper-input-wrap").find("input, textarea").length&&(s=c.find(".stepper-input-wrap").find("input, textarea").eq(0)),s&&s.length){"step min max".split(" ").forEach(function(e){!n[e]&&s.attr(e)&&(i.params[e]=parseFloat(s.attr(e)))});var u=parseInt(i.params.decimalPoint,10);Number.isNaN(u)?i.params.decimalPoint=0:i.params.decimalPoint=u;var h=parseFloat(s.val());void 0!==n.value||Number.isNaN(h)||!h&&0!==h||(i.params.value=h)}i.params.valueEl?l=f(i.params.valueEl):c.find(".stepper-value").length&&(l=c.find(".stepper-value").eq(0));var d=c.find(".stepper-button-plus"),p=c.find(".stepper-button-minus"),m=i.params,v=m.step,g=m.min,y=m.max,b=m.value,w=m.decimalPoint;R.extend(i,{app:e,$el:c,el:c[0],$buttonPlusEl:d,buttonPlusEl:d[0],$buttonMinusEl:p,buttonMinusEl:p[0],$inputEl:s,inputEl:s?s[0]:void 0,$valueEl:l,valueEl:l?l[0]:void 0,step:v,min:g,max:y,value:b,decimalPoint:w,typeModeChanged:!1}),c[0].f7Stepper=i;var E,C,S,_,T,k={},x=null,I=!1,O=!1;function P(e){E||O||(f(e.target).closest(d).length?x="increment":f(e.target).closest(p).length&&(x="decrement"),x&&(k.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,k.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,E=!0,C=void 0,function e(t,n,r,i,a,o){clearTimeout(T),T=setTimeout(function(){1===t&&(I=S=!0),clearInterval(_),o(),_=setInterval(function(){o()},a),t<n&&e(t+1,n,r,i,a/2,o)},1===t?r:i)}(1,i.params.autorepeatDynamic?4:1,500,1e3,300,function(){i[x]()})))}function A(e){if(E&&!O){var t="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,n="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY;void 0!==C||I||(C=!!(C||Math.abs(n-k.y)>Math.abs(t-k.x)));var r=Math.pow(Math.pow(t-k.x,2)+Math.pow(n-k.y,2),.5);(C||20<r)&&(E=!1,clearTimeout(T),clearInterval(_))}}function D(){clearTimeout(T),clearInterval(_),x=null,E=I=!1}function N(){O?i.params.buttonsEndInputMode&&(O=!1,i.endTypeMode(!0)):S?S=!1:i.decrement(!0)}function M(){O?i.params.buttonsEndInputMode&&(O=!1,i.endTypeMode(!0)):S?S=!1:i.increment(!0)}function L(e){!e.target.readOnly&&i.params.manualInputMode&&(O=!0,"number"==typeof e.target.selectionStart&&(e.target.selectionStart=e.target.value.length,e.target.selectionEnd=e.target.value.length))}function F(e){13!==e.keyCode&&13!==e.which||(e.preventDefault(),O=!1,i.endTypeMode())}function B(){O=!1,i.endTypeMode(!0)}function j(e){O?i.typeValue(e.target.value):e.detail&&e.detail.sentByF7Stepper||i.setValue(e.target.value,!0)}return i.attachEvents=function(){p.on("click",N),d.on("click",M),i.params.watchInput&&s&&s.length&&(s.on("input",j),s.on("click",L),s.on("blur",B),s.on("keyup",F)),i.params.autorepeat&&(e.on("touchstart:passive",P),e.on("touchmove:active",A),e.on("touchend:passive",D))},i.detachEvents=function(){p.off("click",N),d.off("click",M),i.params.watchInput&&s&&s.length&&(s.off("input",j),s.off("click",L),s.off("blur",B),s.off("keyup",F))},i.useModules(),i.init(),gi(r,i)}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wi(e,t)}(t,H),n=t,(r=[{key:"minus",value:function(){return this.decrement()}},{key:"plus",value:function(){return this.increment()}},{key:"decrement",value:function(){return this.setValue(this.value-this.step,!1,!0)}},{key:"increment",value:function(){return this.setValue(this.value+this.step,!1,!0)}},{key:"setValue",value:function(e,t,n){var r=this,i=r.step,a=r.min,o=r.max,s=r.value,l=Math.round(e/i)*i;if(r.params.wraps&&n?(o<l&&(l=a),l<a&&(l=o)):l=Math.max(Math.min(l,o),a),Number.isNaN(l)&&(l=s),s===(r.value=l)&&!t)return r;r.$el.trigger("stepper:change",r,r.value);var c=r.formatValue(r.value);return r.$inputEl&&r.$inputEl.length&&(r.$inputEl.val(c),r.$inputEl.trigger("input change",{sentByF7Stepper:!0})),r.$valueEl&&r.$valueEl.length&&r.$valueEl.html(c),r.emit("local::change stepperChange",r,r.value),r}},{key:"endTypeMode",value:function(e){var t=this,n=t.min,r=t.max,i=parseFloat(t.value);if(Number.isNaN(i)&&(i=0),i=Math.max(Math.min(i,r),n),t.value=i,!t.typeModeChanged)return t.$inputEl&&t.$inputEl.length&&!e&&t.$inputEl.blur(),t;t.typeModeChanged=!1,t.$el.trigger("stepper:change",t,t.value);var a=t.formatValue(t.value);return t.$inputEl&&t.$inputEl.length&&(t.$inputEl.val(a),t.$inputEl.trigger("input change",{sentByF7Stepper:!0}),e||t.$inputEl.blur()),t.$valueEl&&t.$valueEl.length&&t.$valueEl.html(a),t.emit("local::change stepperChange",t,t.value),t}},{key:"typeValue",value:function(e){var t=this;t.typeModeChanged=!0;var n=String(e);if(n.lastIndexOf(".")+1===n.length||n.lastIndexOf(",")+1===n.length)return n.lastIndexOf(".")!==n.indexOf(".")||n.lastIndexOf(",")!==n.indexOf(",")?(n=n.slice(0,-1),t.value=n,t.$inputEl.val(t.value)):(t.value=n,t.$inputEl.val(n)),t;var r=parseFloat(n.replace(",","."));if(0===r)return t.value=n.replace(",","."),t.$inputEl.val(t.value),t;if(Number.isNaN(r))return t.value=0,t.$inputEl.val(t.value),t;var i=Math.pow(10,t.params.decimalPoint);return r=Math.round(r*i).toFixed(t.params.decimalPoint+1)/i,t.value=parseFloat(String(r).replace(",",".")),t.$inputEl.val(t.value),t}},{key:"getValue",value:function(){return this.value}},{key:"formatValue",value:function(e){return this.params.formatValue?this.params.formatValue.call(this,e):e}},{key:"init",value:function(){if(this.attachEvents(),this.$valueEl&&this.$valueEl.length){var e=this.formatValue(this.value);this.$valueEl.html(e)}return this}},{key:"destroy",value:function(){var e=this;e.$el.trigger("stepper:beforedestroy",e),e.emit("local::beforeDestroy stepperBeforeDestroy",e),delete e.$el[0].f7Stepper,e.detachEvents(),R.deleteProps(e),e=null}}])&&vi(n.prototype,r),t}(),Ci={name:"stepper",create:function(){var e=this;e.stepper=R.extend(W({defaultSelector:".stepper",constructor:Ei,app:e,domProp:"f7Stepper"}),{getValue:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:".stepper",n=e.stepper.get(t);if(n)return n.getValue()},setValue:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:".stepper",n=1<arguments.length?arguments[1]:void 0,r=e.stepper.get(t);if(r)return r.setValue(n)}})},static:{Stepper:Ei},on:{tabMounted:function(e){var t=this;f(e).find(".stepper-init").each(function(e,n){var r=f(n).dataset();t.stepper.create(R.extend({el:n},r||{}))})},tabBeforeRemove:function(e){f(e).find(".stepper-init").each(function(e,t){t.f7Stepper&&t.f7Stepper.destroy()})},pageInit:function(e){var t=this;e.$el.find(".stepper-init").each(function(e,n){var r=f(n).dataset();t.stepper.create(R.extend({el:n},r||{}))})},pageBeforeRemove:function(e){e.$el.find(".stepper-init").each(function(e,t){t.f7Stepper&&t.f7Stepper.destroy()})}},vnode:{"stepper-init":{insert:function(e){var t=e.elm,n=f(t).dataset();this.stepper.create(R.extend({el:t},n||{}))},destroy:function(e){var t=e.elm;t.f7Stepper&&t.f7Stepper.destroy()}}}};function Si(e){return(Si="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ti(e,t){return!t||"object"!==Si(t)&&"function"!=typeof t?xi(e):t}function ki(e){return(ki=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ii(e,t){return(Ii=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Oi=function(e){function t(e){var n,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);var i=xi(n=Ti(this,ki(t).call(this,r,[e]))),a=R.extend({on:{}},e.params.smartSelect);i.useModulesParams(a),i.params=R.extend({},a,r),i.app=e;var o=f(i.params.el).eq(0);if(0===o.length)return Ti(n,i);if(o[0].f7SmartSelect)return Ti(n,o[0].f7SmartSelect);var s=o.find("select").eq(0);if(0===s.length)return Ti(n,i);var l=f(i.params.valueEl);0===l.length&&(l=o.find(".item-after")),0===l.length&&(l=f('<div class="item-after"></div>')).insertAfter(o.find(".item-title"));var c=r.url;c||(o.attr("href")&&"#"!==o.attr("href")?c=o.attr("href"):s.attr("name")&&(c="".concat(s.attr("name").toLowerCase(),"-select/"))),c||(c=i.params.url);var u=s[0].multiple,h=u?"checkbox":"radio",d=R.id();function p(){i.open()}function m(){var e=i.$selectEl.val();i.$el.trigger("smartselect:change",i,e),i.emit("local::change smartSelectChange",i,e),i.setTextValue()}function v(){var e,t,n,r=this.value,a=[];if("checkbox"===this.type){for(var o=0;o<i.selectEl.options.length;o+=1)(e=i.selectEl.options[o]).value===r&&(e.selected=this.checked),e.selected&&(t=(n=e.dataset?e.dataset.displayAs:f(e).data("display-value-as"))&&void 0!==n?n:e.textContent,a.push(t.trim()));i.maxLength&&i.checkMaxLength()}else a=[t=(n=(e=i.$selectEl.find('option[value="'.concat(r,'"]'))[0]).dataset?e.dataset.displayAs:f(e).data("display-as"))&&void 0!==n?n:e.textContent],i.selectEl.value=r;i.$selectEl.trigger("change"),i.$valueEl.text(a.join(", ")),i.params.closeOnSelect&&"radio"===i.inputType&&i.close()}return R.extend(i,{$el:o,el:o[0],$selectEl:s,selectEl:s[0],$valueEl:l,valueEl:l[0],url:c,multiple:u,inputType:h,id:d,view:void 0,inputName:"".concat(h,"-").concat(d),selectName:s.attr("name"),maxLength:s.attr("maxlength")||r.maxLength}),(o[0].f7SmartSelect=i).attachEvents=function(){o.on("click",p),o.on("change","select",m)},i.detachEvents=function(){o.off("click",p),o.off("change","select",m)},i.attachInputsEvents=function(){i.$containerEl.on("change",'input[type="checkbox"], input[type="radio"]',v)},i.detachInputsEvents=function(){i.$containerEl.off("change",'input[type="checkbox"], input[type="radio"]',v)},i.useModules(),i.init(),Ti(n,i)}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ii(e,t)}(t,H),n=t,(r=[{key:"setValue",value:function(e){var t,n,r,i=e,a=[];if(this.multiple){Array.isArray(i)||(i=[i]);for(var o=0;o<this.selectEl.options.length;o+=1)t=this.selectEl.options[o],0<=i.indexOf(t.value)?t.selected=!0:t.selected=!1,t.selected&&(r=(n=t.dataset?t.dataset.displayAs:f(t).data("display-value-as"))&&void 0!==n?n:t.textContent,a.push(r.trim()))}else a=[r=(n=(t=this.$selectEl.find('option[value="'.concat(i,'"]'))[0]).dataset?t.dataset.displayAs:f(t).data("display-as"))&&void 0!==n?n:t.textContent],this.selectEl.value=i;this.$valueEl.text(a.join(", "))}},{key:"getValue",value:function(){return this.$selectEl.val()}},{key:"getView",value:function(){var e=this.view||this.params.view;if(e||(e=this.$el.parents(".view").length&&this.$el.parents(".view")[0].f7View),!e)throw Error("Smart Select requires initialized View");return this.view=e}},{key:"checkMaxLength",value:function(){var e=this.$containerEl;this.selectEl.selectedOptions.length>=this.maxLength?e.find('input[type="checkbox"]').each(function(e,t){t.checked?f(t).parents("li").removeClass("disabled"):f(t).parents("li").addClass("disabled")}):e.find(".disabled").removeClass("disabled")}},{key:"setTextValue",value:function(e){var t=[];void 0!==e?t=Array.isArray(e)?e:[e]:this.$selectEl.find("option").each(function(e,n){var r=f(n);if(n.selected){var i=n.dataset?n.dataset.displayAs:r.data("display-value-as");i&&void 0!==i?t.push(i):t.push(n.textContent.trim())}}),this.$valueEl.text(t.join(", "))}},{key:"getItemsData",value:function(){var e,t=this,n=[];return t.$selectEl.find("option").each(function(r,i){var a=f(i),o=a.dataset(),s=o.optionImage||t.params.optionImage,l=o.optionIcon||t.params.optionIcon,c=s||l,u=o.optionColor,h=o.optionClass||"";a[0].disabled&&(h+=" disabled");var d=a.parent("optgroup")[0],p=d&&d.label,m=!1;d&&d!==e&&(m=!0,e=d,n.push({groupLabel:p,isLabel:m})),n.push({value:a[0].value,text:a[0].textContent.trim(),selected:a[0].selected,groupEl:d,groupLabel:p,image:s,icon:l,color:u,className:h,disabled:a[0].disabled,id:t.id,hasMedia:c,checkbox:"checkbox"===t.inputType,radio:"radio"===t.inputType,inputName:t.inputName,inputType:t.inputType})}),t.items=n}},{key:"renderSearchbar",value:function(){return this.params.renderSearchbar?this.params.renderSearchbar.call(this):'\n      <form class="searchbar">\n        <div class="searchbar-inner">\n          <div class="searchbar-input-wrap">\n            <input type="search" placeholder="'.concat(this.params.searchbarPlaceholder,'"/>\n            <i class="searchbar-icon"></i>\n            <span class="input-clear-button"></span>\n          </div>\n          <span class="searchbar-disable-button">').concat(this.params.searchbarDisableText,"</span>\n        </div>\n      </form>\n    ")}},{key:"renderItem",value:function(e,t){return this.params.renderItem?this.params.renderItem.call(this,e,t):e.isLabel?'<li class="item-divider">'.concat(e.groupLabel,"</li>"):'\n        <li class="'.concat(e.className||"",'">\n          <label class="item-').concat(e.inputType,' item-content">\n            <input type="').concat(e.inputType,'" name="').concat(e.inputName,'" value="').concat(e.value,'" ').concat(e.selected?"checked":"",'/>\n            <i class="icon icon-').concat(e.inputType,'"></i>\n            ').concat(e.hasMedia?'\n              <div class="item-media">\n                '.concat(e.icon?'<i class="icon '.concat(e.icon,'"></i>'):"","\n                ").concat(e.image?'<img src="'.concat(e.image,'">'):"","\n              </div>\n            "):"",'\n            <div class="item-inner">\n              <div class="item-title').concat(e.color?" color-".concat(e.color):"",'">').concat(e.text,"</div>\n            </div>\n          </label>\n        </li>\n      ")}},{key:"renderItems",value:function(){var e=this;return e.params.renderItems?e.params.renderItems.call(e,e.items):"\n      ".concat(e.items.map(function(t,n){return"".concat(e.renderItem(t,n))}).join(""),"\n    ")}},{key:"renderPage",value:function(){var e=this;if(e.params.renderPage)return e.params.renderPage.call(e,e.items);var t=e.params.pageTitle;if(void 0===t){var n=e.$el.find(".item-title");t=n.length?n.text().trim():""}var r=e.params.cssClass;return'\n      <div class="page smart-select-page '.concat(r,'" data-name="smart-select-page" data-select-name="').concat(e.selectName,'">\n        <div class="navbar ').concat(e.params.navbarColorTheme?"color-".concat(e.params.navbarColorTheme):"",'">\n          <div class="navbar-inner sliding ').concat(e.params.navbarColorTheme?"color-".concat(e.params.navbarColorTheme):"",'">\n            <div class="left">\n              <a href="#" class="link back">\n                <i class="icon icon-back"></i>\n                <span class="ios-only">').concat(e.params.pageBackLinkText,"</span>\n              </a>\n            </div>\n            ").concat(t?'<div class="title">'.concat(t,"</div>"):"","\n            ").concat(e.params.searchbar?'<div class="subnavbar">'.concat(e.renderSearchbar(),"</div>"):"","\n          </div>\n        </div>\n        ").concat(e.params.searchbar?'<div class="searchbar-backdrop"></div>':"",'\n        <div class="page-content">\n          <div class="list smart-select-list-').concat(e.id," ").concat(e.params.virtualList?" virtual-list":""," ").concat(e.params.formColorTheme?"color-".concat(e.params.formColorTheme):"",'">\n            <ul>').concat(!e.params.virtualList&&e.renderItems(e.items),"</ul>\n          </div>\n        </div>\n      </div>\n    ")}},{key:"renderPopup",value:function(){var e=this;if(e.params.renderPopup)return e.params.renderPopup.call(e,e.items);var t=e.params.pageTitle;if(void 0===t){var n=e.$el.find(".item-title");t=n.length?n.text().trim():""}var r=e.params.cssClass||"";return'\n      <div class="popup smart-select-popup '.concat(r," ").concat(e.params.popupTabletFullscreen?"popup-tablet-fullscreen":"",'" data-select-name="').concat(e.selectName,'">\n        <div class="view">\n          <div class="page smart-select-page ').concat(e.params.searchbar?"page-with-subnavbar":"",'" data-name="smart-select-page">\n            <div class="navbar ').concat(e.params.navbarColorTheme?"color-".concat(e.params.navbarColorTheme):"",'">\n              <div class="navbar-inner sliding">\n                <div class="left">\n                  <a href="#" class="link popup-close" data-popup=".smart-select-popup[data-select-name=\'').concat(e.selectName,'\']">\n                    <i class="icon icon-back"></i>\n                    <span class="ios-only">').concat(e.params.popupCloseLinkText,"</span>\n                  </a>\n                </div>\n                ").concat(t?'<div class="title">'.concat(t,"</div>"):"","\n                ").concat(e.params.searchbar?'<div class="subnavbar">'.concat(e.renderSearchbar(),"</div>"):"","\n              </div>\n            </div>\n            ").concat(e.params.searchbar?'<div class="searchbar-backdrop"></div>':"",'\n            <div class="page-content">\n              <div class="list smart-select-list-').concat(e.id," ").concat(e.params.virtualList?" virtual-list":""," ").concat(e.params.formColorTheme?"color-".concat(e.params.formColorTheme):"",'">\n                <ul>').concat(!e.params.virtualList&&e.renderItems(e.items),"</ul>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    ")}},{key:"renderSheet",value:function(){var e=this;if(e.params.renderSheet)return e.params.renderSheet.call(e,e.items);var t=e.params.cssClass;return'\n      <div class="sheet-modal smart-select-sheet '.concat(t,'" data-select-name="').concat(e.selectName,'">\n        <div class="toolbar toolbar-top ').concat(e.params.toolbarColorTheme?"color-".concat(e.params.toolbarColorTheme):"",'">\n          <div class="toolbar-inner">\n            <div class="left"></div>\n            <div class="right">\n              <a class="link sheet-close">').concat(e.params.sheetCloseLinkText,'</a>\n            </div>\n          </div>\n        </div>\n        <div class="sheet-modal-inner">\n          <div class="page-content">\n            <div class="list smart-select-list-').concat(e.id," ").concat(e.params.virtualList?" virtual-list":""," ").concat(e.params.formColorTheme?"color-".concat(e.params.formColorTheme):"",'">\n              <ul>').concat(!e.params.virtualList&&e.renderItems(e.items),"</ul>\n            </div>\n          </div>\n        </div>\n      </div>\n    ")}},{key:"renderPopover",value:function(){var e=this;if(e.params.renderPopover)return e.params.renderPopover.call(e,e.items);var t=e.params.cssClass;return'\n      <div class="popover smart-select-popover '.concat(t,'" data-select-name="').concat(e.selectName,'">\n        <div class="popover-inner">\n          <div class="list smart-select-list-').concat(e.id," ").concat(e.params.virtualList?" virtual-list":""," ").concat(e.params.formColorTheme?"color-".concat(e.params.formColorTheme):"",'">\n            <ul>').concat(!e.params.virtualList&&e.renderItems(e.items),"</ul>\n          </div>\n        </div>\n      </div>\n    ")}},{key:"onOpen",value:function(e,t){var n=this,r=n.app,i=f(t);if(n.$containerEl=i,n.openedIn=e,n.opened=!0,n.params.virtualList&&(n.vl=r.virtualList.create({el:i.find(".virtual-list"),items:n.items,renderItem:n.renderItem.bind(n),height:n.params.virtualListHeight,searchByItem:function(e,t){return!!(t.text&&0<=t.text.toLowerCase().indexOf(e.trim().toLowerCase()))}})),n.params.searchbar){var a=i.find(".searchbar");if("page"===e&&"ios"===r.theme&&(a=f(r.navbar.getElByPage(i)).find(".searchbar")),n.params.appendSearchbarNotFound&&("page"===e||"popup"===e)){var o;(o="string"==typeof n.params.appendSearchbarNotFound?f('<div class="block searchbar-not-found">'.concat(n.params.appendSearchbarNotFound,"</div>")):"boolean"==typeof n.params.appendSearchbarNotFound?f('<div class="block searchbar-not-found">Nothing found</div>'):n.params.appendSearchbarNotFound)&&i.find(".page-content").append(o[0])}var s=R.extend({el:a,backdropEl:i.find(".searchbar-backdrop"),searchContainer:".smart-select-list-".concat(n.id),searchIn:".item-title"},"object"===Si(n.params.searchbar)?n.params.searchbar:{});n.searchbar=r.searchbar.create(s)}n.maxLength&&n.checkMaxLength(),n.params.closeOnSelect&&n.$containerEl.find('input[type="radio"][name="'.concat(n.inputName,'"]:checked')).parents("label").once("click",function(){n.close()}),n.attachInputsEvents(),n.$el.trigger("smartselect:open",n),n.emit("local::open smartSelectOpen",n)}},{key:"onOpened",value:function(){this.$el.trigger("smartselect:opened",this),this.emit("local::opened smartSelectOpened",this)}},{key:"onClose",value:function(){var e=this;e.destroyed||(e.vl&&e.vl.destroy&&(e.vl.destroy(),e.vl=null,delete e.vl),e.searchbar&&e.searchbar.destroy&&(e.searchbar.destroy(),e.searchbar=null,delete e.searchbar),e.detachInputsEvents(),e.$el.trigger("smartselect:close",e),e.emit("local::close smartSelectClose",e))}},{key:"onClosed",value:function(){this.destroyed||(this.opened=!1,this.$containerEl=null,delete this.$containerEl,this.$el.trigger("smartselect:closed",this),this.emit("local::closed smartSelectClosed",this))}},{key:"openPage",value:function(){var e=this;if(e.opened)return e;e.getItemsData();var t=e.renderPage(e.items);return e.getView().router.navigate({url:e.url,route:{content:t,path:e.url,on:{pageBeforeIn:function(t,n){e.onOpen("page",n.el)},pageAfterIn:function(t,n){e.onOpened("page",n.el)},pageBeforeOut:function(t,n){e.onClose("page",n.el)},pageAfterOut:function(t,n){e.onClosed("page",n.el)}}}}),e}},{key:"openPopup",value:function(){var e=this;if(e.opened)return e;e.getItemsData();var t={content:e.renderPopup(e.items),on:{popupOpen:function(t){e.onOpen("popup",t.el)},popupOpened:function(t){e.onOpened("popup",t.el)},popupClose:function(t){e.onClose("popup",t.el)},popupClosed:function(t){e.onClosed("popup",t.el)}}};return e.params.routableModals?e.getView().router.navigate({url:e.url,route:{path:e.url,popup:t}}):e.modal=e.app.popup.create(t).open(),e}},{key:"openSheet",value:function(){var e=this;if(e.opened)return e;e.getItemsData();var t={content:e.renderSheet(e.items),backdrop:!1,scrollToEl:e.$el,closeByOutsideClick:!0,on:{sheetOpen:function(t){e.onOpen("sheet",t.el)},sheetOpened:function(t){e.onOpened("sheet",t.el)},sheetClose:function(t){e.onClose("sheet",t.el)},sheetClosed:function(t){e.onClosed("sheet",t.el)}}};return e.params.routableModals?e.getView().router.navigate({url:e.url,route:{path:e.url,sheet:t}}):e.modal=e.app.sheet.create(t).open(),e}},{key:"openPopover",value:function(){var e=this;if(e.opened)return e;e.getItemsData();var t={content:e.renderPopover(e.items),targetEl:e.$el,on:{popoverOpen:function(t){e.onOpen("popover",t.el)},popoverOpened:function(t){e.onOpened("popover",t.el)},popoverClose:function(t){e.onClose("popover",t.el)},popoverClosed:function(t){e.onClosed("popover",t.el)}}};return e.params.routableModals?e.getView().router.navigate({url:e.url,route:{path:e.url,popover:t}}):e.modal=e.app.popover.create(t).open(),e}},{key:"open",value:function(e){if(this.opened)return this;var t=e||this.params.openIn;return this["open".concat(t.split("").map(function(e,t){return 0===t?e.toUpperCase():e}).join(""))](),this}},{key:"close",value:function(){var e=this;return e.opened?(e.params.routableModals||"page"===e.openedIn?e.getView().router.back():(e.modal.once("modalClosed",function(){R.nextTick(function(){e.modal.destroy(),delete e.modal})}),e.modal.close()),e):e}},{key:"init",value:function(){this.attachEvents(),this.setTextValue()}},{key:"destroy",value:function(){this.emit("local::beforeDestroy smartSelectBeforeDestroy",this),this.$el.trigger("smartselect:beforedestroy",this),this.detachEvents(),delete this.$el[0].f7SmartSelect,R.deleteProps(this),this.destroyed=!0}}])&&_i(n.prototype,r),t}(),Pi={name:"smartSelect",params:{smartSelect:{el:void 0,valueEl:void 0,openIn:"page",pageTitle:void 0,pageBackLinkText:"Back",popupCloseLinkText:"Close",popupTabletFullscreen:!1,sheetCloseLinkText:"Done",searchbar:!1,searchbarPlaceholder:"Search",searchbarDisableText:"Cancel",closeOnSelect:!1,virtualList:!1,virtualListHeight:void 0,formColorTheme:void 0,navbarColorTheme:void 0,routableModals:!0,url:"select/",cssClass:"",renderPage:void 0,renderPopup:void 0,renderSheet:void 0,renderPopover:void 0,renderItems:void 0,renderItem:void 0,renderSearchbar:void 0}},static:{SmartSelect:Oi},create:function(){var e=this;e.smartSelect=R.extend(W({defaultSelector:".smart-select",constructor:Oi,app:e,domProp:"f7SmartSelect"}),{open:function(t){var n=e.smartSelect.get(t);if(n&&n.open)return n.open()},close:function(t){var n=e.smartSelect.get(t);if(n&&n.close)return n.close()}})},on:{tabMounted:function(e){var t=this;f(e).find(".smart-select-init").each(function(e,n){t.smartSelect.create(R.extend({el:n},f(n).dataset()))})},tabBeforeRemove:function(e){f(e).find(".smart-select-init").each(function(e,t){t.f7SmartSelect&&t.f7SmartSelect.destroy&&t.f7SmartSelect.destroy()})},pageInit:function(e){var t=this;e.$el.find(".smart-select-init").each(function(e,n){t.smartSelect.create(R.extend({el:n},f(n).dataset()))})},pageBeforeRemove:function(e){e.$el.find(".smart-select-init").each(function(e,t){t.f7SmartSelect&&t.f7SmartSelect.destroy&&t.f7SmartSelect.destroy()})}},clicks:{".smart-select":function(e,t){e[0].f7SmartSelect||this.smartSelect.create(R.extend({el:e},t)).open()}},vnode:{"smart-select-init":{insert:function(e){var t=e.elm;this.smartSelect.create(R.extend({el:t},f(t).dataset()))},destroy:function(e){var t=e.elm;t.f7SmartSelect&&t.f7SmartSelect.destroy&&t.f7SmartSelect.destroy()}}}};function Ai(e,t,n){return Ri((r=t,i=n,Mi((a=Ni(e)).gy,3,a.march)+31*(r-1)-Li(r,7)*(r-7)+i-1));var r,i,a}function Di(e,t){return t<=6?31:t<=11?30:0===Ni(e).leap?30:29}function Ni(e){var t,n,r,i,a,o,s=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178],l=s.length,c=e+621,u=-14,h=s[0];if(e<h||s[l-1]<=e)throw new Error("Invalid Jalaali year "+e);for(o=1;o<l&&(n=(t=s[o])-h,!(e<t));o+=1)u=u+8*Li(n,33)+Li(Fi(n,33),4),h=t;return u=u+8*Li(a=e-h,33)+Li(Fi(a,33)+3,4),4===Fi(n,33)&&n-a==4&&(u+=1),i=20+u-(Li(c,4)-Li(3*(Li(c,100)+1),4)-150),n-a<6&&(a=a-n+33*Li(n+4,33)),-1===(r=Fi(Fi(a+1,33)-1,4))&&(r=4),{leap:r,gy:c,march:i}}function Mi(e,t,n){var r=Li(1461*(e+Li(t-8,6)+100100),4)+Li(153*Fi(t+9,12)+2,5)+n-34840408;return r-Li(3*Li(e+100100+Li(t-8,6),100),4)+752}function Ri(e){var t,n,r,i;return r=Li(Fi(n=5*Li(Fi(t=(t=4*e+139361631)+4*Li(3*Li(4*e+183187720,146097),4)-3908,1461),4)+308,153),5)+1,i=Fi(Li(n,153),12)+1,{gy:Li(t,1461)-100100+Li(8-i,6),gm:i,gd:r}}function Li(e,t){return~~(e/t)}function Fi(e,t){return e-~~(e/t)*t}function Bi(e,t,n){for(11<t&&(e+=Math.floor(t/12),t%=12);t<0;)e-=1,t+=12;for(;n>Di(e,t+1);)n-=Di(e=0===(t=11!==t?t+1:0)?e+1:e,t+1);for(;n<=0;)n+=Di(e=11==(t=0!==t?t-1:11)?e-1:e,t+1);return[e,t||0,n||1]}function ji(e){return(ji="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vi(e){var t="function"==typeof Map?new Map:void 0;return(Vi=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return qi(e,arguments,Hi(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Ui(r,e)})(e)}function qi(e,t,n){return(qi=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Ui(i,n.prototype),i}).apply(null,arguments)}function Ui(e,t){return(Ui=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Hi(e){return(Hi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var zi=["getHours","getMilliseconds","getMinutes","getSeconds","getTime","getTimezoneOffset","getUTCDate","getUTCDay","getUTCFullYear","getUTCHours","getUTCMilliseconds","getUTCMinutes","getUTCMonth","getUTCSeconds","now","parse","setHours","setMilliseconds","setMinutes","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","toDateString","toISOString","toJSON","toLocaleDateString","toLocaleTimeString","toLocaleString","toTimeString","toUTCString","UTC","valueOf"],Wi=["Shanbe","Yekshanbe","Doshanbe","Seshanbe","Chaharshanbe","Panjshanbe","Jom'e"],Ki=["","","","","","",""],Gi=["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Dey","Bahman","Esfand"],Qi=["","","","","","","","","","","",""],Yi=["","","","","","","","","",""],Xi=function(e){function t(){for(var e,n,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];if(function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e=function(e,t){return!t||"object"!==ji(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}(this,Hi(t).call(this)),0===i.length)n=Date.now();else if(1===i.length)n=i[0]instanceof Date?i[0].getTime():i[0];else{var o=Bi(i[0],i[1]||0,void 0===i[2]?1:i[2]),s=Ai(o[0],o[1]+1,o[2]);n=[s.gy,s.gm-1,s.gd].concat([i[3]||0,i[4]||0,i[5]||0,i[6]||0])}Array.isArray(n)?e.gdate=qi(Date,function(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(n)):e.gdate=new Date(n);var l=function(e,t,n){return"[object Date]"===Object.prototype.toString.call(e)&&(n=e.getDate(),t=e.getMonth()+1,e=e.getFullYear()),function(e){var t,n=Ri(e).gy,r=n-621,i=Ni(r);if(0<=(t=e-Mi(n,3,i.march))){if(t<=185)return{jy:r,jm:1+Li(t,31),jd:Fi(t,31)+1};t-=186}else r-=1,t+=179,1===i.leap&&(t+=1);return{jy:r,jm:7+Li(t,30),jd:Fi(t,30)+1}}(Mi(e,t,n))}(e.gdate.getFullYear(),e.gdate.getMonth()+1,e.gdate.getDate());return e.jdate=[l.jy,l.jm-1,l.jd],zi.forEach(function(e){t.prototype[e]=function(){var t;return(t=this.gdate)[e].apply(t,arguments)}}),e}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ui(e,t)}(t,Vi(Date)),n=t,(r=[{key:"getFullYear",value:function(){return this.jdate[0]}},{key:"setFullYear",value:function(e){return this.jdate=Bi(e,this.jdate[1],this.jdate[2]),this.syncDate(),this.gdate.getTime()}},{key:"getMonth",value:function(){return this.jdate[1]}},{key:"setMonth",value:function(e){return this.jdate=Bi(this.jdate[0],e,this.jdate[2]),this.syncDate(),this.gdate.getTime()}},{key:"getDate",value:function(){return this.jdate[2]}},{key:"setDate",value:function(e){return this.jdate=Bi(this.jdate[0],this.jdate[1],e),this.syncDate(),this.gdate.getTime()}},{key:"getDay",value:function(){return(this.gdate.getDay()+1)%7}},{key:"syncDate",value:function(){var e=Ai(this.jdate[0],this.jdate[1]+1,this.jdate[2]);this.gdate.setFullYear(e.gy),this.gdate.setMonth(e.gm-1),this.gdate.setDate(e.gd)}},{key:"toString",value:function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],t=function(e){return 1===e.toString().length?"0".concat(e):e.toString()},n="".concat(t(this.getHours()),":").concat(t(this.getMinutes()),":").concat(t(this.getSeconds()));return e?"".concat(Ki[this.getDay()]," ").concat(this.getDate()," ").concat(Qi[this.getMonth()]," ").concat(this.getFullYear(),"  ").concat(n).replace(/./g,function(e){return Yi[e]||e}):"".concat(Wi[this.getDay()]," ").concat(this.getDate()," ").concat(Gi[this.getMonth()]," ").concat(this.getFullYear()," ").concat(n)}}])&&$i(n.prototype,r),t}();function Ji(e){return(Ji="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ea(e,t){return!t||"object"!==Ji(t)&&"function"!=typeof t?na(e):t}function ta(e){return(ta=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function na(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ra(e,t){return(ra=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ia=function(e){function t(e){var n,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);var i,a,o,s=na(n=ea(this,ta(t).call(this,r,[e])));if(s.params=R.extend({},e.params.calendar,r),"jalali"===s.params.calendarType&&Object.keys(s.params.jalali).forEach(function(e){r[e]||(s.params[e]=s.params.jalali[e])}),"jalali"===s.params.calendarType?s.DateHandleClass=Xi:s.DateHandleClass=Date,s.params.containerEl&&0===(i=f(s.params.containerEl)).length)return ea(n,s);s.params.inputEl&&(a=f(s.params.inputEl)),a&&(o=a.parents(".view").length&&a.parents(".view")[0].f7View),o||(o=e.views.main);var l="horizontal"===s.params.direction,c=1;function u(){s.open()}function h(e){e.preventDefault()}function d(e){var t=f(e.target);s.isPopover()||s.opened&&!s.closing&&(t.closest('[class*="backdrop"]').length||(a&&0<a.length?t[0]!==a[0]&&0===t.closest(".sheet-modal, .calendar-modal").length&&s.close():0===f(e.target).closest(".sheet-modal, .calendar-modal").length&&s.close()))}return l&&(c=e.rtl?-1:1),R.extend(s,{app:e,$containerEl:i,containerEl:i&&i[0],inline:i&&0<i.length,$inputEl:a,inputEl:a&&a[0],initialized:!1,opened:!1,url:s.params.url,isHorizontal:l,inverter:c,view:o,animating:!1}),R.extend(s,{attachInputEvents:function(){s.$inputEl.on("click",u),s.params.inputReadOnly&&s.$inputEl.on("focus mousedown",h)},detachInputEvents:function(){s.$inputEl.off("click",u),s.params.inputReadOnly&&s.$inputEl.off("focus mousedown",h)},attachHtmlEvents:function(){e.on("click",d)},detachHtmlEvents:function(){e.off("click",d)}}),s.attachCalendarEvents=function(){var t,n,r,i,a,o,l,c,u,h,d,p,m,v=!0,g=s.$el,y=s.$wrapperEl;function b(e){n||t||(t=!0,r="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,a=r,i="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,o=i,l=(new s.DateHandleClass).getTime(),v=!(d=0),m=void 0,c=s.monthsTranslate)}function w(e){if(t){var l=s.isHorizontal;a="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,o="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,void 0===m&&(m=!!(m||Math.abs(o-i)>Math.abs(a-r))),l&&m?t=!1:(e.preventDefault(),s.animating?t=!1:(v=!1,n||(n=!0,u=y[0].offsetWidth,h=y[0].offsetHeight,y.transition(0)),d=(p=l?a-r:o-i)/(l?u:h),c=100*(s.monthsTranslate*s.inverter+d),y.transform("translate3d(".concat(l?c:0,"%, ").concat(l?0:c,"%, 0)"))))}}function E(){t&&n?(n=t=!1,(new s.DateHandleClass).getTime()-l<300?Math.abs(p)<10?s.resetMonth():10<=p?e.rtl?s.nextMonth():s.prevMonth():e.rtl?s.prevMonth():s.nextMonth():d<=-.5?e.rtl?s.prevMonth():s.nextMonth():.5<=d?e.rtl?s.nextMonth():s.prevMonth():s.resetMonth(),setTimeout(function(){v=!0},100)):n=t=!1}function C(e){if(v){var t=f(e.target).parents(".calendar-day");if(0===t.length&&f(e.target).hasClass("calendar-day")&&(t=f(e.target)),0!==t.length&&!t.hasClass("calendar-day-disabled")){s.params.rangePicker||(t.hasClass("calendar-day-next")&&s.nextMonth(),t.hasClass("calendar-day-prev")&&s.prevMonth());var n=parseInt(t.attr("data-year"),10),r=parseInt(t.attr("data-month"),10),i=parseInt(t.attr("data-day"),10);s.emit("local::dayClick calendarDayClick",s,t[0],n,r,i),(!t.hasClass("calendar-day-selected")||s.params.multiple||s.params.rangePicker)&&s.addValue(new s.DateHandleClass(n,r,i,0,0,0)),s.params.closeOnSelect&&(s.params.rangePicker&&2===s.value.length||!s.params.rangePicker)&&s.close()}}}function S(){s.nextMonth()}function _(){s.prevMonth()}function T(){s.nextYear()}function k(){s.prevYear()}var x=!("touchstart"!==e.touchEvents.start||!e.support.passiveListener)&&{passive:!0,capture:!1};g.find(".calendar-prev-month-button").on("click",_),g.find(".calendar-next-month-button").on("click",S),g.find(".calendar-prev-year-button").on("click",k),g.find(".calendar-next-year-button").on("click",T),y.on("click",C),s.params.touchMove&&(y.on(e.touchEvents.start,b,x),e.on("touchmove:active",w),e.on("touchend:passive",E)),s.detachCalendarEvents=function(){g.find(".calendar-prev-month-button").off("click",_),g.find(".calendar-next-month-button").off("click",S),g.find(".calendar-prev-year-button").off("click",k),g.find(".calendar-next-year-button").off("click",T),y.off("click",C),s.params.touchMove&&(y.off(e.touchEvents.start,b,x),e.off("touchmove:active",w),e.off("touchend:passive",E))}},s.init(),ea(n,s)}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ra(e,t)}(t,H),n=t,(r=[{key:"normalizeDate",value:function(e){var t=new this.DateHandleClass(e);return new this.DateHandleClass(t.getFullYear(),t.getMonth(),t.getDate())}},{key:"normalizeValues",value:function(e){var t=this,n=[];return e&&Array.isArray(e)&&(n=e.map(function(e){return t.normalizeDate(e)})),n}},{key:"initInput",value:function(){this.$inputEl&&this.params.inputReadOnly&&this.$inputEl.prop("readOnly",!0)}},{key:"isPopover",value:function(){var e=this.app,t=this.modal,n=this.params;if("sheet"===n.openIn)return!1;if(t&&"popover"!==t.type)return!1;if(!this.inline&&this.inputEl){if("popover"===n.openIn)return!0;if(e.device.ios)return!!e.device.ipad;if(768<=e.width)return!0}return!1}},{key:"formatDate",value:function(e){var t=new this.DateHandleClass(e),n=t.getFullYear(),r=t.getMonth(),i=r+1,a=t.getDate(),o=t.getDay(),s=this.params,l=s.dateFormat,c=s.monthNames,u=s.monthNamesShort,h=s.dayNames,d=s.dayNamesShort;return l.replace(/yyyy/g,n).replace(/yy/g,String(n).substring(2)).replace(/mm/g,i<10?"0".concat(i):i).replace(/m(\W+)/g,"".concat(i,"$1")).replace(/MM/g,c[r]).replace(/M(\W+)/g,"".concat(u[r],"$1")).replace(/dd/g,a<10?"0".concat(a):a).replace(/d(\W+)/g,"".concat(a,"$1")).replace(/DD/g,h[o]).replace(/D(\W+)/g,"".concat(d[o],"$1"))}},{key:"formatValue",value:function(){var e=this,t=e.value;return e.params.formatValue?e.params.formatValue.call(e,t):t.map(function(t){return e.formatDate(t)}).join(e.params.rangePicker?" - ":", ")}},{key:"addValue",value:function(e){var t=this,n=t.params,r=n.multiple,i=n.rangePicker,a=n.rangePickerMinDays,o=n.rangePickerMaxDays;if(r){var s;t.value||(t.value=[]);for(var l=0;l<t.value.length;l+=1)new t.DateHandleClass(e).getTime()===new t.DateHandleClass(t.value[l]).getTime()&&(s=l);void 0===s?t.value.push(e):t.value.splice(s,1),t.updateValue()}else i?(t.value||(t.value=[]),2!==t.value.length&&0!==t.value.length||(t.value=[]),0===t.value.length||Math.abs(t.value[0].getTime()-e.getTime())>=60*(a-1)*60*24*1e3&&(0===o||Math.abs(t.value[0].getTime()-e.getTime())<=60*(o-1)*60*24*1e3)?t.value.push(e):t.value=[],t.value.sort(function(e,t){return e-t})):t.value=[e],t.updateValue()}},{key:"setValue",value:function(e){this.value=e,this.updateValue()}},{key:"getValue",value:function(){return this.value}},{key:"updateValue",value:function(e){var t,n,r=this,i=r.$el,a=r.$wrapperEl,o=r.$inputEl,s=r.value,l=r.params;if(i&&0<i.length)if(a.find(".calendar-day-selected").removeClass("calendar-day-selected"),l.rangePicker&&2===s.length)for(t=new r.DateHandleClass(s[0]).getTime();t<=new r.DateHandleClass(s[1]).getTime();t+=864e5)n=new r.DateHandleClass(t),a.find('.calendar-day[data-date="'.concat(n.getFullYear(),"-").concat(n.getMonth(),"-").concat(n.getDate(),'"]')).addClass("calendar-day-selected");else for(t=0;t<r.value.length;t+=1)n=new r.DateHandleClass(s[t]),a.find('.calendar-day[data-date="'.concat(n.getFullYear(),"-").concat(n.getMonth(),"-").concat(n.getDate(),'"]')).addClass("calendar-day-selected");if(e||r.emit("local::change calendarChange",r,s),o&&o.length||l.header){var c=r.formatValue(s);l.header&&i&&i.length&&i.find(".calendar-selected-date").text(c),o&&o.length&&!e&&(o.val(c),o.trigger("change"))}}},{key:"updateCurrentMonthYear",value:function(e){var t=this.$months,n=this.$el,r=this.params;this.currentYear=void 0===e?(this.currentMonth=parseInt(t.eq(1).attr("data-month"),10),parseInt(t.eq(1).attr("data-year"),10)):(this.currentMonth=parseInt(t.eq("next"===e?t.length-1:0).attr("data-month"),10),parseInt(t.eq("next"===e?t.length-1:0).attr("data-year"),10)),n.find(".current-month-value").text(r.monthNames[this.currentMonth]),n.find(".current-year-value").text(this.currentYear)}},{key:"update",value:function(){var e=this,t=e.currentYear,n=e.currentMonth,r=e.$wrapperEl,i=new e.DateHandleClass(t,n),a=e.renderMonth(i,"prev"),o=e.renderMonth(i),s=e.renderMonth(i,"next");r.transition(0).html("".concat(a).concat(o).concat(s)).transform("translate3d(0,0,0)"),e.$months=r.find(".calendar-month"),e.monthsTranslate=0,e.setMonthsTranslate(),e.$months.each(function(t,n){e.emit("local::monthAdd calendarMonthAdd",n)})}},{key:"onMonthChangeStart",value:function(e){var t=this.$months,n=this.currentYear,r=this.currentMonth;this.updateCurrentMonthYear(e),t.removeClass("calendar-month-current calendar-month-prev calendar-month-next");var i="next"===e?t.length-1:0;t.eq(i).addClass("calendar-month-current"),t.eq("next"===e?i-1:i+1).addClass("next"===e?"calendar-month-prev":"calendar-month-next"),this.emit("local::monthYearChangeStart calendarMonthYearChangeStart",this,n,r)}},{key:"onMonthChangeEnd",value:function(e,t){var n,r,i,a=this,o=a.currentYear,s=a.currentMonth,l=a.$wrapperEl,c=a.monthsTranslate;a.animating=!1,l.find(".calendar-month:not(.calendar-month-prev):not(.calendar-month-current):not(.calendar-month-next)").remove(),void 0===e&&(e="next",t=!0),t?(l.find(".calendar-month-next, .calendar-month-prev").remove(),r=a.renderMonth(new a.DateHandleClass(o,s),"prev"),n=a.renderMonth(new a.DateHandleClass(o,s),"next")):i=a.renderMonth(new a.DateHandleClass(o,s),e),("next"===e||t)&&l.append(i||n),("prev"===e||t)&&l.prepend(i||r);var u=l.find(".calendar-month");a.$months=u,a.setMonthsTranslate(c),a.emit("local::monthAdd calendarMonthAdd",a,"next"===e?u.eq(u.length-1)[0]:u.eq(0)[0]),a.emit("local::monthYearChangeEnd calendarMonthYearChangeEnd",a,o,s)}},{key:"setMonthsTranslate",value:function(e){var t=this.$months,n=this.isHorizontal,r=this.inverter;e=e||this.monthsTranslate||0,void 0===this.monthsTranslate&&(this.monthsTranslate=e),t.removeClass("calendar-month-current calendar-month-prev calendar-month-next");var i=100*-(e+1)*r,a=100*-e*r,o=100*-(e-1)*r;t.eq(0).transform("translate3d(".concat(n?i:0,"%, ").concat(n?0:i,"%, 0)")).addClass("calendar-month-prev"),t.eq(1).transform("translate3d(".concat(n?a:0,"%, ").concat(n?0:a,"%, 0)")).addClass("calendar-month-current"),t.eq(2).transform("translate3d(".concat(n?o:0,"%, ").concat(n?0:o,"%, 0)")).addClass("calendar-month-next")}},{key:"nextMonth",value:function(e){var t=this,n=t.params,r=t.$wrapperEl,i=t.inverter,a=t.isHorizontal;void 0!==e&&"object"!==Ji(e)||(e="",n.animate||(e=0));var o=parseInt(t.$months.eq(t.$months.length-1).attr("data-month"),10),s=parseInt(t.$months.eq(t.$months.length-1).attr("data-year"),10),l=new t.DateHandleClass(s,o).getTime(),c=!t.animating;if(n.maxDate&&l>new t.DateHandleClass(n.maxDate).getTime())t.resetMonth();else{if(t.monthsTranslate-=1,o===t.currentMonth){var u=100*-t.monthsTranslate*i,h=f(t.renderMonth(l,"next")).transform("translate3d(".concat(a?u:0,"%, ").concat(a?0:u,"%, 0)")).addClass("calendar-month-next");r.append(h[0]),t.$months=r.find(".calendar-month"),t.emit("local::monthAdd calendarMonthAdd",t.$months.eq(t.$months.length-1)[0])}t.animating=!0,t.onMonthChangeStart("next");var d=100*t.monthsTranslate*i;r.transition(e).transform("translate3d(".concat(a?d:0,"%, ").concat(a?0:d,"%, 0)")),c&&r.transitionEnd(function(){t.onMonthChangeEnd("next")}),n.animate||t.onMonthChangeEnd("next")}}},{key:"prevMonth",value:function(e){var t=this,n=t.params,r=t.$wrapperEl,i=t.inverter,a=t.isHorizontal;void 0!==e&&"object"!==Ji(e)||(e="",n.animate||(e=0));var o=parseInt(t.$months.eq(0).attr("data-month"),10),s=parseInt(t.$months.eq(0).attr("data-year"),10),l=new t.DateHandleClass(s,o+1,-1).getTime(),c=!t.animating;if(n.minDate){var u=new t.DateHandleClass(n.minDate);if(l<(u=new t.DateHandleClass(u.getFullYear(),u.getMonth(),1)).getTime())return void t.resetMonth()}if(t.monthsTranslate+=1,o===t.currentMonth){var h=100*-t.monthsTranslate*i,d=f(t.renderMonth(l,"prev")).transform("translate3d(".concat(a?h:0,"%, ").concat(a?0:h,"%, 0)")).addClass("calendar-month-prev");r.prepend(d[0]),t.$months=r.find(".calendar-month"),t.emit("local::monthAdd calendarMonthAdd",t.$months.eq(0)[0])}t.animating=!0,t.onMonthChangeStart("prev");var p=100*t.monthsTranslate*i;r.transition(e).transform("translate3d(".concat(a?p:0,"%, ").concat(a?0:p,"%, 0)")),c&&r.transitionEnd(function(){t.onMonthChangeEnd("prev")}),n.animate||t.onMonthChangeEnd("prev")}},{key:"resetMonth",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=this.$wrapperEl,n=this.inverter,r=this.isHorizontal,i=100*this.monthsTranslate*n;t.transition(e).transform("translate3d(".concat(r?i:0,"%, ").concat(r?0:i,"%, 0)"))}},{key:"setYearMonth",value:function(e,t,n){var r,i=this,a=i.params,o=i.isHorizontal,s=i.$wrapperEl,l=i.inverter;if(void 0===e&&(e=i.currentYear),void 0===t&&(t=i.currentMonth),void 0!==n&&"object"!==Ji(n)||(n="",a.animate||(n=0)),r=e<i.currentYear?new i.DateHandleClass(e,t+1,-1).getTime():new i.DateHandleClass(e,t).getTime(),a.maxDate&&r>new i.DateHandleClass(a.maxDate).getTime())return!1;if(a.minDate){var c=new i.DateHandleClass(a.minDate);if(r<(c=new i.DateHandleClass(c.getFullYear(),c.getMonth(),1)).getTime())return!1}var u=new i.DateHandleClass(i.currentYear,i.currentMonth).getTime(),h=u<r?"next":"prev",d=i.renderMonth(new i.DateHandleClass(e,t));i.monthsTranslate=i.monthsTranslate||0;var p,f=i.monthsTranslate,m=!i.animating;u<r?(i.monthsTranslate-=1,i.animating||i.$months.eq(i.$months.length-1).remove(),s.append(d),i.$months=s.find(".calendar-month"),p=100*-(f-1)*l,i.$months.eq(i.$months.length-1).transform("translate3d(".concat(o?p:0,"%, ").concat(o?0:p,"%, 0)")).addClass("calendar-month-next")):(i.monthsTranslate+=1,i.animating||i.$months.eq(0).remove(),s.prepend(d),i.$months=s.find(".calendar-month"),p=100*-(f+1)*l,i.$months.eq(0).transform("translate3d(".concat(o?p:0,"%, ").concat(o?0:p,"%, 0)")).addClass("calendar-month-prev")),i.emit("local::monthAdd calendarMonthAdd","next"===h?i.$months.eq(i.$months.length-1)[0]:i.$months.eq(0)[0]),i.animating=!0,i.onMonthChangeStart(h);var v=100*i.monthsTranslate*l;s.transition(n).transform("translate3d(".concat(o?v:0,"%, ").concat(o?0:v,"%, 0)")),m&&s.transitionEnd(function(){i.onMonthChangeEnd(h,!0)}),a.animate||i.onMonthChangeEnd(h)}},{key:"nextYear",value:function(){this.setYearMonth(this.currentYear+1)}},{key:"prevYear",value:function(){this.setYearMonth(this.currentYear-1)}},{key:"dateInRange",value:function(e,t){var n,r=this,i=!1;if(!t)return!1;if(Array.isArray(t))for(n=0;n<t.length;n+=1)t[n].from||t[n].to?t[n].from&&t[n].to?e<=new r.DateHandleClass(t[n].to).getTime()&&e>=new r.DateHandleClass(t[n].from).getTime()&&(i=!0):t[n].from?e>=new r.DateHandleClass(t[n].from).getTime()&&(i=!0):t[n].to&&e<=new r.DateHandleClass(t[n].to).getTime()&&(i=!0):t[n].date?e===new r.DateHandleClass(t[n].date).getTime()&&(i=!0):e===new r.DateHandleClass(t[n]).getTime()&&(i=!0);else t.from||t.to?t.from&&t.to?e<=new r.DateHandleClass(t.to).getTime()&&e>=new r.DateHandleClass(t.from).getTime()&&(i=!0):t.from?e>=new r.DateHandleClass(t.from).getTime()&&(i=!0):t.to&&e<=new r.DateHandleClass(t.to).getTime()&&(i=!0):t.date?i=e===new r.DateHandleClass(t.date).getTime():"function"==typeof t&&(i=t(new r.DateHandleClass(e)));return i}},{key:"daysInMonth",value:function(e){var t=new this.DateHandleClass(e);return new this.DateHandleClass(t.getFullYear(),t.getMonth()+1,0).getDate()}},{key:"renderMonths",value:function(e){return this.params.renderMonths?this.params.renderMonths.call(this,e):'\n    <div class="calendar-months-wrapper">\n    '.concat(this.renderMonth(e,"prev"),"\n    ").concat(this.renderMonth(e),"\n    ").concat(this.renderMonth(e,"next"),"\n    </div>\n  ").trim()}},{key:"renderMonth",value:function(e,t){var n=this,r=n.params,i=n.value;if(r.renderMonth)return r.renderMonth.call(n,e,t);var a=new n.DateHandleClass(e),o=a.getFullYear(),s=a.getMonth();"next"===t&&(a=11===s?new n.DateHandleClass(o+1,0):new n.DateHandleClass(o,s+1,1)),"prev"===t&&(a=0===s?new n.DateHandleClass(o-1,11):new n.DateHandleClass(o,s-1,1)),"next"!==t&&"prev"!==t||(s=a.getMonth(),o=a.getFullYear());var l,c,u=[],h=(new n.DateHandleClass).setHours(0,0,0,0),d=r.minDate?new n.DateHandleClass(r.minDate).getTime():null,p=r.maxDate?new n.DateHandleClass(r.maxDate).getTime():null,f=n.daysInMonth(new n.DateHandleClass(a.getFullYear(),a.getMonth()).getTime()-864e6),m=n.daysInMonth(a),v=6===r.firstDay?0:1,g="",y=r.firstDay-1+0,b=new n.DateHandleClass(a.getFullYear(),a.getMonth()).getDay();if(0===b&&(b=7),i&&i.length)for(var w=0;w<i.length;w+=1)u.push(new n.DateHandleClass(i[w]).setHours(0,0,0,0));for(var E=1;E<=6;E+=1){for(var C="",S=function(e){var t=void 0,i=(y+=1)-b,a="";1===E&&1===e&&v<i&&1!==r.firstDay&&(i=(y-=7)-b);var g=6<e-1+r.firstDay?e-1-7+r.firstDay:e-1+r.firstDay;(t=i<0?(i=f+i+1,a+=" calendar-day-prev",new n.DateHandleClass(s-1<0?o-1:o,s-1<0?11:s-1,i).getTime()):m<(i+=1)?(i-=m,a+=" calendar-day-next",new n.DateHandleClass(11<s+1?o+1:o,11<s+1?0:s+1,i).getTime()):new n.DateHandleClass(o,s,i).getTime())===h&&(a+=" calendar-day-today"),r.rangePicker&&2===u.length?t>=u[0]&&t<=u[1]&&(a+=" calendar-day-selected"):0<=u.indexOf(t)&&(a+=" calendar-day-selected"),0<=r.weekendDays.indexOf(g)&&(a+=" calendar-day-weekend");var w="";if(c=!1,r.events&&n.dateInRange(t,r.events)&&(c=!0),c&&(a+=" calendar-day-has-events",w='\n            <span class="calendar-day-events">\n              <span class="calendar-day-event"></span>\n            </span>\n          ',Array.isArray(r.events))){var S=[];r.events.forEach(function(e){var r=e.color||"";S.indexOf(r)<0&&n.dateInRange(t,e)&&S.push(r)}),w='\n              <span class="calendar-day-events">\n                '.concat(S.map(function(e){return'\n                  <span class="calendar-day-event" style="'.concat(e?"background-color: ".concat(e):"",'"></span>\n                ').trim()}).join(""),"\n              </span>\n            ")}if(r.rangesClasses)for(var _=0;_<r.rangesClasses.length;_+=1)n.dateInRange(t,r.rangesClasses[_].range)&&(a+=" ".concat(r.rangesClasses[_].cssClass));l=!1,(d&&t<d||p&&p<t)&&(l=!0),r.disabled&&n.dateInRange(t,r.disabled)&&(l=!0),l&&(a+=" calendar-day-disabled");var T=(t=new n.DateHandleClass(t)).getFullYear(),k=t.getMonth();C+='\n          <div data-year="'.concat(T,'" data-month="').concat(k,'" data-day="').concat(i,'" class="calendar-day').concat(a,'" data-date="').concat(T,"-").concat(k,"-").concat(i,'">\n            <span class="calendar-day-number">').concat(i).concat(w,"</span>\n          </div>").trim()},_=1;_<=7;_+=1)S(_);g+='<div class="calendar-row">'.concat(C,"</div>")}return'<div class="calendar-month" data-year="'.concat(o,'" data-month="').concat(s,'">').concat(g,"</div>")}},{key:"renderWeekHeader",value:function(){if(this.params.renderWeekHeader)return this.params.renderWeekHeader.call(this);for(var e=this.params,t="",n=0;n<7;n+=1){var r=6<n+e.firstDay?n-7+e.firstDay:n+e.firstDay,i=e.dayNamesShort[r];t+='<div class="calendar-week-day">'.concat(i,"</div>")}return'\n    <div class="calendar-week-header">\n      '.concat(t,"\n    </div>\n  ").trim()}},{key:"renderMonthSelector",value:function(){return this.params.renderMonthSelector?this.params.renderMonthSelector.call(this):'\n    <div class="calendar-month-selector">\n      <a href="#" class="link icon-only calendar-prev-month-button">\n        <i class="icon icon-prev"></i>\n      </a>\n      <span class="current-month-value"></span>\n      <a href="#" class="link icon-only calendar-next-month-button">\n        <i class="icon icon-next"></i>\n      </a>\n    </div>\n  '.trim()}},{key:"renderYearSelector",value:function(){return this.params.renderYearSelector?this.params.renderYearSelector.call(this):'\n    <div class="calendar-year-selector">\n      <a href="#" class="link icon-only calendar-prev-year-button">\n        <i class="icon icon-prev"></i>\n      </a>\n      <span class="current-year-value"></span>\n      <a href="#" class="link icon-only calendar-next-year-button">\n        <i class="icon icon-next"></i>\n      </a>\n    </div>\n  '.trim()}},{key:"renderHeader",value:function(){return this.params.renderHeader?this.params.renderHeader.call(this):'\n    <div class="calendar-header">\n      <div class="calendar-selected-date">'.concat(this.params.headerPlaceholder,"</div>\n    </div>\n  ").trim()}},{key:"renderFooter",value:function(){var e=this.app;return this.params.renderFooter?this.params.renderFooter.call(this):'\n    <div class="calendar-footer">\n      <a href="#" class="'.concat("md"===e.theme?"button":"link",' calendar-close sheet-close popover-close">').concat(this.params.toolbarCloseText,"</a>\n    </div>\n  ").trim()}},{key:"renderToolbar",value:function(){return this.params.renderToolbar?this.params.renderToolbar.call(this,this):'\n    <div class="toolbar toolbar-top no-shadow">\n      <div class="toolbar-inner">\n        '.concat(this.params.monthSelector?this.renderMonthSelector():"","\n        ").concat(this.params.yearSelector?this.renderYearSelector():"","\n      </div>\n    </div>\n  ").trim()}},{key:"renderInline",value:function(){var e=this.params,t=e.cssClass,n=e.toolbar,r=e.header,i=e.footer,a=e.rangePicker,o=e.weekHeader,s=this.value,l=s&&s.length?s[0]:(new this.DateHandleClass).setHours(0,0,0);return'\n    <div class="calendar calendar-inline '.concat(a?"calendar-range":""," ").concat(t||"",'">\n      ').concat(r?this.renderHeader():"","\n      ").concat(n?this.renderToolbar():"","\n      ").concat(o?this.renderWeekHeader():"",'\n      <div class="calendar-months">\n        ').concat(this.renderMonths(l),"\n      </div>\n      ").concat(i?this.renderFooter():"","\n    </div>\n  ").trim()}},{key:"renderCustomModal",value:function(){var e=this.params,t=e.cssClass,n=e.toolbar,r=e.header,i=e.footer,a=e.rangePicker,o=e.weekHeader,s=this.value,l=s&&s.length?s[0]:(new this.DateHandleClass).setHours(0,0,0);return'\n    <div class="calendar calendar-modal '.concat(a?"calendar-range":""," ").concat(t||"",'">\n      ').concat(r?this.renderHeader():"","\n      ").concat(n?this.renderToolbar():"","\n      ").concat(o?this.renderWeekHeader():"",'\n      <div class="calendar-months">\n        ').concat(this.renderMonths(l),"\n      </div>\n      ").concat(i?this.renderFooter():"","\n    </div>\n  ").trim()}},{key:"renderSheet",value:function(){var e=this.params,t=e.cssClass,n=e.toolbar,r=e.header,i=e.footer,a=e.rangePicker,o=e.weekHeader,s=this.value,l=s&&s.length?s[0]:(new this.DateHandleClass).setHours(0,0,0);return'\n    <div class="sheet-modal calendar calendar-sheet '.concat(a?"calendar-range":""," ").concat(t||"",'">\n      ').concat(r?this.renderHeader():"","\n      ").concat(n?this.renderToolbar():"","\n      ").concat(o?this.renderWeekHeader():"",'\n      <div class="sheet-modal-inner calendar-months">\n        ').concat(this.renderMonths(l),"\n      </div>\n      ").concat(i?this.renderFooter():"","\n    </div>\n  ").trim()}},{key:"renderPopover",value:function(){var e=this.params,t=e.cssClass,n=e.toolbar,r=e.header,i=e.footer,a=e.rangePicker,o=e.weekHeader,s=this.value,l=s&&s.length?s[0]:(new this.DateHandleClass).setHours(0,0,0);return'\n    <div class="popover calendar-popover">\n      <div class="popover-inner">\n        <div class="calendar '.concat(a?"calendar-range":""," ").concat(t||"",'">\n        ').concat(r?this.renderHeader():"","\n        ").concat(n?this.renderToolbar():"","\n        ").concat(o?this.renderWeekHeader():"",'\n        <div class="calendar-months">\n          ').concat(this.renderMonths(l),"\n        </div>\n        ").concat(i?this.renderFooter():"","\n        </div>\n      </div>\n    </div>\n  ").trim()}},{key:"render",value:function(){var e=this.params;if(e.render)return e.render.call(this);if(this.inline)return this.renderInline();var t=e.openIn;return"auto"===t&&(t=this.isPopover()?"popover":"sheet"),"popover"===t?this.renderPopover():"sheet"===t?this.renderSheet():this.renderCustomModal()}},{key:"onOpen",value:function(){var e=this,t=e.initialized,n=e.$el,r=e.app,i=e.$inputEl,a=e.inline,o=e.value,s=e.params;e.closing=!1,e.opened=!0,e.opening=!0,e.attachCalendarEvents();var l=!o&&s.value;t?o&&e.setValue(o,0):o?e.setValue(o,0):s.value&&e.setValue(e.normalizeValues(s.value),0),e.updateCurrentMonthYear(),e.monthsTranslate=0,e.setMonthsTranslate(),l?e.updateValue():s.header&&o&&e.updateValue(!0),!a&&i&&i.length&&"md"===r.theme&&i.trigger("focus"),e.initialized=!0,e.$months.each(function(t,n){e.emit("local::monthAdd calendarMonthAdd",n)}),n&&n.trigger("calendar:open",e),i&&i.trigger("calendar:open",e),e.emit("local::open calendarOpen",e)}},{key:"onOpened",value:function(){this.opening=!1,this.$el&&this.$el.trigger("calendar:opened",this),this.$inputEl&&this.$inputEl.trigger("calendar:opened",this),this.emit("local::opened calendarOpened",this)}},{key:"onClose",value:function(){var e=this,t=e.app;e.opening=!1,e.closing=!0,e.$inputEl&&"md"===t.theme&&e.$inputEl.trigger("blur"),e.detachCalendarEvents&&e.detachCalendarEvents(),e.$el&&e.$el.trigger("calendar:close",e),e.$inputEl&&e.$inputEl.trigger("calendar:close",e),e.emit("local::close calendarClose",e)}},{key:"onClosed",value:function(){var e=this;e.opened=!1,e.closing=!1,e.inline||R.nextTick(function(){e.modal&&e.modal.el&&e.modal.destroy&&(e.params.routableModals||e.modal.destroy()),delete e.modal}),e.$el&&e.$el.trigger("calendar:closed",e),e.$inputEl&&e.$inputEl.trigger("calendar:closed",e),e.emit("local::closed calendarClosed",e)}},{key:"open",value:function(){var e=this,t=e.app,n=e.opened,r=e.inline,i=e.$inputEl,a=e.params;if(!n){if(r)return e.$el=f(e.render()),(e.$el[0].f7Calendar=e).$wrapperEl=e.$el.find(".calendar-months-wrapper"),e.$months=e.$wrapperEl.find(".calendar-month"),e.$containerEl.append(e.$el),e.onOpen(),void e.onOpened();var o=a.openIn;"auto"===o&&(o=e.isPopover()?"popover":"sheet");var s,l,c,u=e.render(),h={targetEl:i,scrollToEl:e.params.scrollToInput?i:void 0,content:u,backdrop:!0===e.params.backdrop||"popover"===o&&!1!==t.params.popover.backdrop&&!1!==e.params.backdrop,closeByBackdropClick:e.params.closeByBackdropClick,on:{open:function(){e.modal=this,e.$el="popover"===o?this.$el.find(".calendar"):this.$el,e.$wrapperEl=e.$el.find(".calendar-months-wrapper"),e.$months=e.$wrapperEl.find(".calendar-month"),e.$el[0].f7Calendar=e,"customModal"===o&&f(e.$el).find(".calendar-close").once("click",function(){e.close()}),e.onOpen()},opened:function(){e.onOpened()},close:function(){e.onClose()},closed:function(){e.onClosed()}}};e.params.routableModals?e.view.router.navigate({url:e.url,route:(s={path:e.url},l=o,c=h,l in s?Object.defineProperty(s,l,{value:c,enumerable:!0,configurable:!0,writable:!0}):s[l]=c,s)}):(e.modal=t[o].create(h),e.modal.open())}}},{key:"close",value:function(){var e=this.opened,t=this.inline;if(e)return t?(this.onClose(),void this.onClosed()):void(this.params.routableModals?this.view.router.back():this.modal.close())}},{key:"init",value:function(){var e=this;if(e.initInput(),e.inline)return e.open(),void e.emit("local::init calendarInit",e);!e.initialized&&e.params.value&&e.setValue(e.normalizeValues(e.params.value)),e.$inputEl&&e.attachInputEvents(),e.params.closeByOutsideClick&&e.attachHtmlEvents(),e.emit("local::init calendarInit",e)}},{key:"destroy",value:function(){var e=this;if(!e.destroyed){var t=e.$el;e.emit("local::beforeDestroy calendarBeforeDestroy",e),t&&t.trigger("calendar:beforedestroy",e),e.close(),e.$inputEl&&e.detachInputEvents(),e.params.closeByOutsideClick&&e.detachHtmlEvents(),t&&t.length&&delete e.$el[0].f7Calendar,R.deleteProps(e),e.destroyed=!0}}}])&&Zi(n.prototype,r),t}(),aa={name:"calendar",static:{Calendar:ia},create:function(){this.calendar=W({defaultSelector:".calendar",constructor:ia,app:this,domProp:"f7Calendar"}),this.calendar.close=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:".calendar",t=f(e);if(0!==t.length){var n=t[0].f7Calendar;!n||n&&!n.opened||n.close()}}},params:{calendar:{calendarType:"gregorian",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],firstDay:1,weekendDays:[0,6],jalali:{monthNames:["","","","","","","","","","","",""],monthNamesShort:["","","","","","","","","","","",""],dayNames:["","","","","","",""],dayNamesShort:["1","","","","","",""],firstDay:6,weekendDays:[5]},multiple:!1,rangePicker:!1,rangePickerMinDays:1,rangePickerMaxDays:0,dateFormat:"yyyy-mm-dd",direction:"horizontal",minDate:null,maxDate:null,disabled:null,events:null,rangesClasses:null,touchMove:!0,animate:!0,closeOnSelect:!1,monthSelector:!0,yearSelector:!0,weekHeader:!0,value:null,containerEl:null,openIn:"auto",formatValue:null,inputEl:null,inputReadOnly:!0,closeByOutsideClick:!0,scrollToInput:!0,header:!1,headerPlaceholder:"Select date",footer:!1,toolbar:!0,toolbarCloseText:"Done",cssClass:null,routableModals:!0,view:null,url:"date/",backdrop:null,closeByBackdropClick:!0,renderWeekHeader:null,renderMonths:null,renderMonth:null,renderMonthSelector:null,renderYearSelector:null,renderHeader:null,renderFooter:null,renderToolbar:null,renderInline:null,renderPopover:null,renderSheet:null,render:null}}};function oa(e){return(oa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function la(e,t){return!t||"object"!==oa(t)&&"function"!=typeof t?ua(e):t}function ca(e){return(ca=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ua(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ha(e,t){return(ha=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var da=function(e){function t(e){var n,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);var a,o,s,l=ua(n=la(this,ca(t).call(this,r,[e])));if(l.params=R.extend({},e.params.picker,r),l.params.containerEl&&0===(a=f(l.params.containerEl)).length)return la(n,l);function c(){l.resizeCols()}function u(){l.open()}function h(e){e.preventDefault()}function d(e){var t=f(e.target);l.isPopover()||l.opened&&!l.closing&&(t.closest('[class*="backdrop"]').length||(o&&0<o.length?t[0]!==o[0]&&0===t.closest(".sheet-modal").length&&l.close():0===f(e.target).closest(".sheet-modal").length&&l.close()))}return l.params.inputEl&&(o=f(l.params.inputEl)),o&&(s=o.parents(".view").length&&o.parents(".view")[0].f7View),s||(s=e.views.main),R.extend(l,{app:e,$containerEl:a,containerEl:a&&a[0],inline:a&&0<a.length,needsOriginFix:e.device.ios||0<=i.navigator.userAgent.toLowerCase().indexOf("safari")&&i.navigator.userAgent.toLowerCase().indexOf("chrome")<0&&!e.device.android,cols:[],$inputEl:o,inputEl:o&&o[0],initialized:!1,opened:!1,url:l.params.url,view:s}),R.extend(l,{attachResizeEvent:function(){e.on("resize",c)},detachResizeEvent:function(){e.off("resize",c)},attachInputEvents:function(){l.$inputEl.on("click",u),l.params.inputReadOnly&&l.$inputEl.on("focus mousedown",h)},detachInputEvents:function(){l.$inputEl.off("click",u),l.params.inputReadOnly&&l.$inputEl.off("focus mousedown",h)},attachHtmlEvents:function(){e.on("click",d)},detachHtmlEvents:function(){e.off("click",d)}}),l.init(),la(n,l)}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ha(e,t)}(t,H),n=t,(r=[{key:"initInput",value:function(){this.$inputEl&&this.params.inputReadOnly&&this.$inputEl.prop("readOnly",!0)}},{key:"resizeCols",value:function(){if(this.opened)for(var e=0;e<this.cols.length;e+=1)this.cols[e].divider||(this.cols[e].calcSize(),this.cols[e].setValue(this.cols[e].value,0,!1))}},{key:"isPopover",value:function(){var e=this.app,t=this.modal,n=this.params;if("sheet"===n.openIn)return!1;if(t&&"popover"!==t.type)return!1;if(!this.inline&&this.inputEl){if("popover"===n.openIn)return!0;if(e.device.ios)return!!e.device.ipad;if(768<=e.width)return!0}return!1}},{key:"formatValue",value:function(){var e=this.value,t=this.displayValue;return this.params.formatValue?this.params.formatValue.call(this,e,t):e.join(" ")}},{key:"setValue",value:function(e,t){var n=0;if(0===this.cols.length)return this.value=e,void this.updateValue(e);for(var r=0;r<this.cols.length;r+=1)this.cols[r]&&!this.cols[r].divider&&(this.cols[r].setValue(e[n],t),n+=1)}},{key:"getValue",value:function(){return this.value}},{key:"updateValue",value:function(e){var t,n=this,r=e||[],i=[];if(0===n.cols.length)for(var a=n.params.cols.filter(function(e){return!e.divider}),o=0;o<a.length;o+=1)void 0!==(t=a[o]).displayValues&&void 0!==t.values&&-1!==t.values.indexOf(r[o])?i.push(t.displayValues[t.values.indexOf(r[o])]):i.push(r[o]);else for(var s=0;s<n.cols.length;s+=1)n.cols[s].divider||(r.push(n.cols[s].value),i.push(n.cols[s].displayValue));0<=r.indexOf(void 0)||(n.value=r,n.displayValue=i,n.emit("local::change pickerChange",n,n.value,n.displayValue),n.inputEl&&(n.$inputEl.val(n.formatValue()),n.$inputEl.trigger("change")))}},{key:"initColumn",value:function(e,t){(function(e,t){var n=this,r=n.app,i=f(e),a=i.index(),o=n.cols[a];if(!o.divider){var s,l,c,u,h;o.$el=i,o.el=i[0],o.$itemsEl=o.$el.find(".picker-items"),o.items=o.$itemsEl.find(".picker-item"),o.replaceValues=function(e,t){o.detachEvents(),o.values=e,o.displayValues=t,o.$itemsEl.html(n.renderColumn(o,!0)),o.items=o.$itemsEl.find(".picker-item"),o.calcSize(),o.setValue(o.values[0],0,!0),o.attachEvents()},o.calcSize=function(){n.params.rotateEffect&&(o.$el.removeClass("picker-column-absolute"),o.width||o.$el.css({width:""}));var e=0,t=o.$el[0].offsetHeight;s=o.items[0].offsetHeight,l=s*o.items.length,c=t/2-l+s/2,u=t/2-s/2,o.width&&(e=o.width,parseInt(e,10)===e&&(e+="px"),o.$el.css({width:e})),n.params.rotateEffect&&(o.width||(o.items.each(function(t,n){var r=f(n).children("span");e=Math.max(e,r[0].offsetWidth)}),o.$el.css({width:"".concat(e+2,"px")})),o.$el.addClass("picker-column-absolute"))},o.setValue=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",r=2<arguments.length?arguments[2]:void 0,i=o.$itemsEl.find('.picker-item[data-picker-value="'.concat(e,'"]')).index();if(void 0!==i&&-1!==i){var a=-i*s+u;o.$itemsEl.transition(t),o.$itemsEl.transform("translate3d(0,".concat(a,"px,0)")),n.params.updateValuesOnMomentum&&o.activeIndex&&o.activeIndex!==i&&(R.cancelAnimationFrame(h),o.$itemsEl.transitionEnd(function(){R.cancelAnimationFrame(h)}),T()),o.updateItems(i,a,t,r)}},o.updateItems=function(e,t,r,i){void 0===t&&(t=R.getTranslate(o.$itemsEl[0],"y")),void 0===e&&(e=-Math.round((t-u)/s)),e<0&&(e=0),e>=o.items.length&&(e=o.items.length-1);var a=o.activeIndex;o.activeIndex=e,o.$itemsEl.find(".picker-item-selected").removeClass("picker-item-selected"),o.items.transition(r);var l=o.items.eq(e).addClass("picker-item-selected").transform("");n.params.rotateEffect&&o.items.each(function(e,r){var i=f(r),a=(i.index()*s-(u-t))/s,l=Math.ceil(o.height/s/2)+1,c=-18*a;180<c&&(c=180),c<-180&&(c=-180),Math.abs(a)>l?i.addClass("picker-item-far"):i.removeClass("picker-item-far"),i.transform("translate3d(0, ".concat(-t+u,"px, ").concat(n.needsOriginFix?-110:0,"px) rotateX(").concat(c,"deg)"))}),(i||void 0===i)&&(o.value=l.attr("data-picker-value"),o.displayValue=o.displayValues?o.displayValues[e]:o.value,a!==e&&(o.onChange&&o.onChange(n,o.value,o.displayValue),n.updateValue()))};var d,p,m,v,g,y,b,w,E,C,S=!0,_=!!r.support.passiveListener&&{passive:!1,capture:!1};o.attachEvents=function(){o.$el.on(r.touchEvents.start,k,_),r.on("touchmove:active",x),r.on("touchend:passive",I),o.items.on("click",O)},o.detachEvents=function(){o.$el.off(r.touchEvents.start,k,_),r.off("touchmove:active",x),r.off("touchend:passive",I),o.items.off("click",O)},o.init=function(){o.calcSize(),o.$itemsEl.transform("translate3d(0,".concat(u,"px,0)")).transition(0),0===a&&o.$el.addClass("picker-column-first"),a===n.cols.length-1&&o.$el.addClass("picker-column-last"),t&&o.updateItems(0,u,0),o.attachEvents()},o.destroy=function(){o.detachEvents()},o.init()}function T(){h=R.requestAnimationFrame(function(){o.updateItems(void 0,void 0,0),T()})}function k(e){p||d||(e.preventDefault(),d=!0,m="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,v=m,g=(new Date).getTime(),S=!0,y=R.getTranslate(o.$itemsEl[0],"y"),w=y)}function x(e){d&&(e.preventDefault(),S=!1,v="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,p||(R.cancelAnimationFrame(h),p=!0,y=R.getTranslate(o.$itemsEl[0],"y"),w=y,o.$itemsEl.transition(0)),b=void 0,(w=y+(v-m))<c&&(w=c-Math.pow(c-w,.8),b="min"),u<w&&(w=u+Math.pow(w-u,.8),b="max"),o.$itemsEl.transform("translate3d(0,".concat(w,"px,0)")),o.updateItems(void 0,w,0,n.params.updateValuesOnTouchmove),C=w-E||w,E=w)}function I(){if(d&&p){var e;p=d=!1,o.$itemsEl.transition(""),b&&("min"===b?o.$itemsEl.transform("translate3d(0,".concat(c,"px,0)")):o.$itemsEl.transform("translate3d(0,".concat(u,"px,0)"))),e=300<(new Date).getTime()-g?w:w+C*n.params.momentumRatio,e=Math.max(Math.min(e,u),c);var t=-Math.floor((e-u)/s);n.params.freeMode||(e=-t*s+u),o.$itemsEl.transform("translate3d(0,".concat(parseInt(e,10),"px,0)")),o.updateItems(t,e,"",!0),n.params.updateValuesOnMomentum&&(T(),o.$itemsEl.transitionEnd(function(){R.cancelAnimationFrame(h)})),setTimeout(function(){S=!0},100)}else p=d=!1}function O(){if(S){R.cancelAnimationFrame(h);var e=f(this).attr("data-picker-value");o.setValue(e)}}}).call(this,e,t)}},{key:"destroyColumn",value:function(e){var t=f(e).index();this.cols[t]&&this.cols[t].destroy&&this.cols[t].destroy()}},{key:"renderToolbar",value:function(){return this.params.renderToolbar?this.params.renderToolbar.call(this,this):'\n      <div class="toolbar toolbar-top no-shadow">\n        <div class="toolbar-inner">\n          <div class="left"></div>\n          <div class="right">\n            <a href="#" class="link sheet-close popover-close">'.concat(this.params.toolbarCloseText,"</a>\n          </div>\n        </div>\n      </div>\n    ").trim()}},{key:"renderColumn",value:function(e,t){var n,r,i="picker-column ".concat(e.textAlign?"picker-column-".concat(e.textAlign):""," ").concat(e.cssClass||"");return n=e.divider?'\n        <div class="'.concat(i,' picker-column-divider">').concat(e.content,"</div>\n      "):(r=e.values.map(function(t,n){return'\n        <div class="picker-item" data-picker-value="'.concat(t,'">\n          <span>').concat(e.displayValues?e.displayValues[n]:t,"</span>\n        </div>\n      ")}).join(""),'\n        <div class="'.concat(i,'">\n          <div class="picker-items">').concat(r,"</div>\n        </div>\n      ")),t?r.trim():n.trim()}},{key:"renderInline",value:function(){var e=this,t=e.params,n=t.rotateEffect,r=t.cssClass,i=t.toolbar;return'\n      <div class="picker picker-inline '.concat(n?"picker-3d":""," ").concat(r||"",'">\n        ').concat(i?e.renderToolbar():"",'\n        <div class="picker-columns">\n          ').concat(e.cols.map(function(t){return e.renderColumn(t)}).join(""),'\n          <div class="picker-center-highlight"></div>\n        </div>\n      </div>\n    ').trim()}},{key:"renderSheet",value:function(){var e=this,t=e.params,n=t.rotateEffect,r=t.cssClass,i=t.toolbar;return'\n      <div class="sheet-modal picker picker-sheet '.concat(n?"picker-3d":""," ").concat(r||"",'">\n        ').concat(i?e.renderToolbar():"",'\n        <div class="sheet-modal-inner picker-columns">\n          ').concat(e.cols.map(function(t){return e.renderColumn(t)}).join(""),'\n          <div class="picker-center-highlight"></div>\n        </div>\n      </div>\n    ').trim()}},{key:"renderPopover",value:function(){var e=this,t=e.params,n=t.rotateEffect,r=t.cssClass,i=t.toolbar;return'\n      <div class="popover picker-popover">\n        <div class="popover-inner">\n          <div class="picker '.concat(n?"picker-3d":""," ").concat(r||"",'">\n            ').concat(i?e.renderToolbar():"",'\n            <div class="picker-columns">\n              ').concat(e.cols.map(function(t){return e.renderColumn(t)}).join(""),'\n              <div class="picker-center-highlight"></div>\n            </div>\n          </div>\n        </div>\n      </div>\n    ').trim()}},{key:"render",value:function(){return this.params.render?this.params.render.call(this):this.inline?this.renderInline():this.isPopover()?this.renderPopover():this.renderSheet()}},{key:"onOpen",value:function(){var e=this,t=e.initialized,n=e.$el,r=e.app,i=e.$inputEl,a=e.inline,o=e.value,s=e.params;e.opened=!0,e.closing=!1,e.opening=!0,e.attachResizeEvent(),n.find(".picker-column").each(function(n,r){var i=!0;(!t&&s.value||t&&o)&&(i=!1),e.initColumn(r,i)}),t?o&&e.setValue(o,0):o?e.setValue(o,0):s.value&&e.setValue(s.value,0),!a&&i&&i.length&&"md"===r.theme&&i.trigger("focus"),e.initialized=!0,n&&n.trigger("picker:open",e),i&&i.trigger("picker:open",e),e.emit("local::open pickerOpen",e)}},{key:"onOpened",value:function(){this.opening=!1,this.$el&&this.$el.trigger("picker:opened",this),this.$inputEl&&this.$inputEl.trigger("picker:opened",this),this.emit("local::opened pickerOpened",this)}},{key:"onClose",value:function(){var e=this,t=e.app;e.opening=!1,e.closing=!0,e.detachResizeEvent(),e.cols.forEach(function(e){e.destroy&&e.destroy()}),e.$inputEl&&"md"===t.theme&&e.$inputEl.trigger("blur"),e.$el&&e.$el.trigger("picker:close",e),e.$inputEl&&e.$inputEl.trigger("picker:close",e),e.emit("local::close pickerClose",e)}},{key:"onClosed",value:function(){var e=this;e.opened=!1,e.closing=!1,e.inline||R.nextTick(function(){e.modal&&e.modal.el&&e.modal.destroy&&(e.params.routableModals||e.modal.destroy()),delete e.modal}),e.$el&&e.$el.trigger("picker:closed",e),e.$inputEl&&e.$inputEl.trigger("picker:closed",e),e.emit("local::closed pickerClosed",e)}},{key:"open",value:function(){var e=this,t=e.app,n=e.opened,r=e.inline,i=e.$inputEl;if(!n){if(0===e.cols.length&&e.params.cols.length&&e.params.cols.forEach(function(t){e.cols.push(t)}),r)return e.$el=f(e.render()),(e.$el[0].f7Picker=e).$containerEl.append(e.$el),e.onOpen(),void e.onOpened();var a,o,s,l=e.isPopover(),c=l?"popover":"sheet",u={targetEl:i,scrollToEl:e.params.scrollToInput?i:void 0,content:e.render(),backdrop:l,on:{open:function(){e.modal=this,e.$el=l?this.$el.find(".picker"):this.$el,(e.$el[0].f7Picker=e).onOpen()},opened:function(){e.onOpened()},close:function(){e.onClose()},closed:function(){e.onClosed()}}};e.params.routableModals?e.view.router.navigate({url:e.url,route:(a={path:e.url},o=c,s=u,o in a?Object.defineProperty(a,o,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[o]=s,a)}):(e.modal=t[c].create(u),e.modal.open())}}},{key:"close",value:function(){var e=this.opened,t=this.inline;if(e)return t?(this.onClose(),void this.onClosed()):void(this.params.routableModals?this.view.router.back():this.modal.close())}},{key:"init",value:function(){var e=this;if(e.initInput(),e.inline)return e.open(),void e.emit("local::init pickerInit",e);!e.initialized&&e.params.value&&e.setValue(e.params.value),e.$inputEl&&e.attachInputEvents(),e.params.closeByOutsideClick&&e.attachHtmlEvents(),e.emit("local::init pickerInit",e)}},{key:"destroy",value:function(){var e=this;if(!e.destroyed){var t=e.$el;e.emit("local::beforeDestroy pickerBeforeDestroy",e),t&&t.trigger("picker:beforedestroy",e),e.close(),e.$inputEl&&e.detachInputEvents(),e.params.closeByOutsideClick&&e.detachHtmlEvents(),t&&t.length&&delete e.$el[0].f7Picker,R.deleteProps(e),e.destroyed=!0}}}])&&sa(n.prototype,r),t}(),pa={name:"picker",static:{Picker:da},create:function(){this.picker=W({defaultSelector:".picker",constructor:da,app:this,domProp:"f7Picker"}),this.picker.close=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:".picker",t=f(e);if(0!==t.length){var n=t[0].f7Picker;!n||n&&!n.opened||n.close()}}},params:{picker:{updateValuesOnMomentum:!1,updateValuesOnTouchmove:!0,rotateEffect:!1,momentumRatio:7,freeMode:!1,cols:[],containerEl:null,openIn:"auto",formatValue:null,inputEl:null,inputReadOnly:!0,closeByOutsideClick:!0,scrollToInput:!0,toolbar:!0,toolbarCloseText:"Done",cssClass:null,routableModals:!0,view:null,url:"select/",renderToolbar:null,render:null}}},fa={handleScroll:function(e,t){var n,r=f(e),i=r[0].scrollTop,a=r[0].scrollHeight,o=r[0].offsetHeight,s=r[0].getAttribute("data-infinite-distance"),l=r.find(".virtual-list"),c=r.hasClass("infinite-scroll-top");if(s||(s=50),"string"==typeof s&&0<=s.indexOf("%")&&(s=parseInt(s,10)/100*o),o<s&&(s=o),c)i<s&&(r.trigger("infinite",t),this.emit("infinite",r[0],t));else if(a-s<=i+o){if(0<l.length&&(n=l.eq(-1)[0].f7VirtualList)&&!n.reachEnd&&!n.params.updatableScroll)return;r.trigger("infinite",t),this.emit("infinite",r[0],t)}},create:function(e){var t=f(e),n=this;t.on("scroll",function(e){n.infiniteScroll.handle(this,e)})},destroy:function(e){f(e).off("scroll")}},ma={name:"infiniteScroll",create:function(){R.extend(this,{infiniteScroll:{handle:fa.handleScroll.bind(this),create:fa.create.bind(this),destroy:fa.destroy.bind(this)}})},on:{tabMounted:function(e){var t=this;f(e).find(".infinite-scroll-content").each(function(e,n){t.infiniteScroll.create(n)})},tabBeforeRemove:function(e){var t=f(e),n=this;t.find(".infinite-scroll-content").each(function(e,t){n.infiniteScroll.destroy(t)})},pageInit:function(e){var t=this;e.$el.find(".infinite-scroll-content").each(function(e,n){t.infiniteScroll.create(n)})},pageBeforeRemove:function(e){var t=this;e.$el.find(".infinite-scroll-content").each(function(e,n){t.infiniteScroll.destroy(n)})}}};function va(e){return(va="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ga(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ya(e,t){return!t||"object"!==va(t)&&"function"!=typeof t?wa(e):t}function ba(e){return(ba=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ea(e,t){return(Ea=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ca=function(e){function t(e,n){var r;!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);var i=wa(r=ya(this,ba(t).call(this,{},[e]))),a=f(n),o=a.find(".ptr-preloader");i.$el=a,i.el=a[0],i.app=e,i.bottom=i.$el.hasClass("ptr-bottom"),i.useModulesParams({});var s,l,c,u="md"===e.theme;i.done=function(){return(u?o:a).transitionEnd(function(){a.removeClass("ptr-transitioning ptr-pull-up ptr-pull-down"),a.trigger("ptr:done"),i.emit("local::done ptrDone",a[0])}),a.removeClass("ptr-refreshing").addClass("ptr-transitioning"),i},i.refresh=function(){return a.hasClass("ptr-refreshing")||(a.addClass("ptr-transitioning ptr-refreshing"),a.trigger("ptr:refresh",i.done),i.emit("local::refresh ptrRefresh",a[0],i.done)),i};var h,d,p,m,v,g,y,b,w,E,C,S={},_=!1,T=!1,k=!1,x=0,I=!1,O=a.parents(".page");function P(e){if(l){if("android"!==L.os)return;if("targetTouches"in e&&1<e.targetTouches.length)return}a.hasClass("ptr-refreshing")||f(e.target).closest(".sortable-handler, .ptr-ignore, .card-expandable.card-opened").length||(l=!(b=c=!1),v=h=void 0,"touchstart"===e.type&&(s=e.targetTouches[0].identifier),S.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,S.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY)}function A(e){if(l){var t,r,I;if("touchmove"===e.type){if(s&&e.touches)for(var O=0;O<e.touches.length;O+=1)e.touches[O].identifier===s&&(I=e.touches[O]);I||(I=e.targetTouches[0]),t=I.pageX,r=I.pageY}else t=e.pageX,r=e.pageY;if(t&&r)if(void 0===h&&(h=!!(h||Math.abs(r-S.y)>Math.abs(t-S.x))),h){if(m=a[0].scrollTop,!c){var P;if(a.removeClass("ptr-transitioning"),w=a[0].scrollHeight,E=a[0].offsetHeight,i.bottom&&(C=w-E),w<m)return void(l=!1);var A=f(e.target).closest(".ptr-watch-scroll");if(A.length&&A.each(function(e,t){t!==n&&t.scrollHeight>t.offsetHeight&&"auto"===f(t).css("overflow")&&(!i.bottom&&0<t.scrollTop||i.bottom&&t.scrollTop<t.scrollHeight-t.offsetHeight)&&(P=!0)}),P)return void(l=!1);y&&0<=(g=a.attr("data-ptr-distance")).indexOf("%")&&(g=w*parseInt(g,10)/100),x=a.hasClass("ptr-refreshing")?g:0,T=!(w!==E&&"ios"===L.os&&!u),k=!1}c=!0,d=r-S.y,void 0===v&&(i.bottom?m!==C:0!==m)&&(v=!0),(i.bottom?d<0&&C<=m||C<m:0<d&&m<=0||m<0)?("ios"===L.os&&7<parseInt(L.osVersion.split(".")[0],10)&&(i.bottom||0!==m||v||(T=!0),i.bottom&&m===C&&!v&&(T=!0)),T||!i.bottom||u||(a.css("-webkit-overflow-scrolling","auto"),a.scrollTop(C),k=!0),(T||k)&&(e.cancelable&&e.preventDefault(),p=(i.bottom?-1*Math.pow(Math.abs(d),.85):Math.pow(d,.85))+x,u?o.transform("translate3d(0,".concat(p,"px,0)")).find(".ptr-arrow").transform("rotate(".concat(Math.abs(d)/66*180+100,"deg)")):i.bottom?a.children().transform("translate3d(0,".concat(p,"px,0)")):a.transform("translate3d(0,".concat(p,"px,0)"))),(T||k)&&Math.pow(Math.abs(d),.85)>g||!T&&Math.abs(d)>=2*g?(_=!0,a.addClass("ptr-pull-up").removeClass("ptr-pull-down")):(_=!1,a.removeClass("ptr-pull-up").addClass("ptr-pull-down")),b||(a.trigger("ptr:pullstart"),i.emit("local::pullStart ptrPullStart",a[0]),b=!0),a.trigger("ptr:pullmove",{event:e,scrollTop:m,translate:p,touchesDiff:d}),i.emit("local::pullMove ptrPullMove",a[0],{event:e,scrollTop:m,translate:p,touchesDiff:d})):(b=!1,a.removeClass("ptr-pull-up ptr-pull-down"),_=!1)}else l=!1}}function D(e){if("touchend"===e.type&&e.changedTouches&&0<e.changedTouches.length&&s&&e.changedTouches[0].identifier!==s)return c=h=l=!1,void(s=null);l&&c?(p&&(a.addClass("ptr-transitioning"),p=0),u?o.transform("").find(".ptr-arrow").transform(""):i.bottom?a.children().transform(""):a.transform(""),T||!i.bottom||u||a.css("-webkit-overflow-scrolling",""),_?(a.addClass("ptr-refreshing"),a.trigger("ptr:refresh",i.done),i.emit("local::refresh ptrRefresh",a[0],i.done)):a.removeClass("ptr-pull-down"),c=l=!1,b&&(a.trigger("ptr:pullend"),i.emit("local::pullEnd ptrPullEnd",a[0]))):c=l=!1}return(0<O.find(".navbar").length||0<O.parents(".view").children(".navbar").length)&&(I=!0),O.hasClass("no-navbar")&&(I=!1),I||i.bottom||a.addClass("ptr-no-navbar"),a.attr("data-ptr-distance")?y=!0:g=u?66:44,O.length&&a.length&&((a[0].f7PullToRefresh=i).attachEvents=function(){var t=!!de.passiveListener&&{passive:!0};a.on(e.touchEvents.start,P,t),e.on("touchmove:active",A),e.on("touchend:passive",D)},i.detachEvents=function(){var t=!!de.passiveListener&&{passive:!0};a.off(e.touchEvents.start,P,t),e.off("touchmove:active",A),e.off("touchend:passive",D)},i.useModules(),i.init()),ya(r,i)}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ea(e,t)}(t,H),n=t,(r=[{key:"init",value:function(){this.attachEvents()}},{key:"destroy",value:function(){var e=this;e.emit("local::beforeDestroy ptrBeforeDestroy",e),e.$el.trigger("ptr:beforedestroy",e),delete e.el.f7PullToRefresh,e.detachEvents(),R.deleteProps(e),e=null}}])&&ga(n.prototype,r),t}(),Sa={name:"pullToRefresh",create:function(){var e=this;e.ptr=R.extend(W({defaultSelector:".ptr-content",constructor:Ca,app:e,domProp:"f7PullToRefresh"}),{done:function(t){var n=e.ptr.get(t);if(n)return n.done()},refresh:function(t){var n=e.ptr.get(t);if(n)return n.refresh()}})},static:{PullToRefresh:Ca},on:{tabMounted:function(e){var t=this;f(e).find(".ptr-content").each(function(e,n){t.ptr.create(n)})},tabBeforeRemove:function(e){var t=f(e),n=this;t.find(".ptr-content").each(function(e,t){n.ptr.destroy(t)})},pageInit:function(e){var t=this;e.$el.find(".ptr-content").each(function(e,n){t.ptr.create(n)})},pageBeforeRemove:function(e){var t=this;e.$el.find(".ptr-content").each(function(e,n){t.ptr.destroy(n)})}}},_a={destroy:function(e){var t=f(e).closest(".page");t.length&&t[0].f7LazyDestroy&&t[0].f7LazyDestroy()},create:function(e){var t=this,n=f(e).closest(".page").eq(0),r=n.find(".lazy");if(0!==r.length||n.hasClass("lazy")){var a=t.params.lazy.placeholder;!1!==a&&r.each(function(e,t){f(t).attr("data-src")&&!f(t).attr("src")&&f(t).attr("src",a)});var o=[],s=!1;if(t.params.lazy.observer&&de.intersectionObserver){var l=n[0].f7LazyObserver;return l||(l=new i.IntersectionObserver(function(e,n){e.forEach(function(e){if(e.isIntersecting){if(t.params.lazy.sequential&&s)return void(o.indexOf(e.target)<0&&o.push(e.target));s=!0,t.lazy.loadImage(e.target,c),n.unobserve(e.target)}})},{root:n[0]})),r.each(function(e,t){t.f7LazyObserverAdded||(t.f7LazyObserverAdded=!0,l.observe(t))}),void(n[0].f7LazyDestroy||(n[0].f7LazyDestroy=function(){l.disconnect(),delete n[0].f7LazyDestroy,delete n[0].f7LazyObserver}))}n[0].f7LazyDestroy||(n[0].f7LazyDestroy=function(){n[0].f7LazyAttached=!1,delete n[0].f7LazyAttached,n.off("lazy",u),n.off("scroll",u,!0),n.find(".tab").off("tab:mounted tab:show",u),t.off("resize",u)}),n[0].f7LazyAttached||(n[0].f7LazyAttached=!0,n.on("lazy",u),n.on("scroll",u,!0),n.find(".tab").on("tab:mounted tab:show",u),t.on("resize",u)),u()}function c(e){0<=o.indexOf(e)&&o.splice(o.indexOf(e),1),s=!1,t.params.lazy.sequential&&0<o.length&&(s=!0,t.lazy.loadImage(o[0],c))}function u(){t.lazy.load(n,function(e){t.params.lazy.sequential&&s?o.indexOf(e)<0&&o.push(e):(s=!0,t.lazy.loadImage(e,c))})}},isInViewport:function(e){var t=e.getBoundingClientRect(),n=this.params.lazy.threshold||0;return t.top>=0-n&&t.left>=0-n&&t.top<=this.height+n&&t.left<=this.width+n},loadImage:function(e,t){var n=this,r=f(e),a=r.attr("data-background"),o=a||r.attr("data-src");if(o){var s=new i.Image;s.onload=function(){r.removeClass("lazy").addClass("lazy-loaded"),a?r.css("background-image","url(".concat(o,")")):r.attr("src",o),t&&t(e),r.trigger("lazy:loaded"),n.emit("lazyLoaded",r[0])},s.onerror=function(){r.removeClass("lazy").addClass("lazy-loaded"),a?r.css("background-image","url(".concat(n.params.lazy.placeholder||"",")")):r.attr("src",n.params.lazy.placeholder||""),t&&t(e),r.trigger("lazy:error"),n.emit("lazyError",r[0])},s.src=o,r.removeAttr("data-src").removeAttr("data-background"),r.trigger("lazy:load"),n.emit("lazyLoad",r[0])}},load:function(e,t){var n=this,r=f(e);r.hasClass("page")||(r=r.parents(".page").eq(0)),0!==r.length&&r.find(".lazy").each(function(e,r){0<f(r).parents(".tab:not(.tab-active)").length||n.lazy.isInViewport(r)&&(t?t(r):n.lazy.loadImage(r))})}},Ta={name:"lazy",params:{lazy:{placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAAA1BMVEXCwsK592mkAAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",threshold:0,sequential:!0,observer:!0}},create:function(){R.extend(this,{lazy:{create:_a.create.bind(this),destroy:_a.destroy.bind(this),loadImage:_a.loadImage.bind(this),load:_a.load.bind(this),isInViewport:_a.isInViewport.bind(this)}})},on:{pageInit:function(e){(0<e.$el.find(".lazy").length||e.$el.hasClass("lazy"))&&this.lazy.create(e.$el)},pageAfterIn:function(e){this.params.lazy.observer&&de.intersectionObserver||(0<e.$el.find(".lazy").length||e.$el.hasClass("lazy"))&&this.lazy.create(e.$el)},pageBeforeRemove:function(e){(0<e.$el.find(".lazy").length||e.$el.hasClass("lazy"))&&this.lazy.destroy(e.$el)},tabMounted:function(e){var t=f(e);(0<t.find(".lazy").length||t.hasClass("lazy"))&&this.lazy.create(t)},tabBeforeRemove:function(e){if(!this.params.lazy.observer||!de.intersectionObserver){var t=f(e);(0<t.find(".lazy").length||t.hasClass("lazy"))&&this.lazy.destroy(t)}}}};function ka(e){return(ka="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ia(e,t){return!t||"object"!==ka(t)&&"function"!=typeof t?Pa(e):t}function Oa(e){return(Oa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Aa(e,t){return(Aa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Da=function(e){function t(e){var n,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);var i=Pa(n=Ia(this,Oa(t).call(this,r,[e]))),a={};i.useModulesParams(a),i.params=R.extend(a,r);var o=f(i.params.el);if(0===o.length)return Ia(n,void 0);if(i.$el=o,i.el=o[0],i.$el[0].f7DataTable){var s=i.$el[0].f7DataTable;return i.destroy(),Ia(n,s)}function l(e){if(!e.detail||!e.detail.sentByF7DataTable){var t=f(this),n=t[0].checked,r=t.parents("td,th").index();0<t.parents("thead").length?(0===r&&o.find("tbody tr")[n?"addClass":"removeClass"]("data-table-row-selected"),o.find("tbody tr td:nth-child(".concat(r+1,") input")).prop("checked",n).trigger("change",{sentByF7DataTable:!0})):(0===r&&t.parents("tr")[n?"addClass":"removeClass"]("data-table-row-selected"),n?o.find("tbody .checkbox-cell:nth-child(".concat(r+1,') input[type="checkbox"]:checked')).length===o.find("tbody tr").length&&o.find("thead .checkbox-cell:nth-child(".concat(r+1,') input[type="checkbox"]')).prop("checked",!0).trigger("change",{sentByF7DataTable:!0}):o.find("thead .checkbox-cell:nth-child(".concat(r+1,') input[type="checkbox"]')).prop("checked",!1)),i.checkSelectedHeader()}}function c(){var e,t=f(this),n=t.hasClass("sortable-cell-active"),r=t.hasClass("sortable-desc")?"desc":"asc";n?(e="desc"===r?"asc":"desc",t.removeClass("sortable-desc sortable-asc").addClass("sortable-".concat(e))):(o.find("thead .sortable-cell-active").removeClass("sortable-cell-active"),t.addClass("sortable-cell-active"),e=r),t.trigger("datatable:sort",e),i.emit("local::sort dataTableSort",i,e)}return i.$el[0].f7DataTable=i,R.extend(i,{collapsible:o.hasClass("data-table-collapsible"),$headerEl:o.find(".data-table-header"),$headerSelectedEl:o.find(".data-table-header-selected")}),i.attachEvents=function(){i.$el.on("change",'.checkbox-cell input[type="checkbox"]',l),i.$el.find("thead .sortable-cell").on("click",c)},i.detachEvents=function(){i.$el.off("change",'.checkbox-cell input[type="checkbox"]',l),i.$el.find("thead .sortable-cell").off("click",c)},i.useModules(),i.init(),Ia(n,i)}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Aa(e,t)}(t,H),n=t,(r=[{key:"setCollapsibleLabels",value:function(){var e=this;e.collapsible&&e.$el.find("tbody td:not(.checkbox-cell)").each(function(t,n){var r=f(n),i=r.index(),a=r.attr("data-collapsible-title");a||""===a||r.attr("data-collapsible-title",e.$el.find("thead th").eq(i).text())})}},{key:"checkSelectedHeader",value:function(){if(0<this.$headerEl.length&&0<this.$headerSelectedEl.length){var e=this.$el.find("tbody .checkbox-cell input:checked").length;this.$el[0<e?"addClass":"removeClass"]("data-table-has-checked"),this.$headerSelectedEl.find(".data-table-selected-count").text(e)}}},{key:"init",value:function(){this.attachEvents(),this.setCollapsibleLabels(),this.checkSelectedHeader()}},{key:"destroy",value:function(){var e=this;e.$el.trigger("datatable:beforedestroy",e),e.emit("local::beforeDestroy dataTableBeforeDestroy",e),e.attachEvents(),e.$el[0]&&(e.$el[0].f7DataTable=null,delete e.$el[0].f7DataTable),R.deleteProps(e),e=null}}])&&xa(n.prototype,r),t}(),Na={name:"dataTable",static:{DataTable:Da},create:function(){this.dataTable=W({defaultSelector:".data-table",constructor:Da,app:this,domProp:"f7DataTable"})},on:{tabBeforeRemove:function(e){var t=this;f(e).find(".data-table-init").each(function(e,n){t.dataTable.destroy(n)})},tabMounted:function(e){var t=this;f(e).find(".data-table-init").each(function(e,n){t.dataTable.create({el:n})})},pageBeforeRemove:function(e){var t=this;e.$el.find(".data-table-init").each(function(e,n){t.dataTable.destroy(n)})},pageInit:function(e){var t=this;e.$el.find(".data-table-init").each(function(e,n){t.dataTable.create({el:n})})}},vnode:{"data-table-init":{insert:function(e){var t=e.elm;this.dataTable.create({el:t})},destroy:function(e){var t=e.elm;this.dataTable.destroy(t)}}}},Ma={morphOpen:function(e,t){var n=this,r=f(e),i=f(t);if(0!==i.length){i.transition(0).addClass("fab-morph-target-visible");var a={width:i[0].offsetWidth,height:i[0].offsetHeight,offset:i.offset(),borderRadius:i.css("border-radius"),zIndex:i.css("z-index")},o={width:r[0].offsetWidth,height:r[0].offsetHeight,offset:r.offset(),translateX:R.getTranslate(r[0],"x"),translateY:R.getTranslate(r[0],"y")};r[0].f7FabMorphData={$targetEl:i,target:a,fab:o};var s=o.offset.left+o.width/2-(a.offset.left+a.width/2)-o.translateX,l=o.offset.top+o.height/2-(a.offset.top+a.height/2)-o.translateY,c=a.width/o.width,u=a.height/o.height,h=Math.ceil(parseInt(a.borderRadius,10)/Math.max(c,u));0<h&&(h+=2),r[0].f7FabMorphResizeHandler=function(){r.transition(0).transform(""),i.transition(0),a.width=i[0].offsetWidth,a.height=i[0].offsetHeight,a.offset=i.offset(),o.offset=r.offset();var e=o.offset.left+o.width/2-(a.offset.left+a.width/2)-o.translateX,t=o.offset.top+o.height/2-(a.offset.top+a.height/2)-o.translateY,n=a.width/o.width,s=a.height/o.height;r.transform("translate3d(".concat(-e,"px, ").concat(-t,"px, 0) scale(").concat(n,", ").concat(s,")"))},i.css("opacity",0).transform("scale(".concat(1/c,", ").concat(1/u,")")),r.addClass("fab-opened").css("z-index",a.zIndex-1).transform("translate3d(".concat(-s,"px, ").concat(-l,"px, 0)")),r.transitionEnd(function(){i.transition(""),R.nextFrame(function(){i.css("opacity",1).transform("scale(1,1)"),r.transform("translate3d(".concat(-s,"px, ").concat(-l,"px, 0) scale(").concat(c,", ").concat(u,")")).css("border-radius","".concat(h,"px")).css("box-shadow","none")}),n.on("resize",r[0].f7FabMorphResizeHandler),0<i.parents(".page-content").length&&i.parents(".page-content").on("scroll",r[0].f7FabMorphResizeHandler)})}},morphClose:function(e){var t=f(e),n=t[0].f7FabMorphData;if(n){var r=n.$targetEl,i=n.target,a=n.fab;if(0!==r.length){var o=a.offset.left+a.width/2-(i.offset.left+i.width/2)-a.translateX,s=a.offset.top+a.height/2-(i.offset.top+i.height/2)-a.translateY,l=i.width/a.width,c=i.height/a.height;this.off("resize",t[0].f7FabMorphResizeHandler),0<r.parents(".page-content").length&&r.parents(".page-content").off("scroll",t[0].f7FabMorphResizeHandler),r.css("opacity",0).transform("scale(".concat(1/l,", ").concat(1/c,")")),t.transition("").css("box-shadow","").css("border-radius","").transform("translate3d(".concat(-o,"px, ").concat(-s,"px, 0)")),t.transitionEnd(function(){t.css("z-index","").removeClass("fab-opened").transform(""),R.nextFrame(function(){t.transitionEnd(function(){r.removeClass("fab-morph-target-visible").css("opacity","").transform("").transition("")})})})}}},open:function(e,t){var n=f(e).eq(0),r=n.find(".fab-buttons");if(n.length&&!n.hasClass("fab-opened")&&(r.length||n.hasClass("fab-morph"))){if(this.fab.openedEl){if(this.fab.openedEl===n[0])return;this.fab.close(this.fab.openedEl)}this.fab.openedEl=n[0],n.hasClass("fab-morph")?this.fab.morphOpen(n,t||n.attr("data-morph-to")):n.addClass("fab-opened"),n.trigger("fab:open")}},close:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:".fab-opened",t=f(e).eq(0),n=t.find(".fab-buttons");t.length&&t.hasClass("fab-opened")&&(n.length||t.hasClass("fab-morph"))&&(this.fab.openedEl=null,t.hasClass("fab-morph")?this.fab.morphClose(t):t.removeClass("fab-opened"),t.trigger("fab:close"))},toggle:function(e){f(e).hasClass("fab-opened")?this.fab.close(e):this.fab.open(e)}},Ra={name:"fab",create:function(){R.extend(this,{fab:{openedEl:null,morphOpen:Ma.morphOpen.bind(this),morphClose:Ma.morphClose.bind(this),open:Ma.open.bind(this),close:Ma.close.bind(this),toggle:Ma.toggle.bind(this)}})},clicks:{".fab > a":function(e){this.fab.toggle(e.parents(".fab"))},".fab-open":function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.fab.open(t.fab)},".fab-close":function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.fab.close(t.fab)}}};function La(e){return(La="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ba(e,t){return!t||"object"!==La(t)&&"function"!=typeof t?$a(e):t}function ja(e){return(ja=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Va(e,t){return(Va=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var qa=function(e){function t(e){var n,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);var i=$a(n=Ba(this,ja(t).call(this,r,[e]))),a={el:void 0,inputEl:void 0,inputEvents:"change input compositionend",disableButton:!0,disableButtonEl:void 0,backdropEl:void 0,searchContainer:void 0,searchItem:"li",searchIn:void 0,searchGroup:".list-group",searchGroupTitle:".item-divider, .list-group-title",ignore:".searchbar-ignore",foundEl:".searchbar-found",notFoundEl:".searchbar-not-found",hideOnEnableEl:".searchbar-hide-on-enable",hideOnSearchEl:".searchbar-hide-on-search",backdrop:!0,removeDiacritics:!0,customSearch:!1,hideDividers:!0,hideGroups:!0,disableOnBackdropClick:!0,expandable:!1};i.useModulesParams(a),i.params=R.extend(a,r);var o,s=f(i.params.el);if(0===s.length)return Ba(n,i);if(s[0].f7Searchbar)return Ba(n,s[0].f7Searchbar);s[0].f7Searchbar=i;var l,c,u,h,d,p,m,v,g=s.parents(".navbar-inner");if(0<s.parents(".page").length)o=s.parents(".page");else if(0<g.length&&!(o=f(e.navbar.getPageByEl(g[0]))).length){var y=s.parents(".view").find(".page-current");y[0]&&y[0].f7Page&&y[0].f7Page.navbarEl===g[0]&&(o=y)}function b(e){e.preventDefault()}function w(e){i.enable(e),i.$el.addClass("searchbar-focused")}function E(){i.$el.removeClass("searchbar-focused")}function C(){var e=i.$inputEl.val().trim();(i.$searchContainer&&0<i.$searchContainer.length&&(i.params.searchIn||i.isVirtualList||i.params.searchIn===i.params.searchItem)||i.params.customSearch)&&i.search(e,!0)}function S(e,t){i.$el.trigger("searchbar:clear",t),i.emit("local::clear searchbarClear",i,t)}function _(e){i.disable(e)}function T(){!i||i&&!i.$el||i.enabled&&(i.$el.removeClass("searchbar-enabled"),i.expandable&&i.$el.parents(".navbar-inner").removeClass("with-searchbar-expandable-enabled"))}function k(){!i||i&&!i.$el||i.enabled&&(i.$el.addClass("searchbar-enabled"),i.expandable&&i.$el.parents(".navbar-inner").addClass("with-searchbar-expandable-enabled"))}return r.foundEl?l=f(r.foundEl):"string"==typeof i.params.foundEl&&o&&(l=o.find(i.params.foundEl)),r.notFoundEl?c=f(r.notFoundEl):"string"==typeof i.params.notFoundEl&&o&&(c=o.find(i.params.notFoundEl)),r.hideOnEnableEl?u=f(r.hideOnEnableEl):"string"==typeof i.params.hideOnEnableEl&&o&&(u=o.find(i.params.hideOnEnableEl)),r.hideOnSearchEl?h=f(r.hideOnSearchEl):"string"==typeof i.params.hideOnSearchEl&&o&&(h=o.find(i.params.hideOnSearchEl)),i.params.backdrop&&0===(d=i.params.backdropEl?f(i.params.backdropEl):o&&0<o.length?o.find(".searchbar-backdrop"):s.siblings(".searchbar-backdrop")).length&&(d=f('<div class="searchbar-backdrop"></div>'),o&&o.length?0<s.parents(o).length&&g&&0===s.parents(g).length?d.insertBefore(s):d.insertBefore(o.find(".page-content").eq(0)):d.insertBefore(s)),i.params.searchContainer&&(p=f(i.params.searchContainer)),m=i.params.inputEl?f(i.params.inputEl):s.find('input[type="search"]').eq(0),i.params.disableButton&&(v=i.params.disableButtonEl?f(i.params.disableButtonEl):s.find(".searchbar-disable-button")),R.extend(i,{app:e,view:e.views.get(s.parents(".view")),$el:s,el:s[0],$backdropEl:d,backdropEl:d&&d[0],$searchContainer:p,searchContainer:p&&p[0],$inputEl:m,inputEl:m[0],$disableButtonEl:v,disableButtonEl:v&&v[0],disableButtonHasMargin:!1,$pageEl:o,pageEl:o&&o[0],$navbarEl:g,navbarEl:g&&g[0],$foundEl:l,foundEl:l&&l[0],$notFoundEl:c,notFoundEl:c&&c[0],$hideOnEnableEl:u,hideOnEnableEl:u&&u[0],$hideOnSearchEl:h,hideOnSearchEl:h&&h[0],previousQuery:"",query:"",isVirtualList:p&&p.hasClass("virtual-list"),virtualList:void 0,enabled:!1,expandable:i.params.expandable||s.hasClass("searchbar-expandable")}),i.attachEvents=function(){s.on("submit",b),i.params.disableButton&&i.$disableButtonEl.on("click",_),i.params.disableOnBackdropClick&&i.$backdropEl&&i.$backdropEl.on("click",_),i.expandable&&"ios"===e.theme&&i.view&&g.length&&i.$pageEl&&(i.$pageEl.on("page:beforeout",T),i.$pageEl.on("page:beforein",k)),i.$inputEl.on("focus",w),i.$inputEl.on("blur",E),i.$inputEl.on(i.params.inputEvents,C),i.$inputEl.on("input:clear",S)},i.detachEvents=function(){s.off("submit",b),i.params.disableButton&&i.$disableButtonEl.off("click",_),i.params.disableOnBackdropClick&&i.$backdropEl&&i.$backdropEl.off("click",_),i.expandable&&"ios"===e.theme&&i.view&&g.length&&i.$pageEl&&(i.$pageEl.off("page:beforeout",T),i.$pageEl.off("page:beforein",k)),i.$inputEl.off("focus",w),i.$inputEl.off("blur",E),i.$inputEl.off(i.params.inputEvents,C),i.$inputEl.off("input:clear",S)},i.useModules(),i.init(),Ba(n,i)}var n,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Va(e,t)}(t,H),n=t,(i=[{key:"clear",value:function(e){if(!this.query&&e&&f(e.target).hasClass("searchbar-clear"))return this.disable(),this;var t=this.value;return this.$inputEl.val("").trigger("change").focus(),this.$el.trigger("searchbar:clear",t),this.emit("local::clear searchbarClear",this,t),this}},{key:"setDisableButtonMargin",value:function(){if(!this.expandable){var e=this.app;this.$disableButtonEl.transition(0).show(),this.$disableButtonEl.css("margin-".concat(e.rtl?"left":"right"),"".concat(-this.disableButtonEl.offsetWidth,"px")),this._clientLeft=this.$disableButtonEl[0].clientLeft,this.$disableButtonEl.transition(""),this.disableButtonHasMargin=!0}}},{key:"enable",value:function(e){var t=this;if(t.enabled)return t;var n=t.app;function i(){t.$backdropEl&&(t.$searchContainer&&t.$searchContainer.length||t.params.customSearch)&&!t.$el.hasClass("searchbar-enabled")&&!t.query&&t.backdropShow(),t.$el.addClass("searchbar-enabled"),(!t.$disableButtonEl||t.$disableButtonEl&&0===t.$disableButtonEl.length)&&t.$el.addClass("searchbar-enabled-no-disable-button"),!t.expandable&&t.$disableButtonEl&&0<t.$disableButtonEl.length&&"ios"===n.theme&&(t.disableButtonHasMargin||t.setDisableButtonMargin(),t.$disableButtonEl.css("margin-".concat(n.rtl?"left":"right"),"0px")),t.expandable&&(t.$el.parents(".navbar-inner").hasClass("navbar-inner-large")&&t.$pageEl&&t.$pageEl.find(".page-content").addClass("with-searchbar-expandable-enabled"),"md"===n.theme&&t.$el.parent(".navbar-inner").parent(".navbar").length?t.$el.parent(".navbar-inner").parent(".navbar").addClass("with-searchbar-expandable-enabled"):(t.$el.parent(".navbar-inner").addClass("with-searchbar-expandable-enabled"),t.$el.parent(".navbar-inner-large").addClass("navbar-inner-large-collapsed"))),t.$hideOnEnableEl&&t.$hideOnEnableEl.addClass("hidden-by-searchbar"),t.$el.trigger("searchbar:enable"),t.emit("local::enable searchbarEnable",t)}var a=!(t.enabled=!0);return!0===e&&r.activeElement!==t.inputEl&&(a=!0),n.device.ios&&"ios"===n.theme?t.expandable?(a&&t.$inputEl.focus(),i()):(a&&t.$inputEl.focus(),!e||"focus"!==e.type&&!0!==e?i():R.nextTick(function(){i()},400)):(a&&t.$inputEl.focus(),"md"===n.theme&&t.expandable&&t.$el.parents(".page, .view, .navbar-inner").scrollLeft(0),i()),t}},{key:"disable",value:function(){var e=this;if(!e.enabled)return e;var t=e.app;return e.$inputEl.val("").trigger("change"),e.$el.removeClass("searchbar-enabled searchbar-focused searchbar-enabled-no-disable-button"),e.expandable&&(e.$el.parents(".navbar-inner").hasClass("navbar-inner-large")&&e.$pageEl&&e.$pageEl.find(".page-content").removeClass("with-searchbar-expandable-enabled"),"md"===t.theme&&e.$el.parent(".navbar-inner").parent(".navbar").length?e.$el.parent(".navbar-inner").parent(".navbar").removeClass("with-searchbar-expandable-enabled"):(e.$el.parent(".navbar-inner").removeClass("with-searchbar-expandable-enabled"),e.$pageEl&&e.$pageEl.find(".page-content").trigger("scroll"))),!e.expandable&&e.$disableButtonEl&&0<e.$disableButtonEl.length&&"ios"===t.theme&&e.$disableButtonEl.css("margin-".concat(t.rtl?"left":"right"),"".concat(-e.disableButtonEl.offsetWidth,"px")),e.$backdropEl&&(e.$searchContainer&&e.$searchContainer.length||e.params.customSearch)&&e.backdropHide(),e.enabled=!1,e.$inputEl.blur(),e.$hideOnEnableEl&&e.$hideOnEnableEl.removeClass("hidden-by-searchbar"),e.$el.trigger("searchbar:disable"),e.emit("local::disable searchbarDisable",e),e}},{key:"toggle",value:function(){return this.enabled?this.disable():this.enable(!0),this}},{key:"backdropShow",value:function(){return this.$backdropEl&&this.$backdropEl.addClass("searchbar-backdrop-in"),this}},{key:"backdropHide",value:function(){return this.$backdropEl&&this.$backdropEl.removeClass("searchbar-backdrop-in"),this}},{key:"search",value:function(e,t){var n=this;if(n.previousQuery=n.query||"",e===n.previousQuery)return n;t||(n.enabled||n.enable(),n.$inputEl.val(e),n.$inputEl.trigger("input")),n.query=e,n.value=e;var r=n.$searchContainer,i=n.$el,a=n.$foundEl,o=n.$notFoundEl,s=n.$hideOnSearchEl,l=n.isVirtualList;if(0<e.length&&s?s.addClass("hidden-by-searchbar"):s&&s.removeClass("hidden-by-searchbar"),(r&&r.length&&i.hasClass("searchbar-enabled")||n.params.customSearch&&i.hasClass("searchbar-enabled"))&&(0===e.length?n.backdropShow():n.backdropHide()),n.params.customSearch)return i.trigger("searchbar:search",e,n.previousQuery),n.emit("local::search searchbarSearch",n,e,n.previousQuery),n;var c,u=[];if(l){if(n.virtualList=r[0].f7VirtualList,""===e.trim())return n.virtualList.resetFilter(),o&&o.hide(),a&&a.show(),i.trigger("searchbar:search",e,n.previousQuery),n.emit("local::search searchbarSearch",n,e,n.previousQuery),n;if(c=n.params.removeDiacritics?R.removeDiacritics(e):e,n.virtualList.params.searchAll)u=n.virtualList.params.searchAll(c,n.virtualList.items)||[];else if(n.virtualList.params.searchByItem)for(var h=0;h<n.virtualList.items.length;h+=1)n.virtualList.params.searchByItem(c,n.virtualList.params.items[h],h)&&u.push(h)}else{var d;d=n.params.removeDiacritics?R.removeDiacritics(e.trim().toLowerCase()).split(" "):e.trim().toLowerCase().split(" "),r.find(n.params.searchItem).removeClass("hidden-by-searchbar").each(function(e,t){var r=f(t),i=[],a=n.params.searchIn?r.find(n.params.searchIn):r;n.params.searchIn===n.params.searchItem&&(a=r),a.each(function(e,t){var r=f(t).text().trim().toLowerCase();n.params.removeDiacritics&&(r=R.removeDiacritics(r)),i.push(r)}),i=i.join(" ");for(var o=0,s=0;s<d.length;s+=1)0<=i.indexOf(d[s])&&(o+=1);o===d.length||n.params.ignore&&r.is(n.params.ignore)?u.push(r[0]):r.addClass("hidden-by-searchbar")}),n.params.hideDividers&&r.find(n.params.searchGroupTitle).each(function(e,t){for(var r=f(t),i=r.nextAll(n.params.searchItem),a=!0,o=0;o<i.length;o+=1){var s=i.eq(o);if(s.is(n.params.searchGroupTitle))break;s.hasClass("hidden-by-searchbar")||(a=!1)}var l=n.params.ignore&&r.is(n.params.ignore);a&&!l?r.addClass("hidden-by-searchbar"):r.removeClass("hidden-by-searchbar")}),n.params.hideGroups&&r.find(n.params.searchGroup).each(function(e,t){var r=f(t),i=n.params.ignore&&r.is(n.params.ignore);0!==r.find(n.params.searchItem).filter(function(e,t){return!f(t).hasClass("hidden-by-searchbar")}).length||i?r.removeClass("hidden-by-searchbar"):r.addClass("hidden-by-searchbar")})}return 0===u.length?(o&&o.show(),a&&a.hide()):(o&&o.hide(),a&&a.show()),l&&n.virtualList&&n.virtualList.filterItems(u),i.trigger("searchbar:search",e,n.previousQuery,u),n.emit("local::search searchbarSearch",n,e,n.previousQuery,u),n}},{key:"init",value:function(){this.attachEvents()}},{key:"destroy",value:function(){this.emit("local::beforeDestroy searchbarBeforeDestroy",this),this.$el.trigger("searchbar:beforedestroy",this),this.detachEvents(),this.$el[0]&&(this.$el[0].f7Searchbar=null,delete this.$el[0].f7Searchbar),R.deleteProps(this)}}])&&Fa(n.prototype,i),t}(),Ua={name:"searchbar",static:{Searchbar:qa},create:function(){this.searchbar=W({defaultSelector:".searchbar",constructor:qa,app:this,domProp:"f7Searchbar",addMethods:"clear enable disable toggle search".split(" ")})},on:{tabMounted:function(e){var t=this;f(e).find(".searchbar-init").each(function(e,n){var r=f(n);t.searchbar.create(R.extend(r.dataset(),{el:n}))})},tabBeforeRemove:function(e){f(e).find(".searchbar-init").each(function(e,t){t.f7Searchbar&&t.f7Searchbar.destroy&&t.f7Searchbar.destroy()})},pageInit:function(e){var t=this;e.$el.find(".searchbar-init").each(function(e,n){var r=f(n);t.searchbar.create(R.extend(r.dataset(),{el:n}))}),"ios"===t.theme&&e.view&&e.view.router.separateNavbar&&e.$navbarEl&&0<e.$navbarEl.length&&e.$navbarEl.find(".searchbar-init").each(function(e,n){var r=f(n);t.searchbar.create(R.extend(r.dataset(),{el:n}))})},pageBeforeRemove:function(e){e.$el.find(".searchbar-init").each(function(e,t){t.f7Searchbar&&t.f7Searchbar.destroy&&t.f7Searchbar.destroy()}),"ios"===this.theme&&e.view&&e.view.router.separateNavbar&&e.$navbarEl&&0<e.$navbarEl.length&&e.$navbarEl.find(".searchbar-init").each(function(e,t){t.f7Searchbar&&t.f7Searchbar.destroy&&t.f7Searchbar.destroy()})}},clicks:{".searchbar-clear":function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=this.searchbar.get(t.searchbar);n&&n.clear()},".searchbar-enable":function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=this.searchbar.get(t.searchbar);n&&n.enable(!0)},".searchbar-disable":function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=this.searchbar.get(t.searchbar);n&&n.disable()},".searchbar-toggle":function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=this.searchbar.get(t.searchbar);n&&n.toggle()}},vnode:{"searchbar-init":{insert:function(e){var t=e.elm,n=f(t);this.searchbar.create(R.extend(n.dataset(),{el:t}))},destroy:function(e){var t=e.elm;t.f7Searchbar&&t.f7Searchbar.destroy&&t.f7Searchbar.destroy()}}}};function Ha(e){return(Ha="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function za(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wa(e,t){return!t||"object"!==Ha(t)&&"function"!=typeof t?Ga(e):t}function Ka(e){return(Ka=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ga(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qa(e,t){return(Qa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ya=function(e){function t(e){var n,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);var i=Ga(n=Wa(this,Ka(t).call(this,r,[e]))),a={autoLayout:!0,messages:[],newMessagesFirst:!1,scrollMessages:!0,scrollMessagesOnEdge:!0,firstMessageRule:void 0,lastMessageRule:void 0,tailMessageRule:void 0,sameNameMessageRule:void 0,sameHeaderMessageRule:void 0,sameFooterMessageRule:void 0,sameAvatarMessageRule:void 0,customClassMessageRule:void 0,renderMessage:void 0};i.useModulesParams(a),i.params=R.extend(a,r);var o=f(r.el).eq(0);if(0===o.length)return Wa(n,i);if(o[0].f7Messages)return Wa(n,o[0].f7Messages);o[0].f7Messages=i;var s=o.closest(".page-content").eq(0);return R.extend(i,{messages:i.params.messages,$el:o,el:o[0],$pageContentEl:s,pageContentEl:s[0]}),i.useModules(),i.init(),Wa(n,i)}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qa(e,t)}(t,H),n=t,(r=[{key:"getMessageData",value:function(e){var t=f(e),n={name:t.find(".message-name").html(),header:t.find(".message-header").html(),textHeader:t.find(".message-text-header").html(),textFooter:t.find(".message-text-footer").html(),footer:t.find(".message-footer").html(),isTitle:t.hasClass("messages-title"),type:t.hasClass("message-sent")?"sent":"received",text:t.find(".message-text").html(),image:t.find(".message-image").html(),imageSrc:t.find(".message-image img").attr("src"),typing:t.hasClass("message-typing")};n.isTitle&&(n.text=t.html()),n.text&&n.textHeader&&(n.text=n.text.replace('<div class="message-text-header">'.concat(n.textHeader,"</div>"),"")),n.text&&n.textFooter&&(n.text=n.text.replace('<div class="message-text-footer">'.concat(n.textFooter,"</div>"),""));var r=t.find(".message-avatar").css("background-image");return"none"!==r&&""!==r||(r=void 0),r=r&&"string"==typeof r?r.replace("url(","").replace(")","").replace(/"/g,"").replace(/'/g,""):void 0,n.avatar=r,n}},{key:"getMessagesData",value:function(){var e=this,t=[];return e.$el.find(".message, .messages-title").each(function(n,r){t.push(e.getMessageData(r))}),t}},{key:"renderMessage",value:function(e){var t=R.extend({type:"sent",attrs:{}},e);if(this.params.renderMessage)return this.params.renderMessage.call(this,t);if(t.isTitle)return'<div class="messages-title">'.concat(t.text,"</div>");var n=Object.keys(t.attrs).map(function(e){return"".concat(e,'="').concat(t.attrs[e],'"')}).join(" ");return'\n      <div class="message message-'.concat(t.type," ").concat(t.isTyping?"message-typing":""," ").concat(t.cssClass||"",'" ').concat(n,">\n        ").concat(t.avatar?'\n        <div class="message-avatar" style="background-image:url('.concat(t.avatar,')"></div>\n        '):"",'\n        <div class="message-content">\n          ').concat(t.name?'<div class="message-name">'.concat(t.name,"</div>"):"","\n          ").concat(t.header?'<div class="message-header">'.concat(t.header,"</div>"):"",'\n          <div class="message-bubble">\n            ').concat(t.textHeader?'<div class="message-text-header">'.concat(t.textHeader,"</div>"):"","\n            ").concat(t.image?'<div class="message-image">'.concat(t.image,"</div>"):"","\n            ").concat(t.imageSrc&&!t.image?'<div class="message-image"><img src="'.concat(t.imageSrc,'"></div>'):"","\n            ").concat(t.text||t.isTyping?'<div class="message-text">'.concat(t.text||"").concat(t.isTyping?'<div class="message-typing-indicator"><div></div><div></div><div></div></div>':"","</div>"):"","\n            ").concat(t.textFooter?'<div class="message-text-footer">'.concat(t.textFooter,"</div>"):"","\n          </div>\n          ").concat(t.footer?'<div class="message-footer">'.concat(t.footer,"</div>"):"","\n        </div>\n      </div>\n    ")}},{key:"renderMessages",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.messages,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.params.newMessagesFirst?"prepend":"append",n=this,r=e.map(function(e){return n.renderMessage(e)}).join("");n.$el[t](r)}},{key:"isFirstMessage",value:function(){var e;return!!this.params.firstMessageRule&&(e=this.params).firstMessageRule.apply(e,arguments)}},{key:"isLastMessage",value:function(){var e;return!!this.params.lastMessageRule&&(e=this.params).lastMessageRule.apply(e,arguments)}},{key:"isTailMessage",value:function(){var e;return!!this.params.tailMessageRule&&(e=this.params).tailMessageRule.apply(e,arguments)}},{key:"isSameNameMessage",value:function(){var e;return!!this.params.sameNameMessageRule&&(e=this.params).sameNameMessageRule.apply(e,arguments)}},{key:"isSameHeaderMessage",value:function(){var e;return!!this.params.sameHeaderMessageRule&&(e=this.params).sameHeaderMessageRule.apply(e,arguments)}},{key:"isSameFooterMessage",value:function(){var e;return!!this.params.sameFooterMessageRule&&(e=this.params).sameFooterMessageRule.apply(e,arguments)}},{key:"isSameAvatarMessage",value:function(){var e;return!!this.params.sameAvatarMessageRule&&(e=this.params).sameAvatarMessageRule.apply(e,arguments)}},{key:"isCustomClassMessage",value:function(){var e;if(this.params.customClassMessageRule)return(e=this.params).customClassMessageRule.apply(e,arguments)}},{key:"layout",value:function(){var e=this;e.$el.find(".message, .messages-title").each(function(t,n){var r=f(n);e.messages||(e.messages=e.getMessagesData());var i=[],a=e.messages[t],o=e.messages[t-1],s=e.messages[t+1];e.isFirstMessage(a,o,s)&&i.push("message-first"),e.isLastMessage(a,o,s)&&i.push("message-last"),e.isTailMessage(a,o,s)&&i.push("message-tail"),e.isSameNameMessage(a,o,s)&&i.push("message-same-name"),e.isSameHeaderMessage(a,o,s)&&i.push("message-same-header"),e.isSameFooterMessage(a,o,s)&&i.push("message-same-footer"),e.isSameAvatarMessage(a,o,s)&&i.push("message-same-avatar");var l=e.isCustomClassMessage(a,o,s);l&&l.length&&("string"==typeof l&&(l=l.split(" ")),l.forEach(function(e){i.push(e)})),r.removeClass("message-first message-last message-tail message-same-name message-same-header message-same-footer message-same-avatar"),i.forEach(function(e){r.addClass(e)})})}},{key:"clear",value:function(){this.messages=[],this.$el.html("")}},{key:"removeMessage",value:function(e){var t,n,r=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],i=this;return"number"==typeof e?(t=e,n=i.$el.find(".message, .messages-title").eq(t)):i.messages&&0<=i.messages.indexOf(e)?(t=i.messages.indexOf(e),n=i.$el.children().eq(t)):t=(n=f(e)).index(),0===n.length||(n.remove(),i.messages.splice(t,1),i.params.autoLayout&&r&&i.layout()),i}},{key:"removeMessages",value:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=this;if(Array.isArray(e)){var r=[];e.forEach(function(e){r.push(n.$el.find(".message, .messages-title").eq(e))}),r.forEach(function(e){n.removeMessage(e,!1)})}else f(e).each(function(e,t){n.removeMessage(t,!1)});return n.params.autoLayout&&t&&n.layout(),n}},{key:"addMessage",value:function(){for(var e,t,n,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return"boolean"==typeof i[1]?(e=i[0],t=i[1],n=i[2]):(e=i[0],n=i[1],t=i[2]),void 0===t&&(t=!0),void 0===n&&(n=this.params.newMessagesFirst?"prepend":"append"),this.addMessages([e],t,n)}},{key:"addMessages",value:function(){for(var e,t,n,r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];"boolean"==typeof a[1]?(e=a[0],t=a[1],n=a[2]):(e=a[0],n=a[1],t=a[2]),void 0===t&&(t=!0),void 0===n&&(n=r.params.newMessagesFirst?"prepend":"append");var s=r.pageContentEl.scrollHeight,l=r.pageContentEl.offsetHeight,c=r.pageContentEl.scrollTop,u="",h=r.messages.filter(function(e){return e.isTyping})[0];e.forEach(function(e){h?"append"===n?r.messages.splice(r.messages.indexOf(h),0,e):r.messages.splice(r.messages.indexOf(h)+1,0,e):r.messages["append"===n?"push":"unshift"](e),u+=r.renderMessage(e)});var d=f(u);if(t&&("append"!==n||r.params.newMessagesFirst||d.addClass("message-appear-from-bottom"),"prepend"===n&&r.params.newMessagesFirst&&d.addClass("message-appear-from-top")),h?"append"===n?d.insertBefore(r.$el.find(".message-typing")):d.insertAfter(r.$el.find(".message-typing")):r.$el[n](d),r.params.autoLayout&&r.layout(),"prepend"!==n||h||(r.pageContentEl.scrollTop=c+(r.pageContentEl.scrollHeight-s)),r.params.scrollMessages&&("append"===n&&!r.params.newMessagesFirst||"prepend"===n&&r.params.newMessagesFirst&&!h))if(r.params.scrollMessagesOnEdge){var p=!1;r.params.newMessagesFirst&&0===c&&(p=!0),!r.params.newMessagesFirst&&-10<=c-(s-l)&&(p=!0),p&&r.scroll(t?void 0:0)}else r.scroll(t?void 0:0);return r}},{key:"showTyping",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=this.messages.filter(function(e){return e.isTyping})[0];return t&&this.removeMessage(this.messages.indexOf(t)),this.addMessage(R.extend({type:"received",isTyping:!0},e)),this}},{key:"hideTyping",value:function(){var e,t;if(this.messages.forEach(function(t,n){t.isTyping&&(e=n)}),void 0!==e&&this.$el.find(".message").eq(e).hasClass("message-typing")&&(t=!0,this.removeMessage(e)),!t){var n=this.$el.find(".message-typing");n.length&&this.removeMessage(n)}return this}},{key:"scroll",value:function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:300,n=1<arguments.length?arguments[1]:void 0,r=this.pageContentEl.scrollTop;if(void 0!==n)e=n;else if((e=this.params.newMessagesFirst?0:this.pageContentEl.scrollHeight-this.pageContentEl.offsetHeight)===r)return this;return this.$pageContentEl.scrollTop(e,t),this}},{key:"init",value:function(){var e=this;e.messages&&0!==e.messages.length||(e.messages=e.getMessagesData()),e.params.messages&&e.params.messages.length&&e.renderMessages(),e.params.autoLayout&&e.layout(),e.params.scrollMessages&&e.scroll(0)}},{key:"destroy",value:function(){this.emit("local::beforeDestroy messagesBeforeDestroy",this),this.$el.trigger("messages:beforedestroy",this),this.$el[0]&&(this.$el[0].f7Messages=null,delete this.$el[0].f7Messages),R.deleteProps(this)}}])&&za(n.prototype,r),t}(),Xa={name:"messages",static:{Messages:Ya},create:function(){this.messages=W({defaultSelector:".messages",constructor:Ya,app:this,domProp:"f7Messages",addMethods:"renderMessages layout scroll clear removeMessage removeMessages addMessage addMessages".split(" ")})},on:{tabBeforeRemove:function(e){var t=this;f(e).find(".messages-init").each(function(e,n){t.messages.destroy(n)})},tabMounted:function(e){var t=this;f(e).find(".messages-init").each(function(e,n){t.messages.create({el:n})})},pageBeforeRemove:function(e){var t=this;e.$el.find(".messages-init").each(function(e,n){t.messages.destroy(n)})},pageInit:function(e){var t=this;e.$el.find(".messages-init").each(function(e,n){t.messages.create({el:n})})}},vnode:{"messages-init":{insert:function(e){var t=e.elm;this.messages.create({el:t})},destroy:function(e){var t=e.elm;this.messages.destroy(t)}}}};function Ja(e){return(Ja="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Za(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function eo(e,t){return!t||"object"!==Ja(t)&&"function"!=typeof t?no(e):t}function to(e){return(to=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function no(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ro(e,t){return(ro=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var io,ao=function(e){function t(e){var n,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);var i=no(n=eo(this,to(t).call(this,r,[e]))),a={top:!1,topOffset:0,bottomOffset:0,attachments:[],renderAttachments:void 0,renderAttachment:void 0,maxHeight:null,resizePage:!0};i.useModulesParams(a),i.params=R.extend(a,r);var o=f(i.params.el);if(0===o.length)return eo(n,i);if(o[0].f7Messagebar)return eo(n,o[0].f7Messagebar);o[0].f7Messagebar=i;var s,l=o.parents(".page").eq(0),c=l.find(".page-content").eq(0),u=o.find(".messagebar-area");s=i.params.textareaEl?f(i.params.textareaEl):o.find("textarea");var h=o.find(".messagebar-attachments"),d=o.find(".messagebar-sheet");function p(){i.params.resizePage&&i.resizePage()}function m(e){e.preventDefault()}function v(e){var t=f(this).index();f(e.target).closest(".messagebar-attachment-delete").length?(f(this).trigger("messagebar:attachmentdelete",t),i.emit("local::attachmentDelete messagebarAttachmentDelete",i,this,t)):(f(this).trigger("messagebar:attachmentclick",t),i.emit("local::attachmentClick messagebarAttachmentClick",i,this,t))}function g(){i.checkEmptyState(),i.$el.trigger("messagebar:change"),i.emit("local::change messagebarChange",i)}function y(){i.sheetHide(),i.$el.addClass("messagebar-focused"),i.$el.trigger("messagebar:focus"),i.emit("local::focus messagebarFocus",i)}function b(){i.$el.removeClass("messagebar-focused"),i.$el.trigger("messagebar:blur"),i.emit("local::blur messagebarBlur",i)}return i.params.top&&o.addClass("messagebar-top"),R.extend(i,{$el:o,el:o[0],$areaEl:u,areaEl:u[0],$textareaEl:s,textareaEl:s[0],$attachmentsEl:h,attachmentsEl:h[0],attachmentsVisible:h.hasClass("messagebar-attachments-visible"),$sheetEl:d,sheetEl:d[0],sheetVisible:d.hasClass("messagebar-sheet-visible"),$pageEl:l,pageEl:l[0],$pageContentEl:c,pageContentEl:c,top:o.hasClass("messagebar-top")||i.params.top,attachments:[]}),i.attachEvents=function(){o.on("textarea:resize",p),o.on("submit",m),o.on("click",".messagebar-attachment",v),s.on("change input",g),s.on("focus",y),s.on("blur",b),e.on("resize",p)},i.detachEvents=function(){o.off("textarea:resize",p),o.off("submit",m),o.off("click",".messagebar-attachment",v),s.off("change input",g),s.off("focus",y),s.off("blur",b),e.off("resize",p)},i.useModules(),i.init(),eo(n,i)}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ro(e,t)}(t,H),n=t,(r=[{key:"focus",value:function(){return this.$textareaEl.focus(),this}},{key:"blur",value:function(){return this.$textareaEl.blur(),this}},{key:"clear",value:function(){return this.$textareaEl.val("").trigger("change"),this}},{key:"getValue",value:function(){return this.$textareaEl.val().trim()}},{key:"setValue",value:function(e){return this.$textareaEl.val(e).trigger("change"),this}},{key:"setPlaceholder",value:function(e){return this.$textareaEl.attr("placeholder",e),this}},{key:"resizePage",value:function(){var e=this,t=e.params,n=e.$el,r=e.top,i=e.$pageEl,a=e.$pageContentEl,o=e.$areaEl,s=e.$textareaEl,l=e.$sheetEl,c=e.$attachmentsEl,u=n[0].offsetHeight,h=t.maxHeight;if(r);else{var d=parseInt(a.css("padding-bottom"),10),p=u+t.bottomOffset;if(p!==d&&a.length){var f=parseInt(a.css("padding-top"),10),m=a[0].scrollHeight,v=a[0].offsetHeight,g=a[0].scrollTop===m-v;h||(h=i[0].offsetHeight-f-l.outerHeight()-c.outerHeight()-parseInt(o.css("margin-top"),10)-parseInt(o.css("margin-bottom"),10)),s.css("max-height","".concat(h,"px")),a.css("padding-bottom","".concat(p,"px")),g&&a.scrollTop(a[0].scrollHeight-v),n.trigger("messagebar:resizepage"),e.emit("local::resizePage messagebarResizePage",e)}}}},{key:"checkEmptyState",value:function(){var e=this.$el,t=this.$textareaEl.val().trim();t&&t.length?e.addClass("messagebar-with-value"):e.removeClass("messagebar-with-value")}},{key:"attachmentsCreate",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=f('<div class="messagebar-attachments">'.concat(e,"</div>"));return t.insertBefore(this.$textareaEl),R.extend(this,{$attachmentsEl:t,attachmentsEl:t[0]}),this}},{key:"attachmentsShow",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return this.$attachmentsEl=this.$el.find(".messagebar-attachments"),0===this.$attachmentsEl.length&&this.attachmentsCreate(e),this.$el.addClass("messagebar-attachments-visible"),this.attachmentsVisible=!0,this.params.resizePage&&this.resizePage(),this}},{key:"attachmentsHide",value:function(){return this.$el.removeClass("messagebar-attachments-visible"),this.attachmentsVisible=!1,this.params.resizePage&&this.resizePage(),this}},{key:"attachmentsToggle",value:function(){return this.attachmentsVisible?this.attachmentsHide():this.attachmentsShow(),this}},{key:"renderAttachment",value:function(e){return this.params.renderAttachment?this.params.renderAttachment.call(this,e):'\n      <div class="messagebar-attachment">\n        <img src="'.concat(e,'">\n        <span class="messagebar-attachment-delete"></span>\n      </div>\n    ')}},{key:"renderAttachments",value:function(){var e,t=this;e=t.params.renderAttachments?t.params.renderAttachments.call(t,t.attachments):"".concat(t.attachments.map(function(e){return t.renderAttachment(e)}).join("")),0===t.$attachmentsEl.length?t.attachmentsCreate(e):t.$attachmentsEl.html(e)}},{key:"sheetCreate",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=f('<div class="messagebar-sheet">'.concat(e,"</div>"));return this.$el.append(t),R.extend(this,{$sheetEl:t,sheetEl:t[0]}),this}},{key:"sheetShow",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return this.$sheetEl=this.$el.find(".messagebar-sheet"),0===this.$sheetEl.length&&this.sheetCreate(e),this.$el.addClass("messagebar-sheet-visible"),this.sheetVisible=!0,this.params.resizePage&&this.resizePage(),this}},{key:"sheetHide",value:function(){return this.$el.removeClass("messagebar-sheet-visible"),this.sheetVisible=!1,this.params.resizePage&&this.resizePage(),this}},{key:"sheetToggle",value:function(){return this.sheetVisible?this.sheetHide():this.sheetShow(),this}},{key:"init",value:function(){return this.attachEvents(),this.checkEmptyState(),this}},{key:"destroy",value:function(){this.emit("local::beforeDestroy messagebarBeforeDestroy",this),this.$el.trigger("messagebar:beforedestroy",this),this.detachEvents(),this.$el[0]&&(this.$el[0].f7Messagebar=null,delete this.$el[0].f7Messagebar),R.deleteProps(this)}}])&&Za(n.prototype,r),t}(),oo={name:"messagebar",static:{Messagebar:ao},create:function(){this.messagebar=W({defaultSelector:".messagebar",constructor:ao,app:this,domProp:"f7Messagebar",addMethods:"clear getValue setValue setPlaceholder resizePage focus blur attachmentsCreate attachmentsShow attachmentsHide attachmentsToggle renderAttachments sheetCreate sheetShow sheetHide sheetToggle".split(" ")})},on:{tabBeforeRemove:function(e){var t=this;f(e).find(".messagebar-init").each(function(e,n){t.messagebar.destroy(n)})},tabMounted:function(e){var t=this;f(e).find(".messagebar-init").each(function(e,n){t.messagebar.create(R.extend({el:n},f(n).dataset()))})},pageBeforeRemove:function(e){var t=this;e.$el.find(".messagebar-init").each(function(e,n){t.messagebar.destroy(n)})},pageInit:function(e){var t=this;e.$el.find(".messagebar-init").each(function(e,n){t.messagebar.create(R.extend({el:n},f(n).dataset()))})}},vnode:{"messagebar-init":{insert:function(e){var t=e.elm;this.messagebar.create(R.extend({el:t},f(t).dataset()))},destroy:function(e){var t=e.elm;this.messagebar.destroy(t)}}}},so=f,lo=R,co=de,uo={isIE:!!i.navigator.userAgent.match(/Trident/g)||!!i.navigator.userAgent.match(/MSIE/g),isSafari:(io=i.navigator.userAgent.toLowerCase(),0<=io.indexOf("safari")&&io.indexOf("chrome")<0&&io.indexOf("android")<0),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(i.navigator.userAgent)},ho=H;function po(e){return(po="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fo(e){return(fo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mo(e){return(mo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vo(e){return(vo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var go=L,yo=function(){var e=this,t=e.params,n=e.el;if(!n||0!==n.offsetWidth){t.breakpoints&&e.setBreakpoint();var r=e.allowSlideNext,i=e.allowSlidePrev,a=e.snapGrid;if(e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),t.freeMode){var o=Math.min(Math.max(e.translate,e.maxTranslate()),e.minTranslate());e.setTranslate(o),e.updateActiveIndex(),e.updateSlidesClasses(),t.autoHeight&&e.updateAutoHeight()}else e.updateSlidesClasses(),("auto"===t.slidesPerView||1<t.slidesPerView)&&e.isEnd&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0);e.allowSlidePrev=i,e.allowSlideNext=r,e.params.watchOverflow&&a!==e.snapGrid&&e.checkOverflow()}},bo={init:!0,direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,preventInteractionOnTransition:!1,edgeSwipeDetection:!1,edgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeMomentumVelocityRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsInverse:!1,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!1,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!0,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopFillGroupWithBlank:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,containerModifierClass:"swiper-container-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0};function wo(e){return(wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Eo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Co(e,t){return!t||"object"!==wo(t)&&"function"!=typeof t?_o(e):t}function So(e){return(So=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function To(e,t){return(To=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ko={update:{updateSize:function(){var e,t,n=this.$el;e=void 0!==this.params.width?this.params.width:n[0].clientWidth,t=void 0!==this.params.height?this.params.height:n[0].clientHeight,0===e&&this.isHorizontal()||0===t&&this.isVertical()||(e=e-parseInt(n.css("padding-left"),10)-parseInt(n.css("padding-right"),10),t=t-parseInt(n.css("padding-top"),10)-parseInt(n.css("padding-bottom"),10),lo.extend(this,{width:e,height:t,size:this.isHorizontal()?e:t}))},updateSlides:function(){var e=this,t=e.params,n=e.$wrapperEl,r=e.size,a=e.rtlTranslate,o=e.wrongRTL,s=e.virtual&&t.virtual.enabled,l=s?e.virtual.slides.length:e.slides.length,c=n.children(".".concat(e.params.slideClass)),u=s?e.virtual.slides.length:c.length,h=[],d=[],p=[],f=t.slidesOffsetBefore;"function"==typeof f&&(f=t.slidesOffsetBefore.call(e));var m=t.slidesOffsetAfter;"function"==typeof m&&(m=t.slidesOffsetAfter.call(e));var v=e.snapGrid.length,g=e.snapGrid.length,y=t.spaceBetween,b=-f,w=0,E=0;if(void 0!==r){var C,S;"string"==typeof y&&0<=y.indexOf("%")&&(y=parseFloat(y.replace("%",""))/100*r),e.virtualSize=-y,a?c.css({marginLeft:"",marginTop:""}):c.css({marginRight:"",marginBottom:""}),1<t.slidesPerColumn&&(C=Math.floor(u/t.slidesPerColumn)===u/e.params.slidesPerColumn?u:Math.ceil(u/t.slidesPerColumn)*t.slidesPerColumn,"auto"!==t.slidesPerView&&"row"===t.slidesPerColumnFill&&(C=Math.max(C,t.slidesPerView*t.slidesPerColumn)));for(var _,T=t.slidesPerColumn,k=C/T,x=Math.floor(u/t.slidesPerColumn),I=0;I<u;I+=1){S=0;var O=c.eq(I);if(1<t.slidesPerColumn){var P=void 0,A=void 0,D=void 0;"column"===t.slidesPerColumnFill?(D=I-(A=Math.floor(I/T))*T,(x<A||A===x&&D===T-1)&&T<=(D+=1)&&(D=0,A+=1),P=A+D*C/T,O.css({"-webkit-box-ordinal-group":P,"-moz-box-ordinal-group":P,"-ms-flex-order":P,"-webkit-order":P,order:P})):A=I-(D=Math.floor(I/k))*k,O.css("margin-".concat(e.isHorizontal()?"top":"left"),0!==D&&t.spaceBetween&&"".concat(t.spaceBetween,"px")).attr("data-swiper-column",A).attr("data-swiper-row",D)}if("none"!==O.css("display")){if("auto"===t.slidesPerView){var N=i.getComputedStyle(O[0],null),M=O[0].style.transform,R=O[0].style.webkitTransform;if(M&&(O[0].style.transform="none"),R&&(O[0].style.webkitTransform="none"),t.roundLengths)S=e.isHorizontal()?O.outerWidth(!0):O.outerHeight(!0);else if(e.isHorizontal()){var L=parseFloat(N.getPropertyValue("width")),F=parseFloat(N.getPropertyValue("padding-left")),B=parseFloat(N.getPropertyValue("padding-right")),j=parseFloat(N.getPropertyValue("margin-left")),$=parseFloat(N.getPropertyValue("margin-right")),V=N.getPropertyValue("box-sizing");S=V&&"border-box"===V?L+j+$:L+F+B+j+$}else{var q=parseFloat(N.getPropertyValue("height")),U=parseFloat(N.getPropertyValue("padding-top")),H=parseFloat(N.getPropertyValue("padding-bottom")),z=parseFloat(N.getPropertyValue("margin-top")),W=parseFloat(N.getPropertyValue("margin-bottom")),K=N.getPropertyValue("box-sizing");S=K&&"border-box"===K?q+z+W:q+U+H+z+W}M&&(O[0].style.transform=M),R&&(O[0].style.webkitTransform=R),t.roundLengths&&(S=Math.floor(S))}else S=(r-(t.slidesPerView-1)*y)/t.slidesPerView,t.roundLengths&&(S=Math.floor(S)),c[I]&&(e.isHorizontal()?c[I].style.width="".concat(S,"px"):c[I].style.height="".concat(S,"px"));c[I]&&(c[I].swiperSlideSize=S),p.push(S),t.centeredSlides?(b=b+S/2+w/2+y,0===w&&0!==I&&(b=b-r/2-y),0===I&&(b=b-r/2-y),Math.abs(b)<.001&&(b=0),t.roundLengths&&(b=Math.floor(b)),E%t.slidesPerGroup==0&&h.push(b),d.push(b)):(t.roundLengths&&(b=Math.floor(b)),E%t.slidesPerGroup==0&&h.push(b),d.push(b),b=b+S+y),e.virtualSize+=S+y,w=S,E+=1}}if(e.virtualSize=Math.max(e.virtualSize,r)+m,a&&o&&("slide"===t.effect||"coverflow"===t.effect)&&n.css({width:"".concat(e.virtualSize+t.spaceBetween,"px")}),co.flexbox&&!t.setWrapperSize||(e.isHorizontal()?n.css({width:"".concat(e.virtualSize+t.spaceBetween,"px")}):n.css({height:"".concat(e.virtualSize+t.spaceBetween,"px")})),1<t.slidesPerColumn&&(e.virtualSize=(S+t.spaceBetween)*C,e.virtualSize=Math.ceil(e.virtualSize/t.slidesPerColumn)-t.spaceBetween,e.isHorizontal()?n.css({width:"".concat(e.virtualSize+t.spaceBetween,"px")}):n.css({height:"".concat(e.virtualSize+t.spaceBetween,"px")}),t.centeredSlides)){_=[];for(var G=0;G<h.length;G+=1){var Q=h[G];t.roundLengths&&(Q=Math.floor(Q)),h[G]<e.virtualSize+h[0]&&_.push(Q)}h=_}if(!t.centeredSlides){_=[];for(var Y=0;Y<h.length;Y+=1){var X=h[Y];t.roundLengths&&(X=Math.floor(X)),h[Y]<=e.virtualSize-r&&_.push(X)}h=_,1<Math.floor(e.virtualSize-r)-Math.floor(h[h.length-1])&&h.push(e.virtualSize-r)}if(0===h.length&&(h=[0]),0!==t.spaceBetween&&(e.isHorizontal()?a?c.css({marginLeft:"".concat(y,"px")}):c.css({marginRight:"".concat(y,"px")}):c.css({marginBottom:"".concat(y,"px")})),t.centerInsufficientSlides){var J=0;if(p.forEach(function(e){J+=e+(t.spaceBetween?t.spaceBetween:0)}),(J-=t.spaceBetween)<r){var Z=(r-J)/2;h.forEach(function(e,t){h[t]=e-Z}),d.forEach(function(e,t){d[t]=e+Z})}}lo.extend(e,{slides:c,snapGrid:h,slidesGrid:d,slidesSizesGrid:p}),u!==l&&e.emit("slidesLengthChange"),h.length!==v&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),d.length!==g&&e.emit("slidesGridLengthChange"),(t.watchSlidesProgress||t.watchSlidesVisibility)&&e.updateSlidesOffset()}},updateAutoHeight:function(e){var t,n=this,r=[],i=0;if("number"==typeof e?n.setTransition(e):!0===e&&n.setTransition(n.params.speed),"auto"!==n.params.slidesPerView&&1<n.params.slidesPerView)for(t=0;t<Math.ceil(n.params.slidesPerView);t+=1){var a=n.activeIndex+t;if(a>n.slides.length)break;r.push(n.slides.eq(a)[0])}else r.push(n.slides.eq(n.activeIndex)[0]);for(t=0;t<r.length;t+=1)if(void 0!==r[t]){var o=r[t].offsetHeight;i=i<o?o:i}i&&n.$wrapperEl.css("height","".concat(i,"px"))},updateSlidesOffset:function(){for(var e=this.slides,t=0;t<e.length;t+=1)e[t].swiperSlideOffset=this.isHorizontal()?e[t].offsetLeft:e[t].offsetTop},updateSlidesProgress:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this&&this.translate||0,t=this,n=t.params,r=t.slides,i=t.rtlTranslate;if(0!==r.length){void 0===r[0].swiperSlideOffset&&t.updateSlidesOffset();var a=-e;i&&(a=e),r.removeClass(n.slideVisibleClass),t.visibleSlidesIndexes=[],t.visibleSlides=[];for(var o=0;o<r.length;o+=1){var s=r[o],l=(a+(n.centeredSlides?t.minTranslate():0)-s.swiperSlideOffset)/(s.swiperSlideSize+n.spaceBetween);if(n.watchSlidesVisibility){var c=-(a-s.swiperSlideOffset),u=c+t.slidesSizesGrid[o];(0<=c&&c<t.size||0<u&&u<=t.size||c<=0&&u>=t.size)&&(t.visibleSlides.push(s),t.visibleSlidesIndexes.push(o),r.eq(o).addClass(n.slideVisibleClass))}s.progress=i?-l:l}t.visibleSlides=so(t.visibleSlides)}},updateProgress:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this&&this.translate||0,t=this,n=t.params,r=t.maxTranslate()-t.minTranslate(),i=t.progress,a=t.isBeginning,o=t.isEnd,s=a,l=o;o=0===r?a=!(i=0):(a=(i=(e-t.minTranslate())/r)<=0,1<=i),lo.extend(t,{progress:i,isBeginning:a,isEnd:o}),(n.watchSlidesProgress||n.watchSlidesVisibility)&&t.updateSlidesProgress(e),a&&!s&&t.emit("reachBeginning toEdge"),o&&!l&&t.emit("reachEnd toEdge"),(s&&!a||l&&!o)&&t.emit("fromEdge"),t.emit("progress",i)},updateSlidesClasses:function(){var e,t=this.slides,n=this.params,r=this.$wrapperEl,i=this.activeIndex,a=this.realIndex,o=this.virtual&&n.virtual.enabled;t.removeClass("".concat(n.slideActiveClass," ").concat(n.slideNextClass," ").concat(n.slidePrevClass," ").concat(n.slideDuplicateActiveClass," ").concat(n.slideDuplicateNextClass," ").concat(n.slideDuplicatePrevClass)),(e=o?this.$wrapperEl.find(".".concat(n.slideClass,'[data-swiper-slide-index="').concat(i,'"]')):t.eq(i)).addClass(n.slideActiveClass),n.loop&&(e.hasClass(n.slideDuplicateClass)?r.children(".".concat(n.slideClass,":not(.").concat(n.slideDuplicateClass,')[data-swiper-slide-index="').concat(a,'"]')).addClass(n.slideDuplicateActiveClass):r.children(".".concat(n.slideClass,".").concat(n.slideDuplicateClass,'[data-swiper-slide-index="').concat(a,'"]')).addClass(n.slideDuplicateActiveClass));var s=e.nextAll(".".concat(n.slideClass)).eq(0).addClass(n.slideNextClass);n.loop&&0===s.length&&(s=t.eq(0)).addClass(n.slideNextClass);var l=e.prevAll(".".concat(n.slideClass)).eq(0).addClass(n.slidePrevClass);n.loop&&0===l.length&&(l=t.eq(-1)).addClass(n.slidePrevClass),n.loop&&(s.hasClass(n.slideDuplicateClass)?r.children(".".concat(n.slideClass,":not(.").concat(n.slideDuplicateClass,')[data-swiper-slide-index="').concat(s.attr("data-swiper-slide-index"),'"]')).addClass(n.slideDuplicateNextClass):r.children(".".concat(n.slideClass,".").concat(n.slideDuplicateClass,'[data-swiper-slide-index="').concat(s.attr("data-swiper-slide-index"),'"]')).addClass(n.slideDuplicateNextClass),l.hasClass(n.slideDuplicateClass)?r.children(".".concat(n.slideClass,":not(.").concat(n.slideDuplicateClass,')[data-swiper-slide-index="').concat(l.attr("data-swiper-slide-index"),'"]')).addClass(n.slideDuplicatePrevClass):r.children(".".concat(n.slideClass,".").concat(n.slideDuplicateClass,'[data-swiper-slide-index="').concat(l.attr("data-swiper-slide-index"),'"]')).addClass(n.slideDuplicatePrevClass))},updateActiveIndex:function(e){var t,n=this,r=n.rtlTranslate?n.translate:-n.translate,i=n.slidesGrid,a=n.snapGrid,o=n.params,s=n.activeIndex,l=n.realIndex,c=n.snapIndex,u=e;if(void 0===u){for(var h=0;h<i.length;h+=1)void 0!==i[h+1]?r>=i[h]&&r<i[h+1]-(i[h+1]-i[h])/2?u=h:r>=i[h]&&r<i[h+1]&&(u=h+1):r>=i[h]&&(u=h);o.normalizeSlideIndex&&(u<0||void 0===u)&&(u=0)}if((t=0<=a.indexOf(r)?a.indexOf(r):Math.floor(u/o.slidesPerGroup))>=a.length&&(t=a.length-1),u!==s){var d=parseInt(n.slides.eq(u).attr("data-swiper-slide-index")||u,10);lo.extend(n,{snapIndex:t,realIndex:d,previousIndex:s,activeIndex:u}),n.emit("activeIndexChange"),n.emit("snapIndexChange"),l!==d&&n.emit("realIndexChange"),n.emit("slideChange")}else t!==c&&(n.snapIndex=t,n.emit("snapIndexChange"))},updateClickedSlide:function(e){var t=this,n=t.params,r=so(e.target).closest(".".concat(n.slideClass))[0],i=!1;if(r)for(var a=0;a<t.slides.length;a+=1)t.slides[a]===r&&(i=!0);if(!r||!i)return t.clickedSlide=void 0,void(t.clickedIndex=void 0);t.clickedSlide=r,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(so(r).attr("data-swiper-slide-index"),10):t.clickedIndex=so(r).index(),n.slideToClickedSlide&&void 0!==t.clickedIndex&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}},translate:{getTranslate:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.isHorizontal()?"x":"y",t=this.params,n=this.rtlTranslate,r=this.translate,i=this.$wrapperEl;if(t.virtualTranslate)return n?-r:r;var a=lo.getTranslate(i[0],e);return n&&(a=-a),a||0},setTranslate:function(e,t){var n=this,r=n.rtlTranslate,i=n.params,a=n.$wrapperEl,o=n.progress,s=0,l=0;n.isHorizontal()?s=r?-e:e:l=e,i.roundLengths&&(s=Math.floor(s),l=Math.floor(l)),i.virtualTranslate||(co.transforms3d?a.transform("translate3d(".concat(s,"px, ").concat(l,"px, ").concat(0,"px)")):a.transform("translate(".concat(s,"px, ").concat(l,"px)"))),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?s:l;var c=n.maxTranslate()-n.minTranslate();(0===c?0:(e-n.minTranslate())/c)!==o&&n.updateProgress(e),n.emit("setTranslate",n.translate,t)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]}},transition:{setTransition:function(e,t){this.$wrapperEl.transition(e),this.emit("setTransition",e,t)},transitionStart:function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],t=1<arguments.length?arguments[1]:void 0,n=this.activeIndex,r=this.params,i=this.previousIndex;r.autoHeight&&this.updateAutoHeight();var a=t;if(a||(a=i<n?"next":n<i?"prev":"reset"),this.emit("transitionStart"),e&&n!==i){if("reset"===a)return void this.emit("slideResetTransitionStart");this.emit("slideChangeTransitionStart"),"next"===a?this.emit("slideNextTransitionStart"):this.emit("slidePrevTransitionStart")}},transitionEnd:function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],t=1<arguments.length?arguments[1]:void 0,n=this.activeIndex,r=this.previousIndex;this.animating=!1,this.setTransition(0);var i=t;if(i||(i=r<n?"next":n<r?"prev":"reset"),this.emit("transitionEnd"),e&&n!==r){if("reset"===i)return void this.emit("slideResetTransitionEnd");this.emit("slideChangeTransitionEnd"),"next"===i?this.emit("slideNextTransitionEnd"):this.emit("slidePrevTransitionEnd")}}},slide:{slideTo:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.params.speed,n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],r=3<arguments.length?arguments[3]:void 0,i=this,a=e;a<0&&(a=0);var o=i.params,s=i.snapGrid,l=i.slidesGrid,c=i.previousIndex,u=i.activeIndex,h=i.rtlTranslate;if(i.animating&&o.preventInteractionOnTransition)return!1;var d=Math.floor(a/o.slidesPerGroup);d>=s.length&&(d=s.length-1),(u||o.initialSlide||0)===(c||0)&&n&&i.emit("beforeSlideChangeStart");var p,f=-s[d];if(i.updateProgress(f),o.normalizeSlideIndex)for(var m=0;m<l.length;m+=1)-Math.floor(100*f)>=Math.floor(100*l[m])&&(a=m);if(i.initialized&&a!==u){if(!i.allowSlideNext&&f<i.translate&&f<i.minTranslate())return!1;if(!i.allowSlidePrev&&f>i.translate&&f>i.maxTranslate()&&(u||0)!==a)return!1}return p=u<a?"next":a<u?"prev":"reset",h&&-f===i.translate||!h&&f===i.translate?(i.updateActiveIndex(a),o.autoHeight&&i.updateAutoHeight(),i.updateSlidesClasses(),"slide"!==o.effect&&i.setTranslate(f),"reset"!==p&&(i.transitionStart(n,p),i.transitionEnd(n,p)),!1):(0!==t&&co.transition?(i.setTransition(t),i.setTranslate(f),i.updateActiveIndex(a),i.updateSlidesClasses(),i.emit("beforeTransitionStart",t,r),i.transitionStart(n,p),i.animating||(i.animating=!0,i.onSlideToWrapperTransitionEnd||(i.onSlideToWrapperTransitionEnd=function(e){i&&!i.destroyed&&e.target===this&&(i.$wrapperEl[0].removeEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.$wrapperEl[0].removeEventListener("webkitTransitionEnd",i.onSlideToWrapperTransitionEnd),i.onSlideToWrapperTransitionEnd=null,delete i.onSlideToWrapperTransitionEnd,i.transitionEnd(n,p))}),i.$wrapperEl[0].addEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.$wrapperEl[0].addEventListener("webkitTransitionEnd",i.onSlideToWrapperTransitionEnd))):(i.setTransition(0),i.setTranslate(f),i.updateActiveIndex(a),i.updateSlidesClasses(),i.emit("beforeTransitionStart",t,r),i.transitionStart(n,p),i.transitionEnd(n,p)),!0)},slideToLoop:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.params.speed,n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],r=3<arguments.length?arguments[3]:void 0,i=e;return this.params.loop&&(i+=this.loopedSlides),this.slideTo(i,t,n,r)},slideNext:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.params.speed,t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=2<arguments.length?arguments[2]:void 0,r=this.params,i=this.animating;return r.loop?!i&&(this.loopFix(),this._clientLeft=this.$wrapperEl[0].clientLeft,this.slideTo(this.activeIndex+r.slidesPerGroup,e,t,n)):this.slideTo(this.activeIndex+r.slidesPerGroup,e,t,n)},slidePrev:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.params.speed,t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=2<arguments.length?arguments[2]:void 0,r=this,i=r.params,a=r.animating,o=r.snapGrid,s=r.slidesGrid,l=r.rtlTranslate;if(i.loop){if(a)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}function c(e){return e<0?-Math.floor(Math.abs(e)):Math.floor(e)}var u,h=c(l?r.translate:-r.translate),d=o.map(function(e){return c(e)}),p=(s.map(function(e){return c(e)}),o[d.indexOf(h)],o[d.indexOf(h)-1]);return void 0!==p&&(u=s.indexOf(p))<0&&(u=r.activeIndex-1),r.slideTo(u,e,t,n)},slideReset:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.params.speed,t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=2<arguments.length?arguments[2]:void 0;return this.slideTo(this.activeIndex,e,t,n)},slideToClosest:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.params.speed,t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=2<arguments.length?arguments[2]:void 0,r=this,i=r.activeIndex,a=Math.floor(i/r.params.slidesPerGroup);if(a<r.snapGrid.length-1){var o=r.rtlTranslate?r.translate:-r.translate,s=r.snapGrid[a];(r.snapGrid[a+1]-s)/2<o-s&&(i=r.params.slidesPerGroup)}return r.slideTo(i,e,t,n)},slideToClickedSlide:function(){var e,t=this,n=t.params,r=t.$wrapperEl,i="auto"===n.slidesPerView?t.slidesPerViewDynamic():n.slidesPerView,a=t.clickedIndex;if(n.loop){if(t.animating)return;e=parseInt(so(t.clickedSlide).attr("data-swiper-slide-index"),10),n.centeredSlides?a<t.loopedSlides-i/2||a>t.slides.length-t.loopedSlides+i/2?(t.loopFix(),a=r.children(".".concat(n.slideClass,'[data-swiper-slide-index="').concat(e,'"]:not(.').concat(n.slideDuplicateClass,")")).eq(0).index(),lo.nextTick(function(){t.slideTo(a)})):t.slideTo(a):a>t.slides.length-i?(t.loopFix(),a=r.children(".".concat(n.slideClass,'[data-swiper-slide-index="').concat(e,'"]:not(.').concat(n.slideDuplicateClass,")")).eq(0).index(),lo.nextTick(function(){t.slideTo(a)})):t.slideTo(a)}else t.slideTo(a)}},loop:{loopCreate:function(){var e=this,t=e.params,n=e.$wrapperEl;n.children(".".concat(t.slideClass,".").concat(t.slideDuplicateClass)).remove();var i=n.children(".".concat(t.slideClass));if(t.loopFillGroupWithBlank){var a=t.slidesPerGroup-i.length%t.slidesPerGroup;if(a!==t.slidesPerGroup){for(var o=0;o<a;o+=1){var s=so(r.createElement("div")).addClass("".concat(t.slideClass," ").concat(t.slideBlankClass));n.append(s)}i=n.children(".".concat(t.slideClass))}}"auto"!==t.slidesPerView||t.loopedSlides||(t.loopedSlides=i.length),e.loopedSlides=parseInt(t.loopedSlides||t.slidesPerView,10),e.loopedSlides+=t.loopAdditionalSlides,e.loopedSlides>i.length&&(e.loopedSlides=i.length);var l=[],c=[];i.each(function(t,n){var r=so(n);t<e.loopedSlides&&c.push(n),t<i.length&&t>=i.length-e.loopedSlides&&l.push(n),r.attr("data-swiper-slide-index",t)});for(var u=0;u<c.length;u+=1)n.append(so(c[u].cloneNode(!0)).addClass(t.slideDuplicateClass));for(var h=l.length-1;0<=h;h-=1)n.prepend(so(l[h].cloneNode(!0)).addClass(t.slideDuplicateClass))},loopFix:function(){var e,t=this,n=t.params,r=t.activeIndex,i=t.slides,a=t.loopedSlides,o=t.allowSlidePrev,s=t.allowSlideNext,l=t.snapGrid,c=t.rtlTranslate;t.allowSlidePrev=!0,t.allowSlideNext=!0;var u=-l[r]-t.getTranslate();r<a?(e=i.length-3*a+r,e+=a,t.slideTo(e,0,!1,!0)&&0!==u&&t.setTranslate((c?-t.translate:t.translate)-u)):("auto"===n.slidesPerView&&2*a<=r||r>=i.length-a)&&(e=-i.length+r+a,e+=a,t.slideTo(e,0,!1,!0)&&0!==u&&t.setTranslate((c?-t.translate:t.translate)-u)),t.allowSlidePrev=o,t.allowSlideNext=s},loopDestroy:function(){var e=this.$wrapperEl,t=this.params,n=this.slides;e.children(".".concat(t.slideClass,".").concat(t.slideDuplicateClass,",.").concat(t.slideClass,".").concat(t.slideBlankClass)).remove(),n.removeAttr("data-swiper-slide-index")}},grabCursor:{setGrabCursor:function(e){if(!(co.touch||!this.params.simulateTouch||this.params.watchOverflow&&this.isLocked)){var t=this.el;t.style.cursor="move",t.style.cursor=e?"-webkit-grabbing":"-webkit-grab",t.style.cursor=e?"-moz-grabbin":"-moz-grab",t.style.cursor=e?"grabbing":"grab"}},unsetGrabCursor:function(){co.touch||this.params.watchOverflow&&this.isLocked||(this.el.style.cursor="")}},manipulation:{appendSlide:function(e){var t=this.$wrapperEl,n=this.params;if(n.loop&&this.loopDestroy(),"object"===po(e)&&"length"in e)for(var r=0;r<e.length;r+=1)e[r]&&t.append(e[r]);else t.append(e);n.loop&&this.loopCreate(),n.observer&&co.observer||this.update()},prependSlide:function(e){var t=this.params,n=this.$wrapperEl,r=this.activeIndex;t.loop&&this.loopDestroy();var i=r+1;if("object"===fo(e)&&"length"in e){for(var a=0;a<e.length;a+=1)e[a]&&n.prepend(e[a]);i=r+e.length}else n.prepend(e);t.loop&&this.loopCreate(),t.observer&&co.observer||this.update(),this.slideTo(i,0,!1)},addSlide:function(e,t){var n=this,r=n.$wrapperEl,i=n.params,a=n.activeIndex;i.loop&&(a-=n.loopedSlides,n.loopDestroy(),n.slides=r.children(".".concat(i.slideClass)));var o=n.slides.length;if(e<=0)n.prependSlide(t);else if(o<=e)n.appendSlide(t);else{for(var s=e<a?a+1:a,l=[],c=o-1;e<=c;c-=1){var u=n.slides.eq(c);u.remove(),l.unshift(u)}if("object"===mo(t)&&"length"in t){for(var h=0;h<t.length;h+=1)t[h]&&r.append(t[h]);s=e<a?a+t.length:a}else r.append(t);for(var d=0;d<l.length;d+=1)r.append(l[d]);i.loop&&n.loopCreate(),i.observer&&co.observer||n.update(),i.loop?n.slideTo(s+n.loopedSlides,0,!1):n.slideTo(s,0,!1)}},removeSlide:function(e){var t=this,n=t.params,r=t.$wrapperEl,i=t.activeIndex;n.loop&&(i-=t.loopedSlides,t.loopDestroy(),t.slides=r.children(".".concat(n.slideClass)));var a,o=i;if("object"===vo(e)&&"length"in e){for(var s=0;s<e.length;s+=1)a=e[s],t.slides[a]&&t.slides.eq(a).remove(),a<o&&(o-=1);o=Math.max(o,0)}else a=e,t.slides[a]&&t.slides.eq(a).remove(),a<o&&(o-=1),o=Math.max(o,0);n.loop&&t.loopCreate(),n.observer&&co.observer||t.update(),n.loop?t.slideTo(o+t.loopedSlides,0,!1):t.slideTo(o,0,!1)},removeAllSlides:function(){for(var e=[],t=0;t<this.slides.length;t+=1)e.push(t);this.removeSlide(e)}},events:{attachEvents:function(){var e=this,t=e.params,n=e.touchEvents,a=e.el,o=e.wrapperEl;e.onTouchStart=function(e){var t=this,n=t.touchEventsData,a=t.params,o=t.touches;if(!t.animating||!a.preventInteractionOnTransition){var s=e;if(s.originalEvent&&(s=s.originalEvent),n.isTouchEvent="touchstart"===s.type,(n.isTouchEvent||!("which"in s)||3!==s.which)&&!(!n.isTouchEvent&&"button"in s&&0<s.button||n.isTouched&&n.isMoved))if(a.noSwiping&&so(s.target).closest(a.noSwipingSelector?a.noSwipingSelector:".".concat(a.noSwipingClass))[0])t.allowClick=!0;else if(!a.swipeHandler||so(s).closest(a.swipeHandler)[0]){o.currentX="touchstart"===s.type?s.targetTouches[0].pageX:s.pageX,o.currentY="touchstart"===s.type?s.targetTouches[0].pageY:s.pageY;var l=o.currentX,c=o.currentY,u=a.edgeSwipeDetection||a.iOSEdgeSwipeDetection,h=a.edgeSwipeThreshold||a.iOSEdgeSwipeThreshold;if(!u||!(l<=h||l>=i.screen.width-h)){if(lo.extend(n,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=l,o.startY=c,n.touchStartTime=lo.now(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,0<a.threshold&&(n.allowThresholdMove=!1),"touchstart"!==s.type){var d=!0;so(s.target).is(n.formElements)&&(d=!1),r.activeElement&&so(r.activeElement).is(n.formElements)&&r.activeElement!==s.target&&r.activeElement.blur();var p=d&&t.allowTouchMove&&a.touchStartPreventDefault;(a.touchStartForcePreventDefault||p)&&s.preventDefault()}t.emit("touchStart",s)}}}}.bind(e),e.onTouchMove=function(e){var t=this,n=t.touchEventsData,i=t.params,a=t.touches,o=t.rtlTranslate,s=e;if(s.originalEvent&&(s=s.originalEvent),n.isTouched){if(!n.isTouchEvent||"mousemove"!==s.type){var l="touchmove"===s.type?s.targetTouches[0].pageX:s.pageX,c="touchmove"===s.type?s.targetTouches[0].pageY:s.pageY;if(s.preventedByNestedSwiper)return a.startX=l,void(a.startY=c);if(!t.allowTouchMove)return t.allowClick=!1,void(n.isTouched&&(lo.extend(a,{startX:l,startY:c,currentX:l,currentY:c}),n.touchStartTime=lo.now()));if(n.isTouchEvent&&i.touchReleaseOnEdges&&!i.loop)if(t.isVertical()){if(c<a.startY&&t.translate<=t.maxTranslate()||c>a.startY&&t.translate>=t.minTranslate())return n.isTouched=!1,void(n.isMoved=!1)}else if(l<a.startX&&t.translate<=t.maxTranslate()||l>a.startX&&t.translate>=t.minTranslate())return;if(n.isTouchEvent&&r.activeElement&&s.target===r.activeElement&&so(s.target).is(n.formElements))return n.isMoved=!0,void(t.allowClick=!1);if(n.allowTouchCallbacks&&t.emit("touchMove",s),!(s.targetTouches&&1<s.targetTouches.length)){a.currentX=l,a.currentY=c;var u,h=a.currentX-a.startX,d=a.currentY-a.startY;if(!(t.params.threshold&&Math.sqrt(Math.pow(h,2)+Math.pow(d,2))<t.params.threshold))if(void 0===n.isScrolling&&(t.isHorizontal()&&a.currentY===a.startY||t.isVertical()&&a.currentX===a.startX?n.isScrolling=!1:25<=h*h+d*d&&(u=180*Math.atan2(Math.abs(d),Math.abs(h))/Math.PI,n.isScrolling=t.isHorizontal()?u>i.touchAngle:90-u>i.touchAngle)),n.isScrolling&&t.emit("touchMoveOpposite",s),void 0===n.startMoving&&(a.currentX===a.startX&&a.currentY===a.startY||(n.startMoving=!0)),n.isScrolling)n.isTouched=!1;else if(n.startMoving){t.allowClick=!1,s.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&s.stopPropagation(),n.isMoved||(i.loop&&t.loopFix(),n.startTranslate=t.getTranslate(),t.setTransition(0),t.animating&&t.$wrapperEl.trigger("webkitTransitionEnd transitionend"),n.allowMomentumBounce=!1,!i.grabCursor||!0!==t.allowSlideNext&&!0!==t.allowSlidePrev||t.setGrabCursor(!0),t.emit("sliderFirstMove",s)),t.emit("sliderMove",s),n.isMoved=!0;var p=t.isHorizontal()?h:d;a.diff=p,p*=i.touchRatio,o&&(p=-p),t.swipeDirection=0<p?"prev":"next",n.currentTranslate=p+n.startTranslate;var f=!0,m=i.resistanceRatio;if(i.touchReleaseOnEdges&&(m=0),0<p&&n.currentTranslate>t.minTranslate()?(f=!1,i.resistance&&(n.currentTranslate=t.minTranslate()-1+Math.pow(-t.minTranslate()+n.startTranslate+p,m))):p<0&&n.currentTranslate<t.maxTranslate()&&(f=!1,i.resistance&&(n.currentTranslate=t.maxTranslate()+1-Math.pow(t.maxTranslate()-n.startTranslate-p,m))),f&&(s.preventedByNestedSwiper=!0),!t.allowSlideNext&&"next"===t.swipeDirection&&n.currentTranslate<n.startTranslate&&(n.currentTranslate=n.startTranslate),!t.allowSlidePrev&&"prev"===t.swipeDirection&&n.currentTranslate>n.startTranslate&&(n.currentTranslate=n.startTranslate),0<i.threshold){if(!(Math.abs(p)>i.threshold||n.allowThresholdMove))return void(n.currentTranslate=n.startTranslate);if(!n.allowThresholdMove)return n.allowThresholdMove=!0,a.startX=a.currentX,a.startY=a.currentY,n.currentTranslate=n.startTranslate,void(a.diff=t.isHorizontal()?a.currentX-a.startX:a.currentY-a.startY)}i.followFinger&&((i.freeMode||i.watchSlidesProgress||i.watchSlidesVisibility)&&(t.updateActiveIndex(),t.updateSlidesClasses()),i.freeMode&&(0===n.velocities.length&&n.velocities.push({position:a[t.isHorizontal()?"startX":"startY"],time:n.touchStartTime}),n.velocities.push({position:a[t.isHorizontal()?"currentX":"currentY"],time:lo.now()})),t.updateProgress(n.currentTranslate),t.setTranslate(n.currentTranslate))}}}}else n.startMoving&&n.isScrolling&&t.emit("touchMoveOpposite",s)}.bind(e),e.onTouchEnd=function(e){var t=this,n=t.touchEventsData,r=t.params,i=t.touches,a=t.rtlTranslate,o=t.$wrapperEl,s=t.slidesGrid,l=t.snapGrid,c=e;if(c.originalEvent&&(c=c.originalEvent),n.allowTouchCallbacks&&t.emit("touchEnd",c),n.allowTouchCallbacks=!1,!n.isTouched)return n.isMoved&&r.grabCursor&&t.setGrabCursor(!1),n.isMoved=!1,void(n.startMoving=!1);r.grabCursor&&n.isMoved&&n.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);var u,h=lo.now(),d=h-n.touchStartTime;if(t.allowClick&&(t.updateClickedSlide(c),t.emit("tap",c),d<300&&300<h-n.lastClickTime&&(n.clickTimeout&&clearTimeout(n.clickTimeout),n.clickTimeout=lo.nextTick(function(){t&&!t.destroyed&&t.emit("click",c)},300)),d<300&&h-n.lastClickTime<300&&(n.clickTimeout&&clearTimeout(n.clickTimeout),t.emit("doubleTap",c))),n.lastClickTime=lo.now(),lo.nextTick(function(){t.destroyed||(t.allowClick=!0)}),!n.isTouched||!n.isMoved||!t.swipeDirection||0===i.diff||n.currentTranslate===n.startTranslate)return n.isTouched=!1,n.isMoved=!1,void(n.startMoving=!1);if(n.isTouched=!1,n.isMoved=!1,n.startMoving=!1,u=r.followFinger?a?t.translate:-t.translate:-n.currentTranslate,r.freeMode){if(u<-t.minTranslate())return void t.slideTo(t.activeIndex);if(u>-t.maxTranslate())return void(t.slides.length<l.length?t.slideTo(l.length-1):t.slideTo(t.slides.length-1));if(r.freeModeMomentum){if(1<n.velocities.length){var p=n.velocities.pop(),f=n.velocities.pop(),m=p.position-f.position,v=p.time-f.time;t.velocity=m/v,t.velocity/=2,Math.abs(t.velocity)<r.freeModeMinimumVelocity&&(t.velocity=0),(150<v||300<lo.now()-p.time)&&(t.velocity=0)}else t.velocity=0;t.velocity*=r.freeModeMomentumVelocityRatio,n.velocities.length=0;var g=1e3*r.freeModeMomentumRatio,y=t.velocity*g,b=t.translate+y;a&&(b=-b);var w,E,C=!1,S=20*Math.abs(t.velocity)*r.freeModeMomentumBounceRatio;if(b<t.maxTranslate())r.freeModeMomentumBounce?(b+t.maxTranslate()<-S&&(b=t.maxTranslate()-S),w=t.maxTranslate(),C=!0,n.allowMomentumBounce=!0):b=t.maxTranslate(),r.loop&&r.centeredSlides&&(E=!0);else if(b>t.minTranslate())r.freeModeMomentumBounce?(b-t.minTranslate()>S&&(b=t.minTranslate()+S),w=t.minTranslate(),C=!0,n.allowMomentumBounce=!0):b=t.minTranslate(),r.loop&&r.centeredSlides&&(E=!0);else if(r.freeModeSticky){for(var _,T=0;T<l.length;T+=1)if(l[T]>-b){_=T;break}b=-(b=Math.abs(l[_]-b)<Math.abs(l[_-1]-b)||"next"===t.swipeDirection?l[_]:l[_-1])}if(E&&t.once("transitionEnd",function(){t.loopFix()}),0!==t.velocity)g=a?Math.abs((-b-t.translate)/t.velocity):Math.abs((b-t.translate)/t.velocity);else if(r.freeModeSticky)return void t.slideToClosest();r.freeModeMomentumBounce&&C?(t.updateProgress(w),t.setTransition(g),t.setTranslate(b),t.transitionStart(!0,t.swipeDirection),t.animating=!0,o.transitionEnd(function(){t&&!t.destroyed&&n.allowMomentumBounce&&(t.emit("momentumBounce"),t.setTransition(r.speed),t.setTranslate(w),o.transitionEnd(function(){t&&!t.destroyed&&t.transitionEnd()}))})):t.velocity?(t.updateProgress(b),t.setTransition(g),t.setTranslate(b),t.transitionStart(!0,t.swipeDirection),t.animating||(t.animating=!0,o.transitionEnd(function(){t&&!t.destroyed&&t.transitionEnd()}))):t.updateProgress(b),t.updateActiveIndex(),t.updateSlidesClasses()}else if(r.freeModeSticky)return void t.slideToClosest();(!r.freeModeMomentum||d>=r.longSwipesMs)&&(t.updateProgress(),t.updateActiveIndex(),t.updateSlidesClasses())}else{for(var k=0,x=t.slidesSizesGrid[0],I=0;I<s.length;I+=r.slidesPerGroup)void 0!==s[I+r.slidesPerGroup]?u>=s[I]&&u<s[I+r.slidesPerGroup]&&(x=s[(k=I)+r.slidesPerGroup]-s[I]):u>=s[I]&&(k=I,x=s[s.length-1]-s[s.length-2]);var O=(u-s[k])/x;if(d>r.longSwipesMs){if(!r.longSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&(O>=r.longSwipesRatio?t.slideTo(k+r.slidesPerGroup):t.slideTo(k)),"prev"===t.swipeDirection&&(O>1-r.longSwipesRatio?t.slideTo(k+r.slidesPerGroup):t.slideTo(k))}else{if(!r.shortSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&t.slideTo(k+r.slidesPerGroup),"prev"===t.swipeDirection&&t.slideTo(k)}}}.bind(e),e.onClick=function(e){this.allowClick||(this.params.preventClicks&&e.preventDefault(),this.params.preventClicksPropagation&&this.animating&&(e.stopPropagation(),e.stopImmediatePropagation()))}.bind(e);var s="container"===t.touchEventsTarget?a:o,l=!!t.nested;if(co.touch||!co.pointerEvents&&!co.prefixedPointerEvents){if(co.touch){var c=!("touchstart"!==n.start||!co.passiveListener||!t.passiveListeners)&&{passive:!0,capture:!1};s.addEventListener(n.start,e.onTouchStart,c),s.addEventListener(n.move,e.onTouchMove,co.passiveListener?{passive:!1,capture:l}:l),s.addEventListener(n.end,e.onTouchEnd,c)}(t.simulateTouch&&!go.ios&&!go.android||t.simulateTouch&&!co.touch&&go.ios)&&(s.addEventListener("mousedown",e.onTouchStart,!1),r.addEventListener("mousemove",e.onTouchMove,l),r.addEventListener("mouseup",e.onTouchEnd,!1))}else s.addEventListener(n.start,e.onTouchStart,!1),r.addEventListener(n.move,e.onTouchMove,l),r.addEventListener(n.end,e.onTouchEnd,!1);(t.preventClicks||t.preventClicksPropagation)&&s.addEventListener("click",e.onClick,!0),e.on(go.ios||go.android?"resize orientationchange observerUpdate":"resize observerUpdate",yo,!0)},detachEvents:function(){var e=this,t=e.params,n=e.touchEvents,i=e.el,a=e.wrapperEl,o="container"===t.touchEventsTarget?i:a,s=!!t.nested;if(co.touch||!co.pointerEvents&&!co.prefixedPointerEvents){if(co.touch){var l=!("onTouchStart"!==n.start||!co.passiveListener||!t.passiveListeners)&&{passive:!0,capture:!1};o.removeEventListener(n.start,e.onTouchStart,l),o.removeEventListener(n.move,e.onTouchMove,s),o.removeEventListener(n.end,e.onTouchEnd,l)}(t.simulateTouch&&!go.ios&&!go.android||t.simulateTouch&&!co.touch&&go.ios)&&(o.removeEventListener("mousedown",e.onTouchStart,!1),r.removeEventListener("mousemove",e.onTouchMove,s),r.removeEventListener("mouseup",e.onTouchEnd,!1))}else o.removeEventListener(n.start,e.onTouchStart,!1),r.removeEventListener(n.move,e.onTouchMove,s),r.removeEventListener(n.end,e.onTouchEnd,!1);(t.preventClicks||t.preventClicksPropagation)&&o.removeEventListener("click",e.onClick,!0),e.off(go.ios||go.android?"resize orientationchange observerUpdate":"resize observerUpdate",yo)}},breakpoints:{setBreakpoint:function(){var e=this,t=e.activeIndex,n=e.initialized,r=e.loopedSlides,i=void 0===r?0:r,a=e.params,o=a.breakpoints;if(o&&(!o||0!==Object.keys(o).length)){var s=e.getBreakpoint(o);if(s&&e.currentBreakpoint!==s){var l=s in o?o[s]:void 0;l&&["slidesPerView","spaceBetween","slidesPerGroup"].forEach(function(e){var t=l[e];void 0!==t&&(l[e]="slidesPerView"!==e||"AUTO"!==t&&"auto"!==t?"slidesPerView"===e?parseFloat(t):parseInt(t,10):"auto")});var c=l||e.originalParams,u=c.direction&&c.direction!==a.direction,h=a.loop&&(c.slidesPerView!==a.slidesPerView||u);u&&n&&e.changeDirection(),lo.extend(e.params,c),lo.extend(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),e.currentBreakpoint=s,h&&n&&(e.loopDestroy(),e.loopCreate(),e.updateSlides(),e.slideTo(t-i+e.loopedSlides,0,!1)),e.emit("breakpoint",c)}}},getBreakpoint:function(e){if(e){var t=!1,n=[];Object.keys(e).forEach(function(e){n.push(e)}),n.sort(function(e,t){return parseInt(e,10)-parseInt(t,10)});for(var r=0;r<n.length;r+=1){var a=n[r];this.params.breakpointsInverse?a<=i.innerWidth&&(t=a):a>=i.innerWidth&&!t&&(t=a)}return t||"max"}}},checkOverflow:{checkOverflow:function(){var e=this,t=e.isLocked;e.isLocked=1===e.snapGrid.length,e.allowSlideNext=!e.isLocked,e.allowSlidePrev=!e.isLocked,t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock"),t&&t!==e.isLocked&&(e.isEnd=!1,e.navigation.update())}},classes:{addClasses:function(){var e=this.classNames,t=this.params,n=this.rtl,r=this.$el,i=[];i.push("initialized"),i.push(t.direction),t.freeMode&&i.push("free-mode"),co.flexbox||i.push("no-flexbox"),t.autoHeight&&i.push("autoheight"),n&&i.push("rtl"),1<t.slidesPerColumn&&i.push("multirow"),go.android&&i.push("android"),go.ios&&i.push("ios"),(uo.isIE||uo.isEdge)&&(co.pointerEvents||co.prefixedPointerEvents)&&i.push("wp8-".concat(t.direction)),i.forEach(function(n){e.push(t.containerModifierClass+n)}),r.addClass(e.join(" "))},removeClasses:function(){var e=this.$el,t=this.classNames;e.removeClass(t.join(" "))}},images:{loadImage:function(e,t,n,r,a,o){var s;function l(){o&&o()}e.complete&&a?l():t?((s=new i.Image).onload=l,s.onerror=l,r&&(s.sizes=r),n&&(s.srcset=n),t&&(s.src=t)):l()},preloadImages:function(){var e=this;function t(){null!=e&&e&&!e.destroyed&&(void 0!==e.imagesLoaded&&(e.imagesLoaded+=1),e.imagesLoaded===e.imagesToLoad.length&&(e.params.updateOnImagesReady&&e.update(),e.emit("imagesReady")))}e.imagesToLoad=e.$el.find("img");for(var n=0;n<e.imagesToLoad.length;n+=1){var r=e.imagesToLoad[n];e.loadImage(r,r.currentSrc||r.getAttribute("src"),r.srcset||r.getAttribute("srcset"),r.sizes||r.getAttribute("sizes"),!0,t)}}}},xo={},Io=function(e){function t(){var e,n,r;!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];(r=1===a.length&&a[0].constructor&&a[0].constructor===Object?a[0]:(n=a[0],a[1]))||(r={}),r=lo.extend({},r),n&&!r.el&&(r.el=n),e=Co(this,So(t).call(this,r)),Object.keys(ko).forEach(function(e){Object.keys(ko[e]).forEach(function(n){t.prototype[n]||(t.prototype[n]=ko[e][n])})});var s=_o(e);void 0===s.modules&&(s.modules={}),Object.keys(s.modules).forEach(function(e){var t=s.modules[e];if(t.params){var n=Object.keys(t.params)[0],i=t.params[n];if("object"!==wo(i)||null===i)return;if(!(n in r&&"enabled"in i))return;!0===r[n]&&(r[n]={enabled:!0}),"object"!==wo(r[n])||"enabled"in r[n]||(r[n].enabled=!0),r[n]||(r[n]={enabled:!1})}});var l=lo.extend({},bo);s.useModulesParams(l),s.params=lo.extend({},l,xo,r),s.originalParams=lo.extend({},s.params),s.passedParams=lo.extend({},r);var c=(s.$=so)(s.params.el);if(!(n=c[0]))return Co(e,void 0);if(1<c.length){var u=[];return c.each(function(e,n){var i=lo.extend({},r,{el:n});u.push(new t(i))}),Co(e,u)}n.swiper=s,c.data("swiper",s);var h,d,p=c.children(".".concat(s.params.wrapperClass));return lo.extend(s,{$el:c,el:n,$wrapperEl:p,wrapperEl:p[0],classNames:[],slides:so(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:function(){return"horizontal"===s.params.direction},isVertical:function(){return"vertical"===s.params.direction},rtl:"rtl"===n.dir.toLowerCase()||"rtl"===c.css("direction"),rtlTranslate:"horizontal"===s.params.direction&&("rtl"===n.dir.toLowerCase()||"rtl"===c.css("direction")),wrongRTL:"-webkit-box"===p.css("display"),activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:s.params.allowSlideNext,allowSlidePrev:s.params.allowSlidePrev,touchEvents:(h=["touchstart","touchmove","touchend"],d=["mousedown","mousemove","mouseup"],co.pointerEvents?d=["pointerdown","pointermove","pointerup"]:co.prefixedPointerEvents&&(d=["MSPointerDown","MSPointerMove","MSPointerUp"]),s.touchEventsTouch={start:h[0],move:h[1],end:h[2]},s.touchEventsDesktop={start:d[0],move:d[1],end:d[2]},co.touch||!s.params.simulateTouch?s.touchEventsTouch:s.touchEventsDesktop),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,formElements:"input, select, option, textarea, button, video",lastClickTime:lo.now(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:s.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),s.useModules(),s.params.init&&s.init(),Co(e,s)}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&To(e,t)}(t,ho),n=t,i=[{key:"extendDefaults",value:function(e){lo.extend(xo,e)}},{key:"extendedDefaults",get:function(){return xo}},{key:"defaults",get:function(){return bo}},{key:"Class",get:function(){return ho}},{key:"$",get:function(){return so}}],(r=[{key:"slidesPerViewDynamic",value:function(){var e=this.params,t=this.slides,n=this.slidesGrid,r=this.size,i=this.activeIndex,a=1;if(e.centeredSlides){for(var o,s=t[i].swiperSlideSize,l=i+1;l<t.length;l+=1)t[l]&&!o&&(a+=1,r<(s+=t[l].swiperSlideSize)&&(o=!0));for(var c=i-1;0<=c;c-=1)t[c]&&!o&&(a+=1,r<(s+=t[c].swiperSlideSize)&&(o=!0))}else for(var u=i+1;u<t.length;u+=1)n[u]-n[i]<r&&(a+=1);return a}},{key:"update",value:function(){var e=this;if(e&&!e.destroyed){var t=e.snapGrid,n=e.params;n.breakpoints&&e.setBreakpoint(),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.params.freeMode?(r(),e.params.autoHeight&&e.updateAutoHeight()):(("auto"===e.params.slidesPerView||1<e.params.slidesPerView)&&e.isEnd&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0))||r(),n.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}function r(){var t=e.rtlTranslate?-1*e.translate:e.translate,n=Math.min(Math.max(t,e.maxTranslate()),e.minTranslate());e.setTranslate(n),e.updateActiveIndex(),e.updateSlidesClasses()}}},{key:"changeDirection",value:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=this,r=n.params.direction;return e||(e="horizontal"===r?"vertical":"horizontal"),e===r||"horizontal"!==e&&"vertical"!==e||("vertical"===r&&(n.$el.removeClass("".concat(n.params.containerModifierClass,"vertical wp8-vertical")).addClass("".concat(n.params.containerModifierClass).concat(e)),(uo.isIE||uo.isEdge)&&(co.pointerEvents||co.prefixedPointerEvents)&&n.$el.addClass("".concat(n.params.containerModifierClass,"wp8-").concat(e))),"horizontal"===r&&(n.$el.removeClass("".concat(n.params.containerModifierClass,"horizontal wp8-horizontal")).addClass("".concat(n.params.containerModifierClass).concat(e)),(uo.isIE||uo.isEdge)&&(co.pointerEvents||co.prefixedPointerEvents)&&n.$el.addClass("".concat(n.params.containerModifierClass,"wp8-").concat(e))),n.params.direction=e,n.slides.each(function(t,n){"vertical"===e?n.style.width="":n.style.height=""}),n.emit("changeDirection"),t&&n.update()),n}},{key:"init",value:function(){var e=this;e.initialized||(e.emit("beforeInit"),e.params.breakpoints&&e.setBreakpoint(),e.addClasses(),e.params.loop&&e.loopCreate(),e.updateSize(),e.updateSlides(),e.params.watchOverflow&&e.checkOverflow(),e.params.grabCursor&&e.setGrabCursor(),e.params.preloadImages&&e.preloadImages(),e.params.loop?e.slideTo(e.params.initialSlide+e.loopedSlides,0,e.params.runCallbacksOnInit):e.slideTo(e.params.initialSlide,0,e.params.runCallbacksOnInit),e.attachEvents(),e.initialized=!0,e.emit("init"))}},{key:"destroy",value:function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=this,r=n.params,i=n.$el,a=n.$wrapperEl,o=n.slides;return void 0===n.params||n.destroyed||(n.emit("beforeDestroy"),n.initialized=!1,n.detachEvents(),r.loop&&n.loopDestroy(),t&&(n.removeClasses(),i.removeAttr("style"),a.removeAttr("style"),o&&o.length&&o.removeClass([r.slideVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index").removeAttr("data-swiper-column").removeAttr("data-swiper-row")),n.emit("destroy"),Object.keys(n.eventsListeners).forEach(function(e){n.off(e)}),!1!==e&&(n.$el[0].swiper=null,n.$el.data("swiper",null),lo.deleteProps(n)),n.destroyed=!0),null}}])&&Eo(n.prototype,r),i&&Eo(n,i),t}(),Oo={name:"device",proto:{device:go},static:{device:go}},Po={name:"support",proto:{support:co},static:{support:co}},Ao={name:"browser",proto:{browser:uo},static:{browser:uo}},Do={name:"resize",create:function(){var e=this;lo.extend(e,{resize:{resizeHandler:function(){e&&!e.destroyed&&e.initialized&&(e.emit("beforeResize"),e.emit("resize"))},orientationChangeHandler:function(){e&&!e.destroyed&&e.initialized&&e.emit("orientationchange")}}})},on:{init:function(){i.addEventListener("resize",this.resize.resizeHandler),i.addEventListener("orientationchange",this.resize.orientationChangeHandler)},destroy:function(){i.removeEventListener("resize",this.resize.resizeHandler),i.removeEventListener("orientationchange",this.resize.orientationChangeHandler)}}},No={func:i.MutationObserver||i.WebkitMutationObserver,attach:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=this,r=new No.func(function(e){if(1!==e.length){var t=function(){n.emit("observerUpdate",e[0])};i.requestAnimationFrame?i.requestAnimationFrame(t):i.setTimeout(t,0)}else n.emit("observerUpdate",e[0])});r.observe(e,{attributes:void 0===t.attributes||t.attributes,childList:void 0===t.childList||t.childList,characterData:void 0===t.characterData||t.characterData}),n.observer.observers.push(r)},init:function(){if(co.observer&&this.params.observer){if(this.params.observeParents)for(var e=this.$el.parents(),t=0;t<e.length;t+=1)this.observer.attach(e[t]);this.observer.attach(this.$el[0],{childList:this.params.observeSlideChildren}),this.observer.attach(this.$wrapperEl[0],{attributes:!1})}},destroy:function(){this.observer.observers.forEach(function(e){e.disconnect()}),this.observer.observers=[]}},Mo={name:"observer",params:{observer:!1,observeParents:!1,observeSlideChildren:!1},create:function(){lo.extend(this,{observer:{init:No.init.bind(this),attach:No.attach.bind(this),destroy:No.destroy.bind(this),observers:[]}})},on:{init:function(){this.observer.init()},destroy:function(){this.observer.destroy()}}};function Ro(e){return(Ro="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Lo={update:function(e){var t=this,n=t.params,r=n.slidesPerView,i=n.slidesPerGroup,a=n.centeredSlides,o=t.params.virtual,s=o.addSlidesBefore,l=o.addSlidesAfter,c=t.virtual,u=c.from,h=c.to,d=c.slides,p=c.slidesGrid,f=c.renderSlide,m=c.offset;t.updateActiveIndex();var v,g,y,b=t.activeIndex||0;v=t.rtlTranslate?"right":t.isHorizontal()?"left":"top",y=a?(g=Math.floor(r/2)+i+s,Math.floor(r/2)+i+l):(g=r+(i-1)+s,i+l);var w=Math.max((b||0)-y,0),E=Math.min((b||0)+g,d.length-1),C=(t.slidesGrid[w]||0)-(t.slidesGrid[0]||0);function S(){t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.lazy&&t.params.lazy.enabled&&t.lazy.load()}if(lo.extend(t.virtual,{from:w,to:E,offset:C,slidesGrid:t.slidesGrid}),u===w&&h===E&&!e)return t.slidesGrid!==p&&C!==m&&t.slides.css(v,"".concat(C,"px")),void t.updateProgress();if(t.params.virtual.renderExternal)return t.params.virtual.renderExternal.call(t,{offset:C,from:w,to:E,slides:function(){for(var e=[],t=w;t<=E;t+=1)e.push(d[t]);return e}()}),void S();var _=[],T=[];if(e)t.$wrapperEl.find(".".concat(t.params.slideClass)).remove();else for(var k=u;k<=h;k+=1)(k<w||E<k)&&t.$wrapperEl.find(".".concat(t.params.slideClass,'[data-swiper-slide-index="').concat(k,'"]')).remove();for(var x=0;x<d.length;x+=1)w<=x&&x<=E&&(void 0===h||e?T.push(x):(h<x&&T.push(x),x<u&&_.push(x)));T.forEach(function(e){t.$wrapperEl.append(f(d[e],e))}),_.sort(function(e,t){return t-e}).forEach(function(e){t.$wrapperEl.prepend(f(d[e],e))}),t.$wrapperEl.children(".swiper-slide").css(v,"".concat(C,"px")),S()},renderSlide:function(e,t){var n=this.params.virtual;if(n.cache&&this.virtual.cache[t])return this.virtual.cache[t];var r=n.renderSlide?so(n.renderSlide.call(this,e,t)):so('<div class="'.concat(this.params.slideClass,'" data-swiper-slide-index="').concat(t,'">').concat(e,"</div>"));return r.attr("data-swiper-slide-index")||r.attr("data-swiper-slide-index",t),n.cache&&(this.virtual.cache[t]=r),r},appendSlide:function(e){if("object"===Ro(e)&&"length"in e)for(var t=0;t<e.length;t+=1)e[t]&&this.virtual.slides.push(e[t]);else this.virtual.slides.push(e);this.virtual.update(!0)},prependSlide:function(e){var t=this.activeIndex,n=t+1,r=1;if(Array.isArray(e)){for(var i=0;i<e.length;i+=1)e[i]&&this.virtual.slides.unshift(e[i]);n=t+e.length,r=e.length}else this.virtual.slides.unshift(e);if(this.params.virtual.cache){var a=this.virtual.cache,o={};Object.keys(a).forEach(function(e){o[parseInt(e,10)+r]=a[e]}),this.virtual.cache=o}this.virtual.update(!0),this.slideTo(n,0)},removeSlide:function(e){if(null!=e){var t=this.activeIndex;if(Array.isArray(e))for(var n=e.length-1;0<=n;n-=1)this.virtual.slides.splice(e[n],1),this.params.virtual.cache&&delete this.virtual.cache[e[n]],e[n]<t&&(t-=1),t=Math.max(t,0);else this.virtual.slides.splice(e,1),this.params.virtual.cache&&delete this.virtual.cache[e],e<t&&(t-=1),t=Math.max(t,0);this.virtual.update(!0),this.slideTo(t,0)}},removeAllSlides:function(){this.virtual.slides=[],this.params.virtual.cache&&(this.virtual.cache={}),this.virtual.update(!0),this.slideTo(0,0)}},Fo={name:"virtual",params:{virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,addSlidesBefore:0,addSlidesAfter:0}},create:function(){lo.extend(this,{virtual:{update:Lo.update.bind(this),appendSlide:Lo.appendSlide.bind(this),prependSlide:Lo.prependSlide.bind(this),removeSlide:Lo.removeSlide.bind(this),removeAllSlides:Lo.removeAllSlides.bind(this),renderSlide:Lo.renderSlide.bind(this),slides:this.params.virtual.slides,cache:{}}})},on:{beforeInit:function(){if(this.params.virtual.enabled){this.classNames.push("".concat(this.params.containerModifierClass,"virtual"));var e={watchSlidesProgress:!0};lo.extend(this.params,e),lo.extend(this.originalParams,e),this.params.initialSlide||this.virtual.update()}},setTranslate:function(){this.params.virtual.enabled&&this.virtual.update()}}},Bo={update:function(){var e=this.params.navigation;if(!this.params.loop){var t=this.navigation,n=t.$nextEl,r=t.$prevEl;r&&0<r.length&&(this.isBeginning?r.addClass(e.disabledClass):r.removeClass(e.disabledClass),r[this.params.watchOverflow&&this.isLocked?"addClass":"removeClass"](e.lockClass)),n&&0<n.length&&(this.isEnd?n.addClass(e.disabledClass):n.removeClass(e.disabledClass),n[this.params.watchOverflow&&this.isLocked?"addClass":"removeClass"](e.lockClass))}},onPrevClick:function(e){e.preventDefault(),this.isBeginning&&!this.params.loop||this.slidePrev()},onNextClick:function(e){e.preventDefault(),this.isEnd&&!this.params.loop||this.slideNext()},init:function(){var e,t,n=this,r=n.params.navigation;(r.nextEl||r.prevEl)&&(r.nextEl&&(e=so(r.nextEl),n.params.uniqueNavElements&&"string"==typeof r.nextEl&&1<e.length&&1===n.$el.find(r.nextEl).length&&(e=n.$el.find(r.nextEl))),r.prevEl&&(t=so(r.prevEl),n.params.uniqueNavElements&&"string"==typeof r.prevEl&&1<t.length&&1===n.$el.find(r.prevEl).length&&(t=n.$el.find(r.prevEl))),e&&0<e.length&&e.on("click",n.navigation.onNextClick),t&&0<t.length&&t.on("click",n.navigation.onPrevClick),lo.extend(n.navigation,{$nextEl:e,nextEl:e&&e[0],$prevEl:t,prevEl:t&&t[0]}))},destroy:function(){var e=this.navigation,t=e.$nextEl,n=e.$prevEl;t&&t.length&&(t.off("click",this.navigation.onNextClick),t.removeClass(this.params.navigation.disabledClass)),n&&n.length&&(n.off("click",this.navigation.onPrevClick),n.removeClass(this.params.navigation.disabledClass))}},jo={name:"navigation",params:{navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock"}},create:function(){lo.extend(this,{navigation:{init:Bo.init.bind(this),update:Bo.update.bind(this),destroy:Bo.destroy.bind(this),onNextClick:Bo.onNextClick.bind(this),onPrevClick:Bo.onPrevClick.bind(this)}})},on:{init:function(){this.navigation.init(),this.navigation.update()},toEdge:function(){this.navigation.update()},fromEdge:function(){this.navigation.update()},destroy:function(){this.navigation.destroy()},click:function(e){var t,n=this,r=n.navigation,i=r.$nextEl,a=r.$prevEl;!n.params.navigation.hideOnClick||so(e.target).is(a)||so(e.target).is(i)||(i?t=i.hasClass(n.params.navigation.hiddenClass):a&&(t=a.hasClass(n.params.navigation.hiddenClass)),!0===t?n.emit("navigationShow",n):n.emit("navigationHide",n),i&&i.toggleClass(n.params.navigation.hiddenClass),a&&a.toggleClass(n.params.navigation.hiddenClass))}}},$o={update:function(){var e=this,t=e.rtl,n=e.params.pagination;if(n.el&&e.pagination.el&&e.pagination.$el&&0!==e.pagination.$el.length){var r,i=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,a=e.pagination.$el,o=e.params.loop?Math.ceil((i-2*e.loopedSlides)/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?((r=Math.ceil((e.activeIndex-e.loopedSlides)/e.params.slidesPerGroup))>i-1-2*e.loopedSlides&&(r-=i-2*e.loopedSlides),o-1<r&&(r-=o),r<0&&"bullets"!==e.params.paginationType&&(r=o+r)):r=void 0!==e.snapIndex?e.snapIndex:e.activeIndex||0,"bullets"===n.type&&e.pagination.bullets&&0<e.pagination.bullets.length){var s,l,c,u=e.pagination.bullets;if(n.dynamicBullets&&(e.pagination.bulletSize=u.eq(0)[e.isHorizontal()?"outerWidth":"outerHeight"](!0),a.css(e.isHorizontal()?"width":"height","".concat(e.pagination.bulletSize*(n.dynamicMainBullets+4),"px")),1<n.dynamicMainBullets&&void 0!==e.previousIndex&&(e.pagination.dynamicBulletIndex+=r-e.previousIndex,e.pagination.dynamicBulletIndex>n.dynamicMainBullets-1?e.pagination.dynamicBulletIndex=n.dynamicMainBullets-1:e.pagination.dynamicBulletIndex<0&&(e.pagination.dynamicBulletIndex=0)),s=r-e.pagination.dynamicBulletIndex,c=((l=s+(Math.min(u.length,n.dynamicMainBullets)-1))+s)/2),u.removeClass("".concat(n.bulletActiveClass," ").concat(n.bulletActiveClass,"-next ").concat(n.bulletActiveClass,"-next-next ").concat(n.bulletActiveClass,"-prev ").concat(n.bulletActiveClass,"-prev-prev ").concat(n.bulletActiveClass,"-main")),1<a.length)u.each(function(e,t){var i=so(t),a=i.index();a===r&&i.addClass(n.bulletActiveClass),n.dynamicBullets&&(s<=a&&a<=l&&i.addClass("".concat(n.bulletActiveClass,"-main")),a===s&&i.prev().addClass("".concat(n.bulletActiveClass,"-prev")).prev().addClass("".concat(n.bulletActiveClass,"-prev-prev")),a===l&&i.next().addClass("".concat(n.bulletActiveClass,"-next")).next().addClass("".concat(n.bulletActiveClass,"-next-next")))});else if(u.eq(r).addClass(n.bulletActiveClass),n.dynamicBullets){for(var h=u.eq(s),d=u.eq(l),p=s;p<=l;p+=1)u.eq(p).addClass("".concat(n.bulletActiveClass,"-main"));h.prev().addClass("".concat(n.bulletActiveClass,"-prev")).prev().addClass("".concat(n.bulletActiveClass,"-prev-prev")),d.next().addClass("".concat(n.bulletActiveClass,"-next")).next().addClass("".concat(n.bulletActiveClass,"-next-next"))}if(n.dynamicBullets){var f=Math.min(u.length,n.dynamicMainBullets+4),m=(e.pagination.bulletSize*f-e.pagination.bulletSize)/2-c*e.pagination.bulletSize,v=t?"right":"left";u.css(e.isHorizontal()?v:"top","".concat(m,"px"))}}if("fraction"===n.type&&(a.find(".".concat(n.currentClass)).text(n.formatFractionCurrent(r+1)),a.find(".".concat(n.totalClass)).text(n.formatFractionTotal(o))),"progressbar"===n.type){var g;g=n.progressbarOpposite?e.isHorizontal()?"vertical":"horizontal":e.isHorizontal()?"horizontal":"vertical";var y=(r+1)/o,b=1,w=1;"horizontal"===g?b=y:w=y,a.find(".".concat(n.progressbarFillClass)).transform("translate3d(0,0,0) scaleX(".concat(b,") scaleY(").concat(w,")")).transition(e.params.speed)}"custom"===n.type&&n.renderCustom?(a.html(n.renderCustom(e,r+1,o)),e.emit("paginationRender",e,a[0])):e.emit("paginationUpdate",e,a[0]),a[e.params.watchOverflow&&e.isLocked?"addClass":"removeClass"](n.lockClass)}},render:function(){var e=this,t=e.params.pagination;if(t.el&&e.pagination.el&&e.pagination.$el&&0!==e.pagination.$el.length){var n=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,r=e.pagination.$el,i="";if("bullets"===t.type){for(var a=e.params.loop?Math.ceil((n-2*e.loopedSlides)/e.params.slidesPerGroup):e.snapGrid.length,o=0;o<a;o+=1)t.renderBullet?i+=t.renderBullet.call(e,o,t.bulletClass):i+="<".concat(t.bulletElement,' class="').concat(t.bulletClass,'"></').concat(t.bulletElement,">");r.html(i),e.pagination.bullets=r.find(".".concat(t.bulletClass))}"fraction"===t.type&&(i=t.renderFraction?t.renderFraction.call(e,t.currentClass,t.totalClass):'<span class="'.concat(t.currentClass,'"></span>')+" / "+'<span class="'.concat(t.totalClass,'"></span>'),r.html(i)),"progressbar"===t.type&&(i=t.renderProgressbar?t.renderProgressbar.call(e,t.progressbarFillClass):'<span class="'.concat(t.progressbarFillClass,'"></span>'),r.html(i)),"custom"!==t.type&&e.emit("paginationRender",e.pagination.$el[0])}},init:function(){var e=this,t=e.params.pagination;if(t.el){var n=so(t.el);0!==n.length&&(e.params.uniqueNavElements&&"string"==typeof t.el&&1<n.length&&1===e.$el.find(t.el).length&&(n=e.$el.find(t.el)),"bullets"===t.type&&t.clickable&&n.addClass(t.clickableClass),n.addClass(t.modifierClass+t.type),"bullets"===t.type&&t.dynamicBullets&&(n.addClass("".concat(t.modifierClass).concat(t.type,"-dynamic")),e.pagination.dynamicBulletIndex=0,t.dynamicMainBullets<1&&(t.dynamicMainBullets=1)),"progressbar"===t.type&&t.progressbarOpposite&&n.addClass(t.progressbarOppositeClass),t.clickable&&n.on("click",".".concat(t.bulletClass),function(t){t.preventDefault();var n=so(this).index()*e.params.slidesPerGroup;e.params.loop&&(n+=e.loopedSlides),e.slideTo(n)}),lo.extend(e.pagination,{$el:n,el:n[0]}))}},destroy:function(){var e=this.params.pagination;if(e.el&&this.pagination.el&&this.pagination.$el&&0!==this.pagination.$el.length){var t=this.pagination.$el;t.removeClass(e.hiddenClass),t.removeClass(e.modifierClass+e.type),this.pagination.bullets&&this.pagination.bullets.removeClass(e.bulletActiveClass),e.clickable&&t.off("click",".".concat(e.bulletClass))}}},Vo={name:"pagination",params:{pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:function(e){return e},formatFractionTotal:function(e){return e},bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",modifierClass:"swiper-pagination-",currentClass:"swiper-pagination-current",totalClass:"swiper-pagination-total",hiddenClass:"swiper-pagination-hidden",progressbarFillClass:"swiper-pagination-progressbar-fill",progressbarOppositeClass:"swiper-pagination-progressbar-opposite",clickableClass:"swiper-pagination-clickable",lockClass:"swiper-pagination-lock"}},create:function(){lo.extend(this,{pagination:{init:$o.init.bind(this),render:$o.render.bind(this),update:$o.update.bind(this),destroy:$o.destroy.bind(this),dynamicBulletIndex:0}})},on:{init:function(){this.pagination.init(),this.pagination.render(),this.pagination.update()},activeIndexChange:function(){this.params.loop?this.pagination.update():void 0===this.snapIndex&&this.pagination.update()},snapIndexChange:function(){this.params.loop||this.pagination.update()},slidesLengthChange:function(){this.params.loop&&(this.pagination.render(),this.pagination.update())},snapGridLengthChange:function(){this.params.loop||(this.pagination.render(),this.pagination.update())},destroy:function(){this.pagination.destroy()},click:function(e){var t=this;t.params.pagination.el&&t.params.pagination.hideOnClick&&0<t.pagination.$el.length&&!so(e.target).hasClass(t.params.pagination.bulletClass)&&(!0===t.pagination.$el.hasClass(t.params.pagination.hiddenClass)?t.emit("paginationShow",t):t.emit("paginationHide",t),t.pagination.$el.toggleClass(t.params.pagination.hiddenClass))}}},qo={setTranslate:function(){if(this.params.scrollbar.el&&this.scrollbar.el){var e=this.scrollbar,t=this.rtlTranslate,n=this.progress,r=e.dragSize,i=e.trackSize,a=e.$dragEl,o=e.$el,s=this.params.scrollbar,l=r,c=(i-r)*n;t?0<(c=-c)?(l=r-c,c=0):i<-c+r&&(l=i+c):c<0?(l=r+c,c=0):i<c+r&&(l=i-c),this.isHorizontal()?(co.transforms3d?a.transform("translate3d(".concat(c,"px, 0, 0)")):a.transform("translateX(".concat(c,"px)")),a[0].style.width="".concat(l,"px")):(co.transforms3d?a.transform("translate3d(0px, ".concat(c,"px, 0)")):a.transform("translateY(".concat(c,"px)")),a[0].style.height="".concat(l,"px")),s.hide&&(clearTimeout(this.scrollbar.timeout),o[0].style.opacity=1,this.scrollbar.timeout=setTimeout(function(){o[0].style.opacity=0,o.transition(400)},1e3))}},setTransition:function(e){this.params.scrollbar.el&&this.scrollbar.el&&this.scrollbar.$dragEl.transition(e)},updateSize:function(){var e=this;if(e.params.scrollbar.el&&e.scrollbar.el){var t=e.scrollbar,n=t.$dragEl,r=t.$el;n[0].style.width="",n[0].style.height="";var i,a=e.isHorizontal()?r[0].offsetWidth:r[0].offsetHeight,o=e.size/e.virtualSize,s=o*(a/e.size);i="auto"===e.params.scrollbar.dragSize?a*o:parseInt(e.params.scrollbar.dragSize,10),e.isHorizontal()?n[0].style.width="".concat(i,"px"):n[0].style.height="".concat(i,"px"),r[0].style.display=1<=o?"none":"",e.params.scrollbar.hide&&(r[0].style.opacity=0),lo.extend(t,{trackSize:a,divider:o,moveDivider:s,dragSize:i}),t.$el[e.params.watchOverflow&&e.isLocked?"addClass":"removeClass"](e.params.scrollbar.lockClass)}},setDragPosition:function(e){var t,n=this,r=n.scrollbar,i=n.rtlTranslate,a=r.$el,o=r.dragSize,s=r.trackSize;t=((n.isHorizontal()?"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].pageX:e.pageX||e.clientX:"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].pageY:e.pageY||e.clientY)-a.offset()[n.isHorizontal()?"left":"top"]-o/2)/(s-o),t=Math.max(Math.min(t,1),0),i&&(t=1-t);var l=n.minTranslate()+(n.maxTranslate()-n.minTranslate())*t;n.updateProgress(l),n.setTranslate(l),n.updateActiveIndex(),n.updateSlidesClasses()},onDragStart:function(e){var t=this.params.scrollbar,n=this.scrollbar,r=this.$wrapperEl,i=n.$el,a=n.$dragEl;this.scrollbar.isTouched=!0,e.preventDefault(),e.stopPropagation(),r.transition(100),a.transition(100),n.setDragPosition(e),clearTimeout(this.scrollbar.dragTimeout),i.transition(0),t.hide&&i.css("opacity",1),this.emit("scrollbarDragStart",e)},onDragMove:function(e){var t=this.scrollbar,n=this.$wrapperEl,r=t.$el,i=t.$dragEl;this.scrollbar.isTouched&&(e.preventDefault?e.preventDefault():e.returnValue=!1,t.setDragPosition(e),n.transition(0),r.transition(0),i.transition(0),this.emit("scrollbarDragMove",e))},onDragEnd:function(e){var t=this.params.scrollbar,n=this.scrollbar.$el;this.scrollbar.isTouched&&(this.scrollbar.isTouched=!1,t.hide&&(clearTimeout(this.scrollbar.dragTimeout),this.scrollbar.dragTimeout=lo.nextTick(function(){n.css("opacity",0),n.transition(400)},1e3)),this.emit("scrollbarDragEnd",e),t.snapOnRelease&&this.slideToClosest())},enableDraggable:function(){var e=this;if(e.params.scrollbar.el){var t=e.scrollbar,n=e.touchEventsTouch,i=e.touchEventsDesktop,a=e.params,o=t.$el[0],s=!(!co.passiveListener||!a.passiveListeners)&&{passive:!1,capture:!1},l=!(!co.passiveListener||!a.passiveListeners)&&{passive:!0,capture:!1};co.touch?(o.addEventListener(n.start,e.scrollbar.onDragStart,s),o.addEventListener(n.move,e.scrollbar.onDragMove,s),o.addEventListener(n.end,e.scrollbar.onDragEnd,l)):(o.addEventListener(i.start,e.scrollbar.onDragStart,s),r.addEventListener(i.move,e.scrollbar.onDragMove,s),r.addEventListener(i.end,e.scrollbar.onDragEnd,l))}},disableDraggable:function(){var e=this;if(e.params.scrollbar.el){var t=e.scrollbar,n=e.touchEventsTouch,i=e.touchEventsDesktop,a=e.params,o=t.$el[0],s=!(!co.passiveListener||!a.passiveListeners)&&{passive:!1,capture:!1},l=!(!co.passiveListener||!a.passiveListeners)&&{passive:!0,capture:!1};co.touch?(o.removeEventListener(n.start,e.scrollbar.onDragStart,s),o.removeEventListener(n.move,e.scrollbar.onDragMove,s),o.removeEventListener(n.end,e.scrollbar.onDragEnd,l)):(o.removeEventListener(i.start,e.scrollbar.onDragStart,s),r.removeEventListener(i.move,e.scrollbar.onDragMove,s),r.removeEventListener(i.end,e.scrollbar.onDragEnd,l))}},init:function(){if(this.params.scrollbar.el){var e=this.scrollbar,t=this.$el,n=this.params.scrollbar,r=so(n.el);this.params.uniqueNavElements&&"string"==typeof n.el&&1<r.length&&1===t.find(n.el).length&&(r=t.find(n.el));var i=r.find(".".concat(this.params.scrollbar.dragClass));0===i.length&&(i=so('<div class="'.concat(this.params.scrollbar.dragClass,'"></div>')),r.append(i)),lo.extend(e,{$el:r,el:r[0],$dragEl:i,dragEl:i[0]}),n.draggable&&e.enableDraggable()}},destroy:function(){this.scrollbar.disableDraggable()}},Uo={name:"scrollbar",params:{scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag"}},create:function(){var e=this;lo.extend(e,{scrollbar:{init:qo.init.bind(e),destroy:qo.destroy.bind(e),updateSize:qo.updateSize.bind(e),setTranslate:qo.setTranslate.bind(e),setTransition:qo.setTransition.bind(e),enableDraggable:qo.enableDraggable.bind(e),disableDraggable:qo.disableDraggable.bind(e),setDragPosition:qo.setDragPosition.bind(e),onDragStart:qo.onDragStart.bind(e),onDragMove:qo.onDragMove.bind(e),onDragEnd:qo.onDragEnd.bind(e),isTouched:!1,timeout:null,dragTimeout:null}})},on:{init:function(){this.scrollbar.init(),this.scrollbar.updateSize(),this.scrollbar.setTranslate()},update:function(){this.scrollbar.updateSize()},resize:function(){this.scrollbar.updateSize()},observerUpdate:function(){this.scrollbar.updateSize()},setTranslate:function(){this.scrollbar.setTranslate()},setTransition:function(e){this.scrollbar.setTransition(e)},destroy:function(){this.scrollbar.destroy()}}},Ho={setTransform:function(e,t){var n=this.rtl,r=so(e),i=n?-1:1,a=r.attr("data-swiper-parallax")||"0",o=r.attr("data-swiper-parallax-x"),s=r.attr("data-swiper-parallax-y"),l=r.attr("data-swiper-parallax-scale"),c=r.attr("data-swiper-parallax-opacity");if(o||s?(o=o||"0",s=s||"0"):this.isHorizontal()?(o=a,s="0"):(s=a,o="0"),o=0<=o.indexOf("%")?"".concat(parseInt(o,10)*t*i,"%"):"".concat(o*t*i,"px"),s=0<=s.indexOf("%")?"".concat(parseInt(s,10)*t,"%"):"".concat(s*t,"px"),null!=c){var u=c-(c-1)*(1-Math.abs(t));r[0].style.opacity=u}if(null==l)r.transform("translate3d(".concat(o,", ").concat(s,", 0px)"));else{var h=l-(l-1)*(1-Math.abs(t));r.transform("translate3d(".concat(o,", ").concat(s,", 0px) scale(").concat(h,")"))}},setTranslate:function(){var e=this,t=e.$el,n=e.slides,r=e.progress,i=e.snapGrid;t.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(t,n){e.parallax.setTransform(n,r)}),n.each(function(t,n){var a=n.progress;1<e.params.slidesPerGroup&&"auto"!==e.params.slidesPerView&&(a+=Math.ceil(t/2)-r*(i.length-1)),a=Math.min(Math.max(a,-1),1),so(n).find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(t,n){e.parallax.setTransform(n,a)})})},setTransition:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.params.speed;this.$el.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(t,n){var r=so(n),i=parseInt(r.attr("data-swiper-parallax-duration"),10)||e;0===e&&(i=0),r.transition(i)})}},zo={name:"parallax",params:{parallax:{enabled:!1}},create:function(){lo.extend(this,{parallax:{setTransform:Ho.setTransform.bind(this),setTranslate:Ho.setTranslate.bind(this),setTransition:Ho.setTransition.bind(this)}})},on:{beforeInit:function(){this.params.parallax.enabled&&(this.params.watchSlidesProgress=!0,this.originalParams.watchSlidesProgress=!0)},init:function(){this.params.parallax.enabled&&this.parallax.setTranslate()},setTranslate:function(){this.params.parallax.enabled&&this.parallax.setTranslate()},setTransition:function(e){this.params.parallax.enabled&&this.parallax.setTransition(e)}}},Wo={getDistanceBetweenTouches:function(e){if(e.targetTouches.length<2)return 1;var t=e.targetTouches[0].pageX,n=e.targetTouches[0].pageY,r=e.targetTouches[1].pageX,i=e.targetTouches[1].pageY;return Math.sqrt(Math.pow(r-t,2)+Math.pow(i-n,2))},onGestureStart:function(e){var t=this.params.zoom,n=this.zoom,r=n.gesture;if(n.fakeGestureTouched=!1,n.fakeGestureMoved=!1,!co.gestures){if("touchstart"!==e.type||"touchstart"===e.type&&e.targetTouches.length<2)return;n.fakeGestureTouched=!0,r.scaleStart=Wo.getDistanceBetweenTouches(e)}r.$slideEl&&r.$slideEl.length||(r.$slideEl=so(e.target).closest(".swiper-slide"),0===r.$slideEl.length&&(r.$slideEl=this.slides.eq(this.activeIndex)),r.$imageEl=r.$slideEl.find("img, svg, canvas"),r.$imageWrapEl=r.$imageEl.parent(".".concat(t.containerClass)),r.maxRatio=r.$imageWrapEl.attr("data-swiper-zoom")||t.maxRatio,0!==r.$imageWrapEl.length)?(r.$imageEl.transition(0),this.zoom.isScaling=!0):r.$imageEl=void 0},onGestureChange:function(e){var t=this.params.zoom,n=this.zoom,r=n.gesture;if(!co.gestures){if("touchmove"!==e.type||"touchmove"===e.type&&e.targetTouches.length<2)return;n.fakeGestureMoved=!0,r.scaleMove=Wo.getDistanceBetweenTouches(e)}r.$imageEl&&0!==r.$imageEl.length&&(n.scale=co.gestures?e.scale*n.currentScale:r.scaleMove/r.scaleStart*n.currentScale,n.scale>r.maxRatio&&(n.scale=r.maxRatio-1+Math.pow(n.scale-r.maxRatio+1,.5)),n.scale<t.minRatio&&(n.scale=t.minRatio+1-Math.pow(t.minRatio-n.scale+1,.5)),r.$imageEl.transform("translate3d(0,0,0) scale(".concat(n.scale,")")))},onGestureEnd:function(e){var t=this.params.zoom,n=this.zoom,r=n.gesture;if(!co.gestures){if(!n.fakeGestureTouched||!n.fakeGestureMoved)return;if("touchend"!==e.type||"touchend"===e.type&&e.changedTouches.length<2&&!go.android)return;n.fakeGestureTouched=!1,n.fakeGestureMoved=!1}r.$imageEl&&0!==r.$imageEl.length&&(n.scale=Math.max(Math.min(n.scale,r.maxRatio),t.minRatio),r.$imageEl.transition(this.params.speed).transform("translate3d(0,0,0) scale(".concat(n.scale,")")),n.currentScale=n.scale,n.isScaling=!1,1===n.scale&&(r.$slideEl=void 0))},onTouchStart:function(e){var t=this.zoom,n=t.gesture,r=t.image;n.$imageEl&&0!==n.$imageEl.length&&(r.isTouched||(go.android&&e.preventDefault(),r.isTouched=!0,r.touchesStart.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,r.touchesStart.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY))},onTouchMove:function(e){var t=this.zoom,n=t.gesture,r=t.image,i=t.velocity;if(n.$imageEl&&0!==n.$imageEl.length&&(this.allowClick=!1,r.isTouched&&n.$slideEl)){r.isMoved||(r.width=n.$imageEl[0].offsetWidth,r.height=n.$imageEl[0].offsetHeight,r.startX=lo.getTranslate(n.$imageWrapEl[0],"x")||0,r.startY=lo.getTranslate(n.$imageWrapEl[0],"y")||0,n.slideWidth=n.$slideEl[0].offsetWidth,n.slideHeight=n.$slideEl[0].offsetHeight,n.$imageWrapEl.transition(0),this.rtl&&(r.startX=-r.startX,r.startY=-r.startY));var a=r.width*t.scale,o=r.height*t.scale;if(!(a<n.slideWidth&&o<n.slideHeight)){if(r.minX=Math.min(n.slideWidth/2-a/2,0),r.maxX=-r.minX,r.minY=Math.min(n.slideHeight/2-o/2,0),r.maxY=-r.minY,r.touchesCurrent.x="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,r.touchesCurrent.y="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,!r.isMoved&&!t.isScaling){if(this.isHorizontal()&&(Math.floor(r.minX)===Math.floor(r.startX)&&r.touchesCurrent.x<r.touchesStart.x||Math.floor(r.maxX)===Math.floor(r.startX)&&r.touchesCurrent.x>r.touchesStart.x))return void(r.isTouched=!1);if(!this.isHorizontal()&&(Math.floor(r.minY)===Math.floor(r.startY)&&r.touchesCurrent.y<r.touchesStart.y||Math.floor(r.maxY)===Math.floor(r.startY)&&r.touchesCurrent.y>r.touchesStart.y))return void(r.isTouched=!1)}e.preventDefault(),e.stopPropagation(),r.isMoved=!0,r.currentX=r.touchesCurrent.x-r.touchesStart.x+r.startX,r.currentY=r.touchesCurrent.y-r.touchesStart.y+r.startY,r.currentX<r.minX&&(r.currentX=r.minX+1-Math.pow(r.minX-r.currentX+1,.8)),r.currentX>r.maxX&&(r.currentX=r.maxX-1+Math.pow(r.currentX-r.maxX+1,.8)),r.currentY<r.minY&&(r.currentY=r.minY+1-Math.pow(r.minY-r.currentY+1,.8)),r.currentY>r.maxY&&(r.currentY=r.maxY-1+Math.pow(r.currentY-r.maxY+1,.8)),i.prevPositionX||(i.prevPositionX=r.touchesCurrent.x),i.prevPositionY||(i.prevPositionY=r.touchesCurrent.y),i.prevTime||(i.prevTime=Date.now()),i.x=(r.touchesCurrent.x-i.prevPositionX)/(Date.now()-i.prevTime)/2,i.y=(r.touchesCurrent.y-i.prevPositionY)/(Date.now()-i.prevTime)/2,Math.abs(r.touchesCurrent.x-i.prevPositionX)<2&&(i.x=0),Math.abs(r.touchesCurrent.y-i.prevPositionY)<2&&(i.y=0),i.prevPositionX=r.touchesCurrent.x,i.prevPositionY=r.touchesCurrent.y,i.prevTime=Date.now(),n.$imageWrapEl.transform("translate3d(".concat(r.currentX,"px, ").concat(r.currentY,"px,0)"))}}},onTouchEnd:function(){var e=this.zoom,t=e.gesture,n=e.image,r=e.velocity;if(t.$imageEl&&0!==t.$imageEl.length){if(!n.isTouched||!n.isMoved)return n.isTouched=!1,void(n.isMoved=!1);n.isTouched=!1,n.isMoved=!1;var i=300,a=300,o=r.x*i,s=n.currentX+o,l=r.y*a,c=n.currentY+l;0!==r.x&&(i=Math.abs((s-n.currentX)/r.x)),0!==r.y&&(a=Math.abs((c-n.currentY)/r.y));var u=Math.max(i,a);n.currentX=s,n.currentY=c;var h=n.width*e.scale,d=n.height*e.scale;n.minX=Math.min(t.slideWidth/2-h/2,0),n.maxX=-n.minX,n.minY=Math.min(t.slideHeight/2-d/2,0),n.maxY=-n.minY,n.currentX=Math.max(Math.min(n.currentX,n.maxX),n.minX),n.currentY=Math.max(Math.min(n.currentY,n.maxY),n.minY),t.$imageWrapEl.transition(u).transform("translate3d(".concat(n.currentX,"px, ").concat(n.currentY,"px,0)"))}},onTransitionEnd:function(){var e=this.zoom,t=e.gesture;t.$slideEl&&this.previousIndex!==this.activeIndex&&(t.$imageEl.transform("translate3d(0,0,0) scale(1)"),t.$imageWrapEl.transform("translate3d(0,0,0)"),e.scale=1,e.currentScale=1,t.$slideEl=void 0,t.$imageEl=void 0,t.$imageWrapEl=void 0)},toggle:function(e){var t=this.zoom;t.scale&&1!==t.scale?t.out():t.in(e)},in:function(e){var t,n,r,i,a,o,s,l,c,u,h,d,p,f,m,v,g=this.zoom,y=this.params.zoom,b=g.gesture,w=g.image;b.$slideEl||(b.$slideEl=this.clickedSlide?so(this.clickedSlide):this.slides.eq(this.activeIndex),b.$imageEl=b.$slideEl.find("img, svg, canvas"),b.$imageWrapEl=b.$imageEl.parent(".".concat(y.containerClass))),b.$imageEl&&0!==b.$imageEl.length&&(b.$slideEl.addClass("".concat(y.zoomedSlideClass)),n=void 0===w.touchesStart.x&&e?(t="touchend"===e.type?e.changedTouches[0].pageX:e.pageX,"touchend"===e.type?e.changedTouches[0].pageY:e.pageY):(t=w.touchesStart.x,w.touchesStart.y),g.scale=b.$imageWrapEl.attr("data-swiper-zoom")||y.maxRatio,g.currentScale=b.$imageWrapEl.attr("data-swiper-zoom")||y.maxRatio,e?(m=b.$slideEl[0].offsetWidth,v=b.$slideEl[0].offsetHeight,r=b.$slideEl.offset().left+m/2-t,i=b.$slideEl.offset().top+v/2-n,s=b.$imageEl[0].offsetWidth,l=b.$imageEl[0].offsetHeight,c=s*g.scale,u=l*g.scale,p=-(h=Math.min(m/2-c/2,0)),f=-(d=Math.min(v/2-u/2,0)),(a=r*g.scale)<h&&(a=h),p<a&&(a=p),(o=i*g.scale)<d&&(o=d),f<o&&(o=f)):o=a=0,b.$imageWrapEl.transition(300).transform("translate3d(".concat(a,"px, ").concat(o,"px,0)")),b.$imageEl.transition(300).transform("translate3d(0,0,0) scale(".concat(g.scale,")")))},out:function(){var e=this.zoom,t=this.params.zoom,n=e.gesture;n.$slideEl||(n.$slideEl=this.clickedSlide?so(this.clickedSlide):this.slides.eq(this.activeIndex),n.$imageEl=n.$slideEl.find("img, svg, canvas"),n.$imageWrapEl=n.$imageEl.parent(".".concat(t.containerClass))),n.$imageEl&&0!==n.$imageEl.length&&(e.scale=1,e.currentScale=1,n.$imageWrapEl.transition(300).transform("translate3d(0,0,0)"),n.$imageEl.transition(300).transform("translate3d(0,0,0) scale(1)"),n.$slideEl.removeClass("".concat(t.zoomedSlideClass)),n.$slideEl=void 0)},enable:function(){var e=this,t=e.zoom;if(!t.enabled){t.enabled=!0;var n=!("touchstart"!==e.touchEvents.start||!co.passiveListener||!e.params.passiveListeners)&&{passive:!0,capture:!1};co.gestures?(e.$wrapperEl.on("gesturestart",".swiper-slide",t.onGestureStart,n),e.$wrapperEl.on("gesturechange",".swiper-slide",t.onGestureChange,n),e.$wrapperEl.on("gestureend",".swiper-slide",t.onGestureEnd,n)):"touchstart"===e.touchEvents.start&&(e.$wrapperEl.on(e.touchEvents.start,".swiper-slide",t.onGestureStart,n),e.$wrapperEl.on(e.touchEvents.move,".swiper-slide",t.onGestureChange,n),e.$wrapperEl.on(e.touchEvents.end,".swiper-slide",t.onGestureEnd,n)),e.$wrapperEl.on(e.touchEvents.move,".".concat(e.params.zoom.containerClass),t.onTouchMove)}},disable:function(){var e=this,t=e.zoom;if(t.enabled){e.zoom.enabled=!1;var n=!("touchstart"!==e.touchEvents.start||!co.passiveListener||!e.params.passiveListeners)&&{passive:!0,capture:!1};co.gestures?(e.$wrapperEl.off("gesturestart",".swiper-slide",t.onGestureStart,n),e.$wrapperEl.off("gesturechange",".swiper-slide",t.onGestureChange,n),e.$wrapperEl.off("gestureend",".swiper-slide",t.onGestureEnd,n)):"touchstart"===e.touchEvents.start&&(e.$wrapperEl.off(e.touchEvents.start,".swiper-slide",t.onGestureStart,n),e.$wrapperEl.off(e.touchEvents.move,".swiper-slide",t.onGestureChange,n),e.$wrapperEl.off(e.touchEvents.end,".swiper-slide",t.onGestureEnd,n)),e.$wrapperEl.off(e.touchEvents.move,".".concat(e.params.zoom.containerClass),t.onTouchMove)}}},Ko={name:"zoom",params:{zoom:{enabled:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}},create:function(){var e=this,t={enabled:!1,scale:1,currentScale:1,isScaling:!1,gesture:{$slideEl:void 0,slideWidth:void 0,slideHeight:void 0,$imageEl:void 0,$imageWrapEl:void 0,maxRatio:3},image:{isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},velocity:{x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0}};"onGestureStart onGestureChange onGestureEnd onTouchStart onTouchMove onTouchEnd onTransitionEnd toggle enable disable in out".split(" ").forEach(function(n){t[n]=Wo[n].bind(e)}),lo.extend(e,{zoom:t});var n=1;Object.defineProperty(e.zoom,"scale",{get:function(){return n},set:function(t){if(n!==t){var r=e.zoom.gesture.$imageEl?e.zoom.gesture.$imageEl[0]:void 0,i=e.zoom.gesture.$slideEl?e.zoom.gesture.$slideEl[0]:void 0;e.emit("zoomChange",t,r,i)}n=t}})},on:{init:function(){this.params.zoom.enabled&&this.zoom.enable()},destroy:function(){this.zoom.disable()},touchStart:function(e){this.zoom.enabled&&this.zoom.onTouchStart(e)},touchEnd:function(e){this.zoom.enabled&&this.zoom.onTouchEnd(e)},doubleTap:function(e){this.params.zoom.enabled&&this.zoom.enabled&&this.params.zoom.toggle&&this.zoom.toggle(e)},transitionEnd:function(){this.zoom.enabled&&this.params.zoom.enabled&&this.zoom.onTransitionEnd()}}},Go={loadInSlide:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=this,r=n.params.lazy;if(void 0!==e&&0!==n.slides.length){var i=n.virtual&&n.params.virtual.enabled?n.$wrapperEl.children(".".concat(n.params.slideClass,'[data-swiper-slide-index="').concat(e,'"]')):n.slides.eq(e),a=i.find(".".concat(r.elementClass,":not(.").concat(r.loadedClass,"):not(.").concat(r.loadingClass,")"));!i.hasClass(r.elementClass)||i.hasClass(r.loadedClass)||i.hasClass(r.loadingClass)||(a=a.add(i[0])),0!==a.length&&a.each(function(e,a){var o=so(a);o.addClass(r.loadingClass);var s=o.attr("data-background"),l=o.attr("data-src"),c=o.attr("data-srcset"),u=o.attr("data-sizes");n.loadImage(o[0],l||s,c,u,!1,function(){if(null!=n&&n&&(!n||n.params)&&!n.destroyed){if(s?(o.css("background-image",'url("'.concat(s,'")')),o.removeAttr("data-background")):(c&&(o.attr("srcset",c),o.removeAttr("data-srcset")),u&&(o.attr("sizes",u),o.removeAttr("data-sizes")),l&&(o.attr("src",l),o.removeAttr("data-src"))),o.addClass(r.loadedClass).removeClass(r.loadingClass),i.find(".".concat(r.preloaderClass)).remove(),n.params.loop&&t){var e=i.attr("data-swiper-slide-index");if(i.hasClass(n.params.slideDuplicateClass)){var a=n.$wrapperEl.children('[data-swiper-slide-index="'.concat(e,'"]:not(.').concat(n.params.slideDuplicateClass,")"));n.lazy.loadInSlide(a.index(),!1)}else{var h=n.$wrapperEl.children(".".concat(n.params.slideDuplicateClass,'[data-swiper-slide-index="').concat(e,'"]'));n.lazy.loadInSlide(h.index(),!1)}}n.emit("lazyImageReady",i[0],o[0])}}),n.emit("lazyImageLoad",i[0],o[0])})}},load:function(){var e=this,t=e.$wrapperEl,n=e.params,r=e.slides,i=e.activeIndex,a=e.virtual&&n.virtual.enabled,o=n.lazy,s=n.slidesPerView;function l(e){if(a){if(t.children(".".concat(n.slideClass,'[data-swiper-slide-index="').concat(e,'"]')).length)return!0}else if(r[e])return!0;return!1}function c(e){return a?so(e).attr("data-swiper-slide-index"):so(e).index()}if("auto"===s&&(s=0),e.lazy.initialImageLoaded||(e.lazy.initialImageLoaded=!0),e.params.watchSlidesVisibility)t.children(".".concat(n.slideVisibleClass)).each(function(t,n){var r=a?so(n).attr("data-swiper-slide-index"):so(n).index();e.lazy.loadInSlide(r)});else if(1<s)for(var u=i;u<i+s;u+=1)l(u)&&e.lazy.loadInSlide(u);else e.lazy.loadInSlide(i);if(o.loadPrevNext)if(1<s||o.loadPrevNextAmount&&1<o.loadPrevNextAmount){for(var h=o.loadPrevNextAmount,d=s,p=Math.min(i+d+Math.max(h,d),r.length),f=Math.max(i-Math.max(d,h),0),m=i+s;m<p;m+=1)l(m)&&e.lazy.loadInSlide(m);for(var v=f;v<i;v+=1)l(v)&&e.lazy.loadInSlide(v)}else{var g=t.children(".".concat(n.slideNextClass));0<g.length&&e.lazy.loadInSlide(c(g));var y=t.children(".".concat(n.slidePrevClass));0<y.length&&e.lazy.loadInSlide(c(y))}}},Qo={name:"lazy",params:{lazy:{enabled:!1,loadPrevNext:!1,loadPrevNextAmount:1,loadOnTransitionStart:!1,elementClass:"swiper-lazy",loadingClass:"swiper-lazy-loading",loadedClass:"swiper-lazy-loaded",preloaderClass:"swiper-lazy-preloader"}},create:function(){lo.extend(this,{lazy:{initialImageLoaded:!1,load:Go.load.bind(this),loadInSlide:Go.loadInSlide.bind(this)}})},on:{beforeInit:function(){this.params.lazy.enabled&&this.params.preloadImages&&(this.params.preloadImages=!1)},init:function(){this.params.lazy.enabled&&!this.params.loop&&0===this.params.initialSlide&&this.lazy.load()},scroll:function(){this.params.freeMode&&!this.params.freeModeSticky&&this.lazy.load()},resize:function(){this.params.lazy.enabled&&this.lazy.load()},scrollbarDragMove:function(){this.params.lazy.enabled&&this.lazy.load()},transitionStart:function(){this.params.lazy.enabled&&(this.params.lazy.loadOnTransitionStart||!this.params.lazy.loadOnTransitionStart&&!this.lazy.initialImageLoaded)&&this.lazy.load()},transitionEnd:function(){this.params.lazy.enabled&&!this.params.lazy.loadOnTransitionStart&&this.lazy.load()}}},Yo={LinearSpline:function(e,t){var n,r,i,a,o;return this.x=e,this.y=t,this.lastIndex=e.length-1,this.interpolate=function(e){return e?(o=function(e,t){for(r=-1,n=e.length;1<n-r;)e[i=n+r>>1]<=t?r=i:n=i;return n}(this.x,e),a=o-1,(e-this.x[a])*(this.y[o]-this.y[a])/(this.x[o]-this.x[a])+this.y[a]):0},this},getInterpolateFunction:function(e){this.controller.spline||(this.controller.spline=this.params.loop?new Yo.LinearSpline(this.slidesGrid,e.slidesGrid):new Yo.LinearSpline(this.snapGrid,e.snapGrid))},setTranslate:function(e,t){var n,r,i=this,a=i.controller.control;function o(e){var t=i.rtlTranslate?-i.translate:i.translate;"slide"===i.params.controller.by&&(i.controller.getInterpolateFunction(e),r=-i.controller.spline.interpolate(-t)),r&&"container"!==i.params.controller.by||(n=(e.maxTranslate()-e.minTranslate())/(i.maxTranslate()-i.minTranslate()),r=(t-i.minTranslate())*n+e.minTranslate()),i.params.controller.inverse&&(r=e.maxTranslate()-r),e.updateProgress(r),e.setTranslate(r,i),e.updateActiveIndex(),e.updateSlidesClasses()}if(Array.isArray(a))for(var s=0;s<a.length;s+=1)a[s]!==t&&a[s]instanceof Io&&o(a[s]);else a instanceof Io&&t!==a&&o(a)},setTransition:function(e,t){var n,r=this,i=r.controller.control;function a(t){t.setTransition(e,r),0!==e&&(t.transitionStart(),t.params.autoHeight&&lo.nextTick(function(){t.updateAutoHeight()}),t.$wrapperEl.transitionEnd(function(){i&&(t.params.loop&&"slide"===r.params.controller.by&&t.loopFix(),t.transitionEnd())}))}if(Array.isArray(i))for(n=0;n<i.length;n+=1)i[n]!==t&&i[n]instanceof Io&&a(i[n]);else i instanceof Io&&t!==i&&a(i)}},Xo={name:"controller",params:{controller:{control:void 0,inverse:!1,by:"slide"}},create:function(){lo.extend(this,{controller:{control:this.params.controller.control,getInterpolateFunction:Yo.getInterpolateFunction.bind(this),setTranslate:Yo.setTranslate.bind(this),setTransition:Yo.setTransition.bind(this)}})},on:{update:function(){this.controller.control&&this.controller.spline&&(this.controller.spline=void 0,delete this.controller.spline)},resize:function(){this.controller.control&&this.controller.spline&&(this.controller.spline=void 0,delete this.controller.spline)},observerUpdate:function(){this.controller.control&&this.controller.spline&&(this.controller.spline=void 0,delete this.controller.spline)},setTranslate:function(e,t){this.controller.control&&this.controller.setTranslate(e,t)},setTransition:function(e,t){this.controller.control&&this.controller.setTransition(e,t)}}},Jo={makeElFocusable:function(e){return e.attr("tabIndex","0"),e},addElRole:function(e,t){return e.attr("role",t),e},addElLabel:function(e,t){return e.attr("aria-label",t),e},disableEl:function(e){return e.attr("aria-disabled",!0),e},enableEl:function(e){return e.attr("aria-disabled",!1),e},onEnterKey:function(e){var t=this,n=t.params.a11y;if(13===e.keyCode){var r=so(e.target);t.navigation&&t.navigation.$nextEl&&r.is(t.navigation.$nextEl)&&(t.isEnd&&!t.params.loop||t.slideNext(),t.isEnd?t.a11y.notify(n.lastSlideMessage):t.a11y.notify(n.nextSlideMessage)),t.navigation&&t.navigation.$prevEl&&r.is(t.navigation.$prevEl)&&(t.isBeginning&&!t.params.loop||t.slidePrev(),t.isBeginning?t.a11y.notify(n.firstSlideMessage):t.a11y.notify(n.prevSlideMessage)),t.pagination&&r.is(".".concat(t.params.pagination.bulletClass))&&r[0].click()}},notify:function(e){var t=this.a11y.liveRegion;0!==t.length&&(t.html(""),t.html(e))},updateNavigation:function(){if(!this.params.loop){var e=this.navigation,t=e.$nextEl,n=e.$prevEl;n&&0<n.length&&(this.isBeginning?this.a11y.disableEl(n):this.a11y.enableEl(n)),t&&0<t.length&&(this.isEnd?this.a11y.disableEl(t):this.a11y.enableEl(t))}},updatePagination:function(){var e=this,t=e.params.a11y;e.pagination&&e.params.pagination.clickable&&e.pagination.bullets&&e.pagination.bullets.length&&e.pagination.bullets.each(function(n,r){var i=so(r);e.a11y.makeElFocusable(i),e.a11y.addElRole(i,"button"),e.a11y.addElLabel(i,t.paginationBulletMessage.replace(/{{index}}/,i.index()+1))})},init:function(){var e=this;e.$el.append(e.a11y.liveRegion);var t,n,r=e.params.a11y;e.navigation&&e.navigation.$nextEl&&(t=e.navigation.$nextEl),e.navigation&&e.navigation.$prevEl&&(n=e.navigation.$prevEl),t&&(e.a11y.makeElFocusable(t),e.a11y.addElRole(t,"button"),e.a11y.addElLabel(t,r.nextSlideMessage),t.on("keydown",e.a11y.onEnterKey)),n&&(e.a11y.makeElFocusable(n),e.a11y.addElRole(n,"button"),e.a11y.addElLabel(n,r.prevSlideMessage),n.on("keydown",e.a11y.onEnterKey)),e.pagination&&e.params.pagination.clickable&&e.pagination.bullets&&e.pagination.bullets.length&&e.pagination.$el.on("keydown",".".concat(e.params.pagination.bulletClass),e.a11y.onEnterKey)},destroy:function(){var e,t,n=this;n.a11y.liveRegion&&0<n.a11y.liveRegion.length&&n.a11y.liveRegion.remove(),n.navigation&&n.navigation.$nextEl&&(e=n.navigation.$nextEl),n.navigation&&n.navigation.$prevEl&&(t=n.navigation.$prevEl),e&&e.off("keydown",n.a11y.onEnterKey),t&&t.off("keydown",n.a11y.onEnterKey),n.pagination&&n.params.pagination.clickable&&n.pagination.bullets&&n.pagination.bullets.length&&n.pagination.$el.off("keydown",".".concat(n.params.pagination.bulletClass),n.a11y.onEnterKey)}},Zo={name:"a11y",params:{a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}"}},create:function(){var e=this;lo.extend(e,{a11y:{liveRegion:so('<span class="'.concat(e.params.a11y.notificationClass,'" aria-live="assertive" aria-atomic="true"></span>'))}}),Object.keys(Jo).forEach(function(t){e.a11y[t]=Jo[t].bind(e)})},on:{init:function(){this.params.a11y.enabled&&(this.a11y.init(),this.a11y.updateNavigation())},toEdge:function(){this.params.a11y.enabled&&this.a11y.updateNavigation()},fromEdge:function(){this.params.a11y.enabled&&this.a11y.updateNavigation()},paginationUpdate:function(){this.params.a11y.enabled&&this.a11y.updatePagination()},destroy:function(){this.params.a11y.enabled&&this.a11y.destroy()}}},es={run:function(){var e=this,t=e.slides.eq(e.activeIndex),n=e.params.autoplay.delay;t.attr("data-swiper-autoplay")&&(n=t.attr("data-swiper-autoplay")||e.params.autoplay.delay),e.autoplay.timeout=lo.nextTick(function(){e.params.autoplay.reverseDirection?e.params.loop?(e.loopFix(),e.slidePrev(e.params.speed,!0,!0),e.emit("autoplay")):e.isBeginning?e.params.autoplay.stopOnLastSlide?e.autoplay.stop():(e.slideTo(e.slides.length-1,e.params.speed,!0,!0),e.emit("autoplay")):(e.slidePrev(e.params.speed,!0,!0),e.emit("autoplay")):e.params.loop?(e.loopFix(),e.slideNext(e.params.speed,!0,!0),e.emit("autoplay")):e.isEnd?e.params.autoplay.stopOnLastSlide?e.autoplay.stop():(e.slideTo(0,e.params.speed,!0,!0),e.emit("autoplay")):(e.slideNext(e.params.speed,!0,!0),e.emit("autoplay"))},n)},start:function(){return void 0===this.autoplay.timeout&&!this.autoplay.running&&(this.autoplay.running=!0,this.emit("autoplayStart"),this.autoplay.run(),!0)},stop:function(){return!!this.autoplay.running&&void 0!==this.autoplay.timeout&&(this.autoplay.timeout&&(clearTimeout(this.autoplay.timeout),this.autoplay.timeout=void 0),this.autoplay.running=!1,this.emit("autoplayStop"),!0)},pause:function(e){var t=this;t.autoplay.running&&(t.autoplay.paused||(t.autoplay.timeout&&clearTimeout(t.autoplay.timeout),t.autoplay.paused=!0,0!==e&&t.params.autoplay.waitForTransition?(t.$wrapperEl[0].addEventListener("transitionend",t.autoplay.onTransitionEnd),t.$wrapperEl[0].addEventListener("webkitTransitionEnd",t.autoplay.onTransitionEnd)):(t.autoplay.paused=!1,t.autoplay.run())))}},ts={name:"autoplay",params:{autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1}},create:function(){var e=this;lo.extend(e,{autoplay:{running:!1,paused:!1,run:es.run.bind(e),start:es.start.bind(e),stop:es.stop.bind(e),pause:es.pause.bind(e),onTransitionEnd:function(t){e&&!e.destroyed&&e.$wrapperEl&&t.target===this&&(e.$wrapperEl[0].removeEventListener("transitionend",e.autoplay.onTransitionEnd),e.$wrapperEl[0].removeEventListener("webkitTransitionEnd",e.autoplay.onTransitionEnd),e.autoplay.paused=!1,e.autoplay.running?e.autoplay.run():e.autoplay.stop())}}})},on:{init:function(){this.params.autoplay.enabled&&this.autoplay.start()},beforeTransitionStart:function(e,t){this.autoplay.running&&(t||!this.params.autoplay.disableOnInteraction?this.autoplay.pause(e):this.autoplay.stop())},sliderFirstMove:function(){this.autoplay.running&&(this.params.autoplay.disableOnInteraction?this.autoplay.stop():this.autoplay.pause())},destroy:function(){this.autoplay.running&&this.autoplay.stop()}}},ns={setTranslate:function(){for(var e=this.slides,t=0;t<e.length;t+=1){var n=this.slides.eq(t),r=-n[0].swiperSlideOffset;this.params.virtualTranslate||(r-=this.translate);var i=0;this.isHorizontal()||(i=r,r=0);var a=this.params.fadeEffect.crossFade?Math.max(1-Math.abs(n[0].progress),0):1+Math.min(Math.max(n[0].progress,-1),0);n.css({opacity:a}).transform("translate3d(".concat(r,"px, ").concat(i,"px, 0px)"))}},setTransition:function(e){var t=this,n=t.slides,r=t.$wrapperEl;if(n.transition(e),t.params.virtualTranslate&&0!==e){var i=!1;n.transitionEnd(function(){if(!i&&t&&!t.destroyed){i=!0,t.animating=!1;for(var e=["webkitTransitionEnd","transitionend"],n=0;n<e.length;n+=1)r.trigger(e[n])}})}}},rs={name:"effect-fade",params:{fadeEffect:{crossFade:!1}},create:function(){lo.extend(this,{fadeEffect:{setTranslate:ns.setTranslate.bind(this),setTransition:ns.setTransition.bind(this)}})},on:{beforeInit:function(){if("fade"===this.params.effect){this.classNames.push("".concat(this.params.containerModifierClass,"fade"));var e={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!0};lo.extend(this.params,e),lo.extend(this.originalParams,e)}},setTranslate:function(){"fade"===this.params.effect&&this.fadeEffect.setTranslate()},setTransition:function(e){"fade"===this.params.effect&&this.fadeEffect.setTransition(e)}}},is={setTranslate:function(){var e,t=this,n=t.$el,r=t.$wrapperEl,i=t.slides,a=t.width,o=t.height,s=t.rtlTranslate,l=t.size,c=t.params.cubeEffect,u=t.isHorizontal(),h=t.virtual&&t.params.virtual.enabled,d=0;c.shadow&&(u?(0===(e=r.find(".swiper-cube-shadow")).length&&(e=so('<div class="swiper-cube-shadow"></div>'),r.append(e)),e.css({height:"".concat(a,"px")})):0===(e=n.find(".swiper-cube-shadow")).length&&(e=so('<div class="swiper-cube-shadow"></div>'),n.append(e)));for(var p=0;p<i.length;p+=1){var f=i.eq(p),m=p;h&&(m=parseInt(f.attr("data-swiper-slide-index"),10));var v=90*m,g=Math.floor(v/360);s&&(v=-v,g=Math.floor(-v/360));var y=Math.max(Math.min(f[0].progress,1),-1),b=0,w=0,E=0;m%4==0?(b=4*-g*l,E=0):(m-1)%4==0?(b=0,E=4*-g*l):(m-2)%4==0?(b=l+4*g*l,E=l):(m-3)%4==0&&(b=-l,E=3*l+4*l*g),s&&(b=-b),u||(w=b,b=0);var C="rotateX(".concat(u?0:-v,"deg) rotateY(").concat(u?v:0,"deg) translate3d(").concat(b,"px, ").concat(w,"px, ").concat(E,"px)");if(y<=1&&-1<y&&(d=90*m+90*y,s&&(d=90*-m-90*y)),f.transform(C),c.slideShadows){var S=u?f.find(".swiper-slide-shadow-left"):f.find(".swiper-slide-shadow-top"),_=u?f.find(".swiper-slide-shadow-right"):f.find(".swiper-slide-shadow-bottom");0===S.length&&(S=so('<div class="swiper-slide-shadow-'.concat(u?"left":"top",'"></div>')),f.append(S)),0===_.length&&(_=so('<div class="swiper-slide-shadow-'.concat(u?"right":"bottom",'"></div>')),f.append(_)),S.length&&(S[0].style.opacity=Math.max(-y,0)),_.length&&(_[0].style.opacity=Math.max(y,0))}}if(r.css({"-webkit-transform-origin":"50% 50% -".concat(l/2,"px"),"-moz-transform-origin":"50% 50% -".concat(l/2,"px"),"-ms-transform-origin":"50% 50% -".concat(l/2,"px"),"transform-origin":"50% 50% -".concat(l/2,"px")}),c.shadow)if(u)e.transform("translate3d(0px, ".concat(a/2+c.shadowOffset,"px, ").concat(-a/2,"px) rotateX(90deg) rotateZ(0deg) scale(").concat(c.shadowScale,")"));else{var T=Math.abs(d)-90*Math.floor(Math.abs(d)/90),k=1.5-(Math.sin(2*T*Math.PI/360)/2+Math.cos(2*T*Math.PI/360)/2),x=c.shadowScale,I=c.shadowScale/k,O=c.shadowOffset;e.transform("scale3d(".concat(x,", 1, ").concat(I,") translate3d(0px, ").concat(o/2+O,"px, ").concat(-o/2/I,"px) rotateX(-90deg)"))}var P=uo.isSafari||uo.isUiWebView?-l/2:0;r.transform("translate3d(0px,0,".concat(P,"px) rotateX(").concat(t.isHorizontal()?0:d,"deg) rotateY(").concat(t.isHorizontal()?-d:0,"deg)"))},setTransition:function(e){var t=this.$el;this.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),this.params.cubeEffect.shadow&&!this.isHorizontal()&&t.find(".swiper-cube-shadow").transition(e)}},as={name:"effect-cube",params:{cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}},create:function(){lo.extend(this,{cubeEffect:{setTranslate:is.setTranslate.bind(this),setTransition:is.setTransition.bind(this)}})},on:{beforeInit:function(){if("cube"===this.params.effect){this.classNames.push("".concat(this.params.containerModifierClass,"cube")),this.classNames.push("".concat(this.params.containerModifierClass,"3d"));var e={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0};lo.extend(this.params,e),lo.extend(this.originalParams,e)}},setTranslate:function(){"cube"===this.params.effect&&this.cubeEffect.setTranslate()},setTransition:function(e){"cube"===this.params.effect&&this.cubeEffect.setTransition(e)}}},os={setTranslate:function(){for(var e=this.slides,t=this.rtlTranslate,n=0;n<e.length;n+=1){var r=e.eq(n),i=r[0].progress;this.params.flipEffect.limitRotation&&(i=Math.max(Math.min(r[0].progress,1),-1));var a=-180*i,o=0,s=-r[0].swiperSlideOffset,l=0;if(this.isHorizontal()?t&&(a=-a):(l=s,o=-a,a=s=0),r[0].style.zIndex=-Math.abs(Math.round(i))+e.length,this.params.flipEffect.slideShadows){var c=this.isHorizontal()?r.find(".swiper-slide-shadow-left"):r.find(".swiper-slide-shadow-top"),u=this.isHorizontal()?r.find(".swiper-slide-shadow-right"):r.find(".swiper-slide-shadow-bottom");0===c.length&&(c=so('<div class="swiper-slide-shadow-'.concat(this.isHorizontal()?"left":"top",'"></div>')),r.append(c)),0===u.length&&(u=so('<div class="swiper-slide-shadow-'.concat(this.isHorizontal()?"right":"bottom",'"></div>')),r.append(u)),c.length&&(c[0].style.opacity=Math.max(-i,0)),u.length&&(u[0].style.opacity=Math.max(i,0))}r.transform("translate3d(".concat(s,"px, ").concat(l,"px, 0px) rotateX(").concat(o,"deg) rotateY(").concat(a,"deg)"))}},setTransition:function(e){var t=this,n=t.slides,r=t.activeIndex,i=t.$wrapperEl;if(n.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),t.params.virtualTranslate&&0!==e){var a=!1;n.eq(r).transitionEnd(function(){if(!a&&t&&!t.destroyed){a=!0,t.animating=!1;for(var e=["webkitTransitionEnd","transitionend"],n=0;n<e.length;n+=1)i.trigger(e[n])}})}}},ss={name:"effect-flip",params:{flipEffect:{slideShadows:!0,limitRotation:!0}},create:function(){lo.extend(this,{flipEffect:{setTranslate:os.setTranslate.bind(this),setTransition:os.setTransition.bind(this)}})},on:{beforeInit:function(){if("flip"===this.params.effect){this.classNames.push("".concat(this.params.containerModifierClass,"flip")),this.classNames.push("".concat(this.params.containerModifierClass,"3d"));var e={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!0};lo.extend(this.params,e),lo.extend(this.originalParams,e)}},setTranslate:function(){"flip"===this.params.effect&&this.flipEffect.setTranslate()},setTransition:function(e){"flip"===this.params.effect&&this.flipEffect.setTransition(e)}}},ls={setTranslate:function(){for(var e=this.width,t=this.height,n=this.slides,r=this.$wrapperEl,i=this.slidesSizesGrid,a=this.params.coverflowEffect,o=this.isHorizontal(),s=this.translate,l=o?e/2-s:t/2-s,c=o?a.rotate:-a.rotate,u=a.depth,h=0,d=n.length;h<d;h+=1){var p=n.eq(h),f=i[h],m=(l-p[0].swiperSlideOffset-f/2)/f*a.modifier,v=o?c*m:0,g=o?0:c*m,y=-u*Math.abs(m),b=o?0:a.stretch*m,w=o?a.stretch*m:0;Math.abs(w)<.001&&(w=0),Math.abs(b)<.001&&(b=0),Math.abs(y)<.001&&(y=0),Math.abs(v)<.001&&(v=0),Math.abs(g)<.001&&(g=0);var E="translate3d(".concat(w,"px,").concat(b,"px,").concat(y,"px)  rotateX(").concat(g,"deg) rotateY(").concat(v,"deg)");if(p.transform(E),p[0].style.zIndex=1-Math.abs(Math.round(m)),a.slideShadows){var C=o?p.find(".swiper-slide-shadow-left"):p.find(".swiper-slide-shadow-top"),S=o?p.find(".swiper-slide-shadow-right"):p.find(".swiper-slide-shadow-bottom");0===C.length&&(C=so('<div class="swiper-slide-shadow-'.concat(o?"left":"top",'"></div>')),p.append(C)),0===S.length&&(S=so('<div class="swiper-slide-shadow-'.concat(o?"right":"bottom",'"></div>')),p.append(S)),C.length&&(C[0].style.opacity=0<m?m:0),S.length&&(S[0].style.opacity=0<-m?-m:0)}}(co.pointerEvents||co.prefixedPointerEvents)&&(r[0].style.perspectiveOrigin="".concat(l,"px 50%"))},setTransition:function(e){this.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e)}},cs={name:"effect-coverflow",params:{coverflowEffect:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0}},create:function(){lo.extend(this,{coverflowEffect:{setTranslate:ls.setTranslate.bind(this),setTransition:ls.setTransition.bind(this)}})},on:{beforeInit:function(){"coverflow"===this.params.effect&&(this.classNames.push("".concat(this.params.containerModifierClass,"coverflow")),this.classNames.push("".concat(this.params.containerModifierClass,"3d")),this.params.watchSlidesProgress=!0,this.originalParams.watchSlidesProgress=!0)},setTranslate:function(){"coverflow"===this.params.effect&&this.coverflowEffect.setTranslate()},setTransition:function(e){"coverflow"===this.params.effect&&this.coverflowEffect.setTransition(e)}}},us={init:function(){var e=this,t=e.params.thumbs,n=e.constructor;t.swiper instanceof n?(e.thumbs.swiper=t.swiper,lo.extend(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),lo.extend(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1})):lo.isObject(t.swiper)&&(e.thumbs.swiper=new n(lo.extend({},t.swiper,{watchSlidesVisibility:!0,watchSlidesProgress:!0,slideToClickedSlide:!1})),e.thumbs.swiperCreated=!0),e.thumbs.swiper.$el.addClass(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",e.thumbs.onThumbClick)},onThumbClick:function(){var e=this,t=e.thumbs.swiper;if(t){var n=t.clickedIndex,r=t.clickedSlide;if(!(r&&so(r).hasClass(e.params.thumbs.slideThumbActiveClass)||null==n)){var i;if(i=t.params.loop?parseInt(so(t.clickedSlide).attr("data-swiper-slide-index"),10):n,e.params.loop){var a=e.activeIndex;e.slides.eq(a).hasClass(e.params.slideDuplicateClass)&&(e.loopFix(),e._clientLeft=e.$wrapperEl[0].clientLeft,a=e.activeIndex);var o=e.slides.eq(a).prevAll('[data-swiper-slide-index="'.concat(i,'"]')).eq(0).index(),s=e.slides.eq(a).nextAll('[data-swiper-slide-index="'.concat(i,'"]')).eq(0).index();i=void 0===o?s:void 0===s?o:s-a<a-o?s:o}e.slideTo(i)}}},update:function(e){var t=this,n=t.thumbs.swiper;if(n){var r="auto"===n.params.slidesPerView?n.slidesPerViewDynamic():n.params.slidesPerView;if(t.realIndex!==n.realIndex){var i,a=n.activeIndex;if(n.params.loop){n.slides.eq(a).hasClass(n.params.slideDuplicateClass)&&(n.loopFix(),n._clientLeft=n.$wrapperEl[0].clientLeft,a=n.activeIndex);var o=n.slides.eq(a).prevAll('[data-swiper-slide-index="'.concat(t.realIndex,'"]')).eq(0).index(),s=n.slides.eq(a).nextAll('[data-swiper-slide-index="'.concat(t.realIndex,'"]')).eq(0).index();i=void 0===o?s:void 0===s?o:s-a==a-o?a:s-a<a-o?s:o}else i=t.realIndex;n.visibleSlidesIndexes.indexOf(i)<0&&(n.params.centeredSlides?i=a<i?i-Math.floor(r/2)+1:i+Math.floor(r/2)-1:a<i&&(i=i-r+1),n.slideTo(i,e?0:void 0))}var l=1,c=t.params.thumbs.slideThumbActiveClass;if(1<t.params.slidesPerView&&!t.params.centeredSlides&&(l=t.params.slidesPerView),n.slides.removeClass(c),n.params.loop)for(var u=0;u<l;u+=1)n.$wrapperEl.children('[data-swiper-slide-index="'.concat(t.realIndex+u,'"]')).addClass(c);else for(var h=0;h<l;h+=1)n.slides.eq(t.realIndex+h).addClass(c)}}},hs={name:"thumbs",params:{thumbs:{swiper:null,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-container-thumbs"}},create:function(){lo.extend(this,{thumbs:{swiper:null,init:us.init.bind(this),update:us.update.bind(this),onThumbClick:us.onThumbClick.bind(this)}})},on:{beforeInit:function(){var e=this.params.thumbs;e&&e.swiper&&(this.thumbs.init(),this.thumbs.update(!0))},slideChange:function(){this.thumbs.swiper&&this.thumbs.update()},update:function(){this.thumbs.swiper&&this.thumbs.update()},resize:function(){this.thumbs.swiper&&this.thumbs.update()},observerUpdate:function(){this.thumbs.swiper&&this.thumbs.update()},setTransition:function(e){var t=this.thumbs.swiper;t&&t.setTransition(e)},beforeDestroy:function(){var e=this.thumbs.swiper;e&&this.thumbs.swiperCreated&&e&&e.destroy()}}};Io.use([Oo,Ao,Po,Do,Mo,Fo,jo,Vo,Uo,zo,Ko,Qo,Xo,Zo,ts,rs,as,ss,cs,hs]);var ds=Io;function ps(e){var t=this,n=f(e);if(0!==n.length&&!n[0].swiper){var r,i,a,o={};n.hasClass("tabs-swipeable-wrap")&&(n.addClass("swiper-container").children(".tabs").addClass("swiper-wrapper").children(".tab").addClass("swiper-slide"),r=n.children(".tabs").children(".tab-active").index(),i=!0,a=0<n.find(".tabs-routable").length),n.attr("data-swiper")?o=JSON.parse(n.attr("data-swiper")):(o=n.dataset(),Object.keys(o).forEach(function(e){var t=o[e];if("string"==typeof t&&0===t.indexOf("{")&&0<t.indexOf("}"))try{o[e]=JSON.parse(t)}catch(e){}})),void 0===o.initialSlide&&void 0!==r&&(o.initialSlide=r);var s=t.swiper.create(n[0],o);i&&s.on("slideChange",function(){if(a){var e=t.views.get(n.parents(".view"));e||(e=t.views.main);var r=e.router,i=r.findTabRoute(s.slides.eq(s.activeIndex)[0]);i&&setTimeout(function(){r.navigate(i.path)},0)}else t.tab.show({tabEl:s.slides.eq(s.activeIndex)})})}}var fs={name:"swiper",static:{Swiper:ds},create:function(){this.swiper=W({defaultSelector:".swiper-container",constructor:ds,domProp:"swiper"})},on:{pageBeforeRemove:function(e){var t=this;e.$el.find(".swiper-init, .tabs-swipeable-wrap").each(function(e,n){t.swiper.destroy(n)})},pageMounted:function(e){var t=this;e.$el.find(".tabs-swipeable-wrap").each(function(e,n){ps.call(t,n)})},pageInit:function(e){var t=this;e.$el.find(".swiper-init, .tabs-swipeable-wrap").each(function(e,n){ps.call(t,n)})},pageReinit:function(e){var t=this;e.$el.find(".swiper-init, .tabs-swipeable-wrap").each(function(e,n){var r=t.swiper.get(n);r&&r.update&&r.update()})},tabMounted:function(e){var t=this;f(e).find(".swiper-init, .tabs-swipeable-wrap").each(function(e,n){ps.call(t,n)})},tabShow:function(e){var t=this;f(e).find(".swiper-init, .tabs-swipeable-wrap").each(function(e,n){var r=t.swiper.get(n);r&&r.update&&r.update()})},tabBeforeRemove:function(e){var t=this;f(e).find(".swiper-init, .tabs-swipeable-wrap").each(function(e,n){t.swiper.destroy(n)})}},vnode:{"swiper-init":{insert:function(e){var t=e.elm;ps.call(this,t)},destroy:function(e){var t=e.elm;this.swiper.destroy(t)}},"tabs-swipeable-wrap":{insert:function(e){var t=e.elm;ps.call(this,t)},destroy:function(e){var t=e.elm;this.swiper.destroy(t)}}}};function ms(e){return(ms="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gs(e){return(gs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ys(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bs(e,t){return(bs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ws=function(e){function t(e){var n,r,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);var a=ys(n=!(r=gs(t).call(this,i,[e]))||"object"!==ms(r)&&"function"!=typeof r?ys(this):r);a.app=e;var o=R.extend({on:{}},e.params.photoBrowser);return a.useModulesParams(o),a.params=R.extend(o,i),R.extend(a,{exposed:!1,opened:!1,activeIndex:a.params.swiper.initialSlide,url:a.params.url,view:a.params.view||e.views.main,swipeToClose:{allow:!0,isTouched:!1,diff:void 0,start:void 0,current:void 0,started:!1,activeSlide:void 0,timeStart:void 0}}),a.useModules(),a.init(),n}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bs(e,t)}(t,H),n=t,(r=[{key:"onSlideChange",value:function(e){var t=this;t.activeIndex=e.activeIndex;var n=e.activeIndex+1,r=t.params.virtualSlides?t.params.photos.length:e.slides.length;e.params.loop&&(r-=2,(n-=e.loopedSlides)<1&&(n=r+n),r<n&&(n-=r));var i=t.params.virtualSlides?e.$wrapperEl.find('.swiper-slide[data-swiper-slide-index="'.concat(e.activeIndex,'"]')):e.slides.eq(e.activeIndex),a=t.params.virtualSlides?e.$wrapperEl.find('.swiper-slide[data-swiper-slide-index="'.concat(e.previousIndex,'"]')):e.slides.eq(e.previousIndex),o=t.$el.find(".photo-browser-current"),s=t.$el.find(".photo-browser-total");if("page"===t.params.type&&t.params.navbar&&0===o.length&&"ios"===t.app.theme){var l=t.app.navbar.getElByPage(t.$el);l&&(o=f(l).find(".photo-browser-current"),s=f(l).find(".photo-browser-total"))}if(o.text(n),s.text(r),0<t.captions.length){var c=e.params.loop?i.attr("data-swiper-slide-index"):t.activeIndex;t.$captionsContainerEl.find(".photo-browser-caption-active").removeClass("photo-browser-caption-active"),t.$captionsContainerEl.find('[data-caption-index="'.concat(c,'"]')).addClass("photo-browser-caption-active")}var u=a.find("video");0<u.length&&"pause"in u[0]&&u[0].pause()}},{key:"onTouchStart",value:function(){var e=this.swipeToClose;e.allow&&(e.isTouched=!0)}},{key:"onTouchMove",value:function(e){var t=this.swipeToClose;if(t.isTouched){t.started||(t.started=!0,t.start="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,this.params.virtualSlides?t.activeSlide=this.swiper.$wrapperEl.children(".swiper-slide-active"):t.activeSlide=this.swiper.slides.eq(this.swiper.activeIndex),t.timeStart=R.now()),e.preventDefault(),t.current="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,t.diff=t.start-t.current;var n=1-Math.abs(t.diff)/300,r=this.exposed||"dark"===this.params.theme?0:255;t.activeSlide.transform("translate3d(0,".concat(-t.diff,"px,0)")),this.swiper.$el.css("background-color","rgba(".concat(r,", ").concat(r,", ").concat(r,", ").concat(n,")")).transition(0)}}},{key:"onTouchEnd",value:function(){var e=this,t=e.swipeToClose;if(t.isTouched=!1,t.started){t.started=!1,t.allow=!1;var n=Math.abs(t.diff),r=(new Date).getTime()-t.timeStart;r<300&&20<n||300<=r&&100<n?R.nextTick(function(){e.$el&&(t.diff<0?e.$el.addClass("swipe-close-to-bottom"):e.$el.addClass("swipe-close-to-top")),e.emit("local::swipeToClose",e),e.close(),t.allow=!0}):(0!==n?t.activeSlide.addClass("photo-browser-transitioning").transitionEnd(function(){t.allow=!0,t.activeSlide.removeClass("photo-browser-transitioning")}):t.allow=!0,e.swiper.$el.transition("").css("background-color",""),t.activeSlide.transform(""))}else t.started=!1}},{key:"renderNavbar",value:function(){var e=this;if(e.params.renderNavbar)return e.params.renderNavbar.call(e);var t=e.params.iconsColor;e.params.iconsColor||"dark"!==e.params.theme||(t="white");var n="ios"===e.app.theme&&e.params.backLinkText?e.params.backLinkText:"",r="page"!==e.params.type;return'\n      <div class="navbar">\n        <div class="navbar-inner sliding">\n          <div class="left">\n            <a href="#" class="link '.concat(r?"popup-close":""," ").concat(n?"":"icon-only"," ").concat(r?"":"back",'" ').concat(r?'data-popup=".photo-browser-popup"':"",'>\n              <i class="icon icon-back ').concat(t?"color-".concat(t):"",'"></i>\n              ').concat(n?"<span>".concat(n,"</span>"):"",'\n            </a>\n          </div>\n          <div class="title">\n            <span class="photo-browser-current"></span>\n            <span class="photo-browser-of">').concat(e.params.navbarOfText,'</span>\n            <span class="photo-browser-total"></span>\n          </div>\n          <div class="right"></div>\n        </div>\n      </div>\n    ').trim()}},{key:"renderToolbar",value:function(){if(this.params.renderToolbar)return this.params.renderToolbar.call(this);var e=this.params.iconsColor;return this.params.iconsColor||"dark"!==this.params.theme||(e="white"),'\n      <div class="toolbar toolbar-bottom tabbar">\n        <div class="toolbar-inner">\n          <a href="#" class="link photo-browser-prev">\n            <i class="icon icon-back '.concat(e?"color-".concat(e):"",'"></i>\n          </a>\n          <a href="#" class="link photo-browser-next">\n            <i class="icon icon-forward ').concat(e?"color-".concat(e):"",'"></i>\n          </a>\n        </div>\n      </div>\n    ').trim()}},{key:"renderCaption",value:function(e,t){return this.params.renderCaption?this.params.renderCaption.call(this,e,t):'\n      <div class="photo-browser-caption" data-caption-index="'.concat(t,'">\n        ').concat(e,"\n      </div>\n    ").trim()}},{key:"renderObject",value:function(e,t){return this.params.renderObject?this.params.renderObject.call(this,e,t):'\n      <div class="photo-browser-slide photo-browser-object-slide swiper-slide" data-swiper-slide-index="'.concat(t,'">').concat(e.html?e.html:e,"</div>\n    ")}},{key:"renderLazyPhoto",value:function(e,t){return this.params.renderLazyPhoto?this.params.renderLazyPhoto.call(this,e,t):'\n      <div class="photo-browser-slide photo-browser-slide-lazy swiper-slide" data-swiper-slide-index="'.concat(t,'">\n          <div class="preloader swiper-lazy-preloader ').concat("dark"===this.params.theme?"color-white":"",'">').concat(R["".concat(this.app.theme,"PreloaderContent")]||"",'</div>\n          <span class="swiper-zoom-container">\n              <img data-src="').concat(e.url?e.url:e,'" class="swiper-lazy">\n          </span>\n      </div>\n    ').trim()}},{key:"renderPhoto",value:function(e,t){return this.params.renderPhoto?this.params.renderPhoto.call(this,e,t):'\n      <div class="photo-browser-slide swiper-slide" data-swiper-slide-index="'.concat(t,'">\n        <span class="swiper-zoom-container">\n          <img src="').concat(e.url?e.url:e,'">\n        </span>\n      </div>\n    ').trim()}},{key:"render",value:function(){var e=this;return e.params.render?e.params.render.call(e,e.params):'\n      <div class="photo-browser photo-browser-'.concat(e.params.theme,'">\n        <div class="view">\n          <div class="page photo-browser-page photo-browser-page-').concat(e.params.theme," no-toolbar ").concat(e.params.navbar?"":"no-navbar",'" data-name="photo-browser-page">\n            ').concat(e.params.navbar?e.renderNavbar():"","\n            ").concat(e.params.toolbar?e.renderToolbar():"",'\n            <div class="photo-browser-captions photo-browser-captions-').concat(e.params.captionsTheme||e.params.theme,'">\n              ').concat(e.params.photos.map(function(t,n){return t.caption?e.renderCaption(t.caption,n):""}).join(" "),'\n            </div>\n            <div class="photo-browser-swiper-container swiper-container">\n              <div class="photo-browser-swiper-wrapper swiper-wrapper">\n                ').concat(e.params.virtualSlides?"":e.params.photos.map(function(t,n){return t.html||("string"==typeof t||t instanceof String)&&0<=t.indexOf("<")&&0<=t.indexOf(">")?e.renderObject(t,n):!0===e.params.swiper.lazy||e.params.swiper.lazy&&e.params.swiper.lazy.enabled?e.renderLazyPhoto(t,n):e.renderPhoto(t,n)}).join(" "),"\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    ").trim()}},{key:"renderStandalone",value:function(){return this.params.renderStandalone?this.params.renderStandalone.call(this):'<div class="popup photo-browser-popup photo-browser-standalone popup-tablet-fullscreen">'.concat(this.render(),"</div>")}},{key:"renderPage",value:function(){return this.params.renderPage?this.params.renderPage.call(this):this.render()}},{key:"renderPopup",value:function(){return this.params.renderPopup?this.params.renderPopup.call(this):'<div class="popup photo-browser-popup">'.concat(this.render(),"</div>")}},{key:"onOpen",value:function(e,t){var n=this,r=n.app,i=f(t);(i[0].f7PhotoBrowser=n).$el=i,n.el=i[0],n.openedIn=e,n.opened=!0,n.$swiperContainerEl=n.$el.find(".photo-browser-swiper-container"),n.$swiperWrapperEl=n.$el.find(".photo-browser-swiper-wrapper"),n.slides=n.$el.find(".photo-browser-slide"),n.$captionsContainerEl=n.$el.find(".photo-browser-captions"),n.captions=n.$el.find(".photo-browser-caption");var a=R.extend({},n.params.swiper,{initialSlide:n.activeIndex,on:{tap:function(e){n.emit("local::tap",e)},click:function(e){n.params.exposition&&n.expositionToggle(),n.emit("local::click",e)},doubleTap:function(e){n.emit("local::doubleTap",e)},slideChange:function(){n.onSlideChange(this);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n.emit.apply(n,["local::slideChange"].concat(t))},transitionStart:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n.emit.apply(n,["local::transitionStart"].concat(t))},transitionEnd:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n.emit.apply(n,["local::transitionEnd"].concat(t))},slideChangeTransitionStart:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n.emit.apply(n,["local::slideChangeTransitionStart"].concat(t))},slideChangeTransitionEnd:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n.emit.apply(n,["local::slideChangeTransitionEnd"].concat(t))},lazyImageLoad:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n.emit.apply(n,["local::lazyImageLoad"].concat(t))},lazyImageReady:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0];f(i).removeClass("photo-browser-slide-lazy"),n.emit.apply(n,["local::lazyImageReady"].concat(t))}}});n.params.swipeToClose&&"page"!==n.params.type&&R.extend(a.on,{touchStart:function(e){n.onTouchStart(e),n.emit("local::touchStart",e)},touchMoveOpposite:function(e){n.onTouchMove(e),n.emit("local::touchMoveOpposite",e)},touchEnd:function(e){n.onTouchEnd(e),n.emit("local::touchEnd",e)}}),n.params.virtualSlides&&R.extend(a,{virtual:{slides:n.params.photos,renderSlide:function(e,t){return e.html||("string"==typeof e||e instanceof String)&&0<=e.indexOf("<")&&0<=e.indexOf(">")?n.renderObject(e,t):!0===n.params.swiper.lazy||n.params.swiper.lazy&&n.params.swiper.lazy.enabled?n.renderLazyPhoto(e,t):n.renderPhoto(e,t)}}}),n.swiper=r.swiper.create(n.$swiperContainerEl,a),0===n.activeIndex&&n.onSlideChange(n.swiper),n.$el&&n.$el.trigger("photobrowser:open"),n.emit("local::open photoBrowserOpen",n)}},{key:"onOpened",value:function(){this.$el&&this.$el.trigger("photobrowser:opened"),this.emit("local::opened photoBrowserOpened",this)}},{key:"onClose",value:function(){var e=this;e.destroyed||(e.swiper&&e.swiper.destroy&&(e.swiper.destroy(!0,!1),e.swiper=null,delete e.swiper),e.$el&&e.$el.trigger("photobrowser:close"),e.emit("local::close photoBrowserClose",e))}},{key:"onClosed",value:function(){var e=this;e.destroyed||(e.opened=!1,e.$el=null,e.el=null,delete e.$el,delete e.el,e.$el&&e.$el.trigger("photobrowser:closed"),e.emit("local::closed photoBrowserClosed",e))}},{key:"openPage",value:function(){var e=this;if(e.opened)return e;var t=e.renderPage();return e.view.router.navigate({url:e.url,route:{content:t,path:e.url,on:{pageBeforeIn:function(t,n){e.view.$el.addClass("with-photo-browser-page with-photo-browser-page-".concat(e.params.theme)),e.onOpen("page",n.el)},pageAfterIn:function(t,n){e.onOpened("page",n.el)},pageBeforeOut:function(t,n){e.view.$el.removeClass("with-photo-browser-page with-photo-browser-page-exposed with-photo-browser-page-".concat(e.params.theme)),e.onClose("page",n.el)},pageAfterOut:function(t,n){e.onClosed("page",n.el)}}}}),e}},{key:"openStandalone",value:function(){var e=this;if(e.opened)return e;var t={backdrop:!1,content:e.renderStandalone(),on:{popupOpen:function(t){e.onOpen("popup",t.el)},popupOpened:function(t){e.onOpened("popup",t.el)},popupClose:function(t){e.onClose("popup",t.el)},popupClosed:function(t){e.onClosed("popup",t.el)}}};return e.params.routableModals?e.view.router.navigate({url:e.url,route:{path:e.url,popup:t}}):e.modal=e.app.popup.create(t).open(),e}},{key:"openPopup",value:function(){var e=this;if(e.opened)return e;var t={content:e.renderPopup(),on:{popupOpen:function(t){e.onOpen("popup",t.el)},popupOpened:function(t){e.onOpened("popup",t.el)},popupClose:function(t){e.onClose("popup",t.el)},popupClosed:function(t){e.onClosed("popup",t.el)}}};return e.params.routableModals?e.view.router.navigate({url:e.url,route:{path:e.url,popup:t}}):e.modal=e.app.popup.create(t).open(),e}},{key:"expositionEnable",value:function(){return"page"===this.params.type&&this.view.$el.addClass("with-photo-browser-page-exposed"),this.$el&&this.$el.addClass("photo-browser-exposed"),this.params.expositionHideCaptions&&this.$captionsContainerEl.addClass("photo-browser-captions-exposed"),this.exposed=!0,this}},{key:"expositionDisable",value:function(){return"page"===this.params.type&&this.view.$el.removeClass("with-photo-browser-page-exposed"),this.$el&&this.$el.removeClass("photo-browser-exposed"),this.params.expositionHideCaptions&&this.$captionsContainerEl.removeClass("photo-browser-captions-exposed"),this.exposed=!1,this}},{key:"expositionToggle",value:function(){return"page"===this.params.type&&this.view.$el.toggleClass("with-photo-browser-page-exposed"),this.$el&&this.$el.toggleClass("photo-browser-exposed"),this.params.expositionHideCaptions&&this.$captionsContainerEl.toggleClass("photo-browser-captions-exposed"),this.exposed=!this.exposed,this}},{key:"open",value:function(e){var t=this,n=t.params.type;return t.opened?t.swiper&&void 0!==e&&t.swiper.slideTo(parseInt(e,10)):(void 0!==e&&(t.activeIndex=e),"standalone"===n&&t.openStandalone(),"page"===n&&t.openPage(),"popup"===n&&t.openPopup()),t}},{key:"close",value:function(){var e=this;return e.opened&&(e.params.routableModals||"page"===e.openedIn?e.view&&e.view.router.back():(e.modal.once("modalClosed",function(){R.nextTick(function(){e.modal.destroy(),delete e.modal})}),e.modal.close())),e}},{key:"init",value:function(){}},{key:"destroy",value:function(){var e=this;e.emit("local::beforeDestroy photoBrowserBeforeDestroy",e),e.$el&&(e.$el.trigger("photobrowser:beforedestroy"),e.$el[0].f7PhotoBrowser=null,delete e.$el[0].f7PhotoBrowser),R.deleteProps(e),e=null}}])&&vs(n.prototype,r),t}(),Es={name:"photoBrowser",params:{photoBrowser:{photos:[],exposition:!0,expositionHideCaptions:!1,type:"standalone",navbar:!0,toolbar:!0,theme:"light",captionsTheme:void 0,iconsColor:void 0,swipeToClose:!0,backLinkText:"Close",navbarOfText:"of",view:void 0,url:"photos/",routableModals:!0,virtualSlides:!0,renderNavbar:void 0,renderToolbar:void 0,renderCaption:void 0,renderObject:void 0,renderLazyPhoto:void 0,renderPhoto:void 0,renderPage:void 0,renderPopup:void 0,renderStandalone:void 0,swiper:{initialSlide:0,spaceBetween:20,speed:300,loop:!1,preloadImages:!0,navigation:{nextEl:".photo-browser-next",prevEl:".photo-browser-prev"},zoom:{enabled:!0,maxRatio:3,minRatio:1},lazy:{enabled:!0}}}},create:function(){this.photoBrowser=W({defaultSelector:".photo-browser",constructor:ws,app:this,domProp:"f7PhotoBrowser"})},static:{PhotoBrowser:ws}};function Cs(e){return(Cs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ss(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _s(e,t){return!t||"object"!==Cs(t)&&"function"!=typeof t?ks(e):t}function Ts(e){return(Ts=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ks(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xs(e,t){return(xs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Is=function(e){function t(e,n){var r;!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);var a=R.extend({on:{}},e.params.notification,n),o=ks(r=_s(this,Ts(t).call(this,e,a)));o.app=e,o.params=a;var s,l,c,u,h,d,p,m=o.params,v=m.icon,g=m.title,y=m.titleRightText,b=m.subtitle,w=m.text,E=m.closeButton,C=m.closeTimeout,S=m.cssClass,_=m.closeOnClick;if(o.params.el)s=f(o.params.el);else{var T=o.render({icon:v,title:g,titleRightText:y,subtitle:b,text:w,closeButton:E,cssClass:S});s=f(T)}if(s&&0<s.length&&s[0].f7Modal)return _s(r,s[0].f7Modal);if(0===s.length)return _s(r,o.destroy());R.extend(o,{$el:s,el:s[0],type:"notification"}),s[0].f7Modal=o,E&&s.find(".notification-close-button").on("click",function(){o.close()}),s.on("click",function(e){E&&f(e.target).closest(".notification-close-button").length||(o.emit("local::click notificationClick",o),_&&o.close())}),o.on("beforeDestroy",function(){s.off("click")});var k,x={};function I(e){l||(c=!(l=!0),u=void 0,d=R.now(),x.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,x.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY)}function O(e){if(l){var t="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,n="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY;if(void 0===u&&(u=!!(u||Math.abs(n-x.y)<Math.abs(t-x.x))),u)l=!1;else{e.preventDefault(),c||(o.$el.removeClass("notification-transitioning"),o.$el.transition(0),p=o.$el[0].offsetHeight/2),c=!0;var r=h=n-x.y;0<h&&(r=Math.pow(h,.8)),o.$el.transform("translate3d(0, ".concat(r,"px, 0)"))}}}function P(){if(l&&c){if(c=l=!1,0!==h){var e=R.now()-d;o.$el.transition(""),o.$el.addClass("notification-transitioning"),o.$el.transform(""),(h<-10&&e<300||p/1<=-h)&&o.close()}}else c=l=!1}return o.on("open",function(){o.params.swipeToClose&&(o.$el.on(e.touchEvents.start,I,{passive:!0}),e.on("touchmove:active",O),e.on("touchend:passive",P)),f(".notification.modal-in").each(function(t,n){var r=e.notification.get(n);n!==o.el&&r&&r.close()}),C&&function e(){k=R.nextTick(function(){l&&c?e():o.close()},C)}()}),o.on("close beforeDestroy",function(){o.params.swipeToClose&&(o.$el.off(e.touchEvents.start,I,{passive:!0}),e.off("touchmove:active",O),e.off("touchend:passive",P)),i.clearTimeout(k)}),_s(r,o)}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xs(e,t)}(t,en),n=t,(r=[{key:"render",value:function(){if(this.params.render)return this.params.render.call(this,this);var e=this.params,t=e.icon,n=e.title,r=e.titleRightText,i=e.subtitle,a=e.text,o=e.closeButton,s=e.cssClass;return'\n      <div class="notification '.concat(s||"",'">\n        <div class="notification-header">\n          ').concat(t?'<div class="notification-icon">'.concat(t,"</div>"):"","\n          ").concat(n?'<div class="notification-title">'.concat(n,"</div>"):"","\n          ").concat(r?'<div class="notification-title-right-text">'.concat(r,"</div>"):"","\n          ").concat(o?'<span class="notification-close-button"></span>':"",'\n        </div>\n        <div class="notification-content">\n          ').concat(i?'<div class="notification-subtitle">'.concat(i,"</div>"):"","\n          ").concat(a?'<div class="notification-text">'.concat(a,"</div>"):"","\n        </div>\n      </div>\n    ").trim()}}])&&Ss(n.prototype,r),t}(),Os={name:"notification",static:{Notification:Is},create:function(){this.notification=R.extend({},K({app:this,constructor:Is,defaultSelector:".notification.modal-in"}))},params:{notification:{icon:null,title:null,titleRightText:null,subtitle:null,text:null,closeButton:!1,closeTimeout:null,closeOnClick:!1,swipeToClose:!0,cssClass:null,render:null}}};function Ps(e){return(Ps="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function As(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ds(e,t){return!t||"object"!==Ps(t)&&"function"!=typeof t?Ms(e):t}function Ns(e){return(Ns=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ms(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rs(e,t){return(Rs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ls=function(e){function t(e){var n,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);var i=Ms(n=Ds(this,Ns(t).call(this,r,[e])));i.app=e;var a,o,s,l=R.extend({on:{}},e.params.autocomplete);i.useModulesParams(l),i.params=R.extend(l,r),i.params.openerEl&&(a=f(i.params.openerEl)).length&&(a[0].f7Autocomplete=i),i.params.inputEl&&(o=f(i.params.inputEl)).length&&(o[0].f7Autocomplete=i),i.params.view?s=i.params.view:(a||o)&&(s=e.views.get(a||o)),s||(s=e.views.main);var c=R.id(),u=r.url;!u&&a&&a.length&&(a.attr("href")?u=a.attr("href"):0<a.find("a").length&&(u=a.find("a").attr("href"))),u&&"#"!==u&&""!==u||(u=i.params.url);var h=i.params.multiple?"checkbox":"radio";R.extend(i,{$openerEl:a,openerEl:a&&a[0],$inputEl:o,inputEl:o&&o[0],id:c,view:s,url:u,value:i.params.value||[],inputType:h,inputName:"".concat(h,"-").concat(c),$modalEl:void 0,$dropdownEl:void 0});var d="";function p(){var e=i.$inputEl.val().trim();i.params.source&&i.params.source.call(i,e,function(t){var n,r,a,s="",l=i.params.limit?Math.min(i.params.limit,t.length):t.length;i.items=t,i.params.highlightMatches&&(e=e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),n=new RegExp("(".concat(e,")"),"i"));for(var c=0;c<l;c+=1){var u="object"===Ps(t[c])?t[c][i.params.valueProperty]:t[c],h="object"===Ps(t[c])?t[c][i.params.textProperty]:t[c];0===c&&(r=u,a=i.items[c]),s+=i.renderItem({value:u,text:i.params.highlightMatches?h.replace(n,"<b>$1</b>"):h},c)}if(""===s&&""===e&&i.params.dropdownPlaceholderText&&(s+=i.renderItem({placeholder:!0,text:i.params.dropdownPlaceholderText})),i.$dropdownEl.find("ul").html(s),i.params.typeahead){if(!r||!a)return;if(0!==r.toLowerCase().indexOf(e.toLowerCase()))return;if(d.toLowerCase()===e.toLowerCase())return void(i.value=[]);if(0===d.toLowerCase().indexOf(e.toLowerCase()))return d=e,void(i.value=[]);o.val(r),o[0].setSelectionRange(e.length,r.length);var p="object"===Ps(i.value[0])?i.value[0][i.params.valueProperty]:i.value[0];p&&r.toLowerCase()===p.toLowerCase()||(i.value=[a],i.emit("local::change autocompleteChange",[a]))}d=e})}function m(){var e,t,n,r=this.value;if(0<f(this).parents(".autocomplete-values").length){if("checkbox"===i.inputType&&!this.checked){for(var a=0;a<i.value.length;a+=1)(n="string"==typeof i.value[a]?i.value[a]:i.value[a][i.params.valueProperty])!==r&&1*n!=1*r||i.value.splice(a,1);i.updateValues(),i.emit("local::change autocompleteChange",i.value)}}else{for(var o=0;o<i.items.length;o+=1)(t="object"===Ps(i.items[o])?i.items[o][i.params.valueProperty]:i.items[o])!==r&&1*t!=1*r||(e=i.items[o]);if("radio"===i.inputType)i.value=[e];else if(this.checked)i.value.push(e);else for(var s=0;s<i.value.length;s+=1)(n="object"===Ps(i.value[s])?i.value[s][i.params.valueProperty]:i.value[s])!==r&&1*n!=1*r||i.value.splice(s,1);i.updateValues(),("radio"===i.inputType&&this.checked||"checkbox"===i.inputType)&&i.emit("local::change autocompleteChange",i.value)}}function v(e){var t=f(e.target);t.is(i.$inputEl[0])||i.$dropdownEl&&t.closest(i.$dropdownEl[0]).length||i.close()}function g(){i.open()}function y(){i.open()}function b(){0<i.$dropdownEl.find("label.active-state").length||i.close()}function w(){i.positionDropdown()}function E(e){i.opened&&13===e.keyCode&&(e.preventDefault(),i.$inputEl.blur())}function C(){for(var e,t=f(this),n=0;n<i.items.length;n+=1){var r="object"===Ps(i.items[n])?i.items[n][i.params.valueProperty]:i.items[n],a=t.attr("data-value");r!==a&&1*r!=1*a||(e=i.items[n])}i.params.updateInputValueOnSelect&&(i.$inputEl.val("object"===Ps(e)?e[i.params.valueProperty]:e),i.$inputEl.trigger("input change")),i.value=[e],i.emit("local::change autocompleteChange",[e]),i.close()}return i.attachEvents=function(){"dropdown"!==i.params.openIn&&i.$openerEl&&i.$openerEl.on("click",g),"dropdown"===i.params.openIn&&i.$inputEl&&(i.$inputEl.on("focus",y),i.$inputEl.on(i.params.inputEvents,p),e.device.android?f("html").on("click",v):i.$inputEl.on("blur",b),i.params.typeahead&&i.$inputEl.on("keydown",E))},i.detachEvents=function(){"dropdown"!==i.params.openIn&&i.$openerEl&&i.$openerEl.off("click",g),"dropdown"===i.params.openIn&&i.$inputEl&&(i.$inputEl.off("focus",y),i.$inputEl.off(i.params.inputEvents,p),e.device.android?f("html").off("click",v):i.$inputEl.off("blur",b),i.params.typeahead&&i.$inputEl.off("keydown",E))},i.attachDropdownEvents=function(){i.$dropdownEl.on("click","label",C),e.on("resize",w)},i.detachDropdownEvents=function(){i.$dropdownEl.off("click","label",C),e.off("resize",w)},i.attachPageEvents=function(){i.$el.on("change",'input[type="radio"], input[type="checkbox"]',m),i.params.closeOnSelect&&!i.params.multiple&&i.$el.once("click",".list label",function(){R.nextTick(function(){i.close()})})},i.detachPageEvents=function(){i.$el.off("change",'input[type="radio"], input[type="checkbox"]',m)},i.useModules(),i.init(),Ds(n,i)}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rs(e,t)}(t,H),n=t,(r=[{key:"positionDropdown",value:function(){var e=this.$inputEl,t=this.app,n=this.$dropdownEl,r=e.parents(".page-content");if(0!==r.length){var i,a=e.offset(),o=e[0].offsetWidth,s=e[0].offsetHeight,l=e.parents(".list");l.parents().each(function(e,t){if(!i){var n=f(t);n.parent(r).length&&(i=n)}});var c,u,h,d,p=l.offset(),m=parseInt(r.css("padding-bottom"),10),v=0<l.length?p.left-r.offset().left:0,g=a.left-(0<l.length?p.left:0)-(t.rtl,0),y=a.top-(r.offset().top-r[0].scrollTop),b=r[0].scrollHeight-m-(y+r[0].scrollTop)-e[0].offsetHeight,w=t.rtl?"padding-right":"padding-left";l.length&&!this.params.expandInput&&(c=(t.rtl?l[0].offsetWidth-g-o:g)-("md"===t.theme?16:15)),n.css({left:"".concat(0<l.length?v:g,"px"),top:"".concat(y+r[0].scrollTop+s,"px"),width:"".concat(0<l.length?l[0].offsetWidth:o,"px")}),n.children(".autocomplete-dropdown-inner").css((u={maxHeight:"".concat(b,"px")},h=w,d=0<l.length&&!this.params.expandInput?"".concat(c,"px"):"",h in u?Object.defineProperty(u,h,{value:d,enumerable:!0,configurable:!0,writable:!0}):u[h]=d,u))}}},{key:"focus",value:function(){this.$el.find("input[type=search]").focus()}},{key:"source",value:function(e){var t=this;if(t.params.source){var n=t.$el;t.params.source.call(t,e,function(r){var i="",a=t.params.limit?Math.min(t.params.limit,r.length):r.length;t.items=r;for(var o=0;o<a;o+=1){for(var s=!1,l="object"===Ps(r[o])?r[o][t.params.valueProperty]:r[o],c=0;c<t.value.length;c+=1){var u="object"===Ps(t.value[c])?t.value[c][t.params.valueProperty]:t.value[c];u!==l&&1*u!=1*l||(s=!0)}i+=t.renderItem({value:l,text:"object"===Ps(r[o])?r[o][t.params.textProperty]:r[o],inputType:t.inputType,id:t.id,inputName:t.inputName,selected:s},o)}n.find(".autocomplete-found ul").html(i),0===r.length?0!==e.length?(n.find(".autocomplete-not-found").show(),n.find(".autocomplete-found, .autocomplete-values").hide()):(n.find(".autocomplete-values").show(),n.find(".autocomplete-found, .autocomplete-not-found").hide()):(n.find(".autocomplete-found").show(),n.find(".autocomplete-not-found, .autocomplete-values").hide())})}}},{key:"updateValues",value:function(){for(var e=this,t="",n=0;n<e.value.length;n+=1)t+=e.renderItem({value:"object"===Ps(e.value[n])?e.value[n][e.params.valueProperty]:e.value[n],text:"object"===Ps(e.value[n])?e.value[n][e.params.textProperty]:e.value[n],inputType:e.inputType,id:e.id,inputName:"".concat(e.inputName,"-checked}"),selected:!0},n);e.$el.find(".autocomplete-values ul").html(t)}},{key:"preloaderHide",value:function(){"dropdown"===this.params.openIn&&this.$dropdownEl?this.$dropdownEl.find(".autocomplete-preloader").removeClass("autocomplete-preloader-visible"):f(".autocomplete-preloader").removeClass("autocomplete-preloader-visible")}},{key:"preloaderShow",value:function(){"dropdown"===this.params.openIn&&this.$dropdownEl?this.$dropdownEl.find(".autocomplete-preloader").addClass("autocomplete-preloader-visible"):f(".autocomplete-preloader").addClass("autocomplete-preloader-visible")}},{key:"renderPreloader",value:function(){return'\n      <div class="autocomplete-preloader preloader '.concat(this.params.preloaderColor?"color-".concat(this.params.preloaderColor):"",'">').concat(R["".concat(this.app.theme,"PreloaderContent")]||"","</div>\n    ").trim()}},{key:"renderSearchbar",value:function(){return this.params.renderSearchbar?this.params.renderSearchbar.call(this):'\n      <form class="searchbar">\n        <div class="searchbar-inner">\n          <div class="searchbar-input-wrap">\n            <input type="search" placeholder="'.concat(this.params.searchbarPlaceholder,'"/>\n            <i class="searchbar-icon"></i>\n            <span class="input-clear-button"></span>\n          </div>\n          <span class="searchbar-disable-button">').concat(this.params.searchbarDisableText,"</span>\n        </div>\n      </form>\n    ").trim()}},{key:"renderItem",value:function(e,t){if(this.params.renderItem)return this.params.renderItem.call(this,e,t);var n=e.value&&"string"==typeof e.value?e.value.replace(/"/g,"&quot;"):e.value;return("dropdown"!==this.params.openIn?'\n        <li>\n          <label class="item-'.concat(e.inputType,' item-content">\n            <input type="').concat(e.inputType,'" name="').concat(e.inputName,'" value="').concat(n,'" ').concat(e.selected?"checked":"",'>\n            <i class="icon icon-').concat(e.inputType,'"></i>\n            <div class="item-inner">\n              <div class="item-title">').concat(e.text,"</div>\n            </div>\n          </label>\n        </li>\n      "):e.placeholder?'\n        <li class="autocomplete-dropdown-placeholder">\n          <label class="item-content">\n            <div class="item-inner">\n              <div class="item-title">'.concat(e.text,"</div>\n            </div>\n          </label>\n        </li>\n      "):'\n        <li>\n          <label class="item-radio item-content" data-value="'.concat(n,'">\n            <div class="item-inner">\n              <div class="item-title">').concat(e.text,"</div>\n            </div>\n          </label>\n        </li>\n      ")).trim()}},{key:"renderNavbar",value:function(){var e=this;if(e.params.renderNavbar)return e.params.renderNavbar.call(e);var t=e.params.pageTitle;return void 0===t&&e.$openerEl&&e.$openerEl.length&&(t=e.$openerEl.find(".item-title").text().trim()),'\n      <div class="navbar '.concat(e.params.navbarColorTheme?"color-".concat(e.params.navbarColorTheme):"",'">\n        <div class="navbar-inner ').concat(e.params.navbarColorTheme?"color-".concat(e.params.navbarColorTheme):"",'">\n          <div class="left sliding">\n            <a href="#" class="link ').concat("page"===e.params.openIn?"back":"popup-close",'" ').concat("popup"===e.params.openIn?'data-popup=".autocomplete-popup"':"",'>\n              <i class="icon icon-back"></i>\n              <span class="ios-only">').concat("page"===e.params.openIn?e.params.pageBackLinkText:e.params.popupCloseLinkText,"</span>\n            </a>\n          </div>\n          ").concat(t?'<div class="title sliding">'.concat(t,"</div>"):"","\n          ").concat(e.params.preloader?'\n          <div class="right">\n            '.concat(e.renderPreloader(),"\n          </div>\n          "):"",'\n          <div class="subnavbar sliding">').concat(e.renderSearchbar(),"</div>\n        </div>\n      </div>\n    ").trim()}},{key:"renderDropdown",value:function(){return this.params.renderDropdown?this.params.renderDropdown.call(this,this.items):'\n      <div class="autocomplete-dropdown">\n        <div class="autocomplete-dropdown-inner">\n          <div class="list '.concat(this.params.expandInput?"":"no-safe-areas",'">\n            <ul></ul>\n          </div>\n        </div>\n        ').concat(this.params.preloader?this.renderPreloader():"","\n      </div>\n    ").trim()}},{key:"renderPage",value:function(){return this.params.renderPage?this.params.renderPage.call(this,this.items):'\n      <div class="page page-with-subnavbar autocomplete-page" data-name="autocomplete-page">\n        '.concat(this.renderNavbar(),'\n        <div class="searchbar-backdrop"></div>\n        <div class="page-content">\n          <div class="list autocomplete-list autocomplete-found autocomplete-list-').concat(this.id," ").concat(this.params.formColorTheme?"color-".concat(this.params.formColorTheme):"",'">\n            <ul></ul>\n          </div>\n          <div class="list autocomplete-not-found">\n            <ul>\n              <li class="item-content"><div class="item-inner"><div class="item-title">').concat(this.params.notFoundText,'</div></div></li>\n            </ul>\n          </div>\n          <div class="list autocomplete-values">\n            <ul></ul>\n          </div>\n        </div>\n      </div>\n    ').trim()}},{key:"renderPopup",value:function(){return this.params.renderPopup?this.params.renderPopup.call(this,this.items):'\n      <div class="popup autocomplete-popup">\n        <div class="view">\n          '.concat(this.renderPage(),";\n        </div>\n      </div>\n    ").trim()}},{key:"onOpen",value:function(e,t){var n=this,r=n.app,i=f(t);if(n.$el=i,n.el=i[0],n.openedIn=e,n.opened=!0,"dropdown"===n.params.openIn)n.attachDropdownEvents(),n.$dropdownEl.addClass("autocomplete-dropdown-in"),n.$inputEl.trigger("input");else{var a=i.find(".searchbar");"page"===n.params.openIn&&"ios"===r.theme&&0===a.length&&(a=f(r.navbar.getElByPage(i)).find(".searchbar")),n.searchbar=r.searchbar.create({el:a,backdropEl:i.find(".searchbar-backdrop"),customSearch:!0,on:{search:function(e,t){0===t.length&&n.searchbar.enabled?n.searchbar.backdropShow():n.searchbar.backdropHide(),n.source(t)}}}),n.attachPageEvents(),n.updateValues(),n.params.requestSourceOnOpen&&n.source("")}n.emit("local::open autocompleteOpen",n)}},{key:"autoFocus",value:function(){return this.searchbar&&this.searchbar.$inputEl&&this.searchbar.$inputEl.focus(),this}},{key:"onOpened",value:function(){"dropdown"!==this.params.openIn&&this.params.autoFocus&&this.autoFocus(),this.emit("local::opened autocompleteOpened",this)}},{key:"onClose",value:function(){var e=this;e.destroyed||(e.searchbar&&e.searchbar.destroy&&(e.searchbar.destroy(),e.searchbar=null,delete e.searchbar),"dropdown"===e.params.openIn?(e.detachDropdownEvents(),e.$dropdownEl.removeClass("autocomplete-dropdown-in").remove(),e.$inputEl.parents(".item-content-dropdown-expanded").removeClass("item-content-dropdown-expanded")):e.detachPageEvents(),e.emit("local::close autocompleteClose",e))}},{key:"onClosed",value:function(){this.destroyed||(this.opened=!1,this.$el=null,this.el=null,delete this.$el,delete this.el,this.emit("local::closed autocompleteClosed",this))}},{key:"openPage",value:function(){var e=this;if(e.opened)return e;var t=e.renderPage();return e.view.router.navigate({url:e.url,route:{content:t,path:e.url,on:{pageBeforeIn:function(t,n){e.onOpen("page",n.el)},pageAfterIn:function(t,n){e.onOpened("page",n.el)},pageBeforeOut:function(t,n){e.onClose("page",n.el)},pageAfterOut:function(t,n){e.onClosed("page",n.el)}},options:{animate:e.params.animate}}}),e}},{key:"openPopup",value:function(){var e=this;if(e.opened)return e;var t={content:e.renderPopup(),animate:e.params.animate,on:{popupOpen:function(t){e.onOpen("popup",t.el)},popupOpened:function(t){e.onOpened("popup",t.el)},popupClose:function(t){e.onClose("popup",t.el)},popupClosed:function(t){e.onClosed("popup",t.el)}}};return e.params.routableModals?e.view.router.navigate({url:e.url,route:{path:e.url,popup:t}}):e.modal=e.app.popup.create(t).open(e.params.animate),e}},{key:"openDropdown",value:function(){var e=this;e.$dropdownEl||(e.$dropdownEl=f(e.renderDropdown())),e.$inputEl.parents(".list").length&&0<e.$inputEl.parents(".item-content").length&&e.params.expandInput&&e.$inputEl.parents(".item-content").addClass("item-content-dropdown-expanded");var t=e.$inputEl.parents(".page-content");e.params.dropdownContainerEl?f(e.params.dropdownContainerEl).append(e.$dropdownEl):0===t.length?e.$dropdownEl.insertAfter(e.$inputEl):(e.positionDropdown(),t.append(e.$dropdownEl)),e.onOpen("dropdown",e.$dropdownEl),e.onOpened("dropdown",e.$dropdownEl)}},{key:"open",value:function(){if(this.opened)return this;var e=this.params.openIn;return this["open".concat(e.split("").map(function(e,t){return 0===t?e.toUpperCase():e}).join(""))](),this}},{key:"close",value:function(){var e=this;return e.opened&&("dropdown"===e.params.openIn?(e.onClose(),e.onClosed()):e.params.routableModals||"page"===e.openedIn?e.view.router.back({animate:e.params.animate}):(e.modal.once("modalClosed",function(){R.nextTick(function(){e.modal.destroy(),delete e.modal})}),e.modal.close())),e}},{key:"init",value:function(){this.attachEvents()}},{key:"destroy",value:function(){var e=this;e.emit("local::beforeDestroy autocompleteBeforeDestroy",e),e.detachEvents(),e.$inputEl&&e.$inputEl[0]&&delete e.$inputEl[0].f7Autocomplete,e.$openerEl&&e.$openerEl[0]&&delete e.$openerEl[0].f7Autocomplete,R.deleteProps(e),e.destroyed=!0}}])&&As(n.prototype,r),t}(),Fs={name:"autocomplete",params:{autocomplete:{openerEl:void 0,inputEl:void 0,view:void 0,dropdownContainerEl:void 0,dropdownPlaceholderText:void 0,typeahead:!1,highlightMatches:!0,expandInput:!1,updateInputValueOnSelect:!0,inputEvents:"input",value:void 0,multiple:!1,source:void 0,limit:void 0,valueProperty:"id",textProperty:"text",openIn:"page",pageBackLinkText:"Back",popupCloseLinkText:"Close",pageTitle:void 0,searchbarPlaceholder:"Search...",searchbarDisableText:"Cancel",animate:!0,autoFocus:!1,closeOnSelect:!1,notFoundText:"Nothing found",requestSourceOnOpen:!1,preloaderColor:void 0,preloader:!1,formColorTheme:void 0,navbarColorTheme:void 0,routableModals:!0,url:"select/",renderDropdown:void 0,renderPage:void 0,renderPopup:void 0,renderItem:void 0,renderSearchbar:void 0,renderNavbar:void 0}},static:{Autocomplete:Ls},create:function(){var e=this;e.autocomplete=R.extend(W({defaultSelector:void 0,constructor:Ls,app:e,domProp:"f7Autocomplete"}),{open:function(t){var n=e.autocomplete.get(t);if(n&&n.open)return n.open()},close:function(t){var n=e.autocomplete.get(t);if(n&&n.close)return n.close()}})}};function Bs(e){return(Bs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function js(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $s(e,t){return!t||"object"!==Bs(t)&&"function"!=typeof t?qs(e):t}function Vs(e){return(Vs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qs(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Us(e,t){return(Us=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Hs=function(e){function t(e){var n,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);var i=qs(n=$s(this,Vs(t).call(this,e,r))),a=R.extend({},e.params.tooltip);i.useModulesParams(a),i.params=R.extend(a,r);var o=i.params.targetEl;if(!o)return $s(n,i);var s=f(o);if(0===s.length)return $s(n,i);if(s[0].f7Tooltip)return $s(n,s[0].f7Tooltip);var l=f(i.render()).eq(0);R.extend(i,{app:e,$targetEl:s,targetEl:s&&s[0],$el:l,el:l&&l[0],text:i.params.text||"",visible:!1,opened:!1}),s[0].f7Tooltip=i;var c,u={};function h(e){c||(c=!0,u.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,u.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,i.show(this))}function d(e){if(c){var t="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,n="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY;50<Math.pow(Math.pow(t-u.x,2)+Math.pow(n-u.y,2),.5)&&(c=!1,i.hide())}}function p(){c&&(c=!1,i.hide())}function m(){i.show(this)}function v(){i.hide()}function g(){l.hasClass("tooltip-in")||l.removeClass("tooltip-out").remove()}return i.attachEvents=function(){if(l.on("transitionend",g),de.touch){var t=!!de.passiveListener&&{passive:!0};s.on(e.touchEvents.start,h,t),e.on("touchmove",d),e.on("touchend:passive",p)}else s.on("mouseenter",m),s.on("mouseleave",v)},i.detachEvents=function(){if(l.off("transitionend",g),de.touch){var t=!!de.passiveListener&&{passive:!0};s.off(e.touchEvents.start,h,t),e.off("touchmove",d),e.off("touchend:passive",p)}else s.off("mouseenter",m),s.off("mouseleave",v)},i.useModules(),i.init(),$s(n,i)}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Us(e,t)}(t,H),n=t,(r=[{key:"position",value:function(e){var t=this.$el,n=this.app;t.css({left:"",top:""});var r,i,a,o,s=f(e||this.targetEl),l=[t.width(),t.height()],c=l[0],u=l[1];if(t.css({left:"",top:""}),s&&0<s.length){r=s.outerWidth(),i=s.outerHeight();var h=s.offset();a=h.left-n.left,o=h.top-n.top;var d=s.parents(".page");0<d.length&&(o-=d[0].scrollTop)}var p=[0,0,0],m=p[0],v=p[1],g="top";u<o?v=o-u:u<n.height-o-i?(g="bottom",v=o+i):(g="middle",(v=i/2+o-u/2)<=0?v=8:v+u>=n.height&&(v=n.height-u-8)),"top"===g||"bottom"===g?((m=r/2+a-c/2)<8&&(m=8),m+c>n.width&&(m=n.width-c-8),m<0&&(m=0)):"middle"===g&&((m=a-c)<8||m+c>n.width)&&(m<8&&(m=a+r),m+c>n.width&&(m=n.width-c-8)),t.css({top:"".concat(v,"px"),left:"".concat(m,"px")})}},{key:"show",value:function(e){var t=this,n=t.app,r=t.$el,i=t.$targetEl;n.root.append(r),t.position(e);var a=f(e);return t.visible=!0,t.opened=!0,i.trigger("tooltip:show",t),r.trigger("tooltip:show",t),a.length&&a[0]!==i[0]&&a.trigger("tooltip:show",t),t.emit("local::show tooltipShow",t),r.removeClass("tooltip-out").addClass("tooltip-in"),t}},{key:"hide",value:function(){var e=this.$el,t=this.$targetEl;return this.visible=!1,this.opened=!1,t.trigger("tooltip:hide",this),e.trigger("tooltip:hide",this),this.emit("local::hide tooltipHide",this),e.addClass("tooltip-out").removeClass("tooltip-in"),this}},{key:"render",value:function(){if(this.params.render)return this.params.render.call(this,this);var e=this.params,t=e.cssClass,n=e.text;return'\n      <div class="tooltip '.concat(t||"",'">\n        <div class="tooltip-content">').concat(n||"","</div>\n      </div>\n    ").trim()}},{key:"setText",value:function(e){return void 0===e||(this.params.text=e,this.text=e,this.$el&&this.$el.children(".tooltip-content").html(e),this.opened&&this.position()),this}},{key:"init",value:function(){this.attachEvents()}},{key:"destroy",value:function(){var e=this;e.$targetEl&&!e.destroyed&&(e.$targetEl.trigger("tooltip:beforedestroy",e),e.emit("local::beforeDestroy tooltipBeforeDestroy",e),e.$el.remove(),delete e.$targetEl[0].f7Tooltip,e.detachEvents(),R.deleteProps(e),e.destroyed=!0)}}])&&js(n.prototype,r),t}(),zs={name:"tooltip",static:{Tooltip:Hs},create:function(){this.tooltip=W({defaultSelector:".tooltip",constructor:Hs,app:this,domProp:"f7Tooltip"}),this.tooltip.show=function(e){var t=f(e);if(0!==t.length){var n=t[0].f7Tooltip;if(n)return n.show(t[0]),n}},this.tooltip.hide=function(e){var t=f(e);if(0!==t.length){var n=t[0].f7Tooltip;if(n)return n.hide(),n}},this.tooltip.setText=function(e,t){var n=f(e);if(0!==n.length){var r=n[0].f7Tooltip;if(r)return r.setText(t),r}}},params:{tooltip:{targetEl:null,text:null,cssClass:null,render:null}},on:{tabMounted:function(e){var t=this;f(e).find(".tooltip-init").each(function(e,n){var r=f(n).attr("data-tooltip");r&&t.tooltip.create({targetEl:n,text:r})})},tabBeforeRemove:function(e){f(e).find(".tooltip-init").each(function(e,t){t.f7Tooltip&&t.f7Tooltip.destroy()})},pageInit:function(e){var t=this;e.$el.find(".tooltip-init").each(function(e,n){var r=f(n).attr("data-tooltip");r&&t.tooltip.create({targetEl:n,text:r})}),"ios"===t.theme&&e.view&&e.view.router.separateNavbar&&e.$navbarEl&&0<e.$navbarEl.length&&e.$navbarEl.find(".tooltip-init").each(function(e,n){var r=f(n).attr("data-tooltip");r&&t.tooltip.create({targetEl:n,text:r})})},pageBeforeRemove:function(e){e.$el.find(".tooltip-init").each(function(e,t){t.f7Tooltip&&t.f7Tooltip.destroy()}),"ios"===this.theme&&e.view&&e.view.router.separateNavbar&&e.$navbarEl&&0<e.$navbarEl.length&&e.$navbarEl.find(".tooltip-init").each(function(e,t){t.f7Tooltip&&t.f7Tooltip.destroy()})}},vnode:{"tooltip-init":{insert:function(e){var t=e.elm,n=f(t).attr("data-tooltip");n&&this.tooltip.create({targetEl:t,text:n})},destroy:function(e){var t=e.elm;t.f7Tooltip&&t.f7Tooltip.destroy()}}}};function Ws(e){return(Ws="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ks(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gs(e,t){return!t||"object"!==Ws(t)&&"function"!=typeof t?Ys(e):t}function Qs(e){return(Qs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ys(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xs(e,t){return(Xs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Js=function(e){function t(e){var n,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);var i=Ys(n=Gs(this,Qs(t).call(this,e,r))),a=R.extend({},e.params.gauge);i.useModulesParams(a),i.params=R.extend(a,r);var o=i.params.el;if(!o)return Gs(n,i);var s=f(o);return 0===s.length?Gs(n,i):s[0].f7Gauge?Gs(n,s[0].f7Gauge):(R.extend(i,{app:e,$el:s,el:s&&s[0]}),(s[0].f7Gauge=i).useModules(),i.init(),Gs(n,i))}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xs(e,t)}(t,H),n=t,(r=[{key:"calcRadius",value:function(){var e=this.params;return e.size/2-e.borderWidth/2}},{key:"calcBorderLength",value:function(){var e=this.calcRadius();return 2*Math.PI*e}},{key:"render",value:function(){if(this.params.render)return this.params.render.call(this,this);var e=this.params,t=e.type,n=e.value,r=e.size,i=e.bgColor,a=e.borderBgColor,o=e.borderColor,s=e.borderWidth,l=e.valueText,c=e.valueTextColor,u=e.valueFontSize,h=e.valueFontWeight,d=e.labelText,p=e.labelTextColor,f=e.labelFontSize,m=e.labelFontWeight,v="semicircle"===t,g=this.calcRadius(),y=this.calcBorderLength(),b=Math.max(Math.min(n,1),0);return'\n      <svg class="gauge-svg" width="'.concat(r,'px" height="').concat(v?r/2:r,'px" viewBox="0 0 ').concat(r," ").concat(v?r/2:r,'">\n        ').concat(v?'\n          <path\n            class="gauge-back-semi"\n            d="M'.concat(r-s/2,",").concat(r/2," a1,1 0 0,0 -").concat(r-s,',0"\n            stroke="').concat(a,'"\n            stroke-width="').concat(s,'"\n            fill="').concat(i||"none",'"\n          />\n          <path\n            class="gauge-front-semi"\n            d="M').concat(r-s/2,",").concat(r/2," a1,1 0 0,0 -").concat(r-s,',0"\n            stroke="').concat(o,'"\n            stroke-width="').concat(s,'"\n            stroke-dasharray="').concat(y/2,'"\n            stroke-dashoffset="').concat(y/2*(1+b),'"\n            fill="').concat(a?"none":i||"none",'"\n          />\n        '):"\n          ".concat(a?'\n            <circle\n              class="gauge-back-circle"\n              stroke="'.concat(a,'"\n              stroke-width="').concat(s,'"\n              fill="').concat(i||"none",'"\n              cx="').concat(r/2,'"\n              cy="').concat(r/2,'"\n              r="').concat(g,'"\n            ></circle>\n          '):"",'\n          <circle\n            class="gauge-front-circle"\n            transform="',"rotate(-90 ".concat(r/2," ").concat(r/2,")"),'"\n            stroke="').concat(o,'"\n            stroke-width="').concat(s,'"\n            stroke-dasharray="').concat(y,'"\n            stroke-dashoffset="').concat(y*(1-b),'"\n            fill="').concat(a?"none":i||"none",'"\n            cx="').concat(r/2,'"\n            cy="').concat(r/2,'"\n            r="').concat(g,'"\n          ></circle>\n        '),"\n        ").concat(l?'\n          <text\n            class="gauge-value-text"\n            x="50%"\n            y="'.concat(v?"100%":"50%",'"\n            font-weight="').concat(h,'"\n            font-size="').concat(u,'"\n            fill="').concat(c,'"\n            dy="').concat(v?d?-f-15:-5:0,'"\n            text-anchor="middle"\n            dominant-baseline="').concat(!v&&"middle",'"\n          >').concat(l,"</text>\n        "):"","\n        ").concat(d?'\n          <text\n            class="gauge-label-text"\n            x="50%"\n            y="'.concat(v?"100%":"50%",'"\n            font-weight="').concat(m,'"\n            font-size="').concat(f,'"\n            fill="').concat(p,'"\n            dy="').concat(v?-5:l?u/2+10:0,'"\n            text-anchor="middle"\n            dominant-baseline="').concat(!v&&"middle",'"\n          >').concat(d,"</text>\n        "):"","\n      </svg>\n    ").trim()}},{key:"update",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=this.params,n=this.$gaugeSvgEl;if(Object.keys(e).forEach(function(n){void 0!==e[n]&&(t[n]=e[n])}),0===n.length)return this;var r=t.value,i=t.size,a=t.bgColor,o=t.borderBgColor,s=t.borderColor,l=t.borderWidth,c=t.valueText,u=t.valueTextColor,h=t.valueFontSize,d=t.valueFontWeight,p=t.labelText,f=t.labelTextColor,m=t.labelFontSize,v=t.labelFontWeight,g=this.calcBorderLength(),y=Math.max(Math.min(r,1),0),b=this.calcRadius(),w="semicircle"===t.type,E={width:"".concat(i,"px"),height:"".concat(w?i/2:i,"px"),viewBox:"0 0 ".concat(i," ").concat(w?i/2:i)};if(Object.keys(E).forEach(function(e){n.attr(e,E[e])}),w){var C={d:"M".concat(i-l/2,",").concat(i/2," a1,1 0 0,0 -").concat(i-l,",0"),stroke:o,"stroke-width":l,fill:a||"none"},S={d:"M".concat(i-l/2,",").concat(i/2," a1,1 0 0,0 -").concat(i-l,",0"),stroke:s,"stroke-width":l,"stroke-dasharray":g/2,"stroke-dashoffset":g/2*(y-1),fill:o?"none":a||"none"};Object.keys(C).forEach(function(e){n.find(".gauge-back-semi").attr(e,C[e])}),Object.keys(S).forEach(function(e){n.find(".gauge-front-semi").attr(e,S[e])})}else{var _={stroke:o,"stroke-width":l,fill:a||"none",cx:i/2,cy:i/2,r:b},T={transform:"rotate(-90 ".concat(i/2," ").concat(i/2,")"),stroke:s,"stroke-width":l,"stroke-dasharray":g,"stroke-dashoffset":g*(1-y),fill:o?"none":a||"none",cx:i/2,cy:i/2,r:b};Object.keys(_).forEach(function(e){n.find(".gauge-back-circle").attr(e,_[e])}),Object.keys(T).forEach(function(e){n.find(".gauge-front-circle").attr(e,T[e])})}if(c){n.find(".gauge-value-text").length||n.append('<text class="gauge-value-text"></text>');var k={x:"50%",y:w?"100%":"50%","font-weight":d,"font-size":h,fill:u,dy:w?p?-m-15:-5:0,"text-anchor":"middle","dominant-baseline":!w&&"middle"};Object.keys(k).forEach(function(e){n.find(".gauge-value-text").attr(e,k[e])}),n.find(".gauge-value-text").text(c)}else n.find(".gauge-value-text").remove();if(p){n.find(".gauge-label-text").length||n.append('<text class="gauge-label-text"></text>');var x={x:"50%",y:w?"100%":"50%","font-weight":v,"font-size":m,fill:f,dy:w?-5:c?h/2+10:0,"text-anchor":"middle","dominant-baseline":!w&&"middle"};Object.keys(x).forEach(function(e){n.find(".gauge-label-text").attr(e,x[e])}),n.find(".gauge-label-text").text(p)}else n.find(".gauge-label-text").remove();return this}},{key:"init",value:function(){var e=f(this.render()).eq(0);return e.f7Gauge=this,R.extend(this,{$gaugeSvgEl:e,gaugeSvgEl:e&&e[0]}),this.$el.append(e),this}},{key:"destroy",value:function(){var e=this;e.$el&&!e.destroyed&&(e.$el.trigger("gauge:beforedestroy",e),e.emit("local::beforeDestroy gaugeBeforeDestroy",e),e.$gaugeSvgEl.remove(),delete e.$el[0].f7Gauge,R.deleteProps(e),e.destroyed=!0)}}])&&Ks(n.prototype,r),t}(),Zs={name:"gauge",static:{Gauge:Js},create:function(){var e=this;e.gauge=W({defaultSelector:".gauge",constructor:Js,app:e,domProp:"f7Gauge"}),e.gauge.update=function(t,n){if(0!==f(t).length){var r=e.gauge.get(t);if(r)return r.update(n),r}}},params:{gauge:{el:null,type:"circle",value:0,size:200,bgColor:"transparent",borderBgColor:"#eeeeee",borderColor:"#000000",borderWidth:10,valueText:null,valueTextColor:"#000000",valueFontSize:31,valueFontWeight:500,labelText:null,labelTextColor:"#888888",labelFontSize:14,labelFontWeight:400}},on:{tabMounted:function(e){var t=this;f(e).find(".gauge-init").each(function(e,n){t.gauge.create(R.extend({el:n},f(n).dataset()||{}))})},tabBeforeRemove:function(e){f(e).find(".gauge-init").each(function(e,t){t.f7Gauge&&t.f7Gauge.destroy()})},pageInit:function(e){var t=this;e.$el.find(".gauge-init").each(function(e,n){t.gauge.create(R.extend({el:n},f(n).dataset()||{}))})},pageBeforeRemove:function(e){e.$el.find(".gauge-init").each(function(e,t){t.f7Gauge&&t.f7Gauge.destroy()})}},vnode:{"gauge-init":{insert:function(e){var t=e.elm;this.gauge.create(R.extend({el:t},f(t).dataset()||{}))},destroy:function(e){var t=e.elm;t.f7Gauge&&t.f7Gauge.destroy()}}}},el={open:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:".menu-item-dropdown";if(e){var t=f(e).closest(".menu-item-dropdown");t.length&&(t.eq(0).addClass("menu-item-dropdown-opened").trigger("menu:opened"),this.emit("menuOpened",t.eq(0)[0]))}},close:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:".menu-item-dropdown-opened";if(e){var t=f(e).closest(".menu-item-dropdown-opened");t.length&&(t.eq(0).removeClass("menu-item-dropdown-opened").trigger("menu:closed"),this.emit("menuClosed",t.eq(0)[0]))}}},tl={name:"menu",create:function(){this.menu={open:el.open.bind(this),close:el.close.bind(this)}},on:{click:function(e){var t=this,n=f(".menu-item-dropdown-opened");n.length&&n.each(function(n,r){f(e.target).closest(".menu-item-dropdown-opened").length||t.menu.close(r)})}},clicks:{".menu-item-dropdown":function(e,t,n){if(e.hasClass("menu-item-dropdown-opened")){if(f(n.target).closest(".menu-dropdown").length)return;this.menu.close(e)}else this.menu.open(e)},".menu-close":function(){this.menu.close()}}};function nl(e){return(nl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function il(e){return(il=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function al(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ol(e,t){return(ol=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var sl=function(e){function t(e){var n,r,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);var o,s=al(n=!(r=il(t).call(this,a,[e]))||"object"!==nl(r)&&"function"!=typeof r?al(this):r);if(!i.vi)throw new Error("Framework7: vi SDK not found.");void 0!==i.orientation&&(o=-90===i.orientation||90===i.orientation?"horizontal":"vertical");var l=R.extend({},e.params.vi,{appId:e.id,appVer:e.version,language:e.language,width:e.width,height:e.height,os:L.os,osVersion:L.osVersion,orientation:o});s.useModulesParams(l),s.params=R.extend(l,a);var c={},u="on autoplay fallbackOverlay fallbackOverlayText enabled".split(" ");if(Object.keys(s.params).forEach(function(e){if(!(0<=u.indexOf(e))){var t=s.params[e];0<=[null,void 0].indexOf(t)||(c[e]=t)}}),!s.params.appId)throw new Error('Framework7: "app.id" is required to display an ad. Make sure you have specified it on app initialization.');if(!s.params.placementId)throw new Error('Framework7: "placementId" is required to display an ad.');function h(){var t=f("iframe#viAd");0!==t.length&&t.css({width:"".concat(e.width,"px"),height:"".concat(e.height,"px")})}function d(){s.$overlayEl&&(s.$overlayEl.off("click touchstart"),s.$overlayEl.remove())}return s.ad=new i.vi.Ad(c),R.extend(s.ad,{onAdReady:function(){e.on("resize",h),s.emit("local::ready"),s.params.autoplay&&s.start()},onAdStarted:function(){s.emit("local::started")},onAdClick:function(e){s.emit("local::click",e)},onAdImpression:function(){s.emit("local::impression")},onAdStopped:function(t){e.off("resize",h),d(),s.emit("local::stopped",t),"complete"===t&&(s.emit("local::complete"),s.emit("local::completed")),"userexit"===t&&s.emit("local::userexit"),s.destroyed=!0},onAutoPlayFailed:function(t,n){var r,i;s.emit("local::autoplayFailed",t,n),t&&t.name&&-1!==t.name.indexOf("NotAllowedError")&&s.params.fallbackOverlay&&(r=n)&&(s.$overlayEl=f('\n        <div class="vi-overlay no-fastclick">\n          '.concat(s.params.fallbackOverlayText?'<div class="vi-overlay-text">'.concat(s.params.fallbackOverlayText,"</div>"):"",'\n          <div class="vi-overlay-play-button"></div>\n        </div>\n      ').trim()),s.$overlayEl.on("touchstart",function(){i=R.now()}),s.$overlayEl.on("click",function(){if(!(300<R.now()-i)){if(r)return r.play(),void d();s.start(),d()}}),e.root.append(s.$overlayEl))},onAdError:function(t){d(),e.off("resize",h),s.emit("local::error",t),s.destroyed=!0}}),s.init(),R.extend(s,{app:e}),n}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ol(e,t)}(t,H),n=t,(r=[{key:"start",value:function(){this.destroyed||this.ad&&this.ad.startAd()}},{key:"pause",value:function(){this.destroyed||this.ad&&this.ad.pauseAd()}},{key:"resume",value:function(){this.destroyed||this.ad&&this.ad.resumeAd()}},{key:"stop",value:function(){this.destroyed||this.ad&&this.ad.stopAd()}},{key:"init",value:function(){this.destroyed||this.ad&&this.ad.initAd()}},{key:"destroy",value:function(){this.destroyed=!0,this.emit("local::beforeDestroy"),R.deleteProps(this)}}])&&rl(n.prototype,r),t}(),ll={name:"vi",params:{vi:{enabled:!1,autoplay:!0,fallbackOverlay:!0,fallbackOverlayText:"Please watch this ad",showMute:!0,startMuted:(L.ios||L.android)&&!L.cordova,appId:null,appVer:null,language:null,width:null,height:null,placementId:"pltd4o7ibb9rc653x14",placementType:"interstitial",videoSlot:null,showProgress:!0,showBranding:!0,os:null,osVersion:null,orientation:null,age:null,gender:null,advertiserId:null,latitude:null,longitude:null,accuracy:null,storeId:null,ip:null,manufacturer:null,model:null,connectionType:null,connectionProvider:null}},create:function(){var e=this;e.vi={sdkReady:!1,createAd:function(t){return new sl(e,t)},loadSdk:function(){if(!e.vi.sdkReady){var t=r.createElement("script");t.onload=function(){e.emit("viSdkReady"),e.vi.sdkReady=!0},t.src="https://c.vi-serve.com/viadshtml/vi.min.js",f("head").append(t)}}}},on:{init:function(){(this.params.vi.enabled||this.passedParams.vi&&!1!==this.passedParams.vi.enabled)&&this.vi.loadSdk()}}};Fe.use([Ge,Qe]),ne.use([pe,fe,me,ve,ge,ye,Ke,Be,Ye,Ze,Dt,Mt,Lt,Ft,jt,Vt,{name:"subnavbar",on:{pageInit:function(e){e.$navbarEl&&e.$navbarEl.length&&e.$navbarEl.find(".subnavbar").length&&e.$el.addClass("page-with-subnavbar"),e.$el.find(".subnavbar").length&&e.$el.addClass("page-with-subnavbar")}}},zt,ln,mn,Cn,On,Fn,zn,Jn,or,lr,hr,pr,mr,gr,{name:"contactsList"},Tr,Nr,{name:"timeline"},Rr,Hr,Wr,{name:"chip"},Qr,Xr,{name:"checkbox"},{name:"radio"},ai,fi,Ci,Pi,{name:"grid"},aa,pa,ma,Sa,Ta,Na,Ra,Ua,Xa,oo,fs,Es,Os,Fs,zs,Zs,{name:"skeleton"},tl,ll,{name:"elevation"},{name:"typography"}]);var cl=ne,ul=(n(114),n(115),n(116),{f7:null,handleSplashscreen:function(){window.navigator.splashscreen&&setTimeout(function(){window.navigator.splashscreen.hide()},2e3)},handleAndroidBackButton:function(){ul.backButtonTimestamp=(new Date).getTime(),document.addEventListener("backbutton",function(e){return(new Date).getTime()-ul.backButtonTimestamp<250?(ul.backButtonTimestamp=(new Date).getTime(),window.navigator.app&&window.navigator.app.exitApp&&window.navigator.app.exitApp(),!0):(ul.backButtonTimestamp=(new Date).getTime(),e.preventDefault(),!1)},!1)},handleKeyboard:function(){if(window.Keyboard&&window.Keyboard.shrinkView){var e=ul.f7,t=e.$;window.Keyboard.shrinkView(!1),window.Keyboard.disableScrollingInShrinkView(!0),window.Keyboard.hideFormAccessoryBar(!0),window.addEventListener("keyboardWillShow",function(){e.input.scrollIntoView(document.activeElement,0,!0,!0)}),window.addEventListener("keyboardDidShow",function(){e.input.scrollIntoView(document.activeElement,0,!0,!0)}),window.addEventListener("keyboardDidHide",function(){document.activeElement&&t(document.activeElement).parents(".messagebar").length||window.Keyboard.hideFormAccessoryBar(!1)}),window.addEventListener("keyboardHeightWillChange",function(e){var n=e.keyboardHeight;0<n?(document.body.style.height="calc(100% - ".concat(n,"px)"),t("html").addClass("device-with-keyboard")):(document.body.style.height="",t("html").removeClass("device-with-keyboard"))}),t(document).on("touchstart","input, textarea, select",function(e){var t=e.target.nodeName.toLowerCase(),n=e.target.type;"select"===t||0<=["datetime-local","time","date","datetime"].indexOf(n)?window.Keyboard.hideFormAccessoryBar(!1):window.Keyboard.hideFormAccessoryBar(!0)},!0)}},init:function(e){ul.f7=e,ul.handleAndroidBackButton(),ul.handleSplashscreen(),ul.handleKeyboard()}}),hl=ul,dl=m.a.helpers,pl={data:function(){return{products:this.$root.products,meny:this.$root.meny}},id:"3478e91b83",render:function(){return function(e,t,n){function r(e,t){return null!=e?"function"==typeof e?e.call(t):e:""}n=n||e||{};var i="";return i+='\r\n  <div class="page" data-name="catalog">\r\n    <div class="navbar">\r\n      <div class="navbar-inner sliding">\r\n        <div class="title">Catalog</div>\r\n      </div>\r\n    </div>\r\n    <div class="page-content">\r\n      <div class="list links-list">\r\n        <ul>\r\n          ',(i+=dl.each.call(e,e.meny,{hash:{},data:{},fn:function(e,t){var n="";return n+='\r\n            <li><a href="/product/',n+=r(e.id,e),n+='/">',(n+=r(e.navn,e))+"</a></li>\r\n          "},inverse:function(){return""},root:n,parents:[e]}))+"\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  </div>\r\n"}(this)},styleScoped:!1},fl={data:function(){var e,t=this.$route.params.id;return this.$root.meny.forEach(function(n){n.id===t&&(console.log(n),e=n)}),{product:e}},id:"882f889504",render:function(){return function(e,t,n){function r(e,t){return null!=e?"function"==typeof e?e.call(t):e:""}n=n||e||{};var i="";return i+='\r\n  <div class="page" data-name="product">\r\n    <div class="navbar">\r\n      <div class="navbar-inner sliding">\r\n        <div class="left">\r\n          <a href="#" class="link back">\r\n            <i class="icon icon-back"></i>\r\n            <span class="ios-only">Back</span>\r\n          </a>\r\n        </div>\r\n        <div class="title">',i+=r(e.product.navn,e),i+='</div>\r\n      </div>\r\n    </div>\r\n    <div class="page-content">\r\n      <div class="block-title">About ',i+=r(e.product.navn,e),i+='</div>\r\n      <div class="block block-strong">\r\n        ',(i+=r(e.product.description,e))+"\r\n      </div>\r\n    </div>\r\n  </div>\r\n"}(this)},styleScoped:!1},ml=m.a.helpers,vl={beforeCreate:function(){console.log("componentBeforeCreate",this)},created:function(){console.log("componentCreated",this)},beforeMount:function(){console.log("componentBeforeMount",this)},mounted:function(){console.log("componentMounted",this)},beforeDestroy:function(){console.log("componentBeforeDestroy",this)},destroyed:function(){console.log("componentDestroyed",this)},data:function(){return{name:"Jimmy",age:25,like:["Tennis","Chess","Football"]}},methods:{openAlert:function(){this.$app.dialog.alert("Hello World")}},on:{pageMounted:function(e,t){console.log("pageMounted",t)},pageInit:function(e,t){console.log("pageInit",t)},pageBeforeIn:function(e,t){console.log("pageBeforeIn",t)},pageAfterIn:function(e,t){console.log("pageAfterIn",t)},pageBeforeOut:function(e,t){console.log("pageBeforeOut",t)},pageAfterOut:function(e,t){console.log("pageAfterOut",t)},pageBeforeRemove:function(e,t){console.log("pageBeforeRemove",t)}},id:"543a23238f",render:function(){return function(e,t,n){function r(e,t){return null!=e?"function"==typeof e?e.call(t):e:""}n=n||e||{};var i="";return i+='\r\n  <div class="page">\r\n    <div class="navbar">\r\n      <div class="navbar-inner sliding">\r\n        <div class="left">\r\n          <a href="#" class="link back">\r\n            <i class="icon icon-back"></i>\r\n            <span class="ios-only">Back</span>\r\n          </a>\r\n        </div>\r\n        <div class="title">Component Page</div>\r\n      </div>\r\n    </div>\r\n    <div class="page-content">\r\n      <div class="block block-strong">\r\n        <p>Component page is alos compiled with Template7, but it has much more functionality. In addition to Template7 page it has lifecycle hooks, events handling and data managment.</p>\r\n        <p>It is useful to use Component page when you need page-specific logic.</p>\r\n      </div>\r\n      <div class="block-title">Events Handling</div>\r\n      <div class="block block-strong">\r\n        <a href="#" class="button button-raised" @click="openAlert">Open Alert</a>\r\n      </div>\r\n      <div class="block-title">Page Component Data</div>\r\n      <div class="block block-strong">\r\n        <p>Hello! My name is ',i+=r(e.name,e),i+=". I am ",i+=r(e.age,e),i+=" years old.</p>\r\n        <p>I like to play:</p>\r\n        <ul>\r\n          ",i+=ml.each.call(e,e.like,{hash:{},data:{},fn:function(e,t){var n="";return n+="\r\n          <li>",(n+=r(e,e))+"</li>\r\n          "},inverse:function(){return""},root:n,parents:[e]}),i+='\r\n        </ul>\r\n      </div>\r\n      <div class="block-title">Extended Context</div>\r\n      <div class="block block-strong">\r\n        <p>Component page context as Template7 page context is also extended with some additional variables.</p>\r\n        <h4>$route</h4>\r\n        <p>Contains properties of the current route:</p>\r\n        <ul style="padding-left:25px">\r\n          <li><b>$route.url</b>: ',i+=r(e.$route.url,e),i+="</li>\r\n          <li><b>$route.path</b>: ",i+=r(e.$route.path,e),i+="</li>\r\n          <li><b>$route.params</b>: ",i+=ml.js.call(e,"return JSON.stringify(this.$route.params)",{hash:{},data:{},fn:function(){return""},inverse:function(){return""},root:n,parents:[e]}),i+="</li>\r\n          <li><b>$route.hash</b>: ",i+=r(e.$route.hash,e),i+="</li>\r\n          <li><b>$route.query</b>: ",i+=ml.js.call(e,"return JSON.stringify(this.$route.query)",{hash:{},data:{},fn:function(){return""},inverse:function(){return""},root:n,parents:[e]}),i+='</li>\r\n        </ul>\r\n\r\n        <h4>$root</h4>\r\n        <p>Root data & methods:</p>\r\n        <ul style="padding-left:25px">\r\n          <li><b>$root.user.firstName</b>: ',i+=r(e.$root.user.firstName,e),i+="</li>\r\n          <li><b>$root.user.lastName</b>: ",i+=r(e.$root.user.lastName,e),i+='</li>\r\n          <li><a @click="$root.helloWorld()">$root.helloWorld()</a></li>\r\n        </ul>\r\n\r\n        <h4>$theme</h4>\r\n        <p>Currently active theme:</p>\r\n        <ul style="padding-left:25px">\r\n          <li><b>$theme.ios</b>: ',i+=r(e.$theme.ios,e),i+="</li>\r\n          <li><b>$theme.md</b>: ",(i+=r(e.$theme.md,e))+"</li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  </div>\r\n"}(this)},style:"\n  p {\n    margin: 10px 0;\n  }\n",styleScoped:!1},gl=m.a.helpers,yl={id:"00ab1b6d1c",render:function(){return function(e,t,n){function r(e,t){return null!=e?"function"==typeof e?e.call(t):e:""}n=n||e||{};var i="";return i+='\r\n  <div class="page">\r\n    <div class="navbar">\r\n      <div class="navbar-inner sliding">\r\n        <div class="left">\r\n          <a href="#" class="back link">\r\n            <i class="icon icon-back"></i>\r\n            <span class="ios-only">Back</span>\r\n          </a>\r\n        </div>\r\n        <div class="title">',i+=r(e.user.firstName,e),i+=" ",i+=r(e.user.lastName,e),i+='</div>\r\n      </div>\r\n    </div>\r\n    <div class="page-content">\r\n      <div class="block block-strong">\r\n        ',i+=r(e.user.about,e),i+='\r\n      </div>\r\n      <div class="list links-list">\r\n        <ul>\r\n          ',(i+=gl.each.call(e,e.user.links,{hash:{},data:{},fn:function(e,t){var n="";return n+='\r\n            <li><a class="external" target="_blank" href="',n+=r(e.url,e),n+='">',(n+=r(e.title,e))+"</a></li>\r\n          "},inverse:function(){return""},root:n,parents:[e]}))+"\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  </div>\r\n"}(this)},styleScoped:!1},bl=[{path:"/",component:{id:"34e10836a8",render:function(){return e=this,t=t||e||{},'\r\n  <div class="page" data-name="home">\r\n    \x3c!-- Top Navbar --\x3e\r\n    <div class="navbar">\r\n      <div class="navbar-inner">\r\n        <div class="left">\r\n          <a href="#" class="link icon-only panel-open" data-panel="left">\r\n            <i class="icon f7-icons ios-only">menu</i>\r\n            <i class="icon material-icons md-only">menu</i>\r\n          </a>\r\n        </div>\r\n        <div class="title sliding">Local Order</div>\r\n        <div class="right">\r\n          <a href="#" class="link icon-only panel-open" data-panel="right">\r\n            <i class="icon f7-icons ios-only">menu</i>\r\n            <i class="icon material-icons md-only">menu</i>\r\n          </a>\r\n        </div>\r\n        <div class="title-large">\r\n          <div class="title-large-text">Local Order</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    \x3c!-- Scrollable page content--\x3e\r\n    <div class="page-content">\r\n      <div class="block block-strong">\r\n        <p>This is an example of tabs-layout application. The main point of such tabbed layout is that each tab contains independent view with its own routing and navigation.</p>\r\n\r\n        <p>Each tab/view may have different layout, different navbar type (dynamic, fixed or static) or without navbar like this tab.</p>\r\n      </div>\r\n\r\n      <div class="block-title">Navigation</div>\r\n      <div class="list">\r\n        <ul>\r\n          <li>\r\n            <a href="/about/" class="item-content item-link" id="about-link">\r\n              <div class="item-inner">\r\n                <div class="item-title">About</div>\r\n              </div>\r\n            </a>\r\n          </li>\r\n          <li>\r\n            <a href="/form/" class="item-content item-link">\r\n              <div class="item-inner">\r\n                <div class="item-title">Form</div>\r\n              </div>\r\n            </a>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n\r\n      <div class="block-title">Modals</div>\r\n      <div class="block block-strong">\r\n        <div class="row">\r\n          <div class="col-50">\r\n            <a href="#" class="button button-raised button-fill popup-open" data-popup="#my-popup">Popup</a>\r\n          </div>\r\n          <div class="col-50">\r\n            <a href="#" class="button button-raised button-fill login-screen-open" data-login-screen="#my-login-screen">Login Screen</a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="block-title">Panels</div>\r\n      <div class="block block-strong">\r\n        <div class="row">\r\n          <div class="col-50">\r\n            <a href="#" class="button button-raised button-fill panel-open" data-panel="left">Left Panel</a>\r\n          </div>\r\n          <div class="col-50">\r\n            <a href="#" class="button button-raised button-fill panel-open" data-panel="right">Right Panel</a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="list links-list">\r\n        <ul>\r\n          <li>\r\n            <a href="/dynamic-route/blog/45/post/125/?foo=bar#about">Dynamic (Component) Route</a>\r\n          </li>\r\n          <li>\r\n            <a href="/load-something-that-doesnt-exist/">Default Route (404)</a>\r\n          </li>\r\n          <li>\r\n            <a href="/request-and-load/user/123456/">Request Data & Load</a>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  </div>\r\n';var e,t},styleScoped:!1}},{path:"/about/",component:{id:"6406723d8e",render:function(){return e=this,t=t||e||{},'\r\n<div class="page" data-name="about">\r\n  <div class="navbar">\r\n    <div class="navbar-inner sliding">\r\n      <div class="left">\r\n        <a href="#" class="link back">\r\n          <i class="icon icon-back"></i>\r\n          <span class="ios-only">Back</span>\r\n        </a>\r\n      </div>\r\n      <div class="title">About</div>\r\n    </div>\r\n  </div>\r\n  <div class="page-content">\r\n    <div class="block-title">About My App</div>\r\n    <div class="block block-strong">\r\n      <p>Fugiat perspiciatis excepturi, soluta quod non ullam deleniti. Nobis sint nemo consequuntur, fugiat. Eius perferendis animi autem incidunt vel quod tenetur nostrum, voluptate omnis quasi quidem illum consequuntur, a, quisquam.</p>\r\n      <p>Laudantium neque magnam vitae nemo quam commodi, in cum dolore obcaecati laborum, excepturi harum, optio qui, consequuntur? Obcaecati dolor sequi nesciunt culpa quia perspiciatis, reiciendis ex debitis, ut tenetur alias.</p>\r\n    </div>\r\n    <div class="block">\r\n      <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Magni molestiae laudantium dignissimos est nobis delectus nemo ea alias voluptatum architecto, amet similique, saepe iste consectetur in repellat ut minus quibusdam!</p>\r\n      <p>Molestias et distinctio porro nesciunt ratione similique, magni doloribus, rerum nobis, aliquam quae reiciendis quasi modi. Nam a recusandae, fugiat in ea voluptates fuga eius, velit corrupti reprehenderit dignissimos consequatur!</p>\r\n      <p>Blanditiis, cumque quo adipisci. Molestiae, dolores dolorum quos doloremque ipsa ullam eligendi commodi deserunt doloribus inventore magni? Ea mollitia veniam nostrum nihil, iusto doloribus a at! Ea molestiae ullam delectus!</p>\r\n    </div>\r\n  </div>\r\n</div>\r\n';var e,t},styleScoped:!1}},{path:"/form/",component:{id:"edfb4e45af",render:function(){return e=this,t=t||e||{},'\r\n<div class="page" data-name="form">\r\n  <div class="navbar">\r\n    <div class="navbar-inner sliding">\r\n      <div class="left">\r\n        <a href="#" class="link back">\r\n          <i class="icon icon-back"></i>\r\n          <span class="ios-only">Back</span>\r\n        </a>\r\n      </div>\r\n      <div class="title">Form</div>\r\n    </div>\r\n  </div>\r\n  <div class="page-content">\r\n    <div class="block-title">Form Example</div>\r\n    <div class="list no-hairlines-md">\r\n      <ul>\r\n        <li>\r\n          <div class="item-content item-input">\r\n            <div class="item-inner">\r\n              <div class="item-title item-label">Name</div>\r\n              <div class="item-input-wrap">\r\n                <input type="text" placeholder="Your name"/>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </li>\r\n        <li>\r\n          <div class="item-content item-input">\r\n            <div class="item-inner">\r\n              <div class="item-title item-label">E-mail</div>\r\n              <div class="item-input-wrap">\r\n                <input type="email" placeholder="E-mail"/>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </li>\r\n        <li>\r\n          <div class="item-content item-input">\r\n            <div class="item-inner">\r\n              <div class="item-title item-label">URL</div>\r\n              <div class="item-input-wrap">\r\n                <input type="url" placeholder="URL"/>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </li>\r\n        <li>\r\n          <div class="item-content item-input">\r\n            <div class="item-inner">\r\n              <div class="item-title item-label">Password</div>\r\n              <div class="item-input-wrap">\r\n                <input type="password" placeholder="Password"/>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </li>\r\n        <li>\r\n          <div class="item-content item-input">\r\n            <div class="item-inner">\r\n              <div class="item-title item-label">Phone</div>\r\n              <div class="item-input-wrap">\r\n                <input type="tel" placeholder="Phone"/>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </li>\r\n        <li>\r\n          <div class="item-content item-input">\r\n            <div class="item-inner">\r\n              <div class="item-title item-label">Gender</div>\r\n              <div class="item-input-wrap">\r\n                <select>\r\n                  <option>Male</option>\r\n                  <option>Female</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </li>\r\n        <li>\r\n          <div class="item-content item-input">\r\n            <div class="item-inner">\r\n              <div class="item-title item-label">Birth date</div>\r\n              <div class="item-input-wrap">\r\n                <input type="date" placeholder="Birth day" value="2014-04-30"/>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </li>\r\n        <li>\r\n          <div class="item-content">\r\n            <div class="item-inner">\r\n              <div class="item-title">Toggle</div>\r\n              <div class="item-after">\r\n                <label class="toggle toggle-init">\r\n                  <input type="checkbox">\r\n                  <span class="toggle-icon"></span>\r\n                </label>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </li>\r\n        <li>\r\n          <div class="item-content item-input">\r\n            <div class="item-inner">\r\n              <div class="item-title item-label">Slider</div>\r\n              <div class="item-input-wrap">\r\n                <div class="range-slider range-slider-init" data-label="true">\r\n                  <input type="range" value="50" min="0" max="100" step="1">\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </li>\r\n        <li class="align-top">\r\n          <div class="item-content item-input">\r\n            <div class="item-inner">\r\n              <div class="item-title item-label">Textarea</div>\r\n              <div class="item-input-wrap">\r\n                <textarea placeholder="Bio"></textarea>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </li>\r\n        <li class="align-top">\r\n          <div class="item-content item-input">\r\n            <div class="item-inner">\r\n              <div class="item-title item-label">Resizable</div>\r\n              <div class="item-input-wrap">\r\n                <textarea placeholder="Bio" class="resizable"></textarea>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <div class="block-title">Buttons</div>\r\n    <div class="block block-strong">\r\n      <p class="row">\r\n        <a href="#" class="col button">Button</a>\r\n        <a href="#" class="col button button-fill">Fill</a>\r\n      </p>\r\n      <p class="row">\r\n        <a href="#" class="col button button-raised">Raised</a>\r\n        <a href="#" class="col button button-raised button-fill">Raised Fill</a>\r\n      </p>\r\n      <p class="row">\r\n        <a href="#" class="col button button-round">Round</a>\r\n        <a href="#" class="col button button-round button-fill">Round Fill</a>\r\n      </p>\r\n      <p class="row">\r\n        <a href="#" class="col button button-outline">Outline</a>\r\n        <a href="#" class="col button button-round button-outline">Outline Round</a>\r\n      </p>\r\n      <p class="row">\r\n        <a href="#" class="col button button-small button-outline">Small</a>\r\n        <a href="#" class="col button button-small button-round button-outline">Small Round</a>\r\n      </p>\r\n      <p class="row">\r\n        <a href="#" class="col button button-small button-fill">Small</a>\r\n        <a href="#" class="col button button-small button-round button-fill">Small Round</a>\r\n      </p>\r\n      <p class="row">\r\n        <a href="#" class="col button button-large button-raised">Large</a>\r\n        <a href="#" class="col button button-large button-fill button-raised">Large Fill</a>\r\n      </p>\r\n\r\n      <p class="row">\r\n        <a href="#" class="col button button-large button-fill button-raised color-red">Large Red</a>\r\n        <a href="#" class="col button button-large button-fill button-raised color-green">Large Green</a>\r\n      </p>\r\n\r\n    </div>\r\n    <div class="block-title">Checkbox group</div>\r\n    <div class="list">\r\n      <ul>\r\n        <li>\r\n          <label class="item-checkbox item-content">\r\n            <input type="checkbox" name="checkbox" value="Books" checked="checked"/>\r\n            <i class="icon icon-checkbox"></i>\r\n            <div class="item-inner">\r\n              <div class="item-title">Books</div>\r\n            </div>\r\n          </label>\r\n        </li>\r\n        <li>\r\n          <label class="item-checkbox item-content">\r\n            <input type="checkbox" name="checkbox" value="Movies"/>\r\n            <i class="icon icon-checkbox"></i>\r\n            <div class="item-inner">\r\n              <div class="item-title">Movies</div>\r\n            </div>\r\n          </label>\r\n        </li>\r\n        <li>\r\n          <label class="item-checkbox item-content">\r\n            <input type="checkbox" name="checkbox" value="Food"/>\r\n            <i class="icon icon-checkbox"></i>\r\n            <div class="item-inner">\r\n              <div class="item-title">Food</div>\r\n            </div>\r\n          </label>\r\n        </li>\r\n        <li>\r\n          <label class="item-checkbox item-content">\r\n            <input type="checkbox" name="checkbox" value="Drinks"/>\r\n            <i class="icon icon-checkbox"></i>\r\n            <div class="item-inner">\r\n              <div class="item-title">Drinks</div>\r\n            </div>\r\n          </label>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <div class="block-title">Radio buttons group</div>\r\n    <div class="list">\r\n      <ul>\r\n        <li>\r\n          <label class="item-radio item-content">\r\n            <input type="radio" name="radio" value="Books" checked="checked"/>\r\n            <i class="icon icon-radio"></i>\r\n            <div class="item-inner">\r\n              <div class="item-title">Books</div>\r\n            </div>\r\n          </label>\r\n        </li>\r\n        <li>\r\n          <label class="item-radio item-content">\r\n            <input type="radio" name="radio" value="Movies"/>\r\n            <i class="icon icon-radio"></i>\r\n            <div class="item-inner">\r\n              <div class="item-title">Movies</div>\r\n            </div>\r\n          </label>\r\n        </li>\r\n        <li>\r\n          <label class="item-radio item-content">\r\n            <input type="radio" name="radio" value="Food"/>\r\n            <i class="icon icon-radio"></i>\r\n            <div class="item-inner">\r\n              <div class="item-title">Food</div>\r\n            </div>\r\n          </label>\r\n        </li>\r\n        <li>\r\n          <label class="item-radio item-content">\r\n            <input type="radio" name="radio" value="Drinks"/>\r\n            <i class="icon icon-radio"></i>\r\n            <div class="item-inner">\r\n              <div class="item-title">Drinks</div>\r\n            </div>\r\n          </label>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</div>\r\n';var e,t},styleScoped:!1}},{path:"/catalog/",component:pl},{path:"/product/:id/",component:fl},{path:"/settings/",component:{id:"df5a4e54e1",render:function(){return e=this,t=t||e||{},'\r\n<div class="page" data-name="settings">\r\n  <div class="navbar">\r\n    <div class="navbar-inner sliding">\r\n      <div class="title">Settings</div>\r\n    </div>\r\n  </div>\r\n  <div class="page-content">\r\n    <div class="block-title">Form Example</div>\r\n    <div class="list no-hairlines-md">\r\n      <ul>\r\n        <li>\r\n          <div class="item-content item-input">\r\n            <div class="item-inner">\r\n              <div class="item-title item-label">Name</div>\r\n              <div class="item-input-wrap">\r\n                <input type="text" placeholder="Your name"/>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </li>\r\n        <li>\r\n          <div class="item-content item-input">\r\n            <div class="item-inner">\r\n              <div class="item-title item-label">E-mail</div>\r\n              <div class="item-input-wrap">\r\n                <input type="email" placeholder="E-mail"/>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </li>\r\n        <li>\r\n          <div class="item-content item-input">\r\n            <div class="item-inner">\r\n              <div class="item-title item-label">URL</div>\r\n              <div class="item-input-wrap">\r\n                <input type="url" placeholder="URL"/>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </li>\r\n        <li>\r\n          <div class="item-content item-input">\r\n            <div class="item-inner">\r\n              <div class="item-title item-label">Password</div>\r\n              <div class="item-input-wrap">\r\n                <input type="password" placeholder="Password"/>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </li>\r\n        <li>\r\n          <div class="item-content item-input">\r\n            <div class="item-inner">\r\n              <div class="item-title item-label">Phone</div>\r\n              <div class="item-input-wrap">\r\n                <input type="tel" placeholder="Phone"/>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </li>\r\n        <li>\r\n          <div class="item-content item-input">\r\n            <div class="item-inner">\r\n              <div class="item-title item-label">Gender</div>\r\n              <div class="item-input-wrap">\r\n                <select>\r\n                  <option>Male</option>\r\n                  <option>Female</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </li>\r\n        <li>\r\n          <div class="item-content item-input">\r\n            <div class="item-inner">\r\n              <div class="item-title item-label">Birth date</div>\r\n              <div class="item-input-wrap">\r\n                <input type="date" placeholder="Birth day" value="2014-04-30"/>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </li>\r\n        <li>\r\n          <div class="item-content">\r\n            <div class="item-inner">\r\n              <div class="item-title">Toggle</div>\r\n              <div class="item-after">\r\n                <label class="toggle toggle-init">\r\n                  <input type="checkbox">\r\n                  <span class="toggle-icon"></span>\r\n                </label>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </li>\r\n        <li>\r\n          <div class="item-content item-input">\r\n            <div class="item-inner">\r\n              <div class="item-title item-label">Slider</div>\r\n              <div class="item-input-wrap">\r\n                <div class="range-slider range-slider-init" data-label="true">\r\n                  <input type="range" value="50" min="0" max="100" step="1">\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </li>\r\n        <li class="align-top">\r\n          <div class="item-content item-input">\r\n            <div class="item-inner">\r\n              <div class="item-title item-label">Textarea</div>\r\n              <div class="item-input-wrap">\r\n                <textarea placeholder="Bio"></textarea>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </li>\r\n        <li class="align-top">\r\n          <div class="item-content item-input">\r\n            <div class="item-inner">\r\n              <div class="item-title item-label">Resizable</div>\r\n              <div class="item-input-wrap">\r\n                <textarea placeholder="Bio" class="resizable"></textarea>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <div class="block-title">Buttons</div>\r\n    <div class="block block-strong">\r\n      <p class="row">\r\n        <a href="#" class="col button">Button</a>\r\n        <a href="#" class="col button button-fill">Fill</a>\r\n      </p>\r\n      <p class="row">\r\n        <a href="#" class="col button button-raised">Raised</a>\r\n        <a href="#" class="col button button-raised button-fill">Raised Fill</a>\r\n      </p>\r\n      <p class="row">\r\n        <a href="#" class="col button button-round">Round</a>\r\n        <a href="#" class="col button button-round button-fill">Round Fill</a>\r\n      </p>\r\n      <p class="row">\r\n        <a href="#" class="col button button-outline">Outline</a>\r\n        <a href="#" class="col button button-round button-outline">Outline Round</a>\r\n      </p>\r\n      <p class="row">\r\n        <a href="#" class="col button button-small button-outline">Small</a>\r\n        <a href="#" class="col button button-small button-round button-outline">Small Round</a>\r\n      </p>\r\n      <p class="row">\r\n        <a href="#" class="col button button-small button-fill">Small</a>\r\n        <a href="#" class="col button button-small button-round button-fill">Small Round</a>\r\n      </p>\r\n      <p class="row">\r\n        <a href="#" class="col button button-large button-raised">Large</a>\r\n        <a href="#" class="col button button-large button-fill button-raised">Large Fill</a>\r\n      </p>\r\n\r\n      <p class="row">\r\n        <a href="#" class="col button button-large button-fill button-raised color-red">Large Red</a>\r\n        <a href="#" class="col button button-large button-fill button-raised color-green">Large Green</a>\r\n      </p>\r\n\r\n    </div>\r\n    <div class="block-title">Checkbox group</div>\r\n    <div class="list">\r\n      <ul>\r\n        <li>\r\n          <label class="item-checkbox item-content">\r\n            <input type="checkbox" name="checkbox" value="Books" checked="checked"/>\r\n            <i class="icon icon-checkbox"></i>\r\n            <div class="item-inner">\r\n              <div class="item-title">Books</div>\r\n            </div>\r\n          </label>\r\n        </li>\r\n        <li>\r\n          <label class="item-checkbox item-content">\r\n            <input type="checkbox" name="checkbox" value="Movies"/>\r\n            <i class="icon icon-checkbox"></i>\r\n            <div class="item-inner">\r\n              <div class="item-title">Movies</div>\r\n            </div>\r\n          </label>\r\n        </li>\r\n        <li>\r\n          <label class="item-checkbox item-content">\r\n            <input type="checkbox" name="checkbox" value="Food"/>\r\n            <i class="icon icon-checkbox"></i>\r\n            <div class="item-inner">\r\n              <div class="item-title">Food</div>\r\n            </div>\r\n          </label>\r\n        </li>\r\n        <li>\r\n          <label class="item-checkbox item-content">\r\n            <input type="checkbox" name="checkbox" value="Drinks"/>\r\n            <i class="icon icon-checkbox"></i>\r\n            <div class="item-inner">\r\n              <div class="item-title">Drinks</div>\r\n            </div>\r\n          </label>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <div class="block-title">Radio buttons group</div>\r\n    <div class="list">\r\n      <ul>\r\n        <li>\r\n          <label class="item-radio item-content">\r\n            <input type="radio" name="radio" value="Books" checked="checked"/>\r\n            <i class="icon icon-radio"></i>\r\n            <div class="item-inner">\r\n              <div class="item-title">Books</div>\r\n            </div>\r\n          </label>\r\n        </li>\r\n        <li>\r\n          <label class="item-radio item-content">\r\n            <input type="radio" name="radio" value="Movies"/>\r\n            <i class="icon icon-radio"></i>\r\n            <div class="item-inner">\r\n              <div class="item-title">Movies</div>\r\n            </div>\r\n          </label>\r\n        </li>\r\n        <li>\r\n          <label class="item-radio item-content">\r\n            <input type="radio" name="radio" value="Food"/>\r\n            <i class="icon icon-radio"></i>\r\n            <div class="item-inner">\r\n              <div class="item-title">Food</div>\r\n            </div>\r\n          </label>\r\n        </li>\r\n        <li>\r\n          <label class="item-radio item-content">\r\n            <input type="radio" name="radio" value="Drinks"/>\r\n            <i class="icon icon-radio"></i>\r\n            <div class="item-inner">\r\n              <div class="item-title">Drinks</div>\r\n            </div>\r\n          </label>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</div>\r\n';var e,t},styleScoped:!1}},{path:"/dynamic-route/blog/:blogId/post/:postId/",component:vl},{path:"/request-and-load/user/:userId/",async:function(e,t,n,r){var i=this.app;i.preloader.show(),e.params.userId,setTimeout(function(){i.preloader.hide(),n({component:yl},{context:{user:{firstName:"Vladimir",lastName:"Kharlampidi",about:"Hello, i am creator of Framework7! Hope you like it!",links:[{title:"Framework7 Website",url:"http://framework7.io"},{title:"Framework7 Forum",url:"http://forum.framework7.io"}]}}})},1e3)}},{path:"(.*)",component:{id:"9cbf3a452a",render:function(){return e=this,t=t||e||{},'\r\n<div class="page">\r\n  <div class="navbar">\r\n    <div class="navbar-inner sliding">\r\n      <div class="left">\r\n        <a href="#" class="link back">\r\n          <i class="icon icon-back"></i>\r\n          <span class="ios-only">Back</span>\r\n        </a>\r\n      </div>\r\n      <div class="title">Not found</div>\r\n    </div>\r\n  </div>\r\n  <div class="page-content">\r\n    <div class="block block-strong">\r\n      <p>Sorry</p>\r\n      <p>Requested content not found.</p>\r\n    </div>\r\n  </div>\r\n</div>\r\n';var e,t},styleScoped:!1}}];n.d(t,"db",function(){return Sl});var wl=n(40);n(100),n(50),n(103),n(106),n(110);var El=n(113),Cl=wl.initializeApp(El),Sl=wl.firestore(Cl);window.firebase=wl;var _l=new cl({root:"#app",id:"io.localorder.app",name:"Local Order",theme:"auto",data:function(){return{user:{firstName:"John",lastName:"Doe"},products:[{id:"1",title:"Apple iPhone 8",description:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Nisi tempora similique reiciendis, error nesciunt vero, blanditiis pariatur dolor, minima sed sapiente rerum, dolorem corrupti hic modi praesentium unde saepe perspiciatis."},{id:"2",title:"Apple iPhone 8 Plus",description:"Velit odit autem modi saepe ratione totam minus, aperiam, labore quia provident temporibus quasi est ut aliquid blanditiis beatae suscipit odio vel! Nostrum porro sunt sint eveniet maiores, dolorem itaque!"},{id:"3",title:"Apple iPhone X",description:"Expedita sequi perferendis quod illum pariatur aliquam, alias laboriosam! Vero blanditiis placeat, mollitia necessitatibus reprehenderit. Labore dolores amet quos, accusamus earum asperiores officiis assumenda optio architecto quia neque, quae eum."}]}},methods:{helloWorld:function(){_l.dialog.alert("Hello World!")}},routes:bl,serviceWorker:cl.device.cordova?{}:{path:"/service-worker.js"},input:{scrollIntoViewOnFocus:!!cl.device.cordova,scrollIntoViewCentered:!!cl.device.cordova},statusbar:{overlay:cl.device.cordova&&cl.device.ios||"auto",iosOverlaysWebView:!0,androidOverlaysWebView:!1},on:{init:function(){this.device.cordova&&hl.init(this)}}});f("#my-login-screen .login-button").on("click",function(){var e=f('#my-login-screen [name="username"]').val(),t=f('#my-login-screen [name="password"]').val();_l.loginScreen.close("#my-login-screen"),_l.dialog.alert("Username: "+e+"<br>Password: "+t)}),wl.auth().onAuthStateChanged(function(e){}),console.log("start getfromdatabase"),Sl.collection("Restauranter").doc("Magnus spiseri").collection("Menyer").where("id",">",0).get().then(function(e){var t=f("#template").html(),n=m.a.compile(t);e.docs.forEach(function(e){var t=n(e.data());console.log(t),document.getElementById("container").innerHTML+=t})}).catch(function(e){console.log("Error getting document:",e)})}]);
//# sourceMappingURL=app.js.map